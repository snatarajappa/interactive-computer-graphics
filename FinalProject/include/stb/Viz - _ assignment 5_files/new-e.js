/* [@grammarly-license] license information can be found in https://denali-static.grammarly.com/licenses.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[14,10],{"+LKT":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("jTxr"),o=n("OA+g"),s=n("vOOZ"),l=n("1w6p"),c=n("8uad"),d=n("0A/6"),u=n("N19O"),p=n("HUX/"),h=n("zR/0");!function(e){e.Card=e=>l.b.Node.make(({view:t})=>{const n=t("view");return a.createElement(s.a.Fragment,null,n.pipe(h.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),h.a.map(i=>a.createElement(u.a.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},r=>a.createElement(d.a.Card,{mount:r,miniCard:a.createElement(c.a.Mini,{card:n,actions:e}),fullCard:a.createElement(c.a.Full,{card:n,actions:e}),successCard:a.createElement(c.a.Success,{cardData:i,isLastCard:t("isLastCard"),actions:e}),feedbackForm:a.createElement(c.a.FeedbackForm,{cardData:i,actions:e}),actions:e,card:i,mutedCard:a.createElement(c.a.MutedAlert,{cardData:i,actions:e})})))))}),e.DenaliCardWrapper=l.b.Grid.make(({slots:e,view:t})=>a.createElement(s.a.div,{className:Object(o.pipe)(t("layoutDensity"),h.a.map(e=>Object(p.a)(e).container))},e.children)),e.SDUICardWrapper=l.b.Grid.make(({slots:e})=>a.createElement(s.a.Fragment,null,a.createElement(r.a,{children:e.children})))}(i||(i={}))},"+MLo":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("U75S"),a=n("OA+g"),r=n("lrqh"),o=n("D9EC"),s=n("PrA7"),l=n("3s0z"),c=n("zR/0"),d=n("GGUR"),u=n("gy42"),p=n("LNdG");class h{constructor(e,t,n){this.bindingSources=e,this._isAppleSystem=t,this._registeredHotkeys=new Map,this._hotkeyEvents=new c.a.Subject,this._subs=new d.a.Keeper,this._logger=s.Monitoring.Logging.getLogger("hotkeyManager"),this._modifiers=new c.a.BehaviorSubject(new Set),this.modifiersPressed=this._modifiers.pipe(c.a.skipBy(r.c.fromEquals(o.j))),this._createHotkey=e=>{const{key:t,modifiers:n,source:i=l.b.Keydown,preventDefault:a=!0}=e;return{id:m(),key:t.toLowerCase(),modifiers:n,source:i,preventDefault:a,toString:()=>p.a.HotkeyOptions.toString(this._isAppleSystem)(e)}},this._bindHotkey=e=>c.a.defer(()=>(this._registeredHotkeys.set(e.id,e),this._hotkeyEvents.pipe(c.a.filter(t=>t===e.id),c.a.mapTo(u.b.voidValue)))).pipe(c.a.finalize(()=>{this._registeredHotkeys.delete(e.id)})),this._handleGlobalEvent=(e,t)=>{const n=Array.from(this._registeredHotkeys.values()).filter(t);if(0===n.length)return;if(n.length>1)return void this._logger.error(`Multiple hotkeys registered in the same context: ${n}`);const i=n[0];this._hotkeyEvents.next(i.id),i.preventDefault&&e.preventDefault()},this._listenGlobalInput=()=>c.a.fromEvent(document,"input").subscribe(e=>{const t=e;if("historyUndo"===t.inputType){const t=e=>"UNDO"===e.key;this._handleGlobalEvent(e,t)}else if("historyRedo"===t.inputType){const t=e=>"REDO"===e.key;this._handleGlobalEvent(e,t)}}),this._listenGlobalKeyUp=e=>c.a.fromEvent(document,"keyup").pipe(c.a.map(e),c.a.tap(this._modifiers)).subscribe(),this._listenGlobalKeydown=e=>c.a.fromEvent(document,"keydown").subscribe(t=>{const n=e(t),i=function(e){return t=>t.modifiers.has(l.a.short)===e.short&&t.modifiers.has(l.a.alt)===e.alt&&t.modifiers.has(l.a.shift)===e.shift&&(t.key===e.key||t.modifiers.size>0&&t.key===String.fromCharCode(e.keyCode))}({short:n.has(l.a.short),alt:n.has(l.a.alt),shift:n.has(l.a.shift),key:t.key.toLowerCase(),keyCode:t.which||t.keyCode});this._modifiers.next(n),this._handleGlobalEvent(t,i)}),this._bindSources(e);const i=(a=t,e=>{const t=new Set;return(a?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey)&&t.add(l.a.short),e.altKey&&t.add(l.a.alt),e.shiftKey&&t.add(l.a.shift),t});var a;this._subs.push(this._listenGlobalKeydown(i),this._listenGlobalKeyUp(i)),n&&this._subs.push(this._listenGlobalInput())}dispose(){this._subs.dispose()}_bindSources(e){const t=Object(a.pipe)(this._createHotkey,p.a.combineProviders(e),i.ub(e=>e.isActive.pipe(c.a.switchMap(u.b.orEmpty(e.bind(this._bindHotkey(e.hotkey).pipe(c.a.mapTo(e.action))))))));this._subs.push(c.a.mergeStatic(...t).subscribe())}}const m=(()=>{let e=1;return()=>e++})();var g;!function(e){e.Mock=class{constructor(){this.modifiersPressed=c.a.EMPTY,this.dispose=o.e}}}(g||(g={}))},"+Zgs":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g}));var i=n("93Qa"),a=n("OA+g"),r=n("I7vG"),o=n("lrqh"),s=n("hoSD"),l=n("1w6p"),c=n("UEGg"),d=n("C7EH"),u=n("gy42"),p=n("zR/0");const h=(e,t)=>l.a.composeKnot({title:w(e),root:k(e,t),suggestions:v(e,t),controls:f(e,t)}),m=(e,t)=>l.a.composeKnot({root:l.a.fromSideEffect(e=>{t.next(e)},void 0),title:w(e)}),g=e=>l.a.animatingFlow(()=>u.b.toObservable(Object(r.pipe)(e,o.g.fromPredicate(c.a.isBulkApplied),o.g.map(a.constVoid))),(e,t)=>Object(r.pipe)(t,o.g.fold(()=>o.g.some(o.m.left("invisible")),()=>Object(r.pipe)(e,o.g.chain(a.identity),o.g.fold(()=>o.g.some(o.m.right("visible")),()=>o.g.none))))),f=(e,t)=>l.a.composeKnot({apply:b(e,t),dismiss:y(e,t)}),b=(e,t)=>l.a.composeKnot({root:l.a.fromSideEffect(e=>{t.next(e)},e),content:S(l.a.fromSideEffect(a.constVoid,e.pipe(p.a.map(o.g.some))))}),y=(e,t)=>l.a.fromSideEffect(e=>{t.next(e.action)},e),v=(e,t)=>l.a.fromSideEffect(e=>{t.next(e.action)},e.pipe(p.a.skipBy(d.a.eqByAlerts),p.a.map(e=>Object(r.pipe)(e,s.e.pick("alerts"),o.f.map(t=>Object.assign(Object.assign({},t),{a11yContrast:e.a11yContrast})))))),k=(e,t)=>l.a.fromSideEffect(e=>{t.next(e)},e),w=e=>S(l.a.fromSideEffect(a.constVoid,e.pipe(p.a.map(o.g.some)))),S=e=>l.a.animatingFlow(e,(e,t)=>Object(r.pipe)(Object(a.tuple)(Object(r.pipe)(e,o.g.chain(a.identity)),t),Object(a.tupled)(i.sequenceT(o.g.option)),o.g.filter(([e,t])=>d.a.isInAppliedState(e)!==d.a.isInAppliedState(t)),o.g.map(()=>o.m.both("fadeOut","fadeIn"))))},"+dDf":function(e,t,n){"use strict";n.d(t,"a",(function(){return bt}));var i,a=n("GRZr"),r=n("u/VI"),o=n("OA+g"),s=n("I7vG"),l=n("fIii"),c=n("+LKT"),d=n("RNks"),u=n("Q4mH"),p=n("ERkP"),h=n("vOOZ"),m=n("1w6p"),g=n("+Zgs"),f=n("MD/T"),b=n("0A/6"),y=n("zR/0");(i||(i={})).Card=e=>m.b.Node.make(({view:t})=>{const n=t("view"),i=Object(g.c)(n,e),a=Object(g.a)(n,e);return p.createElement(h.a.Fragment,null,n.pipe(y.a.distinctUntilChanged((e,t)=>e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),y.a.map(t=>p.createElement(b.a.Card,{miniCard:m.b.mount(f.b,i),fullCard:m.b.mount(f.a,a),actions:e,card:t}))))});var v=n("P79j"),k=n("YfIO"),w=n("iEw6"),S=n("+w1e"),_=n("IdhR"),C=n("yZqL"),E=n("HUX/"),O=n("lrqh"),A=n("rk+4"),x=n("bO3R"),T=n("3rlE"),M=n("BugA"),j=n("Q8bi"),I=n("aIes"),R=n("xdtP"),N=n("ax6a"),L=n("e12y"),P=n("WIwS"),D=n("ps/9");const F={display:"block",color:N.a.CoreNeutral90,fontWeight:"bold"},B={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},H={display:"block",color:N.a.CoreBlue50,fontWeight:"normal"},V={color:P.k},U={color:P.k},q={color:N.a.CoreCyan50,fontWeight:"bold",fontSize:L.a.rem(.9375)},W={marginTop:L.a.rem(.3),color:N.a.CoreNeutral90},$={position:"relative",marginLeft:L.a.rem(-.5)},z={position:"absolute",top:0,left:0,display:"flex",margin:`${L.a.rem(.5625)} 0 0 ${L.a.rem(.4375)}`,color:P.k,pointerEvents:"none"},G={display:"block",padding:`${L.a.rem(1.4375)} 0 0 ${L.a.rem(.4375)}`,borderRadius:L.a.rem(D.t),backgroundColor:P.f,transitionDuration:L.a.seconds(0),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:P.g}}},K={display:"flex",color:N.a.CoreBlue50,pointerEvents:"all",alignItems:"center"},Y={minWidth:L.a.rem(1),minHeight:L.a.rem(1),stroke:N.a.CoreBlue50},X={width:L.a.percent(100),pointerEvents:"all"},Z={color:N.a.CoreBlue50,textDecoration:"none"},Q={position:"absolute",right:0,bottom:0,marginLeft:L.a.rem(.5)},J={$nest:{"& i":{color:P.j}}},ee=L.a.stylesheet({plagiarismTitle:[F],plagiarismTitleContent:[B],titleUrl:[B,H],titleBy:[V],plagiarismP2:[U],percent:[q],textToCopy:[B,W],referenceWrapper:[$],referenceData:[z],copyableReference:[G],citationStyleSelect:[K],citationStyleIcon:[Y],citationStyleDdlButton:[X],descriptionLink:[Z],expandBtn:[Q],more:[J]}),te=e=>I.d.setInnerHTML(e,{allowedTags:["b","i","br"]}),ne=({card:e})=>{const t=p.useContext(A.a.Context);return p.createElement(M.a,{className:ee.plagiarismP2},t.plagiarism.percentileDescription(p.createElement("span",{className:ee.percent},e.meta.percentile,"%")))},ie=({title:e,url:t})=>p.createElement(M.j,{className:ee.plagiarismTitle},p.createElement("div",Object.assign({className:ee.plagiarismTitleContent},te(e))),Object(s.pipe)(t,O.g.map(e=>p.createElement(x.a,{name:"url-button",href:e,target:"_blank",rel:"noopener noreferrer",styleType:j.Typography.Type.Base,className:ee.titleUrl},e)),O.g.toNullable)),ae=({title:e,authors:t})=>p.createElement(M.j,{className:ee.plagiarismTitle},p.createElement("div",Object.assign({className:ee.plagiarismTitleContent},te(e))),Object(s.pipe)(t,O.g.map(e=>p.createElement(M.a,{className:ee.plagiarismTitleContent}," ",p.createElement("span",{className:ee.titleBy},"by")," ",p.createElement("span",Object.assign({},te(e))))),O.g.toNullable)),re=({alert:e})=>"publication"===e.plagiarismType.source?p.createElement(ae,{title:e.title,authors:e.plagiarismType.authors}):p.createElement(ie,{title:e.title,url:e.plagiarismType.url}),oe=()=>{const e=p.useContext(A.a.Context);return p.createElement(M.a,null,e.plagiarism.cardDescription(Object(R.a)(ee.descriptionLink)))},se=({card:e,dismissActions:t})=>{const n=p.useContext(A.a.Context),i=e.alerts.map(e=>e.id);return p.createElement(x.a.Ghost,{name:"ignore",title:n.dismiss,ariaLabel:n.dismiss,onClick:I.d.callOnce(()=>t.next({type:S.c.Kind.dismissBatch,alerts:i}))},p.createElement(T.d.Ignore,null))},le=({visualState:e})=>p.createElement(_.b,{visualState:e,className:ee.more},p.createElement(oe,null));var ce=n("0PmZ");const de=({card:e,actions:t})=>p.createElement(ce.a,{onLeftClick:()=>t.next({type:S.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:e},direction:"left"}),onRightClick:()=>t.next({type:S.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:e},direction:"right"}),currentMatch:e.activeAlertIndex,totalMatch:e.alerts.length,style:{}});var ue=n("LNSM"),pe=n("hoSD"),he=n("eihE"),me=n("XXDN");const ge=({textToCopy:e,children:t})=>p.createElement(he.a.Context.Consumer,null,n=>p.createElement(x.a.Flat,{key:"copy_title",name:"copy_title",title:"Click to copy",className:ee.copyableReference,onClick:()=>n(e,"referenceCopied")},t,p.createElement("div",Object.assign({className:ee.textToCopy},(e=>I.d.setInnerHTML(e,{allowedTags:["b","i","br"]}))(e))))),fe={mla:"MLA",apa:"APA",chicago:"Chicago"},be=pe.e.keys(fe);class ye extends p.Component{static _renderPublication(e){const t=ue.a.create("mla");return p.createElement(h.a.div,{key:"publication",className:ee.referenceWrapper},t.view(n=>p.createElement(p.Fragment,null,p.createElement(ge,{key:"rf1"+n,textToCopy:e.citationStyle[n]}),p.createElement(M.l,{className:ee.referenceData},p.createElement(A.a.Context.Consumer,null,({plagiarism:e})=>e.publicationReferenceDescription(p.createElement(me.a,{vAlign:"top",name:"plagiarism",label:p.createElement(x.a,{name:"citation-style-select",active:!1,className:ee.citationStyleSelect},fe[n])},be.map(e=>p.createElement(x.a.Flat,{className:ee.citationStyleDdlButton,key:e,name:`citation-button-${e}`,active:t.view(t=>t===e),onClick:()=>t.set(e)},fe[e])))))))))}static _renderWeb(e,t){return p.createElement("div",{key:"web",className:ee.referenceWrapper},p.createElement(ge,{textToCopy:e+Object(s.pipe)(t.url,O.g.fold(()=>"",e=>". "+e))},p.createElement(A.a.Context.Consumer,null,({plagiarism:e})=>p.createElement(M.l,{className:ee.referenceData},e.webReferenceDescription))))}render(){const e=this.props.alert;return"publication"===e.plagiarismType.source?ye._renderPublication(e.plagiarismType):ye._renderWeb(e.title,e.plagiarismType)}}const ve=({card:e,actions:t})=>p.createElement(C.a,{visualState:e.visualState,onFocus:()=>t.next({type:S.b.Type.alertCardShow,cardType:S.b.CardType.defaultCard,alertId:e.activeAlert.id}),theme:Object(E.a)(e.renderOptions.layoutDensity),body:p.createElement(p.Fragment,null,p.createElement(ne,{card:e}),p.createElement(re,{alert:e.activeAlert}),p.createElement(ye,{alert:e.activeAlert})),mainActions:p.createElement(se,{card:e,dismissActions:t}),footer:p.createElement(le,{visualState:e.visualState}),navigation:p.createElement(de,{actions:t,card:e}),subActions:p.createElement(_.a,{actions:t,card:e,mode:"mini"})});var ke,we=n("9NHN"),Se=n("D9EC"),_e=n("XxrX");!function(e){e.Card=({card:e,actions:i})=>_e.a.Density.matchL(()=>p.createElement(t,{card:e,actions:i}),()=>p.createElement(n,{card:e,actions:i}),()=>p.createElement(n,{card:e,actions:i}))(e.renderOptions.layoutDensity);const t=({card:e,actions:t})=>{const n=e.alerts[0];return p.createElement(b.a.MiniContrast,Object.assign({cardId:e.id,getActiveAlert:()=>n},Object(we.c)(Le.wrapper,Le.dot,Le.dotOutcomesPlagiarism),{actions:t,inert:e.positionState.inert}),p.createElement("div",{className:Le.miniContainer},p.createElement("span",Object.assign({key:"title"},Object(we.c)(Le.text,"publication"===n.plagiarismType.source&&Le.fullText)),n.title),"web"===n.plagiarismType.source?Object(s.pipe)(n.plagiarismType.url,O.g.map(pe.f.urlToDomain),O.g.filter(Se.n),O.g.map(e=>p.createElement("span",{key:"url",className:Le.domain}," — ",e)),O.g.toNullable):Object(s.pipe)(n.plagiarismType.authors,O.g.map(e=>p.createElement("span",{key:"publication",className:Le.publication}," — ",e)),O.g.toNullable)))},n=({card:e,actions:t})=>{const n=e.alerts[0],i="web"===n.plagiarismType.source?Object(s.pipe)(n.plagiarismType.url,O.g.map(pe.f.urlToDomain),O.g.filter(Se.n)):n.plagiarismType.authors;return p.createElement(b.a.Mini,Object.assign({cardId:e.id,getActiveAlert:()=>n},Object(we.c)(xe.wrapper,Le.dotOutcomesPlagiarism,Object(s.pipe)(i,O.g.fold(()=>xe.dotInTheMiddle,()=>xe.dot))),{actions:t,inert:e.positionState.inert}),p.createElement("div",{className:xe.miniContainer},Object(s.pipe)(i,O.g.map(e=>p.createElement("span",{className:xe.subTitle},e)),O.g.toNullable),p.createElement("span",Object.assign({key:"title"},Object(we.c)(xe.text)),n.title)))}}(ke||(ke={}));const Ce={overflow:"hidden",color:N.a.CoreNeutral90,textOverflow:"ellipsis"},Ee={height:L.a.rem(3.5)},Oe={overflow:"hidden",marginBottom:L.a.rem(-.25),textOverflow:"ellipsis",fontSize:L.a.rem(.75)},Ae={$nest:{"&:before":{top:L.a.rem(.85),bottom:0}}},xe=L.a.stylesheet({text:[Ce],wrapper:[Ee],miniContainer:[{display:"flex",flexDirection:"column"}],dotInTheMiddle:[{top:0,bottom:0,left:0}],subTitle:[Oe],dot:[Ae]}),Te={overflow:"hidden",color:N.a.CoreNeutral90,textOverflow:"ellipsis"},Me={maxWidth:L.a.percent(100),flexShrink:0},je={height:L.a.rem(3)},Ie={overflow:"hidden",maxWidth:L.a.percent(100),textOverflow:"ellipsis",flexShrink:0},Re={$nest:{"&:before":{top:L.a.px(1),bottom:0}}},Ne={$nest:{"&:before":{backgroundColor:N.a.CoreCyan50}}},Le=L.a.stylesheet({text:[Te],fullText:[Me],wrapper:[je],miniContainer:[{display:"flex"}],domain:[Ie],publication:[{overflow:"hidden",textOverflow:"ellipsis"}],dot:[Re],dotOutcomesPlagiarism:[Ne]});var Pe,De,Fe=n("xEVj"),Be=n("6fbX");!function(e){function t(e){return{mini:()=>e,full:()=>e,hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(`${e} is not supported for PlagiarismCard`);default:Object(Be.d)(e)}}e.flow=function(e){return m.a.composeUnion(t(e),()=>e.pipe(y.a.map(e=>({plagiarismCardKind:n(e.visualState.transition.type)}))))},e.shadeFlow=function(e){return m.a.composeUnion(t(e),()=>e.pipe(y.a.map(e=>({plagiarismCardKind:Object(o.pipe)(e.visualState.from,O.g.fold(()=>"hidden",n))}))))}}(Pe||(Pe={})),function(e){function t(e){return m.b.Node.make(({state:t})=>p.createElement(h.a.Fragment,null,t.pipe(y.a.map(t=>p.createElement(ke.Card,{card:t,actions:e})))))}function n(e){return m.b.Node.make(({state:t})=>p.createElement(h.a.Fragment,null,t.pipe(y.a.map(t=>p.createElement(ve,{card:t,actions:e})))))}e.Card=m.b.Node.make(({view:e,notify:i})=>{const a=e("view"),r=new y.a.Subject;return Fe.a.useSubscriptionTo(r.pipe(y.a.tap(e=>i(e)()))),m.b.mount(k.a.make(function(e){return m.b.Union.make("plagiarismCardKind",{mini:t(e),full:n(e),hidden:m.b.Node.empty})}(r)),Object(o.pipe)(w.a.flow(a,Pe.flow(a),Pe.shadeFlow(a),e=>e.activeAlert.id),w.a.extend(e=>r.next(e))))})}(De||(De={}));var He=n("DRjW");const Ve={position:"relative",borderRadius:L.a.rem(D.t),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:N.a.CoreNeutral0},Ue={display:"flex",padding:L.a.rem(.5),height:L.a.rem(3),cursor:"pointer",alignItems:"center"},qe={padding:`${L.a.rem(.5)} ${L.a.rem(1)} ${L.a.rem(1)}`},We={display:"flex",alignItems:"center",flexDirection:"row",fontSize:L.a.rem(.85),lineHeight:L.a.rem(1.2)},$e={marginRight:L.a.rem(.5),$nest:{"> svg":{stroke:N.a.CoreYellow60}}},ze={padding:`${L.a.rem(.5)} ${L.a.rem(1.5)}`},Ge={marginTop:L.a.rem(.6),fontSize:L.a.rem(.85)},Ke={display:"flex",marginBottom:L.a.rem(.6),flexShrink:0},Ye={marginRight:"auto",lineHeight:L.a.rem(1.3125)},Xe={marginTop:L.a.rem(1)},Ze={display:"flex",justifyContent:"center",alignItems:"center",height:L.a.rem(2.625),backgroundColor:N.a.CoreGreen60,borderRadius:L.a.rem(.25),fontSize:L.a.rem(.875),fontWeight:700,textTransform:"uppercase",color:N.a.CoreNeutral0,lineHeight:L.a.rem(2),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:L.a.color(N.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:L.a.color(N.a.CoreGreen60).tint(.2).toRGBA().toString()}}},Qe={color:N.a.CoreYellow80,fontSize:L.a.rem(2.28),zIndex:2},Je=L.a.stylesheet({wrapper:[Ve],minimizedWrapper:[Ue],maximizedWrapper:[qe],shadowWrapper:[{position:"relative",display:"block",overflow:"inherit",zIndex:1}],titleText:[We],maximizedContainer:[ze],alertsContainer:[{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}],alertCategoryContainer:[Ge],alertCategory:[Ke],categoryHumanContainer:[Ye],premiumButtonContainer:[Xe],premiumButton:[Ze],icon:[$e],counter:[{width:"128px",height:"128px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",$nest:{"& > svg":{position:"absolute",zIndex:1}}}],counterText:[Qe]});var et=n("yB2L");const tt=e=>m.b.Grid.make(({slots:t})=>p.createElement(h.a.div,Object.assign({},Object(we.c)(Je.wrapper,e)),t.body)),nt=({alertsCount:e,extendedCard:t})=>{const n=p.useContext(A.a.Context).premiumUpHookCard.title;return p.createElement("div",{className:Je.titleText},p.createElement(T.d.UpgradeHookPanel.TitleDiamond,{className:Je.icon}),p.createElement("span",null,n.weFound,p.createElement(h.a.span,null,e.pipe(y.a.map(e=>p.createElement("b",null,n.premiumIssues(e))))),t?n.forPremiumExtended:n.forPremium))},it=({alertsCount:e})=>p.createElement(h.a.div,{className:Je.counter},p.createElement("svg",{height:"128",width:"128"},p.createElement("circle",{cx:"50%",cy:"50%",r:"50%",fill:N.a.CoreYellow1}),p.createElement("circle",{cx:"50%",cy:"50%",r:"25%",fill:N.a.CoreYellow20})),e.pipe(y.a.map(e=>p.createElement("div",{className:Je.counterText},e)))),at=({alert:e})=>p.createElement("div",{key:e.category,className:Je.alertCategory},p.createElement(et.a.Counter,{count:e.count,type:"yellowPremium"}),p.createElement("div",{className:Je.categoryHumanContainer},e.categoryHuman));var rt;!function(e){let t;!function(e){e.onUpgrade="onUpgrade"}(t=e.ActionsKind||(e.ActionsKind={}))}(rt||(rt={}));const ot=m.b.Node.make(({view:e,notify:t})=>{const n=p.useContext(A.a.Context);return p.createElement(h.a.div,null,p.createElement(nt,{alertsCount:e("count"),extendedCard:!0}),p.createElement("div",{className:Je.maximizedContainer},p.createElement(h.a.div,{className:Je.alertsContainer},p.createElement(h.a.div,{className:Je.alertCategoryContainer},e("alerts").pipe(y.a.map(e=>e.map((e,t)=>p.createElement(at,{key:t,alert:e}))))),p.createElement(it,{alertsCount:e("count")})),p.createElement("div",{className:Je.premiumButtonContainer},p.createElement(x.a,{name:"upgrade",className:Je.premiumButton,onClick:t({type:"upgradeHookAction",kind:rt.ActionsKind.onUpgrade})},p.createElement(T.d.UpgradeHookPanel.ButtonDiamond,null),n.goPremium))))}),st=m.b.Composite.make(tt(Je.maximizedWrapper),ot),lt=Object(s.pipe)(m.b.squash(st),m.b.contramapState(e=>{const t=e.alertsState.alerts.slice(0,5),n=e.alertsState.alerts.slice(5).map(e=>e.count).reduce((e,t)=>e+t,0),i=n>0?[...t,{group:"",category:"",categoryHuman:"more...",count:n,lensName:"more...",bundleInfo:O.g.some("more...")}]:t;return Object.assign(Object.assign({},e.alertsState),{alerts:i})})),ct=m.b.Node.make(({view:e})=>p.createElement(nt,{alertsCount:e("alertsCount")})),dt=m.b.Grid.make(({slots:e,notify:t})=>p.createElement(p.Fragment,null,p.createElement(x.a,{className:Je.shadowWrapper,onClick:t("onClick"),name:"upgrade.hook.mini.card"},e.body))),ut=m.b.Knot.make(dt,{body:m.b.Composite.make(tt(Je.minimizedWrapper),ct)}),pt=Object(s.pipe)(m.b.squash(ut),m.b.contramapState(e=>({body:e})));var ht,mt,gt=n("Xojx");!function(e){function t(e,t){return{mini:m.a.fromSideEffect(e=>{"onClick"===e.action&&t.next({type:S.b.Type.miniItemClick,id:gt.a.id})},e),full:m.a.fromSideEffect(e=>{"onUpgrade"===e.kind&&t.next({type:"upgradeHookAction",kind:rt.ActionsKind.onUpgrade})},e),hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(`${e} is not supported for UpgradeHookCard`);default:Object(Be.d)(e)}}e.flow=function(e,i){return Object(o.pipe)(m.a.composeUnion(t(e,i),()=>e.pipe(y.a.map(e=>({cardKind:n(e.visualState.transition.type)})))))},e.shadeFlow=function(e,i){return m.a.composeUnion(t(e,i),()=>e.pipe(y.a.map(e=>({cardKind:Object(o.pipe)(e.visualState.from,O.g.fold(()=>"hidden",n))}))))}}(ht||(ht={})),function(e){e.ListCard=m.b.Node.make(({view:e,notify:i})=>{const a=Object(o.pipe)(e("view"),y.a.distinctUntilChanged((e,t)=>e.alerts.length===t.alerts.length&&e.groupedAlerts===t.groupedAlerts&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),r=new y.a.Subject;return Fe.a.useSubscriptionTo(r.pipe(y.a.tap(e=>i(e)()))),m.b.mount(k.a.make(m.b.Union.make("cardKind",{mini:t,full:n,hidden:m.b.Node.empty})),Object(o.pipe)(w.a.flow(a,ht.flow(a,r),ht.shadeFlow(a,r)),w.a.extend(e=>r.next(e))))});const t=Object(o.pipe)(pt,m.b.contramapState(e=>({alertsCount:e.alerts.length}))),n=Object(o.pipe)(lt,m.b.contramapState(e=>({alertsState:{count:e.alerts.length,alerts:e.groupedAlerts}})))}(mt||(mt={}));var ft,bt,yt=n("4GD7"),vt=n("UEGg"),kt=n("uqkn"),wt=n("IVzZ"),St=n("YJiV"),_t=n("+5S2"),Ct=n("1HVN"),Et=n("E0zP"),Ot=n("W39u"),At=n("TC4P"),xt=n("C7EH"),Tt=n("AK7F"),Mt=n("BeBM"),jt=n("bFfh"),It=n("OOrw"),Rt=n("amLG"),Nt=n("ot6E"),Lt=n("dS2Y"),Pt=n("TeUQ");(ft||(ft={})).DraftAI=m.b.Node.make(({view:e,notify:t})=>{const n=e("view"),i=p.useRef(null),a=p.useContext(Nt.a.Context).draftAI.cardTitle;return p.createElement(h.a.div,{forwardRef:i,mount:e=>t({kind:Lt.b.Event.Kind.draftAIMiniCardMount,node:Rt.O.fromNullable(e)})()},n.pipe(y.a.distinctUntilChanged(Lt.a.eq.equals),y.a.mapTo(p.createElement(Pt.a,{title:a,onClick:t({kind:Lt.b.Event.Kind.draftAIMiniCardClick,cardPosition:{top:i.current?i.current.getBoundingClientRect().top:0}})}))))}),function(e){e.hasItemUnion=Mt.e.hasItems;const t=Object(Se.p)(h,g,f);e.isSelectableItem=Object(Se.p)(h,g,f,S);const n=e=>Object(s.pipe)(Mt.k.getActiveItemOfType(S)(e),O.g.chain(Ct.a.Capabilities.toAlertItem));function p(e,t,n,i,a,r,o,s,l){return Mt.e.Items.mapper(e=>e.kind,{[kt.a.Kind]:e,[wt.a.Kind]:t,[It.a.Kind]:n,[Tt.a.Kind]:i,[Tt.b.Kind]:a,[xt.a.Kind]:r,[Lt.a.Kind]:o,[gt.a.Kind]:s,[Ct.a.Kind]:l})}function h(e){return e.kind===kt.a.Kind}function g(e){return e.kind===wt.a.Kind}function f(e){return e.kind===It.a.Kind}function b(e){return e.kind===xt.a.Kind}function k(e){return e.kind===Lt.a.Kind}function w(e){return gt.a.isUpgradeHookItem(e)}function S(e){return e.kind===Ct.a.Kind}function _(e){return h(e)&&Et.a.isEthicalAIItem(e)}function C(e){return g(e)&&Et.a.isEthicalAIItem(e)}function E(e){return{viewState:(t,n)=>n=>{switch(n.kind){case kt.a.Kind:return{view:n,isLastCard:t,kind:"alertCard",visibleViewportHeight:O.g.none};case wt.a.Kind:return{view:n,isLastCard:t,kind:"alertsBundle",visibleViewportHeight:O.g.none};case It.a.Kind:return{view:n,kind:"plagiarismCard"};case Tt.a.Kind:return{view:n,kind:"priorityToggle"};case Tt.b.Kind:return{view:n,kind:"priorityToggleHint"};case xt.a.Kind:return{view:n,kind:"bulkAccept"};case Lt.a.Kind:return{view:n,kind:"draftAI"};case gt.a.Kind:return e.denali.premiumUphookCardUI?{view:n,kind:"upgradeHookCardExp"}:{view:n,kind:"upgradeHookCard"};case Ct.a.Kind:return{view:n,kind:"alertRefSDUI"};default:return Object(Be.d)(n)}}}}e.getActiveItemWithAlert=function(e){return Object(s.pipe)(Mt.k.getActiveItemOfType(t)(e),O.g.alt(()=>n(e)))},e.getActiveAlignableItem=function(e){return Object(s.pipe)(Mt.k.getActiveItemOfType(Object(Se.p)(h,g,f,b))(e),O.g.alt(()=>n(e)))},e.getActiveFocusableItem=function(e){return Object(s.pipe)(Mt.k.getActiveItemOfType(Object(Se.p)(h,g,f,Object(Se.b)(b,e=>e.hasMarkFocusable)))(e),O.g.alt(()=>n(e)))},e.checksFeedItemsMapper=p,e.isAlertCard=h,e.isAlertsBundle=g,e.isPlagiarismCard=f,e.isBulkAcceptItem=b,e.isPriorityToggle=function(e){return e.kind===Tt.a.Kind},e.isDraftAIItem=k,e.isUpgradeHook=w,e.isAlertRefSDUI=S,e.isEthicalAIAlertCard=_,e.isEthicalAIAlertsBundle=C,e.defaultOrd=Object(a.fold)(O.h.getMonoid())([Object(s.pipe)(O.h.ordBoolean,O.h.contramap(Object(o.not)(_))),Object(s.pipe)(O.h.ordBoolean,O.h.contramap(w)),Object(s.pipe)(O.h.ordBoolean,O.h.contramap(h)),kt.a.ord]),e.getByActiveAlertPositionOrd=e=>Object(a.fold)(O.h.getMonoid())([Object(s.pipe)(O.h.ordNumber,O.h.contramap(t=>Object(s.pipe)(e.hasActiveAlert(t),O.g.map(e=>e.alert.getHighlightRanges()[0].end),O.g.getOrElse(()=>0))))]),e.byActiveAlertPositionOrd=Object(a.fold)(O.h.getMonoid())([Object(s.pipe)(O.h.ordBoolean,O.h.contramap(w)),Object(s.pipe)(O.h.ordBoolean,O.h.contramap(h)),kt.a.ord]),e.bundlesOrd=Object(a.fold)(O.h.getMonoid())([Object(s.pipe)(O.h.ordBoolean,O.h.contramap(Object(o.not)(C))),Object(s.pipe)(O.h.ordBoolean,O.h.contramap(h)),wt.a.ord]),e.item=e=>m.b.Union.make("kind",{alertCard:c.a.Card(e),alertsBundle:u.a.Card(e),plagiarismCard:De.Card,priorityToggle:v.a.Toggle,priorityToggleHint:v.a.Hint,bulkAccept:i.Card(e),draftAI:ft.DraftAI,upgradeHookCard:He.a.ListCard,upgradeHookCardExp:mt.ListCard,alertRefSDUI:l.a.ListCard}),e.upgradeHookOnlyItem=()=>m.b.Union.make("kind",{alertCard:m.b.Node.empty,upgradeHookCardExp:mt.ListCard}),e.viewState=E,e.createCardListFlow=(e,t,n,i)=>Object(d.b)(a=>{switch(a.key){case"draftAI":Object(s.pipe)(n,O.g.tap(e=>{e.next(a.action)}));break;case"priorityToggle":t.next(a.action);break;case"plagiarismCard":e.actionEvents.next(a.action);break;case"upgradeHookCard":case"upgradeHookCardExp":switch(a.action.type){case"upgradeHookAction":Object(s.pipe)(i,O.g.tap(e=>e.next(a.action)));break;default:e.actionEvents.next(a.action)}break;case"alertRefSDUI":e.actionEvents.next(a.action);break;default:Object(Be.e)(a)}}),e.listItemOrd=e=>Object(r.contramap)(e=>e.cell.item.view)(e).compare;const A={equals:(e,t)=>e.kind===t.kind&&Ot.a.eqById.equals(e,t)},x=(e,t,n,i,a,r,o,s,l)=>({equals:(c,d)=>{const u={[kt.a.Kind]:e,[wt.a.Kind]:t,[It.a.Kind]:n,[Tt.a.Kind]:i,[Tt.b.Kind]:a,[xt.a.Kind]:r,[Lt.a.Kind]:o,[gt.a.Kind]:s,[Ct.a.Kind]:l};return A.equals(c,d)&&function(e,t){return(n,i)=>t[e(n)].equals(n,i)}(e=>e.kind,u)(c,d)}}),T=Object(a.fold)(O.c.getMonoid())([At.a.eq,Ot.a.verticalPositionEq,A]);function M(e){const t=kt.a.Capabilities.getChangePosition(e),n=It.a.Capabilities.getChangePosition();return{changePosition:e=>p(t.changePosition(e),wt.a.changePosition(e),n.changePosition(e),t=>Tt.a.changePosition(t,e),t=>Tt.b.changePosition(t,e),t=>xt.a.changePosition(t)(e),t=>Lt.a.changePosition(t)(e),gt.a.Capabilities.changePosition(e),Ct.a.Capabilities.changePosition(e))}}function j(){return{updateUserInput:e=>p(kt.a.updateUserInput(e),wt.a.changeUserInput(e),o.identity,o.identity,o.identity,o.identity,o.identity,o.identity,o.identity)}}function I(e,t){const n=kt.a.Capabilities.getAnimatable(e),i=wt.a.Capabilities.getAnimatable(t),a=It.a.Capabilities.getAnimatable();return{completeTransition:e=>p(n.completeTransition(e),i.completeTransition(e),a.completeTransition(e),o.identity,o.identity,t=>xt.a.completeTransition(t,e),o.identity,gt.a.Capabilities.animatable.completeTransition(e),Ct.a.Capabilities.animatable.completeTransition(e)),transitionTo:e=>p(n.transitionTo(e),i.transitionTo(e),a.transitionTo(e),o.identity,o.identity,t=>xt.a.transitionTo(t,e),o.identity,gt.a.Capabilities.animatable.transitionTo(e),Ct.a.Capabilities.animatable.transitionTo(e)),changeVisualState:e=>p(n.changeVisualState(e),i.changeVisualState(e),a.changeVisualState(e),o.identity,o.identity,xt.a.changeVisualState(e),o.identity,gt.a.Capabilities.animatable.changeVisualState(e),Ct.a.Capabilities.animatable.changeVisualState(e))}}function R(e,t,n,i){const a=wt.a.getCardHydrator(i),r=wt.a.getSelect(t,n,a),s=wt.a.getSelectByAlert(t,n,a),l=kt.a.Capabilities.getSelect(e),c=It.a.Capabilities.getSelect(t,n);return{select:(e,t,n)=>p(l.select(e,t,n),r(e,t),c.select(e,t,n),o.identity,o.identity,t=>xt.a.select(t,e),o.identity,gt.a.Capabilities.select.select(e,t,n),Ct.a.Capabilities.select.select(e,t,n)),selectByAlert:(e,t,n,i)=>p(l.selectByAlert(e,t,n,i),s(t,e,n),c.selectByAlert(e,t,n,i),o.identity,o.identity,t=>xt.a.select(t,e),o.identity,gt.a.Capabilities.select.selectByAlert(e,t,n,i),Ct.a.Capabilities.select.selectByAlert(e,t,n,i)),unselect:(e,t)=>p(l.unselect(e,t),wt.a.unselect(e,t),c.unselect(e,t),o.identity,o.identity,t=>xt.a.unselect(t,e),o.identity,gt.a.Capabilities.select.unselect(e,t),Ct.a.Capabilities.select.unselect(e,t))}}function N(e,t,n,i){return{removeAlertFromItem:(a,r)=>p(t=>kt.a.Capabilities.getRemoveAlerts(e,r.itemsOrd)(a,Mt.k.getActiveItemOfType(h)(r))(t),e=>wt.a.Capabilities.getRemoveAlertsCapability(t,n,i,r.itemsOrd)(a,Mt.k.getActiveItemOfType(g)(r))(e),It.a.Capabilities.getRemoveAlert(Mt.k.getActiveItem,r.itemsOrd).removeAlertFromItem(a,r),o.identity,o.identity,o.identity,o.identity,o.identity,Ct.a.Capabilities.removeAlert.removeAlertFromItem(a,r))}}function L(e,t,n){const i=kt.a.Capabilities.getRemove(e);return{remove:(e,a)=>p(i.remove(e,a),i=>Boolean(e(i))?wt.a.Capabilities.getRemove(t,n)([i.activeAlert],a(i))(i):i,t=>Boolean(e(t))?It.a.Capabilities.remove([t.activeAlert],a(t))(t):t,o.identity,o.identity,o.identity,o.identity,gt.a.Capabilities.remove.remove(e,a),Ct.a.Capabilities.remove.remove(e,a))}}function P(e,t,n,i){const a=kt.a.Capabilities.getUpdateWithAlert(e),r=wt.a.Capabilities.getUpdatableWithAlertsCapability(t,i),s=It.a.Capabilities.getUpdateWithAlert(n);return{updateWithAlerts:e=>p(a.updateWithAlerts(e),r(e),s.updateWithAlerts(e),o.identity,o.identity,o.identity,o.identity,o.identity,o.identity)}}e.equatable={structEq:x(kt.a.eq,wt.a.eq,It.a.eq,Tt.c,Tt.c,xt.a.eq,Lt.a.eq,gt.a.eq,Ct.a.eq),idEq:x(A,A,A,A,A,A,A,A,A),visualStateEq:x(T,T,T,Tt.c,Tt.c,xt.a.visualStateEq,Lt.a.eq,gt.a.eq,Ct.a.eq)},e.cloneable=()=>{const e=Ot.a.Capabilities.getPojoCloneable().clone;return{clone:p(kt.a.Capabilities.getCloneable().clone,e,e,Tt.a.clone,Tt.b.clone,xt.a.clone,Lt.a.clone,e,e)}},e.changePosition=M,e.hasUserInput=j,e.disposable={isScheduledToDispose:p(e=>Et.a.willBeDisposed(e,e.removedAlertsIds),e=>Et.a.willBeDisposed(e,e.removedAlertsIds),e=>Et.a.willBeDisposed(e,e.removedAlertsIds),o.constFalse,o.constFalse,o.constFalse,o.constFalse,o.constFalse,Ct.a.Capabilities.disposable.isScheduledToDispose)},e.hidable={isHidden:p(At.a.isHidden,At.a.isHidden,At.a.isHidden,e=>"hidden"===e.visibilityState,e=>"hidden"===e.visibilityState,At.a.isHidden,e=>"hidden"===e.visibilityState,At.a.isHidden,At.a.isHidden)},e.animatableItem=I,e.queries={isSelectableByAlert:e=>p(Et.a.hasAlert(e.alert.id),Et.a.hasAlert(e.alert.id),Et.a.hasAlert(e.alert.id),o.constFalse,o.constFalse,o.constFalse,o.constFalse,o.constFalse,Ct.a.Capabilities.hasAlerts.isSelectableByAlert(e)),hasAlert:e=>p(Et.a.hasAlert(e),Et.a.hasAlert(e),Et.a.hasAlert(e),o.constFalse,o.constFalse,xt.a.hasAlert(e),o.constFalse,o.constFalse,Ct.a.Capabilities.hasAlerts.hasAlert(e)),useReferenceHeightOnRemove:o.constFalse,hasActiveAlert:p(Et.a.hasActiveAlert,Et.a.hasActiveAlert,Et.a.hasActiveAlert,O.g.empty,O.g.empty,O.g.empty,O.g.empty,O.g.empty,Ct.a.Capabilities.hasAlerts.hasActiveAlert)},e.select=R,e.removeAlert=N,e.remove=L,e.updateWithAlert=P,e.releaseAlert=(t,n,i,a)=>jt.a.Capabilities.getAlertReleaser(Object.assign(Object.assign({},N(t,n,i,a)),e.disposable)),e.unselectable=(e,t,n,i)=>jt.a.Capabilities.getUnselectable(Mt.k.getActiveItem,R(e,t,n,i)),e.selectableByAlert=(t,n,i,a)=>jt.a.Capabilities.getSelectableByAlert(Mt.k.getActiveItem,Object.assign(Object.assign(Object.assign({},e.queries),R(t,n,i,a)),jt.a.Capabilities.getHasChecksFeed())),e.selectableById=(e,t,n,i)=>jt.a.Capabilities.getSelectableById(Mt.k.getActiveItem,R(e,t,n,i)),e.updateMeta=e=>({updateMeta:t=>Object(a.fold)(Object(a.getEndomorphismMonoid)())([jt.a.Plagiarism.updateCardsWithLensMeta(e),jt.a.Capabilities.getMetaUpdatable().updateMeta(t)])}),e.animatableFeed=(e,t,n,i)=>jt.a.Capabilities.getAnimatable(e,Object.assign(Object.assign(Object.assign({},N(e,t,n,i)),I(e,i)),jt.a.Capabilities.getHasChecksFeed())),e.hasPriorityToggle=(t,n)=>jt.a.WithPriority.getHasPriorityToggle(Object.assign(Object.assign(Object.assign({},I(t,n)),e.queries),e.disposable));const D=t=>["focused","expanded"].includes(t.visualState.transition.type)&&!Boolean(e.disposable.isScheduledToDispose(t));function F(e){const t=St.a.getCardSelections(e);return{nextAlert:p(t.nextAlert,t.nextAlert,t.nextAlert,()=>O.g.none,()=>O.g.none,()=>O.g.none,()=>O.g.none,()=>O.g.none,()=>O.g.none),prevAlert:p(t.prevAlert,t.prevAlert,t.prevAlert,()=>O.g.none,()=>O.g.none,()=>O.g.none,()=>O.g.none,()=>O.g.none,()=>O.g.none)}}e.alignable={isValidToAlign:p(D,D,D,o.constFalse,o.constFalse,D,o.constFalse,o.constFalse,D)},e.alertIterator=F,e.itemReleaser=()=>jt.a.Capabilities.getItemReleaser(),e.hasAlerts=jt.a.Capabilities.getHasAlerts,e.priorityTest=Object(Se.b)(e.isAlertCard,e=>vt.a.isPriority(e.activeAlert)),e.draftAITest=Object(Se.p)(e.priorityTest,k),e.isInSuccess=jt.a.WithPriority.isInSuccess(e.priorityTest,e.disposable),e.isInSuccessWithDraftAI=jt.a.WithPriority.isInSuccess(e.draftAITest,e.disposable),e.isInGlobalSuccess=jt.a.WithPriority.isInGlobalSuccess(e.priorityTest,e.disposable),e.verifiable=()=>jt.a.Capabilities.getVerifiable(e.disposable),e.alignMarkToGetter=(e,t,n)=>{const i=yt.a.alignMarkToItem(e,t),a=xt.a.alignMarkToBulkItem(e,t),r=_t.a.ContentOffset.contentOffsetGetter();return e=>p(i(e),i(e),i(e),()=>y.a.EMPTY,()=>y.a.EMPTY,O.g.isSome(e.suggestedPosition)?a({suggestedPosition:O.g.unsafeGet(e.suggestedPosition)}):xt.a.moveToViewportTop(t,r(!1,n.get())),()=>y.a.EMPTY,()=>y.a.EMPTY,i(e))},e.alignItemToMarkGetter=(e,t)=>{const n=yt.a.alignItemToMark(e,t);return e=>p(n(e),n(e),n(e),()=>y.a.EMPTY,()=>y.a.EMPTY,()=>y.a.EMPTY,()=>y.a.EMPTY,()=>y.a.EMPTY,()=>y.a.EMPTY)},e.getCapabilities=function(t,n,i,a,r,o,s=St.b.Default){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E(o)),e.disposable),e.hidable),e.equatable),j()),M(t)),I(t,r)),R(t,a,s,r)),L(t,s,r)),N(t,a,s,r)),P(t,n,s,r)),e.queries),e.alignable),e.releaseAlert(t,a,s,r)),e.unselectable(t,a,s,r)),e.selectableByAlert(t,a,s,r)),e.selectableById(t,a,s,r)),e.updateMeta(i)),e.animatableFeed(t,a,s,r)),e.hasPriorityToggle(t,r)),e.itemReleaser()),e.verifiable()),e.cloneable()),e.hasAlerts(F(a),a,()=>e.isSelectableItem,Object.assign(Object.assign({},e.queries),e.disposable)))}}(bt||(bt={}))},"/Yt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("ERkP"),a=n("ot6E"),r=n("HeG+");const o=({activeWord:e})=>{const t=i.useContext(a.a.Context);return i.createElement("div",{className:r.emptyResultWrapper},t.synonyms.empty(i.createElement("span",{className:r.activeWord},e)))},s=({activeWord:e})=>{const t=i.useContext(a.a.Context);return i.createElement("div",{className:r.emptyResultWrapper},t.synonyms.symfony.empty(i.createElement("span",{className:r.activeWord},e)))}},"/by5":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return j}));var i=n("ERkP"),a=n("OA+g"),r=n("I7vG"),o=n("9NHN"),s=n("vOOZ"),l=n("LNSM"),c=n("rk+4"),d=n("bO3R"),u=n("yB2L"),p=n("3rlE"),h=n("Q8bi"),m=n("BugA"),g=n("GUi3"),f=n("dE97"),b=n("viRF"),y=n("XxrX"),v=n("6fbX"),k=n("lrqh"),w=n("XaD9"),S=n("ot6E"),_=n("TYHi");const C=({name:e,title:t,tooltip:n,tooltipAlignment:a,isActive:r,isDisabled:s,className:l,onClick:c,children:u})=>i.createElement(d.a,Object.assign({name:e,styleType:h.Typography.Type.Base,active:r,title:"string"==typeof n?i.createElement("div",{className:_.tooltip},n):n,titleAlign:a,disabled:s,onClick:c},Object(o.c)(_.outcomeBtn,_.outcomeBtnBorders,l)),t,u);function E(e){switch(e){case g.a.SpecialId.Correctness:case g.a.SpecialId.CorrectnessPriority:return _.correctness;case g.a.SpecialId.Clarity:case g.a.SpecialId.ClarityPriority:return _.clarity;case g.a.SpecialId.Engagement:case g.a.SpecialId.EngagementPriority:return _.engagement;case g.a.SpecialId.Delivery:case g.a.SpecialId.DeliveryPriority:return _.delivery;case g.a.SpecialId.Vox:case g.a.SpecialId.VoxPriority:return _.vox;case g.a.SpecialId.Plagiarism:return _.plagiarism;default:return Object(v.d)(e)}}const O=e=>i.createElement(s.a.Fragment,null,e.cardVisualMode.view(y.a.CardVisualMode.match({onRegular:()=>i.createElement(x,Object.assign({},e)),onContrast:()=>i.createElement(A,Object.assign({},e))}))),A=({lens:e,activeLensId:t,tooltipAlignment:n,isDisabled:a,onClick:c})=>i.createElement(d.a,Object.assign({name:`lens-${e.id}`,styleType:h.Typography.Type.Base,active:t.view(t=>t===e.id),title:e.description&&i.createElement("div",{className:_.tooltip},e.description),titleAlign:n,disabled:a,onClick:c},Object(o.c)(t.view(t=>t!==e.id&&!g.a.isMainLens(t)&&t!==g.a.SpecialId.Premium).view(e=>e&&_.inactive),E(e.id),_.outcomeBtnBorders)),e.title,Boolean(e.status)?i.createElement(m.l,{className:_.outcomeStatus},e.status):null,i.createElement("div",{className:_.progressBarBg},i.createElement(s.a.div,{className:_.progressBar,style:e.progress.view(e=>Boolean(e)?{transform:`translateX(${e}%)`}:{})})),Object(r.pipe)(e.logo,k.g.map(e=>i.createElement(T,{className:_.voxLogo,key:"logo",src:e})),k.g.getOrElse(()=>i.createElement(s.a.Fragment,null,l.a.combine(e.progress.view(b.a.isMax),e.isUnavailable,(t,n)=>t?i.createElement(p.d.CheckmarkOutcomes,{key:"checkmark",className:_.checkmarkIcon}):n?i.createElement(p.d.Info,{key:"info",width:11,className:_.infoIcon}):((e,t)=>[g.a.Type.Critical,g.a.Type.Plagiarism,g.a.Type.Other].includes(e)?null:g.a.outcomeTypeMatch({correctness:i.createElement(p.d.Correctness,{className:t}),clarity:i.createElement(p.d.ClarityOutcome,{className:t}),premium:i.createElement(p.d.Star,{className:t}),engagement:i.createElement(p.d.EngagementOutcome,{className:t}),delivery:i.createElement(p.d.DeliveryOutcome,{className:t}),vox:null})(e))(e.type,_.checkmarkIcon)))))),x=({lens:e,activeLensId:t,tooltipAlignment:n,isDisabled:a,onClick:c})=>i.createElement(d.a,Object.assign({name:`lens-${e.id}`,styleType:h.Typography.Type.Base,active:t.view(t=>t===e.id),title:e.description&&i.createElement("div",{className:_.tooltip},e.description),titleAlign:n,disabled:a,onClick:c},Object(o.c)(t.view(t=>t!==e.id&&!g.a.isMainLens(t)&&t!==g.a.SpecialId.Premium).view(e=>e&&_.inactive),E(e.id),_.outcomeBtnBorders)),e.title,Boolean(e.status)?i.createElement(m.l,{className:_.outcomeStatus},e.status):null,i.createElement("div",{className:_.progressBarBg},i.createElement(s.a.div,{className:_.progressBar,style:e.progress.view(e=>Boolean(e)?{transform:`translateX(${e}%)`}:{})})),Object(r.pipe)(e.logo,k.g.map(e=>i.createElement(T,{className:_.voxLogo,key:"logo",src:e})),k.g.getOrElse(()=>i.createElement(s.a.Fragment,null,l.a.combine(e.progress.view(b.a.isMax),e.isUnavailable,(e,t)=>e?i.createElement(p.d.CheckmarkOutcomes,{key:"checkmark",className:_.checkmarkIcon}):t&&i.createElement(p.d.Info,{key:"info",width:11,className:_.infoIcon})))))),T=({src:e,className:t})=>{const n=i.useContext(S.a.Context);return i.createElement("img",{className:t,src:e,alt:n.vox.logoAltText})},M=({navigationVM:e})=>{const{gnarSpec:t,pageId:n}=i.useContext(w.a.Context);return I({id:g.a.SpecialId.Premium,navigationVM:e,data:e.premiumButtonData,name:"lens-premium",tracking:()=>t.advancedIssuesButtonClick(n,"wiritingAssistant")})},j=({navigationVM:e})=>{const{gnarSpec:t,pageId:n}=i.useContext(w.a.Context);return I({id:g.a.SpecialId.FreePremiumAlerts,navigationVM:e,data:e.freePremiumButtonData,name:"lens-free-premium",tracking:()=>t.freeAdvancedIssuesButtonClick(n,"wiritingAssistant")})},I=({id:e,navigationVM:t,data:n,name:r,tracking:o})=>{const l=i.useContext(c.a.Context);return i.createElement(s.a.Fragment,null,n.view(Object(a.flow)(k.g.map(n=>i.createElement(C,{key:n.id,name:r,title:n.title,isActive:t.activeLensId.view(t=>t===e),onClick:()=>{t.events.next({type:"switchToLens",id:n.id,focusFirst:!0,actionSource:f.b.sidebar}),o()}},i.createElement(s.a.Fragment,null,n.alerts.view(e=>i.createElement(u.a.OutcomeCounter,{theme:_,count:e}))),i.createElement(m.l,{className:_.outcomeStatus},l.sidebar.advancedAlerts))),k.g.toNullable)))}},"/kIX":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("I7vG"),a=n("gT+5"),r=n("kMag"),o=n("0Hf4"),s=n("Ars8");function l(e,t,n){return Object(i.pipe)(e,d,u(t),p(n,t.length+1),m,e=>e.innerHTML)}const c=()=>o.a.getStyles()+`\n.${a.a.markBulkApplied&&a.a.markBulkApplied.split(/\s/)[0]} { border-bottom-style: hidden !important }`+`\n.${a.a.markSelected&&a.a.markSelected.split(/\s/)[0]} { background-color: transparent !important }`,d=e=>{const t=document.createElement("div");return t.innerHTML=e,t},u=e=>t=>(e.reduce(function(e){return(t,n,i)=>(n.getHighlightRanges().filter(r.b.isMainView).forEach(n=>{const a=e.querySelectorAll(`[${g.MARK_ID}="${n.meta.id}"]`);if(a.length>0){const e=a[a.length-1],n=function(e,t){const n=document.createElement("span");return n.className=s.a.superscriptContainer,n.innerHTML=`<span class="${e} ${s.a.superscript}" data-superscript>${t+1}</span>`,n}(e.classList.value,i);e.appendChild(n),t.push(n)}}),t)}(t),[]).forEach(b),Array.from(t.querySelectorAll("span."+s.b)).forEach(f),t),p=(e,t=0)=>n=>(e.forEach((e,i)=>e.getHighlightRanges().filter(r.b.isMainView).forEach(e=>{const a=n.querySelectorAll(`[${g.MARK_ID}="${e.meta.id}"]`),r=(t+i).toString();a.forEach(e=>e.setAttribute(g.VERTICAL_UNDERLINE,r)),Boolean(a[0])&&(a[0].setAttribute(g.VERTICAL_START,""),h(a[0],r),a[a.length-1].setAttribute(g.VERTICAL_END,""))})),n),h=(e,t)=>e.insertAdjacentHTML("afterbegin",`<span ${g.VERTICAL_INDEX}>${t}</span><span ${g.VERTICAL_BODY}><br /></span>`),m=e=>{return e.querySelectorAll(`[${g.VERTICAL_INDEX}]`).forEach(t=>{const n=t.textContent;e.querySelectorAll(`[${g.VERTICAL_UNDERLINE}="${n}"] [${g.VERTICAL_END}]`).forEach(e=>{e.removeAttribute(g.VERTICAL_END)})}),e};var g;function f(e,t,n){var i,a;n.length>t+1&&(i=e,a=n[t+1],i.textContent.length-function(e,t){const n=document.createRange();return n.setStartAfter(e),n.setEndBefore(t),n.toString().length}(i,a)>=0)&&function(e){e.style.width="auto",e.parentElement.insertAdjacentElement("afterend",e)}(e)}function b(e){if(e.children.length>0&&e.previousSibling){const t=Array.from(e.children);e.innerHTML="",function e(t){let n=[];if(!(t instanceof Element))return n;t.matches(`[${g.MARK_ID}]`)&&t.lastElementChild&&t.lastElementChild.classList.contains(s.b)&&(n=Array.from(t.lastElementChild.children),t.lastElementChild.remove());return t.lastElementChild?n.concat(e(t.lastElementChild)):n}(e.previousSibling).concat(t).sort((e,t)=>Number(e.textContent)-Number(t.textContent)).forEach(t=>e.appendChild(t))}}!function(e){e.MARK_ID="data-mark-id",e.VERTICAL_UNDERLINE="data-vertical-underline",e.VERTICAL_START="data-vertical-underline-start",e.VERTICAL_BODY="data-vertical-underline-body",e.VERTICAL_END="data-vertical-underline-end",e.VERTICAL_INDEX="data-vertical-underline-index"}(g||(g={}))},"0A7Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("OA+g"),r=n("FiSa"),o=n("6fbX"),s=n("lrqh");!function(e){class t extends o.a{}e.UnexpectedFlushError=t;class n extends o.a{}e.TextApplyError=n,e.empty=r.a.resFromText(""),e.updateWithChange=(e,i)=>{const o=r.a.isDelta(i)?i.prevLen:null;return null!==o&&e.length!==o?s.b.left(new n(`incorrect state.length(${e.length}) and change prevLen(${o})`)):r.a.isFlush(i)?s.b.left(new t("NYI")):r.a.isReset(i)?s.b.right(i):Object(a.pipe)(e.compose(i),s.b.mapLeft(e=>new n(e.message)))}}(i||(i={}))},"0EQH":function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return M}));var i,a,r,o=n("GRZr"),s=n("OA+g"),l=n("I7vG"),c=n("LNSM"),d=n("lrqh"),u=n("6fbX"),p=n("D9EC"),h=n("PrA7"),m=n("f9Xq"),g=n("91hE"),f=(n("FiSa"),n("WOlp"),n("dE97"));n("C53H"),n("wOnQ"),n("f3nf"),n("H37f");!function(e){let t;!function(e){e.slideContentLeft={type:"transition",fromName:"content",toName:"content",animateFrom:m.a.AnimationName.SlideLeft,animateTo:m.a.AnimationName.SlideLeft},e.slideTitleLeft={type:"transition",fromName:"title",toName:"title",animateFrom:m.a.AnimationName.SlideLeft,animateTo:m.a.AnimationName.SlideLeft},e.slideContentRight={type:"transition",fromName:"content",toName:"content",animateFrom:m.a.AnimationName.SlideRight,animateTo:m.a.AnimationName.SlideRight},e.slideTitleRight={type:"transition",fromName:"title",toName:"title",animateFrom:m.a.AnimationName.SlideRight,animateTo:m.a.AnimationName.SlideRight}}(t=e.Actions||(e.Actions={}))}(i||(i={}));u.a;(r=a||(a={})).substitution=function(e){return g.k.create(e,m.a.TextSize.Regular,[m.a.TextFormat.StrikeoutHorizontal,m.a.TextFormat.Bold],m.a.Color.CoreRed50,void 0,void 0)},r.removeWeak=function(e){return g.k.create(e,m.a.TextSize.Regular,[m.a.TextFormat.Bold],m.a.Color.CoreRed50,m.a.Color.CoreRed10,void 0)},r.removeStrong=function(e){return g.k.create(e,m.a.TextSize.Regular,[m.a.TextFormat.Bold],m.a.Color.CoreRed50,m.a.Color.CoreRed20,void 0)},r.insertWeak=function(e){return g.k.create(e,m.a.TextSize.Regular,[m.a.TextFormat.Bold],m.a.Color.CoreGreen70,m.a.Color.CoreGreen20,void 0)},r.insertText=function(e){return g.k.create(e,m.a.TextSize.Regular,[m.a.TextFormat.Bold],m.a.Color.CoreGreen70,void 0,void 0)},r.insertStrong=function(e){return g.k.create(e,m.a.TextSize.Regular,[m.a.TextFormat.Bold],m.a.Color.CoreGreen70,m.a.Color.CoreGreen30,void 0)},r.text=function(e){return g.k.create(e,m.a.TextSize.Regular,[],m.a.Color.CoreNeutral90,void 0,void 0)};var b=n("GUi3"),y=n("zR/0"),v=n("GGUR"),k=n("gy42"),w=n("BeBM"),S=n("bFfh"),_=n("86p/");const C=(e,t,n,i=(()=>d.g.none))=>a=>{if(!e(a))return t(a);const{currentLens:r}=a;return r.kind===w.f.abstract?d.g.none:Object(l.pipe)(d.g.fromPredicate(w.e.hasItems)(a),d.g.chain(e=>n.findNextAlert(e.currentLens)),d.g.alt(()=>i(a)),d.g.map(_.a.toLensAlert))},E=(e,t,n,i,a=S.a.WithSuccess.State.isInGlobalSuccess(i),r=(()=>!0))=>o=>{const{currentLens:s}=o;return s.kind===w.f.abstract?d.g.none:s.kind===w.f.persistent?Object(l.pipe)(d.g.fromPredicate(w.e.hasItems)(o),d.g.chain(e=>i.getActiveAlert(e.currentLens)),d.g.fold(()=>w.e.hasItems(o)?i.findNextAlert(o.currentLens):d.g.none,t=>e.findNextAlertInTextByLens(t,s.id,S.a.WithPriority.nonPriorityAlertsVisible(o))),d.g.alt(()=>r()&&(a(o)||b.a.isOutcomeId(o.currentLens.id)&&e.hasZeroFreeAlerts(n))?e.findPremiumAlert():d.g.none),d.g.map(_.a.toLensAlert)):Object(l.pipe)((a=>{const r=d.g.fromPredicate(w.e.hasItems)(a);return Object(l.pipe)(r,d.g.chain(e=>i.findNextAlert(e.currentLens)),d.g.map(_.a.toLensAlert),d.g.alt(()=>Object(l.pipe)(r,d.g.chain(e=>i.getActiveAlert(e.currentLens)),d.g.fold(()=>t(f.a.isRegisteredApplicableAlert,"cursor"),t=>e.findNextAlertInText(t,f.a.isApplicableAlert)),d.g.map(({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:n.get()})))))})(o),d.g.alt(()=>Object(l.pipe)(e.findPremiumAlert(),d.g.map(_.a.toLensAlert))))};function O(e,t){return(n,i)=>t.findClosestAlertHighlight(e(i),n)}const A=e=>e.pipe(y.a.pairwise(),y.a.first(([e,t])=>"idle"!==e&&"idle"===t),y.a.map(()=>void 0)),x=e=>Object(l.pipe)(e,y.a.filter(e=>w.e.hasCards(e)&&d.g.isSome(w.k.getActiveItem(e.currentLens))),y.a.map(()=>void 0));class T{constructor(e,t){this._subs=new v.a.Keeper,this.firstOpeningOfDocumentWithAlerts=c.a.create(!1);const n=A(e),i=x(t);this._subs.push(Object(l.pipe)(t,y.a.first(e=>w.e.hasCards(e)),y.a.switchMap(()=>Object(l.pipe)(y.a.mergeStatic(i,n),y.a.map(s.constFalse),y.a.startWith(!0))),y.a.tap(k.b.toAtom(this.firstOpeningOfDocumentWithAlerts))).subscribe())}dispose(){this._subs.dispose()}}var M;!function(e){const t=Object(p.l)(h.Monitoring.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,n,i,a,r)=>{const o=A(n),s=(e=>e.pipe(y.a.startWith("idle"),y.a.pairwise(),y.a.first(([e,t])=>"idle"===t),y.a.filter(([e])=>"full"===e),y.a.map(()=>void 0)))(n),c=((e,t)=>{const n=A(e);return t.bigPaste.pipe(y.a.switchMap(()=>n),y.a.map(()=>void 0),y.a.shareReplay({bufferSize:1,refCount:!0}))})(n,a);return Object(l.pipe)(y.a.mergeStatic(o,s,c),y.a.withLatestFrom(e,r,i),y.a.filter(([e,t,n,i])=>i&&!n&&w.e.hasCards(t)&&d.g.isNone(w.k.getActiveItem(t.currentLens))),y.a.map(()=>w.e.Effect.FocusBehavior.focusFirst),y.a.tap(e=>t("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e)))},e.getSideEffect=(e,t)=>{const n=Object(l.pipe)(e,y.a.map((e=>t=>n=>{switch(t.kind){case w.e.Effect.FocusBehaviorType.noFocus:return n;case w.e.Effect.FocusBehaviorType.unFocus:return w.e.Prism.getLensWithItems().modify(e.unselectItem(),n);case w.e.Effect.FocusBehaviorType.focusFirst:return Object(l.pipe)(e.findFirstAlert(n.currentLens),d.g.fold(()=>n,t=>w.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t,[]),n)));case w.e.Effect.FocusBehaviorType.focusNext:return Object(l.pipe)(e.findNextAlert(n.currentLens),d.g.fold(()=>n,t=>w.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t,[]),n)));case w.e.Effect.FocusBehaviorType.focusAlert:return w.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight,[]),n);default:Object(u.d)(t)}})(t)));return{id:"autoFocusEffect",when:b.a.isWithAlertsId,what:w.e.Effect.ItemsApplicator.create(n)}},e.whenFirstOpeningDocumentWithAlerts=e=>()=>e.firstOpeningOfDocumentWithAlerts.get(),e.whenShouldVerifyCurrentLens=(e,n)=>i=>{const a="AutoFocus.stateValidator.whenShouldVerifyCurrentLens";return!(!w.e.hasItems(i)||!n.shouldVerify(i.currentLens))&&(Object(l.pipe)(w.e.getActiveAlert(e)(i),d.g.filter(f.a.isInDuplicatedState),d.g.fold(()=>t(a).debug("Current alert removed, should verify current lens..."),e=>t(a).info("Current alert removed as it's a duplicate, should verify current lens...",e.toString()))),!0)},e.whenNoActiveCard=e=>e.currentLens.items.size>0&&d.g.isNone(w.k.getActiveItem(e.currentLens)),e.behaviorToEffect=e=>n=>i=>Object(l.pipe)(n(i)?e(i):d.g.none,d.g.tap(e=>t("AutoFocus.stateValidator").debug(`'behavior triggered: ${e.kind}`))),e.getDefaultBehavior=(t,n)=>Object(l.pipe)([Object(l.pipe)(e.whenShouldVerifyCurrentLens(t,n),e.behaviorToEffect(()=>d.g.some(w.e.Effect.FocusBehavior.focusNext)))],Object(o.fold)(Object(o.getFunctionMonoid)(d.g.getFirstMonoid())())),e.getAlwaysFocusBehavior=(t,n)=>Object(l.pipe)([Object(l.pipe)(Object(p.p)(e.whenNoActiveCard,e.whenShouldVerifyCurrentLens(t,n)),e.behaviorToEffect(()=>d.g.some(w.e.Effect.FocusBehavior.focusNext)))],Object(o.fold)(Object(o.getFunctionMonoid)(d.g.getFirstMonoid())())),e.getFocusFromCacheBehavior=(t,n,i,a,r,c)=>Object(l.pipe)([Object(l.pipe)(e.whenShouldVerifyCurrentLens(a,r),e.behaviorToEffect(()=>d.g.some(w.e.Effect.FocusBehavior.focusNext))),Object(l.pipe)(Object(p.b)(()=>n.get(),Object(p.b)(Object(p.b)(Object(p.b)(e.whenFirstOpeningDocumentWithAlerts(i),()=>t),e.whenNoActiveCard),Object(l.pipe)(c,d.g.map(e=>Object(s.not)(e.willShowBulkAccept)),d.g.getOrElse(()=>s.constTrue)))),e.behaviorToEffect(()=>d.g.some(w.e.Effect.FocusBehavior.focusFirst)))],Object(o.fold)(Object(o.getFunctionMonoid)(d.g.getFirstMonoid())())),e.getFirstApiAlignmentOverride=function(){const e=c.a.create(!0);return(t,n)=>{let i=n;return e.get()&&n===f.b.api&&(i=f.b.text),e.set(!1),i}},e.getShouldAutoFocus=(e,t,n)=>i=>e.get()&&Object(l.pipe)(i,w.e.getActiveAlert(n),d.g.chain(({id:e})=>t.getById(e)),d.g.filter(Object(p.p)(e=>"APPLIED"===e.state.type&&"ByCard"===e.state.method,f.a.isDuplicated)),d.g.isSome),e.getSDUITransitions=({prevItemIndex:e,nextItemIndex:t})=>t>e?[i.Actions.slideContentLeft,i.Actions.slideTitleLeft]:[i.Actions.slideContentRight,i.Actions.slideTitleRight],e.getStateTransformer=(e,n,i,a,r,o,c,p=(()=>[]))=>({state:h,metadata:m})=>{const g=t("AutoFocus.stateTransformer");if(!w.e.hasCards(h)||!w.e.hasItems(h))return g.trace("state has no items, returning original state"),d.b.left({state:h,metadata:m});const f=e(h);if(g.trace("effect: ",{state:h,metadata:m,effect:f}),d.g.isNone(f))return g.trace("no effect selected, returning original state"),d.b.left({state:h,metadata:m});if(o(f.value),f.value.kind===w.e.Effect.FocusBehaviorType.unFocus||f.value.kind===w.e.Effect.FocusBehaviorType.noFocus)return d.b.left({state:w.e.Prism.getLensWithItems().modify(a.unselectItem(),h),metadata:m});const b=r(h);return g.trace("shouldAutoFocus",{alertSource:h.alertSource,shouldAutoFocus:b}),Object(l.pipe)(f,d.g.chain(e=>{switch(e.kind){case w.e.Effect.FocusBehaviorType.noFocus:case w.e.Effect.FocusBehaviorType.unFocus:return d.g.none;case w.e.Effect.FocusBehaviorType.focusFirst:return Object(l.pipe)(a.findFirstAlert(h.currentLens),d.g.map(e=>Object.assign(Object.assign({},e),{lensId:h.currentLens.id})));case w.e.Effect.FocusBehaviorType.focusNext:return n(h);case w.e.Effect.FocusBehaviorType.focusAlert:return d.g.some(Object.assign(Object.assign({},e.alertHighlight),{lensId:h.currentLens.id}));default:Object(u.d)(e)}}),d.g.map(e=>(Object(u.g)(d.g.isSome(i.getRegistered(e.alert.id)),"lens alert should be in registered state",()=>e.alert.toString()),e)),d.g.fold(()=>(g.trace("no alert selected, returning original state"),h.currentLens.kind===w.f.active?d.b.right(d.b.right({lensId:c.get(),alertSource:h.alertSource,options:{order:h.switchOrder,toFocus:w.e.Effect.FocusBehavior.noFocus}})):d.b.left({state:h,metadata:m})),({alert:e,highlightIndex:t,lensId:n})=>{if(g.trace("selected alert to focus",e),h.currentLens.meta.filter(e)){if(b){g.trace("shouldAutoFocus: true, selecting alert");const n=h.currentLens.cardIndex,i=Object(l.pipe)(n,d.g.chain(e=>Object(l.pipe)(h.currentLens.items.getAt(e),d.g.map(t=>({prevItem:t,prevItemIndex:e}))))),r={alert:e,highlightIndex:t},o=h.currentLens.items.find(a.isSelectableByAlert(r)),c=Object(l.pipe)(Object(s.tuple)(i,o),Object(s.tupled)(d.g.map2(({prevItemIndex:e,prevItem:t},{value:n,index:i})=>p({prevItem:t,prevItemIndex:e,nextItem:n,nextItemIndex:i}))),d.g.getOrElse(()=>[])),u=w.e.Prism.getLensWithItems().modify(a.selectItemByAlert(r,c),h);return d.b.left({state:u,metadata:{sourceId:"LSM.updateActiveState"}})}return g.trace("shouldAutoFocus: false"),d.b.left({state:h,metadata:m})}return g.trace("alert is not from current lens, recreating lens view"),d.b.right(b?d.b.left({alertHighlight:{alert:e,highlightIndex:t},alertSource:h.alertSource,options:{lensId:n,order:h.switchOrder,toFocus:w.e.Effect.FocusBehavior.focusFirst}}):d.b.right({lensId:n,alertSource:h.alertSource,options:{order:h.switchOrder,toFocus:w.e.Effect.FocusBehavior.noFocus}}))}))}}(M||(M={}))},"0LFZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("OA+g"),r=n("bYZB"),o=n("lrqh"),s=n("QKlB"),l=n("YXP7"),c=n("SDjP"),d=n("0A7Q");!function(e){e.empty=e=>Object(a.pipe)(e,o.g.fold(()=>({textState:d.a.empty,marksState:s.a.empty,selectionState:r.g.empty,scrollState:l.a.empty,focusState:c.a.empty}),({text:e,marks:t})=>({textState:e,marksState:t,selectionState:r.g.empty,scrollState:l.a.empty,focusState:c.a.empty}))),e.fromInit=function(e){return{textState:e.text,marksState:s.a.empty,selectionState:e.selection,scrollState:e.scroll,focusState:c.a.empty}}}(i||(i={}))},"0Qd1":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("ERkP"),a=n("bO3R"),r=n("BugA"),o=n("9NHN"),s=n("3rlE"),l=n("e12y");const c={marginRight:l.a.rem(.5),width:l.a.rem(2)},d=l.a.stylesheet({base:[{display:"flex",alignItems:"center"}],icon:[c]}),u=({className:e})=>i.createElement("div",Object.assign({},Object(o.c)(d.base,e)),i.createElement(s.d.Grammarly,{className:d.icon}),i.createElement("svg",{width:"99",height:"18",viewBox:"0 0 99 18"},i.createElement("g",{fill:"#4C4C4C",fillRule:"evenodd"},i.createElement("path",{d:"M2 17.16c-.5-.2-.84-.6-.84-1.16 0-.67.55-1.23 1.22-1.23.2 0 .36.04.5.1.86.4 1.8.63 2.92.63 2.05 0 3.02-.98 3.02-2.88v-.5c-.9 1.05-1.86 1.7-3.46 1.7-2.47 0-4.7-1.8-4.7-4.93v-.05c0-3.16 2.27-4.93 4.7-4.93 1.64 0 2.6.7 3.42 1.58v-.02c0-.8.67-1.48 1.5-1.48s1.5.67 1.5 1.5v6.8c0 1.9-.46 3.28-1.35 4.17-.98 1-2.5 1.42-4.55 1.42-1.4 0-2.63-.25-3.87-.74zM8.83 8.9v-.05c0-1.44-1.13-2.45-2.6-2.45-1.45 0-2.56 1-2.56 2.45v.04c0 1.45 1.1 2.44 2.57 2.44 1.46 0 2.6-1 2.6-2.45zM13.47 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C16.9 4.94 17.62 4 18.5 4c.94 0 1.47.6 1.47 1.46 0 .8-.52 1.26-1.13 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M19.6 11.65v-.03c0-2.3 1.77-3.38 4.28-3.38 1.06 0 1.83.18 2.58.43V8.5c0-1.25-.77-1.94-2.27-1.94-.84 0-1.5.12-2.08.3-.18.06-.3.08-.43.08-.7 0-1.26-.54-1.26-1.23 0-.52.34-.97.8-1.15.96-.36 1.98-.55 3.4-.55 1.62 0 2.8.43 3.56 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.87 0-1.44-.6-1.44-1.23v-.02c-.73.8-1.73 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.5-.24-1.18-.4-1.9-.4-1.3 0-2.1.52-2.1 1.47v.04c0 .8.7 1.28 1.65 1.28 1.4 0 2.35-.77 2.35-1.86zM30.94 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.12-1.7 1.38 0 2.43.6 2.98 1.68.93-1.1 2.03-1.68 3.47-1.68 2.25 0 3.6 1.34 3.6 3.9v5.5c0 .82-.68 1.5-1.5 1.5-.84 0-1.5-.68-1.5-1.5V8.78c0-1.43-.64-2.16-1.77-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.7 1.5-1.52 1.5-.8 0-1.5-.66-1.5-1.5V8.8c0-1.43-.62-2.16-1.74-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M48.7 5.5c0-.83.68-1.5 1.5-1.5.84 0 1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.13-1.7 1.38 0 2.42.6 2.98 1.68.93-1.1 2.04-1.68 3.48-1.68 2.23 0 3.57 1.34 3.57 3.9v5.5c0 .82-.67 1.5-1.5 1.5s-1.5-.68-1.5-1.5V8.78c0-1.43-.63-2.16-1.75-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V8.8c0-1.43-.63-2.16-1.76-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.68 1.5-1.5 1.5-.84 0-1.5-.66-1.5-1.5V5.5M65.84 11.65v-.03c0-2.3 1.76-3.38 4.26-3.38 1.07 0 1.84.18 2.6.43V8.5c0-1.25-.78-1.94-2.28-1.94-.83 0-1.5.12-2.07.3-.18.06-.3.08-.44.08-.68 0-1.23-.54-1.23-1.23 0-.52.33-.97.8-1.15.96-.36 1.98-.55 3.38-.55 1.64 0 2.83.43 3.58 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.86 0-1.43-.6-1.43-1.23v-.02c-.73.8-1.74 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.52-.24-1.2-.4-1.93-.4-1.27 0-2.06.52-2.06 1.47v.04c0 .8.67 1.28 1.64 1.28 1.4 0 2.35-.77 2.35-1.86zM77.17 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C80.6 4.94 81.3 4 82.2 4c.93 0 1.46.6 1.46 1.46 0 .8-.5 1.26-1.12 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M84.57 1.67c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V13.3c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V1.68M89.96 17.63c-.43-.15-.95-.5-.95-1.24s.58-1.23 1.2-1.23c.23 0 .37.04.5.08.25.08.4.12.62.12.53 0 .8-.1 1.07-.64l.1-.23-3.63-8.37c-.07-.2-.15-.5-.15-.7 0-.84.65-1.43 1.48-1.43.75 0 1.18.4 1.44 1.12l2.3 6.16 2.2-6.14C96.37 4.5 96.8 4 97.58 4c.77 0 1.42.6 1.42 1.38 0 .24-.08.57-.14.7l-3.7 8.87c-.88 2.15-1.77 2.96-3.56 2.96-.67 0-1.15-.1-1.64-.27"}))));var p=n("ax6a");const h=l.a.style({display:"flex",flexDirection:"column",width:"100vw",height:"100vh",background:p.a.CoreNeutral1,justifyContent:"center",alignItems:"center"}),m=l.a.style({position:"absolute",top:l.a.rem(1.875),left:l.a.rem(2.5)}),g=l.a.style({marginTop:l.a.rem(4.25),letterSpacing:"-.8px",fontSize:l.a.rem(2.625),lineHeight:l.a.rem(3.5)}),f=l.a.style({textAlign:"center",marginTop:l.a.rem(1),color:p.a.CoreNeutral50}),b=l.a.style({$nest:{"&[data-textpos='everywhere']":{marginTop:l.a.rem(2.25),padding:`0 ${l.a.rem(2.5)}`,textTransform:"initial",letterSpacing:0,fontSize:l.a.rem(1),lineHeight:l.a.rem(3.125)}}}),y=l.a.style({marginTop:l.a.rem(1)}),v=({name:e,logo:t,title:n,description:o,primaryButton:s,secondaryButton:l})=>i.createElement("div",{"data-name":e,className:h},i.createElement(u,{className:m}),t,i.createElement(r.c,{className:g},n),i.createElement(r.j,{className:f},o),i.createElement(a.a.Primary,{name:"primary-button",className:b,onClick:s.onClick},s.title),l&&i.createElement(a.a.Ghost,{className:y,name:"secondary-button",onClick:l.onClick},l.title))},"1HVN":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i,a=n("U75S"),r=n("OA+g"),o=n("zR/0"),s=n("lrqh"),l=n("6fbX"),c=n("D9EC"),d=n("7b34"),u=n("PrA7"),p=n("dE97"),h=n("GUi3"),m=n("BbAu"),g=n("Cdla"),f=n("FK1v");!function(e){let t;!function(e){e.show=d.a.getShow(m.e,g.a.Item.show)}(t=e.Diff||(e.Diff={})),e.empty=f.a.iso.wrap(f.a.empty),e.get=function(e){return Object(r.flow)(f.a.iso.unwrap,f.a.get(e))},e.reduce=function(e,t){return Object(r.flow)(f.a.iso.unwrap,f.a.reduce(e,t))},e.diff=function(e,t){return f.a.diff(f.a.iso.unwrap(e),f.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===f.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(r.flow)(f.a.iso.unwrap,f.a.find(e))},e.size=function(){return Object(r.flow)(f.a.iso.unwrap,f.a.size)}}(i||(i={}));var b,y=n("UEGg"),v=n("O6HF"),k=n("BeBM"),w=n("kFFO"),S=n("TC4P"),_=n("W39u"),C=n("973I"),E=n("XxrX"),O=n("mLF+");!function(e){e.Kind="AlertRefSDUIItem";const t=s.c.fromEquals((e,t)=>e.hashCode()===t.hashCode()&&C.a.eq.equals(e.positionState,t.positionState)&&a.eb(y.a.eq).equals(e.alerts,t.alerts));function n(e){return`${e.id}`}let m,g;e.idEq={equals:(e,t)=>s.c.eqString.equals(e,t)},e.eq={equals:(n,i)=>e.idEq.equals(n.id,i.id)&&t.equals(n,i)&&O.a.eq.equals(n,i)},e.getId=n,function(t){t.createItem=(t,n,i)=>({id:t,kind:e.Kind,alerts:i,cardDSL:s.g.some(n),prevCardDSL:s.g.none,transitions:[],positionState:_.a.PositionState.empty,visualState:S.a.VisualState.initial({type:"added",clockwise:!0},!0),renderOptions:E.a.defaultOptions,equals(t){return e.eq.equals(this,t)},hashCode(){return Object(w.a)({id:this.id,alertsCount:this.alerts.length,transitions:Object(w.b)(this.transitions.map(e=>e.toName).join(""))})}});const n=S.a.Capabilities.getPojoUpdates();t.pojoSDUI=O.a.Capabilities.getPojoUpdates();const i=_.a.Capabilities.getPojoUpdates();t.changePosition=i.setPosition,t.updateSDUIState=t.pojoSDUI.setSDUIState,t.sduiSelect=O.a.Capabilities.getSelect(t.updateSDUIState),t.select={selectByAlert:()=>r.identity,select:(e,n,i)=>Object(r.flow)(t.sduiSelect(e,i),t.animatable.transitionTo({type:"focused",clockwise:!1})),unselect:()=>t.animatable.transitionTo({type:"rendered",clockwise:!1})},t.hasAlerts={hasActiveAlert:e=>Object(r.pipe)(s.g.fromNullable(e.alerts[0]),s.g.map(e=>({alert:e,highlightIndex:0}))),hasAlert:e=>t=>void 0!==t.alerts.find(t=>t.id===e),isSelectableByAlert:e=>t=>void 0!==t.alerts.find(t=>t.id===e.alert.id)};const a=O.a.Capabilities.getCompleteTransition(t.updateSDUIState);t.animatable={completeTransition:e=>t=>Object(r.pipe)(t,n.setVisualState(S.a.VisualState.complete(t.visualState,e)),a),transitionTo:e=>t=>{const i=S.a.VisualState.to(t.visualState,e);return n.setVisualState(i)(t)},changeVisualState:n.setVisualState},t.remove={remove:(e,n)=>i=>e(i)?t.animatable.transitionTo({type:"removed",clockwise:n(i)})(i):i},t.removeAlert={removeAlertFromItem:e=>n=>{const i=new Set(e.map(e=>e.id)),a=n.alerts.filter(e=>!i.has(e.id));return Object(r.pipe)(Object.assign(Object.assign({},n),{alerts:a}),e=>0===e.alerts.length?t.animatable.transitionTo({type:"removed",clockwise:!1})(e):e)}},t.updateWithAlert={updateWithAlerts:e=>n=>{const i=new Set(e.map(e=>e.id));Object(l.g)(void 0===n.alerts.find(e=>!i.has(e.id)),"can not receive updates for unknown alerts",()=>JSON.stringify({cardAlerts:n.alerts.map(e=>e.id),incomingAlerts:e.map(e=>e.id)}));const a=(e,n)=>{switch(e.state.type){case p.a.State.Type.REGISTERED:return n;case p.a.State.Type.REMOVED:return"focused"===n.visualState.transition.type&&0===n.alerts.length?t.remove.remove(r.constTrue,r.constTrue)(n):n;case p.a.State.Type.APPLIED:case p.a.State.Type.BEING_APPLIED:return t.remove.remove(r.constTrue,r.constTrue)(n);default:return Object(l.d)(e.state)}};let o=n;for(const t of e)o=a(t,o);return o}},t.disposable={isScheduledToDispose:e=>"removed"===e.visualState.transition.type},t.toAlertItem=function(e){return e.alerts.length>0?s.g.some(Object.assign(Object.assign({},e),{activeAlert:e.alerts[0],activeHighlightIndex:0,meta:v.a.empty(void 0)})):s.g.none}}(m=e.Capabilities||(e.Capabilities={})),function(e){const t=(e,t,n)=>i=>{const a=m.createItem(e,t,n.map(y.a.fromModel)),r=i.items.add(a),o=k.k.getActiveItemIndex(r)(i);return Object.assign(Object.assign({},i),{items:r,activeIndex:o})},a=(e,n,i)=>a=>{const o=Object(r.pipe)(a.items.update(e,Object(r.flow)(m.updateWithAlert.updateWithAlerts(i),m.pojoSDUI.setDSL(s.g.some(n)))),s.b.getOrElse(()=>t(e,n,i)(a).items));return Object.assign(Object.assign({},a),{items:o})},l=e=>t=>{const n=t.items.remove(e);return Object.assign(Object.assign({},t),{items:n})},p=Object(c.l)(u.Monitoring.Logging.getLogger);e.createSDUIFeedSideEffect=function(e){const c=p("AlertRefSDUIItem.sideEffect");return{id:"sduiFeedEffect",when:h.a.isWithAlertsId,what:k.e.Effect.ItemsApplicator.create(Object(r.pipe)(e,s.g.fold(()=>o.a.of(r.identity),e=>e.pipe(o.a.pairwise(),o.a.map(([e,t])=>i.diff(e,t)),o.a.tap(e=>c.trace("processing diff",i.Diff.show.show(e))),o.a.map(e=>i=>{const o=Object(r.pipe)(e,d.a.reduce(i.currentLens,(e,t)=>l(n(t))(e),(e,t,i)=>Object(r.pipe)(i.alerts,s.a.map(e=>e.alert),t=>a(n(i),i.content,t)(e)),(e,i)=>Object(r.pipe)(i.alerts,s.a.map(e=>e.alert),a=>t(n(i),i.content,a)(e))));return i.patch({currentLens:o})})))))}}}(g=e.SideEffects||(e.SideEffects={}))}(b||(b={}))},"1Y2u":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("ERkP"),a=n("LNSM"),r=n("9NHN"),o=n("rk+4"),s=n("bO3R"),l=n("3rlE"),c=n("jAl6"),d=n("CXK/"),u=n("zR/0"),p=n("aH3e"),h=n("QRqj");const m=l.c.size+2,g=(28-m)/2,f=e=>{const t=i.useContext(o.a.Context),n=a.a.combine(e.checking,e.hasErrors,(e,n)=>{const a=e?t.sidebar.checkingLabel:n?t.sidebar.fixErrorsLabel:t.sidebar.openLabel;return i.createElement("div",{className:h.labelReveal,key:"label","data-name":a},a)}),r=d.a.fadeOutState(e.checking.pipe(u.a.skipWhile(e=>!1===e))),l=e.checking.pipe(u.a.map(e=>e?"inProgress":"end")),p=l.pipe(u.a.map(e=>"end"!==e?i.createElement(c.a.Svg,{role:"presentation",key:"loading",type:"white",size:m,strokeWidth:5,onTransitionEnd:r.complete,x:164+g,y:g}):null)),f=l.pipe(u.a.map(e=>"inProgress"===e?null:i.createElement("g",{"data-name":"checking-complete",className:"checking-complete",key:"complete"})));return i.createElement(s.a,{name:"assistant",className:h.full,onClick:e.onClick},i.createElement(y,null,f,p),n)},b=Object(r.d)(e=>i.createElement("g",Object.assign({},e))),y=({children:e})=>{const t=i.useContext(p.a.Context);return i.createElement("svg",{viewBox:"0 0 192 28",className:t.has(p.a.Flag.supportsSVGTransitions)?h.background:h.edgeBackground},i.createElement("defs",null,i.createElement("mask",{id:"mask"},i.createElement("circle",{cx:14,cy:14,r:14,fill:"#fff"}),i.createElement("rect",{x:14,width:164,height:28,fill:"#fff"}),i.createElement("circle",{cx:178,cy:14,r:14,fill:"#fff"})),i.createElement("clipPath",{id:"clip"},i.createElement("circle",{cx:178,cy:14,r:14}),i.createElement("rect",{x:-14,width:192,height:28,fill:"#fff"}))),i.createElement("g",{clipPath:"url(#clip)"},i.createElement("rect",{id:"box",x:"0",y:"0",width:192,height:28,mask:"url(#mask)"})),i.createElement(b,null,e))}},"1aGC":function(e,t,n){(function(t){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=n(18),r=n(19),o=n(45),s=n(46),l=n(47),c=n(48),d=n(49),u=n(12),p=n(32),h=n(33),m=n(31),g=n(1),f={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:i.default,Format:a.default,Leaf:r.default,Embed:c.default,Scroll:o.default,Block:l.default,Inline:s.default,Text:d.default,Attributor:{Attribute:u.default,Class:p.default,Style:h.default,Store:m.default}};t.default=f},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return a(t,e),t}(Error);t.ParchmentError=r;var o,s={},l={},c={},d={};function u(e,t){var n;if(void 0===t&&(t=o.ANY),"string"==typeof e)n=d[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=d.text;else if("number"==typeof e)e&o.LEVEL&o.BLOCK?n=d.block:e&o.LEVEL&o.INLINE&&(n=d.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var a in i)if(n=l[i[a]])break;n=n||c[e.tagName]}return null==n?null:t&o.LEVEL&n.scope&&t&o.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(o=t.Scope||(t.Scope={})),t.create=function(e,t){var n=u(e);if(null==n)throw new r("Unable to create "+e+" blot");var i=n,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t);return new i(a,t)},t.find=function e(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:i?e(n.parentNode,i):null},t.query=u,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var i=t[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new r("Invalid definition");if("abstract"===i.blotName)throw new r("Cannot register abstract class");return d[i.blotName||i.attrName]=i,"string"==typeof i.keyName?s[i.keyName]=i:(null!=i.className&&(l[i.className]=i),null!=i.tagName&&(Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(e){return e.toUpperCase()})):i.tagName=i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach((function(e){null!=c[e]&&null!=i.className||(c[e]=i)})))),i}},function(e,t,n){var i=n(51),a=n(11),r=n(3),o=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=r(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(a(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+o.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=o.iterator(this.ops),a=0;a<t&&i.hasNext();){var r;a<e?r=i.next(e-a):(r=i.next(t-a),n.push(r)),a+=o.length(r)}return new l(n)},l.prototype.compose=function(e){for(var t=o.iterator(this.ops),n=o.iterator(e.ops),i=new l;t.hasNext()||n.hasNext();)if("insert"===n.peekType())i.push(n.next());else if("delete"===t.peekType())i.push(t.next());else{var a=Math.min(t.peekLength(),n.peekLength()),r=t.next(a),s=n.next(a);if("number"==typeof s.retain){var c={};"number"==typeof r.retain?c.retain=a:c.insert=r.insert;var d=o.attributes.compose(r.attributes,s.attributes,"number"==typeof r.retain);d&&(c.attributes=d),i.push(c)}else"number"==typeof s.delete&&"number"==typeof r.retain&&i.push(s)}return i.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),r=new l,c=i(n[0],n[1],t),d=o.iterator(this.ops),u=o.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.INSERT:n=Math.min(u.peekLength(),t),r.push(u.next(n));break;case i.DELETE:n=Math.min(t,d.peekLength()),d.next(n),r.delete(n);break;case i.EQUAL:n=Math.min(d.peekLength(),u.peekLength(),t);var s=d.next(n),l=u.next(n);a(s.insert,l.insert)?r.retain(n,o.attributes.diff(s.attributes,l.attributes)):r.push(l).delete(n)}t-=n}})),r.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=o.iterator(this.ops),i=new l,a=0;n.hasNext();){if("insert"!==n.peekType())return;var r=n.peek(),s=o.length(r)-n.peekLength(),c="string"==typeof r.insert?r.insert.indexOf(t,s)-s:-1;if(c<0)i.push(n.next());else if(c>0)i.push(n.next(c));else{if(!1===e(i,n.next(1).attributes||{},a))return;a+=1,i=new l}}i.length()>0&&e(i,{},a)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=o.iterator(this.ops),i=o.iterator(e.ops),a=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())a.push(i.next());else{var r=Math.min(n.peekLength(),i.peekLength()),s=n.next(r),c=i.next(r);if(s.delete)continue;c.delete?a.push(c):a.retain(r,o.attributes.transform(s.attributes,c.attributes,t))}else a.retain(o.length(n.next()));return a.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=o.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var a=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(i<e||!t)&&(e+=a),i+=a):e-=Math.min(a,e-i)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},r=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,a=n.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!r)return!1;for(t in e);return void 0===t||n.call(e,t)};e.exports=function e(){var t,n,i,o,s,l,c=arguments[0],d=1,u=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},d=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});d<u;++d)if(null!=(t=arguments[d]))for(n in t)i=c[n],c!==(o=t[n])&&(p&&o&&(r(o)||(s=a(o)))?(s?(s=!1,l=i&&a(i)?i:[]):l=i&&r(i)?i:{},c[n]=e(p,l,o)):void 0!==o&&(c[n]=o));return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},r=u(n(3)),o=u(n(2)),s=u(n(0)),l=u(n(16)),c=u(n(6)),d=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),i(t,[{key:"attach",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,r.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,n,i){if("string"==typeof n&&n.endsWith("\n")){var r=s.default.create(f.blotName);this.parent.insertBefore(r,0===e?this:this.next),r.insertAt(0,n.slice(0,-1))}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i)}}]),t}(s.default.Embed);g.scope=s.default.Scope.BLOCK_BLOT;var f=function(e){function t(e){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return m(t,e),i(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),b(t))}),new o.default).insert("\n",b(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,i,r){n<=0||(s.default.query(i,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(i,r):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),i,r),this.cache={})}},{key:"insertAt",value:function(e,n,i){if(null!=i)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);if(0!==n.length){var r=n.split("\n"),o=r.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;r.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,n){var i=this.children.head;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},r}}]),t}(s.default.Block);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,r.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:b(e.parent,t))}f.blotName="block",f.tagName="P",f.defaultChild="break",f.allowedChildren=[c.default,s.default.Embed,d.default],t.bubbleFormats=b,t.BlockEmbed=g,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(50);var o=f(n(2)),s=f(n(14)),l=f(n(8)),c=f(n(9)),d=f(n(0)),u=n(15),p=f(u),h=f(n(3)),m=f(n(10)),g=f(n(34));function f(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,m.default)("quill"),v=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=k(t,i),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var a=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=d.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var i=n.selection.lastRange,a=i&&0===i.length?i.index:void 0;w.call(n,(function(){return n.editor.update(null,t,a)}),e)}));var r=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+a+"<p><br></p></div>");this.setContents(r),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return r(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),m.default.level(e)}},{key:"find",value:function(e){return e.__quill||d.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var a=e.attrName||e.blotName;"string"==typeof a?this.register("formats/"+a,e,t):Object.keys(e).forEach((function(i){n.register(i,e[i],t)}))}else null==this.imports[e]||i||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?d.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),r(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,r=S(e,t,n),o=a(r,4);return e=o[0],t=o[1],n=o[3],w.call(this,(function(){return i.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var i=n.getSelection(!0),a=new o.default;if(null==i)return a;if(d.default.query(e,d.default.Scope.BLOCK))a=n.editor.formatLine(i.index,i.length,b({},e,t));else{if(0===i.length)return n.selection.format(e,t),a;a=n.editor.formatText(i.index,i.length,b({},e,t))}return n.setSelection(i,l.default.sources.SILENT),a}),i)}},{key:"formatLine",value:function(e,t,n,i,r){var o,s=this,l=S(e,t,n,i,r),c=a(l,4);return e=c[0],t=c[1],o=c[2],r=c[3],w.call(this,(function(){return s.editor.formatLine(e,t,o)}),r,e,0)}},{key:"formatText",value:function(e,t,n,i,r){var o,s=this,l=S(e,t,n,i,r),c=a(l,4);return e=c[0],t=c[1],o=c[2],r=c[3],w.call(this,(function(){return s.editor.formatText(e,t,o)}),r,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=S(e,t),i=a(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=S(e,t),i=a(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return a.editor.insertEmbed(t,n,i)}),r,t)}},{key:"insertText",value:function(e,t,n,i,r){var o,s=this,l=S(e,0,n,i,r),c=a(l,4);return e=c[0],o=c[2],r=c[3],w.call(this,(function(){return s.editor.insertText(e,t,o)}),r,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,r=S(e,t,n),o=a(r,4);return e=o[0],t=o[1],n=o[3],w.call(this,(function(){return i.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){e=new o.default(e);var n=t.getLength(),i=t.editor.deleteText(0,n),a=t.editor.applyDelta(e),r=a.ops[a.ops.length-1];return null!=r&&"string"==typeof r.insert&&"\n"===r.insert[r.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),a.delete(1)),i.compose(a)}),n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var r=S(t,n,i),o=a(r,4);t=o[0],n=o[1],i=o[3],this.selection.setRange(new u.Range(t,n),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new o.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return e=new o.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function k(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==v.DEFAULTS.theme){if(t.theme=v.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var n=(0,h.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=v.import("modules/"+t);return null==n?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},v.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function w(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new o.default;var a=null==n?null:this.getSelection(),r=this.editor.delta,s=e();if(null!=a&&(!0===n&&(n=a.index),null==i?a=_(a,s,t):0!==i&&(a=_(a,n,i,t)),this.setSelection(a,l.default.sources.SILENT)),s.length()>0){var c,d,u=[l.default.events.TEXT_CHANGE,s,r,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(u)),t!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,u)}return s}function S(e,t,n,a,r){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(r=a,a=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(r=a,a=n,n=t,t=0),"object"===(void 0===n?"undefined":i(n))?(o=n,r=a):"string"==typeof n&&(null!=a?o[n]=a:r=n),[e,t,o,r=r||l.default.sources.API]}function _(e,t,n,i){if(null==e)return null;var r=void 0,s=void 0;if(t instanceof o.default){var c=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,i!==l.default.sources.USER)})),d=a(c,2);r=d[0],s=d[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&i===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),h=a(p,2);r=h[0],s=h[1]}return new u.Range(r,s-r)}v.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},v.events=l.default.events,v.sources=l.default.sources,v.version="1.3.6",v.imports={delta:o.default,parchment:d.default,"core/module":c.default,"core/theme":g.default},t.expandConfig=k,t.overload=S,t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},r=s(n(7)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"formatAt",value:function(e,n,i,r){if(t.compare(this.statics.blotName,i)<0&&o.default.query(i,o.default.Scope.BLOT)){var s=this.isolate(e,n);r&&s.wrap(i,r)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,r)}},{key:"optimize",value:function(e){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var i=t.order.indexOf(e),a=t.order.indexOf(n);return i>=0||a>=0?i-a:e===n?0:e<n?-1:1}}]),t}(o.default.Inline);l.allowedChildren=[l,o.default.Embed,r.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=a)&&i.__esModule?i:{default:i}).default.Text);t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},r=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"emit",value:function(){s.log.apply(s,arguments),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach((function(t){var i=t.node,a=t.handler;(e.target===i||i.contains(e.target))&&a.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(r.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.quill=t,this.options=n};a.DEFAULTS={},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],a="warn";function r(e){if(i.indexOf(e)<=i.indexOf(a)){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console)[e].apply(t,r)}}function o(e){return i.reduce((function(t,n){return t[n]=r.bind(console,n,e),t}),{})}r.level=o.level=function(e){a=e},t.default=o},function(e,t,n){var i=Array.prototype.slice,a=n(52),r=n(53),o=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,d;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(r(e))return!!r(t)&&(e=i.call(e),t=i.call(t),o(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var u=a(e),p=a(t)}catch(e){return!1}if(u.length!=p.length)return!1;for(u.sort(),p.sort(),c=u.length-1;c>=0;c--)if(u[c]!=p[c])return!1;for(c=u.length-1;c>=0;c--)if(d=u[c],!o(e[d],t[d],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var a=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|a:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},o=u(n(2)),s=u(n(0)),l=u(n(4)),c=u(n(6)),d=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),t}(c.default);g.blotName="code",g.tagName="CODE";var f=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),a(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new o.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var a=this.descendant(d.default,this.length()-1),o=i(a,1)[0];null!=o&&o.deleteAt(o.length()-1,1),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,i,a){if(0!==n&&null!=s.default.query(i,s.default.Scope.BLOCK)&&(i!==this.statics.blotName||a!==this.statics.formats(this.domNode))){var r=this.newlineIndex(e);if(!(r<0||r>=e+n)){var o=this.newlineIndex(e,!0)+1,l=r-o+1,c=this.isolate(o,l),d=c.next;c.format(i,a),d instanceof t&&d.formatAt(0,e-o+n-l,i,a)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var a=this.descendant(d.default,e),r=i(a,2),o=r[0],s=r[1];o.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);f.blotName="code-block",f.tagName="PRE",f.TAB="  ",t.Code=g,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=b(n(2)),s=b(n(20)),l=b(n(0)),c=b(n(13)),d=b(n(24)),u=n(4),p=b(u),h=b(n(16)),m=b(n(21)),g=b(n(11)),f=b(n(3));function b(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return r(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,m.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,m.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)}),new o.default)}(e)).reduce((function(e,o){var c=o.retain||o.delete||o.insert.length||1,d=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var h=o.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),e>=r&&!h.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,h);var m=t.scroll.line(e),g=a(m,2),b=g[0],y=g[1],v=(0,f.default)({},(0,u.bubbleFormats)(b));if(b instanceof p.default){var k=b.descendant(l.default.Leaf,y),w=a(k,1)[0];v=(0,f.default)(v,(0,u.bubbleFormats)(w))}d=s.default.attributes.diff(v,d)||{}}else if("object"===i(o.insert)){var S=Object.keys(o.insert)[0];if(null==S)return e;t.scroll.insertAt(e,S,o.insert[S])}r+=c}return Object.keys(d).forEach((function(n){t.scroll.formatAt(e,c,n,d[n])})),e+c}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(a){if(null==n.scroll.whitelist||n.scroll.whitelist[a]){var r=n.scroll.lines(e,Math.max(t,1)),o=t;r.forEach((function(t){var r=t.length();if(t instanceof c.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+o)-s+1;t.formatAt(s,l,a,i[a])}else t.format(a,i[a]);o-=r}))}})),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,m.default)(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(a){n.scroll.formatAt(e,t,a,i[a])})),this.update((new o.default).retain(e).retain(t,(0,m.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((function(e){var t=a(e,1)[0];t instanceof p.default?n.push(t):t instanceof l.default.Leaf&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(l.default.Leaf,e,t));var r=[n,i].map((function(e){if(0===e.length)return{};for(var t=(0,u.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=k((0,u.bubbleFormats)(n),t)}return t}));return f.default.apply(f.default,r)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach((function(a){n.scroll.formatAt(e,t.length,a,i[a])})),this.update((new o.default).retain(e).insert(t,(0,m.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=this.scroll.line(e+t),r=a(i,2),s=r[0],l=r[1],d=0,u=new o.default;null!=s&&(d=s instanceof c.default?s.newlineIndex(l)-l+1:s.length()-l,u=s.delta().slice(l,l+d-1).insert("\n"));var p=this.getContents(e,t+d).diff((new o.default).insert(n).concat(u)),h=(new o.default).retain(e).concat(p);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var a=l.default.find(t[0].target),r=(0,u.bubbleFormats)(a),s=a.offset(this.scroll),c=t[0].oldValue.replace(d.default.CONTENTS,""),p=(new o.default).insert(c),h=(new o.default).insert(a.value()),m=(new o.default).retain(s).concat(p.diff(h,n));e=m.reduce((function(e,t){return t.insert?e.insert(t.insert,r):e.push(t)}),new o.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}]),e}();function k(e,t){return Object.keys(t).reduce((function(n,i){return null==e[i]?n:(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]],n)}),{})}t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(0)),o=c(n(21)),s=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,c(n(10)).default)("quill:selection"),h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.index=t,this.length=n},m=function(){function e(t,n){var i=this;u(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=r.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&i.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,a=n.startNode,r=n.startOffset,o=n.endNode,s=n.endOffset;i.setNativeRange(a,r,o,s)}})),this.update(l.default.sources.SILENT)}return a(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!r.default.query(e,r.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=r.default.find(n.start.node,!1);if(null==i)return;if(i instanceof r.default.Leaf){var a=i.split(n.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var a=void 0,r=this.scroll.leaf(e),o=i(r,2),s=o[0],l=o[1];if(null==s)return null;var c=s.position(l,!0),d=i(c,2);a=d[0],l=d[1];var u=document.createRange();if(t>0){u.setStart(a,l);var p=this.scroll.leaf(e+t),h=i(p,2);if(s=h[0],l=h[1],null==s)return null;var m=s.position(l,!0),g=i(m,2);return a=g[0],l=g[1],u.setEnd(a,l),u.getBoundingClientRect()}var f="left",b=void 0;return a instanceof Text?(l<a.data.length?(u.setStart(a,l),u.setEnd(a,l+1)):(u.setStart(a,l-1),u.setEnd(a,l),f="right"),b=u.getBoundingClientRect()):(b=s.domNode.getBoundingClientRect(),l>0&&(f="right")),{bottom:b.top+b.height,height:b.height,left:b[f],right:b[f],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var a=n.map((function(e){var n=i(e,2),a=n[0],o=n[1],s=r.default.find(a,!0),l=s.offset(t.scroll);return 0===o?l:s instanceof r.default.Container?l+s.length():l+s.index(a,o)})),o=Math.min(Math.max.apply(Math,d(a)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(d(a)));return new h(s,o-s)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],a=[],r=this.scroll.length();return n.forEach((function(e,n){e=Math.min(r-1,e);var o,s=t.scroll.leaf(e),l=i(s,2),c=l[0],d=l[1],u=c.position(d,0!==n),p=i(u,2);o=p[0],d=p[1],a.push(o,d)})),a.length<2&&(a=a.concat(a)),a}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var a=this.scroll.length()-1,r=this.scroll.line(Math.min(t.index,a)),o=i(r,1)[0],s=o;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,a));s=i(l,1)[0]}if(null!=o&&null!=s){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var r=document.getSelection();if(null!=r)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||a||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||i!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),r.removeAllRanges(),r.addRange(s)}}else r.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(n=t,t=!1),p.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,d(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),a=i(n,2),r=a[0],c=a[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var d;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var u,p=[l.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(d=this.emitter).emit.apply(d,[l.default.events.EDITOR_CHANGE].concat(p)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,p)}}}]),e}();function g(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"insertInto",value:function(e,n){0===e.children.length?function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((i=r)&&i.__esModule?i:{default:i}).default.Embed);o.blotName="break",o.tagName="BR",t.default=o},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),o=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return a(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=c(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var i=this.children.find(n),a=i[0],r=i[1];return null==e.blotName&&e(a)||null!=e.blotName&&a instanceof e?[a,r]:a instanceof t?a.descendant(e,r):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var a=[],r=i;return this.children.forEachAt(n,i,(function(n,i,o){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&a.push(n),n instanceof t&&(a=a.concat(n.descendants(e,i,r))),r-=o})),a},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,(function(e,t,a){e.formatAt(t,a,n,i)}))},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),a=i[0],r=i[1];if(a)a.insertAt(r,t,n);else{var o=null==n?s.create("text",t):s.create(t,n);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),a=i[0],r=i[1],o=[[this,e]];return a instanceof t?o.concat(a.path(r,n)):(null!=a&&o.push([a,r]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,i,a){e=e.split(i,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,i=[],a=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),a.push.apply(a,e.removedNodes))})),a.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),i.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var i=c(e);i.next==t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,t||void 0))}))},t}(o.default);function c(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(31),s=n(17),l=n(1),c=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new o.default(n.domNode),n}return a(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=l.query(e);n instanceof r.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===i.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,i){var a=e.prototype.wrap.call(this,n,i);return a instanceof t&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},t}(s.default);t.default=c},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t.scope=o.Scope.INLINE_BLOT,t}(r.default);t.default=s},function(e,t,n){var i=n(11),a=n(3),r={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=a(!0,{},t);for(var r in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[r]&&void 0===t[r]&&(i[r]=e[r]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,a){return i(e[a],t[a])||(n[a]=void 0===t[a]?null:t[a]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var i=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=r.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var a={};return t.attributes&&(a.attributes=t.attributes),"number"==typeof t.retain?a.retain=e:"string"==typeof t.insert?a.insert=t.insert.substr(n,e):a.insert=t.insert,a}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?r.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=r},function(e,n){var i=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,i,a;try{n=Map}catch(e){n=function(){}}try{i=Set}catch(e){i=function(){}}try{a=Promise}catch(e){a=function(){}}function r(o,l,c,d,u){"object"==typeof l&&(c=l.depth,d=l.prototype,u=l.includeNonEnumerable,l=l.circular);var p=[],h=[],m=void 0!==t;return void 0===l&&(l=!0),void 0===c&&(c=1/0),function o(c,g){if(null===c)return null;if(0===g)return c;var f,b;if("object"!=typeof c)return c;if(e(c,n))f=new n;else if(e(c,i))f=new i;else if(e(c,a))f=new a((function(e,t){c.then((function(t){e(o(t,g-1))}),(function(e){t(o(e,g-1))}))}));else if(r.__isArray(c))f=[];else if(r.__isRegExp(c))f=new RegExp(c.source,s(c)),c.lastIndex&&(f.lastIndex=c.lastIndex);else if(r.__isDate(c))f=new Date(c.getTime());else{if(m&&t.isBuffer(c))return f=new t(c.length),c.copy(f),f;e(c,Error)?f=Object.create(c):void 0===d?(b=Object.getPrototypeOf(c),f=Object.create(b)):(f=Object.create(d),b=d)}if(l){var y=p.indexOf(c);if(-1!=y)return h[y];p.push(c),h.push(f)}for(var v in e(c,n)&&c.forEach((function(e,t){var n=o(t,g-1),i=o(e,g-1);f.set(n,i)})),e(c,i)&&c.forEach((function(e){var t=o(e,g-1);f.add(t)})),c){var k;b&&(k=Object.getOwnPropertyDescriptor(b,v)),k&&null==k.set||(f[v]=o(c[v],g-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);for(v=0;v<w.length;v++){var S=w[v];(!(C=Object.getOwnPropertyDescriptor(c,S))||C.enumerable||u)&&(f[S]=o(c[S],g-1),C.enumerable||Object.defineProperty(f,S,{enumerable:!1}))}}if(u){var _=Object.getOwnPropertyNames(c);for(v=0;v<_.length;v++){var C,E=_[v];(C=Object.getOwnPropertyDescriptor(c,E))&&C.enumerable||(f[E]=o(c[E],g-1),Object.defineProperty(f,E,{enumerable:!1}))}}return f}(o,c)}function o(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=o,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},r.__getRegExpFlags=s,r}();"object"==typeof e&&e.exports&&(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},o=h(n(0)),s=h(n(8)),l=n(4),c=h(l),d=h(n(16)),u=h(n(13)),p=h(n(25));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){return e instanceof c.default||e instanceof l.BlockEmbed}var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var a=this.line(e),o=i(a,2),s=o[0],c=o[1],p=this.line(e+n),h=i(p,1)[0];if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=h&&s!==h&&c>0){if(s instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(s instanceof u.default){var m=s.newlineIndex(s.length(),!0);if(m>-1&&(s=s.split(m+1))===h)return void this.optimize()}else if(h instanceof u.default){var g=h.newlineIndex(0);g>-1&&h.split(g+1)}var f=h.children.head instanceof d.default?null:h.children.head;s.moveChildren(h,f),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,i,a){(null==this.whitelist||this.whitelist[i])&&(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,a),this.optimize())}},{key:"insertAt",value:function(e,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==i||null==o.default.query(n,o.default.Scope.BLOCK)){var a=o.default.create(this.statics.defaultChild);this.appendChild(a),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),a.insertAt(0,n,i)}else{var s=o.default.create(n,i);this.appendChild(s)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var i=o.default.create(this.statics.defaultChild);i.appendChild(e),e=i}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(m,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,i){var a=[],r=i;return t.children.forEachAt(n,i,(function(t,n,i){m(t)?a.push(t):t instanceof o.default.Container&&(a=a.concat(e(t,n,r))),r-=i})),a};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(o.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[c.default,l.BlockEmbed,p.default],t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=g(n(21)),s=g(n(11)),l=g(n(3)),c=g(n(2)),d=g(n(20)),u=g(n(0)),p=g(n(5)),h=g(n(10)),m=g(n(9));function g(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,h.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",v=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&i.options.bindings[t]&&i.addBinding(i.options.bindings[t])})),i.addBinding({key:t.keys.ENTER,shiftKey:null},C),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),i.addBinding({key:t.keys.DELETE},{collapsed:!0},S)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},S)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},_),i.addBinding({key:t.keys.DELETE},{collapsed:!1},_),i.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),i.listen(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"match",value:function(e,t){return t=A(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),r(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=A(e);if(null==i||null==i.key)return b.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),i=(0,l.default)(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var r=n.which||n.keyCode,o=(e.bindings[r]||[]).filter((function(e){return t.match(n,e)}));if(0!==o.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),d=a(c,2),p=d[0],h=d[1],m=e.quill.getLeaf(l.index),g=a(m,2),f=g[0],b=g[1],y=0===l.length?[f,b]:e.quill.getLeaf(l.index+l.length),v=a(y,2),k=v[0],w=v[1],S=f instanceof u.default.Text?f.value().slice(0,b):"",_=k instanceof u.default.Text?k.value().slice(w):"",C={collapsed:0===l.length,empty:0===l.length&&p.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:S,suffix:_};o.some((function(t){if(null!=t.collapsed&&t.collapsed!==C.collapsed)return!1;if(null!=t.empty&&t.empty!==C.empty)return!1;if(null!=t.offset&&t.offset!==C.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==C.format[e]})))return!1}else if("object"===i(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=C.format[e]:!1===t.format[e]?null==C.format[e]:(0,s.default)(t.format[e],C.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(C.prefix)||null!=t.suffix&&!t.suffix.test(C.suffix)||!0===t.handler.call(e,l,C))}))&&n.preventDefault()}}}}))}}]),t}(m.default);function k(e,t){var n,i=e===v.keys.LEFT?"prefix":"suffix";return f(n={key:e,shiftKey:t,altKey:null},i,/^$/),f(n,"handler",(function(n){var i=n.index;e===v.keys.RIGHT&&(i+=n.length+1);var r=this.quill.getLeaf(i);return!(a(r,1)[0]instanceof u.default.Embed&&(e===v.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index-1,p.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index+n.length+1,p.default.sources.USER),1))})),n}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),i=a(n,1)[0],r={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=a(o,1)[0];if(null!=s&&s.length()>1){var l=i.formats(),c=this.quill.getFormat(e.index-1,1);r=d.default.attributes.diff(l,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index-u,u,r,p.default.sources.USER),this.quill.focus()}}function S(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},r=0,o=this.quill.getLine(e.index),s=a(o,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=a(l,1)[0];if(c){var u=s.formats(),h=this.quill.getFormat(e.index,1);i=d.default.attributes.diff(u,h)||{},r=c.length()}}this.quill.deleteText(e.index,n,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+r-1,n,i,p.default.sources.USER)}}function _(e){var t=this.quill.getLines(e),n={};if(t.length>1){var i=t[0].formats(),a=t[t.length-1].formats();n=d.default.attributes.diff(a,i)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function C(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce((function(e,n){return u.default.query(n,u.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",i,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],p.default.sources.USER))}))}function E(e){return{key:v.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=u.default.query("code-block"),i=t.index,r=t.length,o=this.quill.scroll.descendant(n,i),s=a(o,2),l=s[0],c=s[1];if(null!=l){var d=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,m=l.newlineIndex(d+c+r),g=l.domNode.textContent.slice(h,m).split("\n");c=0,g.forEach((function(t,a){e?(l.insertAt(h+c,n.TAB),c+=n.TAB.length,0===a?i+=n.TAB.length:r+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(h+c,n.TAB.length),c-=n.TAB.length,0===a?i-=n.TAB.length:r-=n.TAB.length),c+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(i,r,p.default.sources.SILENT)}}}}function O(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],p.default.sources.USER)}}}function A(e){if("string"==typeof e||"number"==typeof e)return A({key:e});if("object"===(void 0===e?"undefined":i(e))&&(e=(0,o.default)(e,!1)),"string"==typeof e.key)if(null!=v.keys[e.key.toUpperCase()])e.key=v.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}v.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},v.DEFAULTS={bindings:{bold:O("bold"),italic:O("italic"),underline:O("underline"),indent:{key:v.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:v.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:v.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":E(!0),"outdent code-block":E(!1),"remove tab":{key:v.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:v.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:v.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:v.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=a(t,2),i=n[0],r=n[1],o=(0,l.default)({},i.formats(),{list:"checked"}),s=(new c.default).retain(e.index).insert("\n",o).retain(i.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:v.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),i=a(n,2),r=i[0],o=i[1],s=(new c.default).retain(e.index).insert("\n",t.format).retain(r.length()-o-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,i=this.quill.getLine(e.index),r=a(i,2),o=r[0],s=r[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var d=(new c.default).retain(e.index-s).delete(n+1).retain(o.length()-2-s).retain(1,{list:l});this.quill.updateContents(d,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,p.default.sources.SILENT)}},"code exit":{key:v.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=a(t,2),i=n[0],r=n[1],o=(new c.default).retain(e.index+i.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,p.default.sources.USER)}},"embed left":k(v.keys.LEFT,!1),"embed left shift":k(v.keys.LEFT,!0),"embed right":k(v.keys.RIGHT,!1),"embed right shift":k(v.keys.RIGHT,!0)}},t.default=v,t.SHORTKEY=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n(0)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=n,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"value",value:function(){}}]),r(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var i=this,r=0;null!=i&&i.statics.scope!==o.default.Scope.BLOCK_BLOT;)r+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(r,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),a=void 0,r=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var c=[e,n.start.offset,n.end.offset];a=c[0],r=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var d=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(a=this.next.domNode,this.next.insertAt(0,d),this.textNode.data=t.CONTENTS):(this.textNode.data=d,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var u=[r,l].map((function(e){return Math.max(0,Math.min(a.data.length,e-1))})),p=i(u,2);return r=p[0],l=p[1],{startNode:a,startOffset:r,endNode:a,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=n(4),r=o(a);function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default.Container);s.allowedChildren=[r.default,a.BlockEmbed,s],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=(i=r)&&i.__esModule?i:{default:i},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){var n=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(o.default.Attributor.Style),l=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),c=new s("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=s,t.ColorClass=l,t.ColorStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},o=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);function l(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}s.blotName="link",s.tagName="A",s.SANITIZED_URL="about:blank",s.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=s,t.sanitize=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(23)),o=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case r.default.keys.ENTER:n.togglePicker();break;case r.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return a(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case r.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case r.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var i=e.buildItem(n);t.appendChild(i),!0===n.selected&&e.selectItem(i)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var a=document.createEvent("Event");a.initEvent("change",!0,!0),this.select.dispatchEvent(a)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=b(n(0)),a=b(n(5)),r=n(4),o=b(r),s=b(n(16)),l=b(n(25)),c=b(n(24)),d=b(n(35)),u=b(n(6)),p=b(n(22)),h=b(n(7)),m=b(n(55)),g=b(n(42)),f=b(n(23));function b(e){return e&&e.__esModule?e:{default:e}}a.default.register({"blots/block":o.default,"blots/block/embed":r.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":d.default,"blots/inline":u.default,"blots/scroll":p.default,"blots/text":h.default,"modules/clipboard":m.default,"modules/history":g.default,"modules/keyboard":f.default}),i.default.register(o.default,s.default,c.default,u.default,p.default,h.default),t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,a){var r=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&a)r.wrap(n,a);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var o=i.create(this.statics.scope);r.wrap(o),o.format(n,a)}},e.prototype.insertAt=function(e,t,n){var a=null==n?i.create("text",t):i.create(t,n),r=this.split(e);this.parent.insertBefore(a,r)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=n(32),r=n(33),o=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=a.default.keys(this.domNode),s=r.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=o.query(t,o.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function r(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){r(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(r(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function r(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[r(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[r(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[r(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return i(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();a.DEFAULTS={modules:{}},a.themes={default:a},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=o(n(0)),r=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var s="\ufeff",l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(s),n.rightGuard=document.createTextNode(s),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,i=e.data.split(s).join("");if(e===this.leftGuard)if(this.prev instanceof r.default){var o=this.prev.length();this.prev.insertAt(o,i),t={startNode:this.prev.domNode,startOffset:o+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof r.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data=s,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}}))}}]),t}(a.default.Embed);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new r.default.Attributor.Attribute("align","align",o),l=new r.default.Attributor.Class("align","ql-align",o),c=new r.default.Attributor.Style("align","text-align",o);t.AlignAttribute=s,t.AlignClass=l,t.AlignStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(26),s=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},s=new r.default.Attributor.Attribute("direction","dir",o),l=new r.default.Attributor.Class("direction","ql-direction",o),c=new r.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=s,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=(i=r)&&i.__esModule?i:{default:i},s={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},l=new o.default.Attributor.Class("font","ql-font",s),c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(o.default.Attributor.Style))("font","font-family",s);t.FontStyle=c,t.FontClass=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=s},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=o(n(0)),r=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(r.default.events.EDITOR_CHANGE,(function(e,t,n,a){e!==r.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&a!==r.default.sources.USER?i.transform(t):i.record(t,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],r.default.sources.USER),this.ignoreChange=!1;var i=l(n[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var a=this.stack.undo.pop();n=n.compose(a.undo),e=a.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=a.default.query(e,a.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=h(n(3)),r=h(n(2)),o=h(n(8)),s=h(n(23)),l=h(n(34)),c=h(n(59)),d=h(n(60)),u=h(n(28)),p=h(n(61));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],v=[!1,"serif","monospace"],k=["1","2","3",!1],w=["small",!1,"large","huge"],S=function(e){function t(e,n){m(this,t);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),i}return f(t,e),i(t,[{key:"addModule",value:function(e){var n=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&C(e,b),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&C(e,y,"background"===n?"#ffffff":"#000000"),new c.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?C(e,v):e.classList.contains("ql-header")?C(e,k):e.classList.contains("ql-size")&&C(e,w)),new u.default(e)})),this.quill.on(o.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(l.default);S.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var i=e.quill.getSelection(!0);e.quill.updateContents((new r.default).retain(i.index).delete(i.length).insert({image:n.target.result}),o.default.sources.USER),e.quill.setSelection(i.index+1,o.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var _=function(e){function t(e,n){m(this,t);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return f(t,e),i(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,o.default.sources.USER)),this.quill.root.scrollTop=i;break;case"video":t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),n=t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var a=this.quill.getSelection(!0);if(null!=a){var r=a.index+a.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",o.default.sources.USER),this.quill.setSelection(r+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)}))}t.BaseTooltip=_,t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var a=n.length();if(e<a||t&&e===a&&(null==n.next||0!==n.next.length()))return[n,e];e-=a}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,a=this.find(e),r=a[0],o=e-a[1],s=this.iterator(r);(i=s())&&o<e+t;){var l=i.length();e>o?n(i,e-o,Math.min(t,o+l-e)):n(i,0,Math.min(l,e+t-o)),o+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();t.default=i},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return a(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,a){this.update(),e.prototype.formatAt.call(this,t,n,i,a)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var a=[].slice.call(this.observer.takeRecords());a.length>0;)t.push(a.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[o.DATA_KEY].mutations&&(e.domNode[o.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[o.DATA_KEY]&&null!=e.domNode[o.DATA_KEY].mutations&&(e instanceof r.default&&e.children.forEach(l),e.optimize(n))},c=t,d=0;c.length>0;d+=1){if(d>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=o.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(o.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=o.find(e,!1);s(t,!1),t instanceof r.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),a=(c=[].slice.call(this.observer.takeRecords())).slice();a.length>0;)t.push(a.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=o.find(e.target,!0);return null==t?null:null==t.domNode[o.DATA_KEY].mutations?(t.domNode[o.DATA_KEY].mutations=[e],t):(t.domNode[o.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==i&&null!=e.domNode[o.DATA_KEY]&&e.update(e.domNode[o.DATA_KEY].mutations||[],n)})),null!=this.domNode[o.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="DIV",t}(r.default);t.default=l},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var a=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach((function(e){e instanceof r.default||(e=e.wrap(t.blotName,!0)),a.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,i,a){null!=this.formats()[i]||o.query(i,o.Scope.ATTRIBUTE)?this.isolate(t,n).format(i,a):e.prototype.formatAt.call(this,t,n,i,a)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var a=this.next;a instanceof t&&a.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(i,a.formats())&&(a.moveChildren(this),a.remove())},t.blotName="inline",t.scope=o.Scope.INLINE_BLOT,t.tagName="SPAN",t}(r.default);t.default=s},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(n){var i=o.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,a){null!=o.query(i,o.Scope.BLOCK)?this.format(i,a):e.prototype.formatAt.call(this,t,n,i,a)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=o.query(n,o.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var a=this.split(t),r=o.create(n,i);a.parent.insertBefore(r,a)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="P",t}(r.default);t.default=s},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,a){0===t&&n===this.length()?this.format(i,a):e.prototype.formatAt.call(this,t,n,i,a)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=r},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return a(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=o.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=o.Scope.INLINE_BLOT,t}(r.default);t.default=s},function(e,t,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:a.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,a=arguments[1],r=0;r<i;r++)if(t=n[r],e.call(a,t,r,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1,i=1,a=0;function r(e,t,c){if(e==t)return e?[[a,e]]:[];(c<0||e.length<c)&&(c=null);var u=s(e,t),p=e.substring(0,u);u=l(e=e.substring(u),t=t.substring(u));var h=e.substring(e.length-u),m=function(e,t){var c;if(!e)return[[i,t]];if(!t)return[[n,e]];var d=e.length>t.length?e:t,u=e.length>t.length?t:e,p=d.indexOf(u);if(-1!=p)return c=[[i,d.substring(0,p)],[a,u],[i,d.substring(p+u.length)]],e.length>t.length&&(c[0][0]=c[2][0]=n),c;if(1==u.length)return[[n,e],[i,t]];var h=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function a(e,t,n){for(var i,a,r,o,c=e.substring(n,n+Math.floor(e.length/4)),d=-1,u="";-1!=(d=t.indexOf(c,d+1));){var p=s(e.substring(n),t.substring(d)),h=l(e.substring(0,n),t.substring(0,d));u.length<h+p&&(u=t.substring(d-h,d)+t.substring(d,d+p),i=e.substring(0,n-h),a=e.substring(n+p),r=t.substring(0,d-h),o=t.substring(d+p))}return 2*u.length>=e.length?[i,a,r,o,u]:null}var r,o,c,d,u,p=a(n,i,Math.ceil(n.length/4)),h=a(n,i,Math.ceil(n.length/2));if(!p&&!h)return null;r=h?p&&p[4].length>h[4].length?p:h:p,e.length>t.length?(o=r[0],c=r[1],d=r[2],u=r[3]):(d=r[0],u=r[1],o=r[2],c=r[3]);var m=r[4];return[o,c,d,u,m]}(e,t);if(h){var m=h[0],g=h[1],f=h[2],b=h[3],y=h[4],v=r(m,f),k=r(g,b);return v.concat([[a,y]],k)}return function(e,t){for(var a=e.length,r=t.length,s=Math.ceil((a+r)/2),l=s,c=2*s,d=new Array(c),u=new Array(c),p=0;p<c;p++)d[p]=-1,u[p]=-1;d[l+1]=0,u[l+1]=0;for(var h=a-r,m=h%2!=0,g=0,f=0,b=0,y=0,v=0;v<s;v++){for(var k=-v+g;k<=v-f;k+=2){for(var w=l+k,S=(A=k==-v||k!=v&&d[w-1]<d[w+1]?d[w+1]:d[w-1]+1)-k;A<a&&S<r&&e.charAt(A)==t.charAt(S);)A++,S++;if(d[w]=A,A>a)f+=2;else if(S>r)g+=2;else if(m&&(E=l+h-k)>=0&&E<c&&-1!=u[E]){var _=a-u[E];if(A>=_)return o(e,t,A,S)}}for(var C=-v+b;C<=v-y;C+=2){for(var E=l+C,O=(_=C==-v||C!=v&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1)-C;_<a&&O<r&&e.charAt(a-_-1)==t.charAt(r-O-1);)_++,O++;if(u[E]=_,_>a)y+=2;else if(O>r)b+=2;else if(!m&&(w=l+h-C)>=0&&w<c&&-1!=d[w]){var A=d[w];if(S=l+A-w,A>=(_=a-_))return o(e,t,A,S)}}}return[[n,e],[i,t]]}(e,t)}(e=e.substring(0,e.length-u),t=t.substring(0,t.length-u));return p&&m.unshift([a,p]),h&&m.push([a,h]),function e(t){t.push([a,""]);for(var r,o=0,c=0,d=0,u="",p="";o<t.length;)switch(t[o][0]){case i:d++,p+=t[o][1],o++;break;case n:c++,u+=t[o][1],o++;break;case a:c+d>1?(0!==c&&0!==d&&(0!==(r=s(p,u))&&(o-c-d>0&&t[o-c-d-1][0]==a?t[o-c-d-1][1]+=p.substring(0,r):(t.splice(0,0,[a,p.substring(0,r)]),o++),p=p.substring(r),u=u.substring(r)),0!==(r=l(p,u))&&(t[o][1]=p.substring(p.length-r)+t[o][1],p=p.substring(0,p.length-r),u=u.substring(0,u.length-r))),0===c?t.splice(o-d,c+d,[i,p]):0===d?t.splice(o-c,c+d,[n,u]):t.splice(o-c-d,c+d,[n,u],[i,p]),o=o-c-d+(c?1:0)+(d?1:0)+1):0!==o&&t[o-1][0]==a?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,d=0,c=0,u="",p=""}""===t[t.length-1][1]&&t.pop();var h=!1;for(o=1;o<t.length-1;)t[o-1][0]==a&&t[o+1][0]==a&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)==t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),h=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),h=!0)),o++;h&&e(t)}(m),null!=c&&(m=function(e,t){var i=function(e,t){if(0===t)return[a,e];for(var i=0,r=0;r<e.length;r++){var o=e[r];if(o[0]===n||o[0]===a){var s=i+o[1].length;if(t===s)return[r+1,e];if(t<s){e=e.slice();var l=t-i,c=[o[0],o[1].slice(0,l)],d=[o[0],o[1].slice(l)];return e.splice(r,1,c,d),[r+1,e]}i=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=i[1],o=i[0],s=r[o],l=r[o+1];if(null==s)return e;if(s[0]!==a)return e;if(null!=l&&s[1]+l[1]===l[1]+s[1])return r.splice(o,2,l,s),d(r,o,2);if(null!=l&&0===l[1].indexOf(s[1])){r.splice(o,2,[l[0],s[1]],[0,s[1]]);var c=l[1].slice(s[1].length);return c.length>0&&r.splice(o+2,0,[l[0],c]),d(r,o,3)}return e}(m,c)),m=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},o=2;o<e.length;o+=1)e[o-2][0]===a&&(s=e[o-2][1]).charCodeAt(s.length-1)>=55296&&s.charCodeAt(s.length-1)<=56319&&e[o-1][0]===n&&r(e[o-1][1])&&e[o][0]===i&&r(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));var s;if(!t)return e;var l=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&l.push(e[o]);return l}(m)}function o(e,t,n,i){var a=e.substring(0,n),o=t.substring(0,i),s=e.substring(n),l=t.substring(i),c=r(a,o),d=r(s,l);return c.concat(d)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),a=i,r=0;n<a;)e.substring(r,a)==t.substring(r,a)?r=n=a:i=a,a=Math.floor((i-n)/2+n);return a}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),a=i,r=0;n<a;)e.substring(e.length-a,e.length-r)==t.substring(t.length-a,t.length-r)?r=n=a:i=a,a=Math.floor((i-n)/2+n);return a}var c=r;function d(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var a=e[i],r=e[i+1];a[0]===r[1]&&e.splice(i,2,[a[0],a[1]+r[1]])}return e}c.INSERT=i,c.DELETE=n,c.EQUAL=a,e.exports=c},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:a).supported=i,t.unsupported=a},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),o.prototype.eventNames=function(){var e,t,a=[];if(0===this._eventsCount)return a;for(t in e=this._events)n.call(e,t)&&a.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e,t){var n=i?i+e:e,a=this._events[n];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var r=0,o=a.length,s=new Array(o);r<o;r++)s[r]=a[r].fn;return s},o.prototype.emit=function(e,t,n,a,r,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,a),!0;case 5:return d.fn.call(d.context,t,n,a,r),!0;case 6:return d.fn.call(d.context,t,n,a,r,o),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,a);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){var a=new r(t,n||this),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},o.prototype.once=function(e,t,n){var a=new r(t,n||this,!0),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new a:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new a:delete this._events[o]);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||r&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new a:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new a:delete this._events[t])):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=i,o.EventEmitter=o,void 0!==e&&(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=v(n(3)),s=v(n(2)),l=v(n(0)),c=v(n(5)),d=v(n(10)),u=v(n(9)),p=n(36),h=n(37),m=v(n(13)),g=n(26),f=n(38),b=n(39),y=n(40);function v(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(0,d.default)("quill:clipboard"),S="__ql-matcher",_=[[Node.TEXT_NODE,P],[Node.TEXT_NODE,N],["br",function(e,t){return T(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,function(e,t){var n={},i=e.style||{};return i.fontStyle&&"italic"===x(e).fontStyle&&(n.italic=!0),i.fontWeight&&(x(e).fontWeight.startsWith("bold")||parseInt(x(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=A(t,n)),parseFloat(i.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!T(t,"\n"))return t;for(var i=-1,a=e.parentNode;!a.classList.contains("ql-clipboard");)"list"===(l.default.query(a)||{}).blotName&&(i+=1),a=a.parentNode;return i<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:i}))}],["b",j.bind(j,"bold")],["i",j.bind(j,"italic")],["style",function(){return new s.default}]],C=[p.AlignAttribute,f.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),E=[p.AlignStyle,h.BackgroundStyle,g.ColorStyle,f.DirectionStyle,b.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),O=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],_.concat(i.options.matchers).forEach((function(e){var t=a(e,2),r=t[0],o=t[1];(n.matchVisual||o!==L)&&i.addMatcher(r,o)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[m.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,k({},m.default.blotName,t[m.default.blotName]))}var i=this.prepareMatching(),r=a(i,2),o=r[0],l=r[1],c=function e(t,n,i){return t.nodeType===t.TEXT_NODE?i.reduce((function(e,n){return n(t,e)}),new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(a,r){var o=e(r,n,i);return r.nodeType===t.ELEMENT_NODE&&(o=n.reduce((function(e,t){return t(r,e)}),o),o=(r[S]||[]).reduce((function(e,t){return t(r,e)}),o)),a.concat(o)}),new s.default):new s.default}(this.container,o,l);return T(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),w.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new s.default).retain(n.index),a=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,c.default.sources.USER),t.quill.setSelection(i.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=a,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(i){var r=a(i,2),o=r[0],s=r[1];switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(o),(function(e){e[S]=e[S]||[],e[S].push(s)}))}})),[t,n]}}]),t}(u.default);function A(e,t,n){return"object"===(void 0===t?"undefined":i(t))?Object.keys(t).reduce((function(e,n){return A(e,n,t[n])}),e):e.reduce((function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,(0,o.default)({},k({},t,n),i.attributes))}),new s.default)}function x(e){return e.nodeType!==Node.ELEMENT_NODE?{}:e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function T(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var a=e.ops[i];if("string"!=typeof a.insert)break;n=a.insert+n}return n.slice(-1*t.length)===t}function M(e){if(0===e.childNodes.length)return!1;var t=x(e);return["block","list-item"].indexOf(t.display)>-1}function j(e,t,n){return A(n,e,!0)}function I(e,t){var n=l.default.Attributor.Attribute.keys(e),i=l.default.Attributor.Class.keys(e),a=l.default.Attributor.Style.keys(e),r={};return n.concat(i).concat(a).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(r[n.attrName]=n.value(e),r[n.attrName])||(null==(n=C[t])||n.attrName!==t&&n.keyName!==t||(r[n.attrName]=n.value(e)||void 0),null==(n=E[t])||n.attrName!==t&&n.keyName!==t||(n=E[t],r[n.attrName]=n.value(e)||void 0))})),Object.keys(r).length>0&&(t=A(t,r)),t}function R(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var i={},a=n.value(e);null!=a&&(i[n.blotName]=a,t=(new s.default).insert(i,n.formats(e)))}else"function"==typeof n.formats&&(t=A(t,n.blotName,n.formats(e)));return t}function N(e,t){return T(t,"\n")||(M(e)||t.length()>0&&e.nextSibling&&M(e.nextSibling))&&t.insert("\n"),t}function L(e,t){if(M(e)&&null!=e.nextElementSibling&&!T(t,"\n\n")){var n=e.offsetHeight+parseFloat(x(e).marginTop)+parseFloat(x(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function P(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!x(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&M(e.parentNode)||null!=e.previousSibling&&M(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&M(e.parentNode)||null!=e.nextSibling&&M(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}O.DEFAULTS={matchers:[],matchVisual:!0},t.default=O,t.matchAttributor=I,t.matchBlot=R,t.matchNewline=N,t.matchSpacing=L,t.matchText=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},o=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);s.blotName="bold",s.tagName=["STRONG","B"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=d(n(2)),o=d(n(0)),s=d(n(5)),l=d(n(10)),c=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,l.default)("quill:toolbar"),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a,r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(r.options.container)){var o=document.createElement("div");g(o,r.options.container),e.container.parentNode.insertBefore(o,e.container),r.container=o}else"string"==typeof r.options.container?r.container=document.querySelector(r.options.container):r.container=r.options.container;return r.container instanceof HTMLElement?(r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},Object.keys(r.options.handlers).forEach((function(e){r.addHandler(e,r.options.handlers[e])})),[].forEach.call(r.container.querySelectorAll("button, select"),(function(e){r.attach(e)})),r.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&r.update(t)})),r.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=r.quill.selection.getRange(),t=i(e,1)[0];r.update(t)})),r):(a=p.error("Container required for toolbar",r.options),u(r,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void p.warn("ignoring attaching to disabled format",n,e);if(null==o.default.query(n))return void p.warn("ignoring attaching to nonexistent format",n,e)}var a="SELECT"===e.tagName?"change":"click";e.addEventListener(a,(function(a){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),a.preventDefault();t.quill.focus();var d=t.quill.selection.getRange(),u=i(d,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(o.default.query(n).prototype instanceof o.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new r.default).retain(u.index).delete(u.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(u)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var a=i(n,2),r=a[0],o=a[1];if("SELECT"===o.tagName){var s=void 0;if(null==e)s=null;else if(null==t[r])s=o.querySelector("option[selected]");else if(!Array.isArray(t[r])){var l=t[r];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+l+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var c=t[r]===o.getAttribute("value")||null!=t[r]&&t[r].toString()===o.getAttribute("value")||null==t[r]&&!o.getAttribute("value");o.classList.toggle("ql-active",c)}else o.classList.toggle("ql-active",null!=t[r])}))}}]),t}(c.default);function m(e,t,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=n&&(i.value=n),e.appendChild(i)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)m(n,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,n){var i=document.createElement("select");i.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}(n,t,i):m(n,t,i)}})),e.appendChild(n)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0);if("+1"===e||"-1"===e){var a="+1"===e?1:-1;"rtl"===n.direction&&(a*=-1),this.quill.format("indent",i+a,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=h,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildItem",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var i=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=a:i.style.fill=a)}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(28),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"selectItem",value:function(e,n){(function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((i=r)&&i.__esModule?i:{default:i}).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),r=0;if(a.right>i.right&&(r=i.right-a.right,this.root.style.left=t+r+"px"),a.left<i.left&&(r=i.left-a.left,this.root.style.left=t+r+"px"),a.bottom>i.bottom){var o=a.bottom-a.top,s=e.bottom-e.top+o;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return r}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=h(n(3)),s=h(n(8)),l=n(43),c=h(l),d=h(n(27)),u=n(15),p=h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,n){m(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-snow"),i}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new v(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(c.default);y.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){m(this,t);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,a){if(null!=t){if(0===t.length&&a===s.default.sources.USER){var r=e.quill.scroll.descendant(d.default,t.index),o=i(r,2),l=o[0],c=o[1];if(null!=l){e.linkRange=new u.Range(t.index-c,l.length());var p=d.default.formats(l.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=L(n(29)),a=n(36),r=n(38),o=n(64),s=L(n(65)),l=L(n(66)),c=n(67),d=L(c),u=n(37),p=n(26),h=n(39),m=n(40),g=L(n(56)),f=L(n(68)),b=L(n(27)),y=L(n(69)),v=L(n(70)),k=L(n(71)),w=L(n(72)),S=L(n(73)),_=n(13),C=L(_),E=L(n(74)),O=L(n(75)),A=L(n(57)),x=L(n(41)),T=L(n(28)),M=L(n(59)),j=L(n(60)),I=L(n(61)),R=L(n(108)),N=L(n(62));function L(e){return e&&e.__esModule?e:{default:e}}i.default.register({"attributors/attribute/direction":r.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":r.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":m.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":r.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":m.SizeStyle},!0),i.default.register({"formats/align":a.AlignClass,"formats/direction":r.DirectionClass,"formats/indent":o.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":m.SizeClass,"formats/blockquote":s.default,"formats/code-block":C.default,"formats/header":l.default,"formats/list":d.default,"formats/bold":g.default,"formats/code":_.Code,"formats/italic":f.default,"formats/link":b.default,"formats/script":y.default,"formats/strike":v.default,"formats/underline":k.default,"formats/image":w.default,"formats/video":S.default,"formats/list/item":c.ListItem,"modules/formula":E.default,"modules/syntax":O.default,"modules/toolbar":A.default,"themes/bubble":R.default,"themes/snow":N.default,"ui/icons":x.default,"ui/picker":T.default,"ui/icon-picker":j.default,"ui/color-picker":M.default,"ui/tooltip":I.default},!0),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},l=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var i=this.value(e)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(e),!0):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(4),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=a)&&i.__esModule?i:{default:i}).default);r.blotName="blockquote",r.tagName="blockquote",t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((i=r)&&i.__esModule?i:{default:i}).default);o.blotName="header",o.tagName=["H1","H2","H3","H4","H5","H6"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},r=l(n(0)),o=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"format",value:function(e,n){e!==h.blotName||n?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(r.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:a(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);p.blotName="list-item",p.tagName="LI";var h=function(e){function t(e){c(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=function(t){if(t.target.parentNode===e){var i=n.statics.formats(e),a=r.default.find(t.target);"checked"===i?a.format("list","unchecked"):"unchecked"===i&&a.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),n}return u(t,e),i(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",i=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof p)a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var i=null==n?this.length():n.offset(this),r=this.split(i);r.parent.insertBefore(e,r)}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=r.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);h.blotName="list",h.scope=r.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[p],t.ListItem=p,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(56),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=a)&&i.__esModule?i:{default:i}).default);r.blotName="italic",r.tagName=["EM","I"],t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((i=r)&&i.__esModule?i:{default:i}).default);o.blotName="script",o.tagName=["SUB","SUP"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(6),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=a)&&i.__esModule?i:{default:i}).default);r.blotName="strike",r.tagName="S",t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(6),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=a)&&i.__esModule?i:{default:i}).default);r.blotName="underline",r.tagName="U",t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},l=n(27),c=["alt","height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},o=n(4),s=n(27),l=(i=s)&&i.__esModule?i:{default:i},c=["height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(35)),r=s(n(5)),o=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,null,[{key:"create",value:function(e){var n=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(a.default);u.blotName="formula",u.className="ql-formula",u.tagName="SPAN";var p=function(e){function t(){l(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),i(t,null,[{key:"register",value:function(){r.default.register(u,!0)}}]),t}(o.default);t.FormulaBlot=u,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(0)),r=s(n(5)),o=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(n(13)).default);u.className="ql-syntax";var p=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),h=function(e){function t(e,n){l(this,t);var i=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var a=null;return i.quill.on(r.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(a),a=setTimeout((function(){i.highlight(),a=null}),i.options.interval)})),i.highlight(),i}return d(t,e),i(t,null,[{key:"register",value:function(){r.default.register(p,!0),r.default.register(u,!0)}}]),i(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(r.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(u).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(r.default.sources.SILENT),null!=t&&this.quill.setSelection(t,r.default.sources.SILENT)}}}]),t}(o.default);h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=u,t.CodeToken=p,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(3)),o=u(n(8)),s=n(43),l=u(s),c=n(15),d=u(n(41));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],f=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-bubble"),i}return m(t,e),a(t,[{key:"extendToolbar",value:function(e){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default)}}]),t}(l.default);f.DEFAULTS=(0,r.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){p(this,t);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,a){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&a===o.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var r=i.quill.getLines(t.index,t.length);if(1===r.length)i.position(i.quill.getBounds(t));else{var s=r[r.length-1],l=i.quill.getIndex(s),d=Math.min(s.length()-1,t.index+t.length-l),u=i.quill.getBounds(new c.Range(l,d));i.position(u)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return m(t,e),a(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),a=this.root.querySelector(".ql-tooltip-arrow");if(a.style.marginLeft="",0===n)return n;a.style.marginLeft=-1*n-a.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=b,t.default=f},function(e,t,n){e.exports=n(63)}]).default},e.exports=n()}).call(this,n("GmLw").Buffer)},"1d/y":function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var i=n("D57K"),a=n("ERkP"),r=n("OA+g"),o=n("vOOZ"),s=n("9NHN"),l=n("xlCj"),c=n("rk+4"),d=n("bO3R"),u=n("D6Vf"),p=n("BugA"),h=n("pgXu"),m=n("GUi3"),g=n("zR/0"),f=n("4lva"),b=n("lrqh"),y=n("6fbX"),v=n("D9EC"),k=n("XaD9"),w=n("Pe9T");const S=({className:e})=>a.createElement("svg",{viewBox:"0 0 68 68",width:"68",height:"68",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e},a.createElement("path",{d:"M12.965 22.107c3.688-6.33 10.104-10.96 17.954-11.942 4.466-.621 8.752.094 12.604 1.714.68.292 1.411.648 2.027.994.616.346 1.284.755 1.9 1.102a23.872 23.872 0 016.326 6.12c.467.686.987 1.435 1.391 2.175.35.676.701 1.352.998 1.965.872 2.073 1.552 4.305 1.808 6.678.831 6.42-1.022 12.61-4.636 17.478-.806 1.107-1.718 2.088-2.683 3.006-1.484 1.461-3.18 2.67-4.92 3.698-2.662 1.48-5.578 2.526-8.793 2.96-5.77.745-11.235-.6-15.809-3.338a18.989 18.989 0 01-3.523-2.65",stroke:"#8383EF"}),a.createElement("path",{d:"M31.985 18.544c.297-.034.594-.067.827-.048M34.467 18.401c1.995.051 3.841.443 5.592 1.238M40.791 19.995c.223.136.51.22.733.356.392.21.838.482 1.23.692 1.55 1.071 3.015 2.43 4.109 3.992.308.496.68.94.87 1.426.255.433.457.803.648 1.289a16.01 16.01 0 011.202 4.275c.565 4.163-.621 8.178-2.964 11.33-.53.66-1.124 1.374-1.707 1.972A16.193 16.193 0 0141.7 47.7c-1.24.718-2.64 1.246-4.083 1.594",stroke:"#00B18F"}),a.createElement("path",{d:"M34.82 41.18a7.096 7.096 0 01-4.615-.978c-.392-.21-.721-.473-1.05-.736-.16-.19-.436-.39-.595-.579-.85-1.012-1.497-2.302-1.657-3.785-.138-1.07-.044-2.12.274-3.033.021-.234.159-.457.233-.627.138-.224.223-.51.36-.734 1.05-1.851 2.937-3.22 5.26-3.552 1.305-.125 2.589-.016 3.66.486.17.073.393.21.563.283.17.073.392.21.562.283a6.731 6.731 0 011.837 1.801",stroke:"#1CA6D0"}),a.createElement("path",{d:"M8.764 63.084h18.649c3.813 0 6.933-3.139 6.933-6.974V32.818c0-3.835-3.12-6.973-6.933-6.973H8.764c-3.812 0-6.932 3.138-6.932 6.973V56.11c.07 3.836 3.12 6.974 6.932 6.974z",fill:"#F2F3FA",stroke:"#1C1E33"}),a.createElement("path",{d:"M18.123 54.297c6.012 0 10.885-4.902 10.885-10.949 0-6.046-4.873-10.948-10.884-10.948-6.012 0-10.885 4.902-10.885 10.948 0 6.047 4.873 10.949 10.884 10.949z",fill:"#AFE4F4",stroke:"#1C1E33"}),a.createElement("path",{d:"M8.14 47.672c-2.148-4.951-.277-10.67 4.091-13.529 1.872 0 4.16-.558 9.498 6.346a482.407 482.407 0 012.426 3.627c-1.11.627-2.218 1.045-2.218 1.045.97 2.093 3.05 5.37 1.317 7.88l-.832.42c-5.477 2.3-11.924-.21-14.281-5.789z",fill:"#fff",stroke:"#1C1E33"}),a.createElement("path",{d:"M19.302 36.096c-2.08-2.72-3.605-2.86-4.853-3.138-.277.14-.554.209-.901.348h-.07l-.831.419h-.07c-.277.14-.485.349-.762.488-1.248.907-2.288 2.022-3.05 3.347 0 .07-.07.07-.07.14-.138.209-.208.348-.277.558-.07.14-.139.209-.139.348-.069.14-.138.349-.208.558-.069.21-.138.349-.208.488-.069.14-.138.35-.138.489-.07.139-.07.348-.139.488-.07.14-.07.348-.139.488-.069.21-.069.349-.069.558-.07.14-.07.279-.07.418 0 .21 0 .419-.069.628V44.186c0 .348.07.697.14 1.045a11.92 11.92 0 001.039 3.138c.139.35.347.628.555.907.97 1.534 2.287 2.72 3.812 3.626.14-1.604-.623-3.696-1.317-5.37-1.109-2.72 1.317-3.068 2.565-1.882 1.248 1.116.902-.349.763-2.86-.07-3.556 2.773-5.509 4.506-6.694z",fill:"#1C1E33"}),a.createElement("path",{d:"M47.605 40.74H28.956c-3.813 0-6.932-3.139-6.932-6.974V10.474c0-3.835 3.12-6.973 6.932-6.973h18.649c3.813 0 6.932 3.138 6.932 6.973v23.292c0 3.835-3.12 6.974-6.932 6.974z",fill:"#fff",stroke:"#1C1E33"}),a.createElement("path",{d:"M38.246 31.954c-6.011 0-10.884-4.902-10.884-10.949s4.873-10.948 10.884-10.948c6.01 0 10.884 4.901 10.884 10.948 0 6.047-4.873 10.949-10.884 10.949z",fill:"#B9CDFF",stroke:"#1C1E33"}),a.createElement("path",{d:"M48.991 22.888c.971-5.37-2.149-10.46-7.07-12.204-1.803.419-4.16.419-7.835 8.438-.554 1.534-1.525 4.045-1.525 4.045 1.248.349 2.427.488 2.427.488-.486 2.232-1.803 5.928.485 7.95.277.07.555.14.901.21 5.893 1.045 11.578-2.93 12.617-8.927z",fill:"#fff",stroke:"#1C1E33"}),a.createElement("path",{d:"M45.04 24.84c1.178-2.37-1.179-3.975-1.872-2.58-.693 1.464-2.01 1.813-1.664.628.486-2.371 1.525-5.37-2.149-6.137-3.674-.697-3.882-3.975-2.98-6.555.831-.14 1.663-.21 2.564-.14 6.032.349 10.607 5.58 10.191 11.646-.208 3.417-1.941 6.346-4.506 8.229-.901-1.186-.416-3.487.416-5.09z",fill:"#1C1E33"}));var _=n("e12y"),C=n("ps/9"),E=n("ax6a");E.b.Z100,_.a.rem(C.t),E.b.Z200;const O={borderRadius:_.a.rem(C.t),boxShadow:E.b.Z300},A={position:"absolute",right:0,bottom:0,zIndex:C.q,margin:`0 ${_.a.rem(.5)} ${_.a.rem(1)} 0`,padding:_.a.rem(1.5),width:_.a.rem(27),borderRadius:_.a.rem(C.s),background:E.a.CoreNeutral0},x={display:"flex",margin:`0 0 ${_.a.rem(1)}`,alignItems:"center"},T={marginBottom:_.a.rem(.5),fontWeight:700},M={marginLeft:_.a.rem(.5),flex:"auto 0 0"},j={maxWidth:_.a.percent(100)},I={marginRight:_.a.rem(.5),marginLeft:_.a.rem(-.5),textTransform:"none",letterSpacing:"normal",fontSize:_.a.rem(.875)},R={marginRight:_.a.rem(-.5),marginLeft:_.a.rem(-.5),color:E.a.CoreNeutral50},N=_.a.stylesheet({container:[O,A],content:[x],title:[T],image:[M],buttonsContainer:[j],ctaButton:[I],dismissButton:[R]});var L=n("WIwS");const P={position:"absolute",right:0,bottom:0,zIndex:C.q,display:"flex",margin:`0 ${_.a.rem(.5)} ${_.a.rem(1)} 0`,padding:_.a.rem(2),width:_.a.rem(27),background:E.a.CoreNeutral0,alignItems:"flex-start"},D={width:_.a.rem(17)},F={marginTop:_.a.rem(1)},B={color:L.j,fontWeight:"normal"},H={display:"flex",flexDirection:"column",margin:`${_.a.rem(2)} 0 ${_.a.rem(-1)} ${_.a.rem(1)}`,width:_.a.rem(5),height:_.a.rem(5),borderRadius:_.a.percent(50),boxShadow:"0 0 48px 0 rgba(96, 101, 123, .08)",justifyContent:"center",alignItems:"center"},V={position:"fixed",right:_.a.rem(4)},U={marginRight:_.a.rem(-.5)},q={position:"fixed",right:_.a.rem(10),bottom:"auto"},W={$nest:{"@media (max-height: 767px)":Object.assign({},U),"@media (min-height: 768px)":Object.assign({},q)}},$={$nest:{"@media (min-height: 768px)":Object.assign(Object.assign({},q),{bottom:0})}},z={$nest:{"@media (min-height: 768px)":Object.assign(Object.assign({},q),{top:_.a.rem(24)})}},G={$nest:{"@media (min-height: 768px)":Object.assign(Object.assign({},q),{top:_.a.rem(28)})}},K={$nest:{"@media (min-height: 768px)":Object.assign(Object.assign({},q),{top:_.a.rem(32)})}},Y={$nest:{"@media (min-height: 768px)":Object.assign(Object.assign({},q),{bottom:0})}},X=_.a.stylesheet({wrapper:[{position:"relative",width:0,height:0}],container:[O,P],messageContainer:[D],buttonsContainer:[F],laterButton:[B],imageContainer:[H],baseTitle:[{fontWeight:"bold"}],closedSidebar:[V],fixedNotification:[W],outcomesPlagiarism:[$],engagement:[z],delivery:[G],gbVoxUphook:[K],proofit:[Y]}),Z=({upgradeViewModel:e,navigationViewModel:t,isSidebarOpen:n})=>a.createElement(o.a.div,{className:n.view(e=>e?"":X.closedSidebar)},t.popover.view(Object(r.flow)(b.g.map(n=>{const i={navigationViewModel:t,upgradeViewModel:e};switch(n){case f.a.ProofitHook:return a.createElement(te,Object.assign({},i,{key:"proofit"}));case f.a.PlagiarismHook:return a.createElement(oe,Object.assign({},i,{key:"plagiarism"}));case f.a.EngagementHook:return a.createElement(ne,Object.assign({},i,{key:"engagement"}));case f.a.DeliveryHook:return a.createElement(ie,Object.assign({},i,{key:"delivery"}));case f.a.GbVoxHook:return a.createElement(re,Object.assign({},i,{key:"GbVoxHook"}));case f.a.GbEnableVoxHook:return a.createElement(ae,Object.assign({},i,{key:"GbEnableVox"}));default:return Object(y.d)(n)}}),b.g.toNullable))),Q=({title:e,description:t,visible:n,children:i,footer:r,className:l,overlayType:c})=>a.createElement(o.a.div,{className:X.wrapper},a.createElement(u.b,{positionType:"fixed",visible:n,alignment:"none",overlayType:c}),n.view(n=>n&&a.createElement("div",Object.assign({key:"container","data-name":"freemium-notification"},Object(s.c)(X.container,l)),a.createElement("div",{className:X.messageContainer},a.createElement(p.j,{className:X.baseTitle},e),a.createElement(p.a,null,t),a.createElement(d.a.Group,{className:X.buttonsContainer},r)),a.createElement("div",{className:X.imageContainer},i)))),J=e=>{const{gnarSpec:t,pageId:n}=a.useContext(k.a.Context),i=e.navigationViewModel.popover.lens(l.a.create(b.g.exists(t=>t===e.type),e=>(Object(y.g)(!Boolean(e),"Positive values shouldn't be set through Option.clear lens"),b.g.none)));return a.createElement(Q,Object.assign({},e,{visible:i,className:e.className,overlayType:null!=e.overlayType?e.overlayType:"transparent",footer:a.createElement(a.Fragment,null,a.createElement(h.a,{size:"small",upgradeAction:()=>{t.getPremiumButtonClick(n,"goPremium",e.trackingPlacement),e.upgradeViewModel.openUpgradeUrl(e.place)}}),a.createElement(d.a.Ghost,{name:"later",className:X.laterButton,onClick:()=>{t.dismissUpHookButtonClick(n,e.trackingPlacement),i.set(!1)}},"Maybe later"))}))},ee=e=>{const t=e.navigationViewModel.popover.lens(l.a.create(b.g.exists(t=>t===e.type),e=>(Object(y.g)(!Boolean(e),"Positive values shouldn't be set through Option.clear lens"),b.g.none)));return a.createElement(o.a.div,{className:X.wrapper},a.createElement(u.b,{positionType:"fixed",visible:t,alignment:"none",overlayType:"transparent"}),t.view(n=>Boolean(n)&&a.createElement("div",Object.assign({key:"container"},Object(s.c)(N.container,X.gbVoxUphook)),a.createElement(p.a,{className:N.title},e.title),a.createElement("div",{className:N.content},a.createElement(p.a,null,e.description),a.createElement(S,{className:N.image})),a.createElement("div",{className:N.buttonsContainer},a.createElement(d.a.Ghost,{textPosition:"surrounded",name:"gb.hook.CTA",className:N.ctaButton,onClick:()=>Object(i.__awaiter)(void 0,void 0,void 0,(function*(){yield e.onCta(),t.set(!1)}))},e.cta),a.createElement(d.a.Flat,{name:"gb.hook.later",className:N.dismissButton,onClick:()=>{e.onLater(),t.set(!1)}},e.maybeLater)))))},te=e=>{const t=a.useContext(c.a.Context);return a.createElement(J,{type:f.a.ProofitHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:t.proofitTitle,description:t.proofitDescription,place:w.i.Place.DenaliDocument.editorDenaliProofit,className:Boolean(e.className)?e.className:X.proofit,overlayType:e.overlayType,trackingPlacement:"proofreadingTooltip"},a.createElement(se,null))},ne=e=>{const t=a.useContext(c.a.Context);return a.createElement(J,{type:f.a.EngagementHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:m.a.OutcomeId.fromOutcomeId(m.a.SpecialId.Engagement),description:t.freemiumNotifications.engagement,place:w.i.Place.DenaliDocument.editorDenaliEngagement,className:Boolean(e.className)?e.className:X.engagement,overlayType:e.overlayType,trackingPlacement:"engagementLensTooltip"},a.createElement(ce,null))},ie=e=>{const t=a.useContext(c.a.Context);return a.createElement(J,{type:f.a.DeliveryHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:m.a.OutcomeId.fromOutcomeId(m.a.SpecialId.Delivery),description:t.freemiumNotifications.delivery,place:w.i.Place.DenaliDocument.editorDenaliDelivery,className:Boolean(e.className)?e.className:X.delivery,overlayType:e.overlayType,trackingPlacement:"deliveryLensTooltip"},a.createElement(de,null))},ae=e=>{const t=a.useContext(c.a.Context).gbEnableVoxLensHook,{gnarSpec:n,pageId:i}=a.useContext(k.a.Context);return a.useEffect(()=>void n.gbEnableVoxNotificationShow(i)),a.createElement(ee,Object.assign({type:f.a.GbEnableVoxHook,onCta:()=>{n.gbEnableVoxButtonClick(i),e.upgradeViewModel.enableGBVoxHookLens()},onLater:()=>void n.dismissUpHookButtonClick(i,"gbVoxLensEnableHook")},t,e))},re=e=>{const t=a.useContext(c.a.Context).gbVoxLensUpHook,{gnarSpec:n,pageId:i}=a.useContext(k.a.Context);return a.createElement(ee,Object.assign({type:f.a.GbVoxHook,onCta:()=>g.a.mergeStatic(Object(v.g)(300),n.getGBButtonClick("gbVoxLens",t.cta,i,"gbVoxLens").catch(v.e)).pipe(g.a.first(),g.a.tap(()=>e.upgradeViewModel.fromGbVoxUpHookLens())).toPromise(),onLater:()=>void n.dismissUpHookButtonClick(i,"gbVoxLens")},t,e))},oe=e=>{const t=a.useContext(c.a.Context);return a.createElement(J,{type:f.a.PlagiarismHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:t.plagiarism.title,description:t.freemiumNotifications.plagiarism,place:w.i.Place.DenaliDocument.editorDenaliPlagiarism,className:Boolean(e.className)?e.className:X.outcomesPlagiarism,overlayType:e.overlayType,trackingPlacement:"plagiarismTooltip"},a.createElement(le,null))},se=()=>a.createElement("svg",{width:"78",height:"79",viewBox:"0 0 78 79"},a.createElement("defs",null,a.createElement("path",{d:"M30.333 58.933c16.753 0 30.334-13.192 30.334-29.466S47.086 0 30.333 0C13.581 0 0 13.193 0 29.467s13.58 29.466 30.333 29.466z",id:"profproofreadersimg-path"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(2 2)"},a.createElement("path",{d:"M6.33 44.008c2.564 7.611 16.385 17.525 29.127 17.525C51.773 61.533 65 48.53 65 32.488 65 16.447 48.648 4.311 36.516 2.983c-8.395-.919-11.41-.345-18.512 3.497-4.216 2.28-7.884 6.083-10.256 9.605-2.569 3.814-4.281 11.482-4.281 16.403 0 3.514 1.719 8.403 2.863 11.52z",fill:"#B8D3FA"}),a.createElement("mask",{id:"profproofreadersimg-mask",fill:"#fff"},a.createElement("use",{xlinkHref:"#profproofreadersimg-path"})),a.createElement("path",{stroke:"#555C6A",strokeWidth:"2",d:"M30.333 59.933C13.035 59.933-1 46.3-1 29.467-1 12.634 13.035-1 30.333-1c17.299 0 31.334 13.634 31.334 30.467S47.632 59.933 30.333 59.933z"}),a.createElement("path",{d:"M29.843 47.74L31 51.519 26.81 67c-8.664-1.11-15.147-2.6-19.45-4.473 0 0-1.308-.306-1.36-3.263 0 0 .47-5.809 4.499-11.621 0 0 1.15-1.53 3.87-2.55l8.696-3.687a5.183 5.183 0 0 0 1.345-1.17c.041-.053.099-.131.172-.236l-.172 10.523 5.433-2.783zm24.59-.228c4.09 5.858 4.568 11.71 4.567 11.71-.053 2.98-1.38 3.29-1.38 3.29-2.61 1.126-9.133 2.622-19.573 4.488L34 51.523l1.24-3.84 4.908 2.836L40.366 40c.281.357.518.602.71.735.086.097.352.277.437.37.193.145.407.288.637.431 2.902 1.806 8.352 3.408 8.352 3.408 2.763 1.027 3.931 2.568 3.931 2.568zM40 36.076V37c0 2.5-4.5 8-7.688 8-3.188 0-7.312-5.5-7.263-8 .016-.5.016-.643 0-.924-1.271-1.628-2.286-2.805-2.845-4.803-1.451 0-1.82-5.804-1.451-6.707-.043-.098-.078-3.484.35-7.296 0 0 .204-7.073 7.397-8.27 1.005 1.073 9.547-2.5 9.547 3.5C45 9 44.453 24.284 44.358 24.566c.31.478 0 6.707-1.695 6.707-.562 1.537-1.64 3.463-2.663 4.803z",fill:"#FFF",mask:"url(#profproofreadersimg-mask)"})),a.createElement("g",{transform:"translate(43 44)"},a.createElement("ellipse",{stroke:"#555C6A",strokeWidth:"2",fill:"#FFF",strokeLinecap:"square",cx:"15.714",cy:"15.963",rx:"16.714",ry:"16.963"}),a.createElement("ellipse",{fill:"#68DEC2",style:{mixBlendMode:"multiply"},cx:"18.571",cy:"17.414",rx:"16.429",ry:"16.688"}),a.createElement("path",{stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.857 17.274l5.501 5.724L25 10.884"})))),le=()=>a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32"},a.createElement("defs",null,a.createElement("rect",{id:"plariarismoutcomesimg-rect",width:"22",height:"22",rx:"4"}),a.createElement("path",{id:"plariarismoutcomesimg-path",d:"M22 10v8a4 4 0 0 1-4 4h-8v-8a4 4 0 0 1 4-4h8z"}),a.createElement("filter",{id:"plariarismoutcomesimg-filter",width:"350%",height:"350%",x:"-125%",y:"-125%",filterUnits:"objectBoundingBox"},a.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}))),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("use",{fill:"#5CDAE6",transform:"translate(10 10)",xlinkHref:"#plariarismoutcomesimg-rect"}),a.createElement("mask",{id:"plariarismoutcomesimg-mask",fill:"#fff"},a.createElement("use",{xlinkHref:"#plariarismoutcomesimg-rect"})),a.createElement("use",{fill:"#99F6FF",xlinkHref:"#plariarismoutcomesimg-rect"}),a.createElement("g",{mask:"url(#plariarismoutcomesimg-mask)"},a.createElement("use",{fill:"#000",filter:"url(#plariarismoutcomesimg-filter)",xlinkHref:"#plariarismoutcomesimg-path"}),a.createElement("use",{fill:"#79E8F2",xlinkHref:"#plariarismoutcomesimg-path"})))),ce=()=>a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32"},a.createElement("defs",null,a.createElement("circle",{id:"engagementimg-circle",cx:"16",cy:"16",r:"16"}),a.createElement("path",{id:"engagementimg-path",d:"M8 16a10 10 0 1 1 16 0 10 10 0 1 1-16 0zm0 0a9.98 9.98 0 0 0 16 0 9.98 9.98 0 0 0-16 0z"}),a.createElement("filter",{id:"engagementimg-filter",width:"250%",height:"193.8%",x:"-75%",y:"-46.9%",filterUnits:"objectBoundingBox"},a.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}))),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("mask",{id:"engagementimg-mask",fill:"#fff"},a.createElement("use",{xlinkHref:"#engagementimg-circle"})),a.createElement("use",{fill:"#B9F9EA",xlinkHref:"#engagementimg-circle"}),a.createElement("g",{mask:"url(#engagementimg-mask)"},a.createElement("use",{fill:"#000",filter:"url(#engagementimg-filter)",xlinkHref:"#engagementimg-path"}),a.createElement("use",{fill:"#0FDCAC",xlinkHref:"#engagementimg-path"})),a.createElement("path",{fill:"#C0F9EC",d:"M8 16a9.98 9.98 0 0 1 16 0 9.98 9.98 0 0 1-16 0z",mask:"url(#engagementimg-mask)"}))),de=()=>a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 42 32"},a.createElement("defs",null,a.createElement("ellipse",{id:"deliveryimg-ellipse",cx:"16",cy:"20",rx:"11.97",ry:"12"}),a.createElement("filter",{id:"deliveryimg-filter1",width:"225.3%",height:"225%",x:"-62.7%",y:"-62.5%",filterUnits:"objectBoundingBox"},a.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.934440559 0"})),a.createElement("circle",{id:"deliveryimg-circle",cx:"16",cy:"24",r:"8"}),a.createElement("filter",{id:"deliveryimg-filter2",width:"287.5%",height:"287.5%",x:"-93.8%",y:"-93.8%",filterUnits:"objectBoundingBox"},a.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}))),a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(5 2)"},a.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"#E8C7FF"}),a.createElement("use",{fill:"#000",filter:"url(#deliveryimg-filter1)",xlinkHref:"#deliveryimg-ellipse"}),a.createElement("use",{fill:"#D39DFA",xlinkHref:"#deliveryimg-ellipse"}),a.createElement("g",null,a.createElement("use",{fill:"#000",filter:"url(#deliveryimg-filter2)",xlinkHref:"#deliveryimg-circle"}),a.createElement("use",{fill:"#BC78ED",xlinkHref:"#deliveryimg-circle"}))))},"1dIs":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return y}));var i=n("6fbX"),a=n("1w6p"),r=n("bZeK"),o=n("dE97"),s=n("zR/0"),l=n("GUi3"),c=n("Y7d8");function d(e,t,n,r){const d=t.pipe(s.a.filter(e=>e!==l.a.SpecialId.Premium),s.a.map(e=>e===l.a.SpecialId.Priority?c.a.LensMode.priority:c.a.LensMode.all),s.a.distinctUntilChanged());return a.a.fromSideEffect(t=>{switch(t.kind){case c.a.Action.Kind.select:e.events.next({type:"switchToLens",id:t.selected===c.a.LensMode.priority?l.a.SpecialId.Priority:l.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:o.b.sidebar});break;default:Object(i.d)(t.kind)}},d.pipe(s.a.map(e=>({ord:"priority"===n?c.a.Order.priorityFirst:c.a.Order.allFirst,layoutMode:r,lensMode:e}))))}function u(e,t,n){const r=e.lensMode.pipe(s.a.map(e=>"all"===e?c.a.LensMode.all:c.a.LensMode.priority),s.a.distinctUntilChanged());return a.a.fromSideEffect(t=>{switch(t.kind){case c.a.Action.Kind.select:e.lensModeEvents.next({type:"changeLensMode",lensMode:t.selected});break;default:Object(i.d)(t.kind)}},r.pipe(s.a.map(e=>({ord:"priority"===t?c.a.Order.priorityFirst:c.a.Order.allFirst,layoutMode:n,lensMode:e}))))}var p=n("kfbT");function h(e,t,n,i,o,l){return a.a.composeKnot({info:r.a.createLensCounterFlow(t,t.pipe(s.a.switchMap(e=>o.getLens(e).view("count"))),l),switcher:d(e,t,n,i)})}function m(e,t,n,i,o,l){return a.a.composeKnot({info:r.a.createLensCounterFlow(t,t.pipe(s.a.switchMap(e=>o.getLens(e).view("count"))),l),switcher:u(e,n,i)})}function g(e,t){return a.a.fromSideEffect(t=>{switch(t.kind){case p.a.LensFilter.Action.Kind.switchBack:e.events.next({type:"switchToAll",focusFirst:!0,actionSource:o.b.sidebar});break;default:Object(i.d)(t.kind)}},t.pipe(s.a.map(e=>({lensTitle:e}))))}function f(e,t,n,i,o){return a.a.composeKnot({counter:r.a.createLensCounterFlow(t,t.pipe(s.a.switchMap(e=>i.getLens(e).view("count"))),o),filter:g(e,n)})}function b(e,t,n,i,r,o,s){return a.a.composeKnot({info:f(e,t,s,r,o),switcher:u(e,n,i)})}function y(e,t,n,i,r,o,l,c){return a.a.composeUnion({withFilter:b(e,t,n,i,r,o,l),withoutFilter:m(e,t,n,i,r,o)},()=>c.pipe(s.a.map(e=>({kind:e?"withFilter":"withoutFilter"}))))}},"1nqz":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("ERkP"),a=n("vOOZ"),r=n("6fbX"),o=n("ax6a"),s=n("rmLU"),l=n("PrA7"),c=n("e12y"),d=n("rk+4"),u=n("bO3R"),p=n("Z5Rd"),h=n("o79T");const m={unauthorizedError:(e,t)=>i.createElement(g.UnauthorizedError,{action:t("gotoLogin")}),offline:(e,t)=>i.createElement(g.Offline,{reconnect:t("reconnect"),reconnectTime:e.args.reconnectTime}),serverError:()=>i.createElement(g.ServerError,null),connectionWSError:()=>i.createElement(g.ConnectionWSError,null),clientConnectionError:()=>i.createElement(g.ClientConnectionError,null),documentNotFoundError:(e,t)=>i.createElement(g.DocumentNotFoundError,{navigateToDocuments:t("navigateToDocuments")}),selfUpdate:()=>i.createElement(g.SelfUpdate,null),desktopHardUpdate:(e,t)=>i.createElement(g.DesktopHardUpdate,{reloadMethod:t("reloadMethod")}),desktopHardDownload:(e,t)=>i.createElement(g.DesktopHardDownload,{downloadMethod:t("downloadMethod")}),slowNetwork:()=>i.createElement(g.SlowNetworkError,null),checkingIsDown:()=>i.createElement(g.CheckingIsDownError,null),error:()=>i.createElement(g.Error,null),paymentSuccess:()=>i.createElement(g.PaymentSuccessMessage,null),paymentError:()=>i.createElement(g.PaymentErrorMessage,null),proofitPaymentDeclinedError:(e,t)=>i.createElement(g.ProofitPaymentDeclinedError,{paymentMethod:e.args.paymentMethod,navigateToSubscription:t("navigateToSubscription")}),proofitEmptyDocumentError:()=>i.createElement(g.ProofitEmptyDocumentError,null),proofitComplexInternalStructureError:(e,t)=>i.createElement(g.ProofitComplexInternalStructureError,{navigateToDocuments:t("navigateToDocuments")}),proofitDocumentProofreadError:(e,t)=>i.createElement(g.ProofitDocumentProofreadError,{navigateToDocuments:t("navigateToDocuments")}),copyToClipboardFailed:()=>i.createElement(g.CopyToClipboardError,null),proofitCancelled:()=>i.createElement(g.ProofitCancelled,null),proofitCompleted:e=>i.createElement(g.ProofitCompleted,{documentTitle:e.args.documentTitle,documentDownloadUrl:e.args.documentDownloadUrl,email:e.args.email}),denaliDocumentUploaded:(e,t)=>i.createElement(g.DenaliDocumentUploaded,{navigateToDocuments:t("navigateToDocuments")}),denaliFormattingCompatibility:()=>i.createElement(g.DenaliFormattingCompatibility,null),alertsNothingFound:()=>i.createElement(g.AlertsNothingFound,null),desktopSoftUpdate:(e,t)=>i.createElement(g.DesktopSoftUpdate,{reloadMethod:t("reloadMethod")}),desktopSoftDownload:(e,t)=>i.createElement(g.DesktopSoftDownload,{downloadMethod:t("downloadMethod")}),switchToDenali:()=>i.createElement(g.Generic,{type:v.switchToDenali}),feedbackSend:()=>i.createElement(g.Generic,{type:v.feedbackSend}),statisticsError:()=>i.createElement(g.Generic,{type:v.statisticsError}),copySuccess:e=>i.createElement(g.Generic,{type:"referenceCopied"===e.args.copyType?v.referenceCopied:v.documentCopied}),downloadDocumentNotFoundError:()=>i.createElement(g.DownloadDocumentNotFoundError,null),isTemporaryDownloadError:()=>i.createElement(g.Generic,{type:v.isTemporaryDownloadError}),clipboardNotSupported:e=>i.createElement(g.ClipboardNotSupported,{hotkey:e.args.hotkey}),documentSizeExceeded:e=>i.createElement(g.DocumentSizeExceeded,{os:e.args.os,officeAddinUrl:e.args.officeAddinUrl}),documentUploaded:(e,t)=>i.createElement(g.DocumentUploaded,{navigateToDocument:t("navigateToDocument")}),documentTypeUnsupported:()=>i.createElement(g.DocumentTypeUnsupported,null),trackedChangesIsUnsupported:e=>i.createElement(g.DocumentWithTrackedChangesIsUnsupported,{link:e.args.link}),documentUploadGeneralError:()=>i.createElement(g.Generic,{type:v.documentUploadGeneralError}),documentIsEmpty:()=>i.createElement(g.Generic,{type:v.documentIsEmpty}),noFileToUpload:()=>i.createElement(g.Generic,{type:v.noFileToUpload}),oneDocumentIsAllowed:()=>i.createElement(g.Generic,{type:v.oneDocumentIsAllowed})};var g;!function(e){e.UnauthorizedError=({action:e})=>i.createElement(p.b.TitledContent,{title:"You've Been Logged Out"},"This occurs due to inactivity or logging out on another device.",i.createElement("br",null),i.createElement(h.a,{name:"login",className:y.footerLink,onClick:e},"Log Back In")),e.Offline=({reconnect:e,reconnectTime:t})=>i.createElement(p.b.TitledContent,{title:"Lost Connection"},"Your Internet session was interrupted. We’ll try to reconnect you in"," ",i.createElement(a.a.span,null,t.view(e=>e))," seconds.",i.createElement("br",null),i.createElement(h.a,{name:"reconnect",className:y.footerLink,onClick:e},"Reconnect Now")),e.ServerError=()=>{const t=e.withReload(h.a,"UnknownConnectionError");return i.createElement(p.b.TitledContent,{title:"Sorry, Unexpected Issue"},"A small error has occurred, causing an interruption of service.",i.createElement("br",null),i.createElement(t,{name:"reload-page",className:y.footerLink},"Reload This Page"))},e.ConnectionWSError=()=>{const e=i.useContext(s.a.Context);return i.createElement(p.b.TitledContent,{title:"Can’t Connect to Grammarly"},"Your network configuration currently blocks Grammarly services on this computer. ",i.createElement("br",null),i.createElement(h.a,{name:"troubleshoot",className:y.footerLink,href:e.support.diagnosticTestPath,target:"_blank"},"Troubleshoot This Issue"))},e.ClientConnectionError=()=>{const t=e.withReload(h.a,"ClientConnectionErrorNotification");return i.createElement(p.b.TitledContent,{title:"Your Internet Connection Is Unstable"},"Please check your network stability and then reload this page.",i.createElement("br",null),i.createElement(t,{name:"reload-page",className:y.footerLink},"Reload Page Now"))},e.DocumentNotFoundError=({navigateToDocuments:e})=>i.createElement(p.b.TitledContent,{title:"Can’t find this document"},"It looks like this document was removed or URL is incorrect.",i.createElement("br",null),i.createElement(h.a,{name:"goto-docs",className:y.footerLink,onClick:e},"Go to your documents")),e.SelfUpdate=()=>{const t=i.useContext(d.a.Context),n=e.withReload(u.a,"SelfUpdateBlocker");return i.createElement(p.b.TitledContent,{title:"Grammarly needs to refresh this page"},"Don't worry - your documents have already been saved. Please"," ",i.createElement(n,{name:"reload-page",className:y.link},"reload")," ","the page ",t.hotkeyLabelR,".")},e.DesktopHardUpdate=({reloadMethod:e})=>{const t=i.useContext(d.a.Context).desktopUpdate;return i.createElement(p.b.TitledContent,{title:t.hardTitle},t.hard,i.createElement("br",null),i.createElement(h.a,{name:"reload-desktop",className:y.footerLink,onClick:e},t.reload))},e.DesktopHardDownload=({downloadMethod:e})=>{const t=i.useContext(d.a.Context).desktopUpdate;return i.createElement(p.b.TitledContent,{title:t.hardTitle},t.hard,i.createElement("br",null),i.createElement(h.a,{name:"download-desktop",className:y.footerLink,onClick:e},t.download))},e.SlowNetworkError=()=>i.createElement(p.b.TitledContent,{title:"Your Internet Connection Is Unstable"},"Grammarly may work slower than normal."),e.CheckingIsDownError=()=>i.createElement(p.b.TitledContent,{title:"Text Checking Is Temporarily Unavailable"},"Grammarly is unable to check your text for errors at this time. We’re working to resolve the issue. Please check back soon."),e.Error=()=>{const e=i.useContext(s.a.Context);return i.createElement(p.b.TitledContent,{title:"Sorry, Something Went Wrong"},"Please try again later or"," ",i.createElement(u.a,{name:"support",className:y.link,href:e.support.login,target:"_blank"},"contact support")," ","now to report the issue.")},e.ProofitPaymentDeclinedError=({paymentMethod:e,navigateToSubscription:t})=>{const n=i.useContext(d.a.Context).proofitPayment,a=function(e,t,n){switch(e){case"creditCard":return t;case"payPal":return n;default:const i=`Unknown payment method: ${e}`;throw l.Monitoring.Logging.getLogger("ProofitView").warn(i),new Error(i)}}(e,n.creditCard,n.payPal);return i.createElement(p.b.TitledContent,{title:"Order can not be processed"},i.createElement("div",null,a),"Please update your credit card information in the Manage Subscription section.",i.createElement("br",null),i.createElement(h.a,{name:"manage-subscription",className:y.footerLink,onClick:t},"Go to Manage Subscription"))},e.PaymentSuccessMessage=()=>{const e=i.useContext(d.a.Context).proofitOrderModal.card.paymentSuccess;return i.createElement(p.b.TitledContent,{title:e.title},i.createElement("div",null,e.message))},e.PaymentErrorMessage=()=>{const e=i.useContext(d.a.Context).proofitOrderModal.card.paymentError,t=i.useContext(s.a.Context);return i.createElement(p.b.TitledContent,{title:e.title},i.createElement("div",null,e.message(t.support.login)))},e.ProofitEmptyDocumentError=()=>i.createElement(p.b.TitledContent,{title:"Document is empty"},"The document you are trying to submit is empty. Please write something and try again."),e.ProofitDocumentProofreadError=({navigateToDocuments:e})=>i.createElement(p.b.TitledContent,{title:"This document is a recent submission"},"The text you are trying to send for human proofreading was reviewed by our team. Please edit your text or select another document before you re-submit.",i.createElement("br",null),i.createElement(h.a,{name:"goto-docs",className:y.footerLink,onClick:e},"Go to your documents")),e.ProofitComplexInternalStructureError=({navigateToDocuments:e})=>i.createElement(p.b.TitledContent,{title:"This document cannot be corrected"},"The text you are trying to send for human proofreading has complex internal structure. Please edit your text (e.g., remove significantly long tables) or select another document.",i.createElement("br",null),i.createElement(h.a,{name:"goto-docs",className:y.footerLink,onClick:e},"Go to your documents")),e.withReload=(e,t)=>(class extends i.Component{render(){return i.createElement(e,Object.assign({},this.props,{onClick:()=>{try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}}))}}),e.CopyToClipboardError=()=>{const e=i.useContext(d.a.Context);return i.createElement(p.b.TitledContent,{title:"Copying Is Not Supported by Your Browser"},"Please use ",e.hotkeyLabelC," instead.")},e.ProofitCancelled=()=>{const e=i.useContext(s.a.Context);return i.createElement(p.b.TitledContent,{title:"Your order has been cancelled"},"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",i.createElement(h.a,{name:"support",className:y.footerLink,href:e.support.login,target:"_blank"},"Grammarly support"))},e.ProofitCompleted=({documentTitle:e,documentDownloadUrl:t,email:n})=>i.createElement(p.b.TitledContent,{title:`${e||"Your"} document has been proofread`},"A version of this document with proofreaders’ marks has been emailed to you at ",n," in .docx format.",i.createElement("br",null),i.createElement(h.a,{name:"download",className:y.footerLink,href:t,target:"_blank"},"Download .docx")),e.DenaliFormattingCompatibility=()=>{const e=i.useContext(d.a.Context),t=i.useContext(s.a.Context);return i.createElement(p.b.TitledContent,{title:e.rtfCompatibilityModeNotificationTitle},"To preserve your document’s formatting, Grammarly’s formatting tools are temporarily not available.",i.createElement("br",null),i.createElement(h.a,{name:"support",className:y.footerLink,href:t.support.rtfCompatibilityUrl,target:"_blank"},"Learn more"))},e.DenaliDocumentUploaded=({navigateToDocuments:e})=>{const{denaliDocumentUploadNotification:t}=i.useContext(d.a.Context);return i.createElement(p.b.TitledContent,{title:t.title},t.text," ",i.createElement(u.a,{name:"goto-docs",className:y.link,onClick:e},t.link))},e.AlertsNothingFound=()=>i.createElement(p.b.Content,null,"Grammarly found no critical writing issues in this text. Keep up the great work!"),e.DesktopSoftUpdate=({reloadMethod:e})=>{const t=i.useContext(d.a.Context).desktopUpdate;return i.createElement(p.b.TitledContent,{title:t.softTitle},t.soft,i.createElement("br",null),i.createElement(h.a,{name:"reload-desktop",className:y.footerLink,onClick:e},t.reload))},e.DesktopSoftDownload=({downloadMethod:e})=>{const t=i.useContext(d.a.Context).desktopUpdate;return i.createElement(p.b.TitledContent,{title:t.softTitle},t.soft,i.createElement("br",null),i.createElement(h.a,{name:"download-desktop",className:y.footerLink,onClick:e},t.download))},e.DownloadDocumentNotFoundError=()=>{const e=i.useContext(d.a.Context);return i.createElement(p.b.TitledContent,{"data-name":"document-not-found",title:e.downloadDocumentNotFoundError})},e.ClipboardNotSupported=({hotkey:e})=>{const t=i.useContext(d.a.Context);return i.createElement(p.b.Content,null,t.hotkeyUnsupported,i.createElement("b",null,e))},e.DocumentSizeExceeded=({os:e,officeAddinUrl:t})=>{const n=i.useContext(d.a.Context).fileSizeExceededNotification;return i.createElement(p.b.TitledContent,{title:n.title},n.body,"windows"===e&&i.createElement(h.a,{name:"officeAddin",className:y.footerLink,href:t,target:"_blank"},n.link))},e.DocumentUploaded=({navigateToDocument:e})=>{const t=i.useContext(d.a.Context).documentUploaded;return i.createElement(p.b.Content,null,t.message,i.createElement("br",null),i.createElement(h.a,{name:"goto-doc",className:y.footerLink,onClick:e},t.link))},e.DocumentTypeUnsupported=()=>{const e=i.useContext(d.a.Context);return i.createElement(p.b.Content,null,"Unsupported file type. ",e.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")},e.DocumentWithTrackedChangesIsUnsupported=({link:e})=>i.createElement(p.b.Content,null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",i.createElement(u.a,{name:"document-accept-tracked-changes",className:y.link,href:e,target:"_blank"},"here")," ","for details.");const t=(e,t)=>{switch(e){case v.switchToDenali:return t.switchToDenali;case v.feedbackSend:return t.feedbackSend;case v.statisticsError:return t.statisticsError;case v.referenceCopied:return t.referenceCopied;case v.documentCopied:return t.documentCopied;case v.isTemporaryDownloadError:return t.isTemporaryDownloadError;case v.documentUploadGeneralError:return t.documentUploadGeneralError;case v.documentIsEmpty:return t.documentIsEmpty;case v.noFileToUpload:return t.noFileToUpload;case v.oneDocumentIsAllowed:return t.oneDocumentIsAllowed;default:return Object(r.d)(e)}};e.Generic=({type:e})=>{const n=i.useContext(d.a.Context);return i.createElement(p.b.TitledContent,{title:t(e,n)})}}(g||(g={}));const f={display:"inline-flex",overflow:"unset",color:o.a.CoreNeutral0,verticalAlign:"baseline",textDecoration:"underline",fontWeight:"bold",cursor:"pointer"},b={marginTop:c.a.rem(.5),textDecoration:"none"},y=c.a.stylesheet({link:[f],footerLink:[f,b]});var v;!function(e){e.switchToDenali="switchToDenali",e.feedbackSend="feedbackSend",e.statisticsError="statisticsError",e.referenceCopied="referenceCopied",e.documentCopied="documentCopied",e.isTemporaryDownloadError="isTemporaryDownloadError",e.documentUploadGeneralError="documentUploadGeneralError",e.documentIsEmpty="documentIsEmpty",e.noFileToUpload="noFileToUpload",e.oneDocumentIsAllowed="oneDocumentIsAllowed"}(v||(v={}))},"2BTG":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("6fbX"),s=n("D9EC"),l=n("1w6p"),c=n("bZeK"),d=n("kfbT"),u=n("1dIs"),p=n("rk+4"),h=n("GUi3"),m=n("4lva"),g=n("Hr9Y"),f=n("bO3R"),b=n("3rlE"),y=n("zR/0"),v=n("2U56");!function(e){e.Component=t=>t.type===m.b.LensTitleType.priority?a.createElement(e.PriorityTitle,Object.assign({},t)):a.createElement(e.Title,Object.assign({},t)),e.Title=s=>{const{lensId:d,lensAlertsCount:u,lensPreviewVM:p,customInfoButton:m}=s;return a.createElement(r.a.div,{className:h.a.isPlagiarismId(d)?v.a.plagiarismLensTitle:v.a.lensTitle},a.createElement(r.a.div,{className:v.a.flexContainer},u&&u.view(e=>e>0&&(h.a.isOutcomeId(d)||h.a.isAllAlerts(d)||h.a.isPriority(d)||h.a.isPlagiarismId(d)?a.createElement(a.Fragment,{key:"lens-counter"},l.b.mount(c.a.Component,c.a.createLensCounterFlow(y.a.of(d),y.a.of(e),12))):null)),(()=>{switch(s.lensId){case h.a.SpecialId.AllAlerts:return a.createElement(t,null);case h.a.SpecialId.Premium:case h.a.SpecialId.FreePremiumAlerts:return a.createElement(i,null);case h.a.SpecialId.Plagiarism:return a.createElement(k,null);case h.a.SpecialId.Correctness:case h.a.SpecialId.Clarity:case h.a.SpecialId.Engagement:case h.a.SpecialId.Delivery:case h.a.SpecialId.Vox:case h.a.SpecialId.CorrectnessPriority:case h.a.SpecialId.ClarityPriority:case h.a.SpecialId.EngagementPriority:case h.a.SpecialId.DeliveryPriority:case h.a.SpecialId.VoxPriority:return a.createElement(n,{lensId:s.lensId,lensPreviewVM:s.lensPreviewVM});case h.a.SpecialId.Priority:case h.a.SpecialId.Premium:case h.a.SpecialId.PredictionEmogenie:case h.a.SpecialId.PredictionTakeaways:case h.a.SpecialId.RealTimeProofit:return null;default:Object(o.d)(s.lensId)}})(),s.customSideButton,h.a.isOutcomeId(d)?a.createElement(f.b,{iconClass:v.a.infoIcon,tooltipClass:v.a.infoTooltip,title:Object(g.b)(s.lensId).description}):m||null,h.a.isOutcomeId(d)||h.a.isPlagiarismId(d)||h.a.isDraftAIId(d)?a.createElement(e.BackToAllAlertsButton,{key:"back-to-all-alerts"}):h.a.SpecialId.Premium===d&&p.getLens(h.a.SpecialId.AllAlerts).view("count").view(t=>t>0?a.createElement(e.BackToAllAlertsButton,{key:"back-to-all-alerts"}):null)))},e.PriorityTitle=e=>{const t=y.a.of(e.lensId);return a.createElement("div",{className:v.a.priorityTitleWrapper},l.b.mount(d.a.Component,Object(u.a)(e.navigationVM,t,e.navigationVM.defaultLensMode,"normal",e.lensPreviewVM,12,t.pipe(y.a.map(t=>e.lensPreviewVM.getLens(t).get().title)),t.pipe(y.a.map(Object(s.m)(h.a.isMainLens))))))},e.OutcomeContext=a.createContext({navigateToAllAlerts:s.e}),e.BackToAllAlertsButton=()=>{const{backToAllAlerts:t}=a.useContext(p.a.Context).sidebar;return a.createElement(e.OutcomeContext.Consumer,null,({navigateToAllAlerts:e})=>a.createElement(f.a.Flat,{name:"to-all-alerts",className:v.a.toAllAlertsButton,onClick:e},a.createElement("span",{className:v.a.toAllAlertsText},t),a.createElement(b.d.Close,{width:13})))};const t=()=>a.createElement(a.Fragment,null,a.useContext(p.a.Context).sidebar.allAlerts),n=({lensId:e,lensPreviewVM:t})=>a.createElement(a.Fragment,null," ",t.lensPreviews[e].title),i=()=>a.createElement(a.Fragment,null," ",a.useContext(p.a.Context).sidebar.premiumAlertsTitle),k=()=>a.createElement(a.Fragment,null," ",a.useContext(p.a.Context).plagiarism.title)}(i||(i={}))},"2GrK":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var i=n("I7vG"),a=n("LNSM"),r=n("lrqh"),o=n("D9EC"),s=n("PrA7"),l=n("zR/0"),c=n("CXK/"),d=n("NW9S");class u{constructor(e){this._validateOffset=e,this._log=s.Monitoring.Logging.getLogger("CardsListScrollManager"),this.scrollTop=a.a.create(0),this.paddingTop=a.a.create(0),this.viewport=a.a.create({top:d.b.FromWindowTop.ISO.wrap(0),height:0}),this.scrollOffset=new l.a.Subject,this.moveCardsBy=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),this.scrollOffset.next(e),r.b.right(void 0)),this.moveCardsByAnimated=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),l.a.Observable.create(t=>Object(i.pipe)(this._validateOffset(e,this),r.b.fold(e=>(t.thrownError(e),o.e),()=>{const n=2*this.viewport.get().height,i=Math.abs(e)>n?(e>0?1:-1)*n:e,a=e-i,r=c.a.createAnimationObservable(0,i,200).pipe(l.a.pairwise(),l.a.map(([e,t])=>t-e),l.a.startWith(a),l.a.tap(e=>this.scrollOffset.next(e))).subscribe({error:e=>t.error(e),complete:()=>t.complete()});return()=>r.unsubscribe()}))))}}class p{constructor(){this.scrollOffset=l.a.of(42)}getContentOffset(e){throw new Error("Method not implemented.")}moveCardsBy(e,t){throw new Error("Method not implemented.")}moveCardsByAnimated(e,t){throw new Error("Method not implemented.")}}},"2HQ1":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("ERkP"),a=n("7nmT"),r=n("hoSD"),o=n("GGUR"),s=n("zR/0");class l extends i.Component{constructor(){super(...arguments),this._subs=new o.a.Keeper}componentDidMount(){const e=a.findDOMNode(this);this._subs.push(s.a.fromEvent(document,"mousedown").subscribe(t=>{e&&e!==t.target&&!r.c.isParent(e,t.target)&&this.props.hide(t.target)}))}componentWillUnmount(){this._subs.dispose()}render(){return i.Children.only(this.props.children)}}},"2U56":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n("ax6a"),a=n("e12y"),r=n("ps/9"),o=n("dx6p");const s=r.a-.5,l="0 3px 7px 0 rgba(129, 137, 169, .2)",c="0 -3px 7px 0 rgba(129, 137, 169, .2)",d={marginTop:0,height:a.a.percent(100)},u={position:"absolute",overflow:"hidden",marginTop:0,marginLeft:a.a.rem(-1*s),paddingTop:a.a.rem(4),paddingRight:a.a.rem(2),paddingLeft:a.a.rem(s),width:`calc(100% + ${a.a.rem(s)})`,height:a.a.percent(100)},p={position:"absolute",top:a.a.rem(r.A),visibility:"hidden",height:`calc(100vh - ${a.a.rem(r.A)})`},h={paddingRight:a.a.rem(2),width:a.a.percent(100),height:a.a.percent(100)},m={zIndex:r.k,width:a.a.rem(r.w),$nest:{[`@media (${r.z})`]:{width:a.a.rem(r.x)}}},g={margin:`0 ${a.a.rem(.25)} 0 auto`,lineHeight:a.a.rem(1.8)},f={marginRight:a.a.rem(1)},b={position:"relative",paddingTop:a.a.rem(1),height:a.a.rem(4.15),background:`linear-gradient(-180deg, ${i.a.CoreNeutral0} 78%, rgba(255, 255, 255, 0) 100%)`,$nest:{"&:before":{position:"absolute",top:0,left:a.a.rem(-2),width:a.a.rem(2),height:a.a.percent(100),background:"inherit",content:"''"}}},y={paddingBottom:a.a.rem(.2)},v={maxWidth:a.a.rem(11),textAlign:"center",whiteSpace:"normal",lineHeight:a.a.rem(1)},k={position:"absolute",right:0,left:0,display:"flex",height:a.a.rem(2),background:i.a.CoreNeutral0,alignItems:"center",justifyContent:"center"},w={top:a.a.rem(-1.15),boxShadow:l,$nest:{"&:before":Object(o.a)(a.a.rem(.25),-10,a.a.rem(-.4),l,a.a.rem(r.u)),"&:after":Object(o.a)(a.a.rem(.5),-20,a.a.rem(-.8),l,a.a.rem(r.u))}},S={bottom:0,boxShadow:c,$nest:{"&:before":Object(o.a)(a.a.rem(.25),-10,a.a.rem(.4),c,a.a.rem(r.u)),"&:after":Object(o.a)(a.a.rem(.5),-20,a.a.rem(.8),c,a.a.rem(r.u))}},_={position:"absolute",zIndex:r.i,display:"flex",pointerEvents:"all"},C={top:a.a.rem(.15)},E={bottom:a.a.rem(1.3)},O={position:"absolute",top:a.a.rem(4.15),display:"flex",width:`calc(100% - ${a.a.rem(2)})`,height:`calc(100vh - ${a.a.rem(4.15)})`,pointerEvents:"none",justifyContent:"center"},A=a.a.rem(2),x={paddingRight:A},T={display:"flex",marginTop:a.a.rem(.8125),marginLeft:a.a.rem(2.1875),paddingRight:A,color:i.a.CoreNeutral90,textTransform:"none",letterSpacing:0,fontWeight:"bold",fontSize:a.a.rem(.875),lineHeight:a.a.rem(1.125),justifyContent:"space-between",$nest:{'& div[role="button"]':{marginTop:a.a.rem(-.3875),$nest:{"&[data-name='bulk-accept-mini-button']":{marginTop:a.a.rem(-.75)}}},'& div[data-role="counter"]':{position:a.a.important("absolute")}}},M={position:"absolute",zIndex:r.k,overflow:"visible",width:a.a.percent(100)},j={position:"absolute",right:a.a.rem(3),paddingLeft:a.a.rem(1),borderRadius:a.a.rem(r.t),color:i.a.CoreNeutral90,letterSpacing:a.a.px(.25),fontSize:a.a.rem(.75),lineHeight:a.a.rem(1)},I={position:"relative",marginTop:a.a.rem(.05),fontWeight:300},R={marginLeft:a.a.rem(2.5)},N={margin:`${a.a.rem(.5)} 0`,backgroundColor:i.a.CoreNeutral0,userSelect:"none",$nest:{"&:before":{position:"absolute",left:a.a.rem(-.5),width:a.a.rem(.5),height:a.a.percent(100),backgroundColor:i.a.CoreNeutral0,content:"''"}}},L=a.a.stylesheet({viewport:[d],lensviewContentWrapper:[u],fakeTop:[p],rechecking:[h],fixedLensContent:[m],lensCounter:[g],headerBtn:[f],headerWrapper:[b],infoIcon:[y],infoTooltip:[v],stack:[k],topStack:[k,w],bottomStack:[k,S],seeAlerts:[_],topSeeAlerts:[_,C],bottomSeeAlerts:[_,E],seeAlertsContainer:[O],lensTitle:[T],header:[M],toAllAlertsButton:[j],toAllAlertsText:[I],plagiarismLensTitle:[T,R],cardWrapper:[N],flexContainer:[{display:"flex"}],priorityTitleWrapper:[x]})},"2xe6":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("1aGC"),a=n("e12y"),r=n("ax6a");const o=i.import("blots/block"),s=i.import("blots/break"),l=(e,t)=>a.a.style({$nest:{"&:after":{background:r.a.CoreNeutral1,color:r.a.CoreNeutral50,overflow:"hidden",content:`"${e}"`,userSelect:"none",marginTop:`${a.a.rem(-t)}`,display:"flex",width:"100%"}}}),c=(e,t)=>{const n=`${-t}px * var(--rem)`,i=`(${e}px + ${n})`;return a.a.keyframes({to:{marginTop:`calc(${n} - ${i})`}})},d=2;class u extends o{static create(e){const t=super.create(e);return t.setAttribute("data-template-id",e.id),u.setMeta(t,e,0),t.className=u.className,t}clone(){const e=super.clone(),t=e.domNode;return t.className=u.className,u.setMeta(t,Object.assign(Object.assign({},this.domNode.__meta),{used:!0}),this.domNode.__meta.uuid+1),e}removePlaceholder(){var e;1===this.children.length&&1===(null===(e=this.children.head)||void 0===e?void 0:e.length())?u.fadeOut(this.domNode,200,d,()=>{u.resetClassName(this.domNode)}):u.resetClassName(this.domNode),this.meta.used=!0}get meta(){return this.domNode.__meta}get placeholderStyle(){return this._placeholderStyle||(this._placeholderStyle=l(this.meta.placeholder,d)),this._placeholderStyle}optimize(e){if(super.optimize(e),this.meta.used)this.meta.trackable||this.replaceWith("block");else if(0===this.children.length||1===this.children.length&&this.children.head instanceof s){if(this.domNode.classList.contains(this.placeholderStyle))return;this.domNode.classList.add(this.placeholderStyle)}else this.removePlaceholder()}formats(){return{[u.blotName]:{id:this.meta.id,used:this.meta.used,placeholder:this.meta.placeholder,trackable:this.meta.trackable}}}}u.blotName="template_section",u.className="template_section",function(e){e.setMeta=(e,t,n)=>{var i,a;return e.__meta={id:t.id,placeholder:t.placeholder,trackable:null===(i=t.trackable)||void 0===i||i,used:null!==(a=t.used)&&void 0!==a&&a,uuid:n},e.setAttribute("data-uuid",`${n}`),e},e.fadeOut=(e,t,n,i)=>{const r=()=>{e.removeEventListener("animationend",r),clearTimeout(o),i(e)};e.classList.add(((e,t)=>a.a.style({$nest:{"&:after":{visibility:"hidden",animation:`${c(e,t)} ${a.a.seconds(.2)} linear forwards`}}}))(e.offsetHeight,n)),e.addEventListener("animationend",r);const o=setTimeout(r,t)},e.resetClassName=t=>{t.className!==e.className&&(t.className=e.className)}}(u||(u={}))},"2yqQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("1aGC"),a=n("hoSD");const r=i.import("core/theme");class o extends r{constructor(e,t){if(super(e,t),e.root.setAttribute("spellcheck","false"),t.classes){const n=e.container.className,i=e.root.className;t.classes.subscribe(t=>{e.root.className=a.c.classes(t.editor,i),e.container.className=a.c.classes(t.containerClass,n)})}}}},"3BTE":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return p}));var i=n("e12y"),a=n("0Hf4"),r=n("ax6a"),o=n("Ov/9");const s={section:"report-sections-section",sectionHeader:"report-sections-sectionHeader",genericTable:"report-sections-genericTable",text:"report-sections-text"},l={borderTop:`1px solid ${r.a.CoreNeutral30}`,pageBreakInside:"avoid"},c={marginTop:i.a.px(24*o.a),color:r.a.CoreNeutral90,letterSpacing:0,fontWeight:"bold",fontSize:i.a.px(18*o.a),lineHeight:i.a.px(32*o.a)},d={width:i.a.percent(100),tableLayout:"fixed",textAlign:"left"},u={color:r.a.CoreNeutral50,letterSpacing:i.a.px(.11*o.a),fontSize:i.a.px(13*o.a),lineHeight:i.a.px(20*o.a)},p={section:i.a.joinClasses([s.section,a.a.style(l)]),sectionHeader:i.a.joinClasses([s.sectionHeader,a.a.style(c)]),genericTable:i.a.joinClasses([s.genericTable,a.a.style(d)]),text:i.a.joinClasses([s.text,a.a.style(u)])}},"3F3p":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("ERkP"),a=n("OA+g"),r=n("vOOZ"),o=n("lrqh"),s=n("D9EC"),l=n("1w6p"),c=n("e12y"),d=n("zR/0"),u=n("hoSD"),p=n("MsKq");const h=({top:e,height:t})=>{const n=`cl-placeholder-pattern-${Math.random()}`;return i.createElement(r.a.div,{className:f.placeholder,style:{transform:u.c.CSS.translateY(e),height:t}},i.useContext(p.a.Context).pipe(d.a.map(e=>i.createElement("svg",{height:"100%",className:f.placeholderSVG},i.createElement("defs",null,i.createElement("pattern",{id:n,x:"0",y:"0",width:"100%",height:b*e,patternUnits:"userSpaceOnUse"},i.createElement("rect",{x:"0",y:"0",width:"100%",height:e*y,fill:"white"}))),i.createElement("rect",{fill:`url(#${n})`,rx:e*v,ry:e*v,width:"100%",height:"100%"})))))},m={position:"absolute",top:0,boxSizing:"border-box",marginTop:c.a.rem(.425),paddingRight:c.a.rem(2),width:c.a.percent(100)},g={width:c.a.percent(100),height:c.a.percent(100),filter:"drop-shadow(0 1px 3px rgba(129, 137, 169, .2))"},f=c.a.stylesheet({placeholder:[m],placeholderSVG:[g]}),b=4,y=3,v=.25,k=l.b.Node.make(({state:e})=>i.createElement(r.a.div,{key:"placeholder",className:e.pipe(d.a.map(o.g.isSome),d.a.distinctUntilChanged(),d.a.map(Object(s.c)(S.placeholder,S.hiddenPlaceholder)),d.a.startWith(S.hiddenPlaceholder))},e.pipe(d.a.map(Object(a.flow)(o.g.map(e=>i.createElement(i.Fragment,null,i.createElement(h,{key:"first",top:e[0].top,height:e[0].height}),i.createElement(h,{key:"last",top:e[1].top,height:e[1].height}))),o.g.toNullable))))),w={position:"absolute"},S=c.a.stylesheet({placeholder:[w],hiddenPlaceholder:[w,{opacity:0}]})},"3hQ2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("GUi3"),r=n("zR/0"),o=n("BeBM");!function(e){let t,n;!function(e){let t,n;!function(e){e.toggleNonPriorityCards="toggleNonPriorityCards"}(t=e.Kind||(e.Kind={})),function(e){let t;!function(e){e.collapsed="collapsed",e.expanded="expanded"}(t=e.NextState||(e.NextState={}))}(n=e.ToggleNonPriorityCards||(e.ToggleNonPriorityCards={}))}(t=e.Event||(e.Event={})),function(e){e.toggleNonPriorityCards=(e,t,n)=>({id:"toggleNonPriorityCards",when:a.a.isWithAlertsId,what:o.e.Effect.Applicator.create(e.pipe(r.a.map(e=>i=>o.e.hasItems(i)&&Object(o.l)(i.currentLens)?(n(e.nextState),i.patch({currentLens:t.toggleNonPriorityList(e.nextState)(i.currentLens)})):i)))})}(n=e.SideEffects||(e.SideEffects={}))}(i||(i={}))},"3s0z":function(e,t,n){"use strict";var i,a;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.Keydown="keydown",e.Input="input"}(i||(i={})),function(e){e.alt="alt",e.shift="shift",e.short="short"}(a||(a={}))},"3yNE":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("93Qa"),r=n("OA+g"),o=n("zR/0"),s=n("lrqh"),l=n("oN2O"),c=n("6fbX"),d=n("PrA7"),u=n("hoSD");function p(e,t){return n=>Object(r.pipe)(e,l.a.moveByFindFirst(e=>t.equals(n,e)))}function h(e){return s.a.isNonEmpty(e.rights)?l.a.down(e):s.g.some(l.a.start(e))}function m(e){return s.a.isNonEmpty(e.lefts)?l.a.up(e):s.g.some(l.a.end(e))}!function(e){let t;!function(e){e.focused="focused",e.proceedForwards="proceedForwards",e.proceedBackwards="proceedBackwards"}(t=e.FocusEvent||(e.FocusEvent={})),e.create=({contentFocusChanges:e,ord:n,eq:i,show:g,contentSection:f})=>{const b=d.Monitoring.Logging.getLogger("focus",d.Logging.LogLevel.DEBUG,d.Logging.LogColor.Manager.getColor("focus")),y=Object(r.pipe)(f,s.g.chain(e=>l.a.fromArray([e]))),v=new o.a.ReplaySubject,k=o.a.fromEvent(document,"keydown").pipe(o.a.filter(e=>"F6"===e.key),o.a.tap(e=>e.preventDefault()),o.a.tap(e=>v.next({kind:e.shiftKey?"previous":"next"})),o.a.ignoreElements(),o.a.share()),w=e.inFocus.pipe(o.a.filter(r.identity),o.a.tap(()=>v.next({kind:"reset"})),o.a.ignoreElements(),o.a.share()),S=v.pipe(o.a.tap(e=>b.debug("Focus action",e)),o.a.scan((e,t)=>{switch(t.kind){case"register":return Object(r.pipe)(e,function(e,t){return Object(r.flow)(s.g.map(l.a.toNonEmptyArray),s.g.map(t=>s.a.snoc(t,e)),s.g.map(s.a.sort(t)),s.g.getOrElse(Object(r.constant)([e])),l.a.fromArray)}(t.section,n),s.g.chain(function(e,t){return n=>Object(r.pipe)(e,s.g.map(u.e.pick("focus")),s.g.chain(p(n,t)),s.g.alt(Object(r.constant)(s.g.some(n))))}(e,i)));case"deregister":return Object(r.pipe)(e,s.g.chain(function(e){return Object(r.flow)(l.a.toNonEmptyArray,s.a.filter(t=>t!==e),l.a.fromArray)}(t.section)),s.g.chain(function(e,t){return n=>Object(r.pipe)(e,s.g.chain(e=>Object(r.pipe)(p(n,t),t=>Object(r.pipe)(t(e.focus),s.g.alt(Object(r.constant)(Object(r.pipe)(e.rights,s.a.head,s.g.chain(t))))))),s.g.alt(Object(r.constant)(s.g.some(n))))}(e,i)));case"next":return Object(r.pipe)(e,s.g.chain(h));case"previous":return Object(r.pipe)(e,s.g.chain(m));case"reset":return Object(r.pipe)(e,s.g.map(l.a.start));default:return Object(c.d)(t)}},y),o.a.startWith(y),o.a.map(s.g.map(l.a.extract)),o.a.skipBy(s.g.getEq(i)),o.a.tap(t=>Object(r.pipe)(Object(r.tuple)(t,f),Object(r.tupled)(Object(a.sequenceT)(s.g.option)),s.g.map(([e,t])=>i.equals(e,t)),s.g.tap(e.updateFocus))),o.a.tap(e=>b.debug("Item focused",s.g.getShow(g).show(e))),o.a.switchMap(e=>o.a.mergeStatic(k,w,o.a.of(e))),o.a.shareReplay({bufferSize:1,refCount:!1}));return{state:S,register:(e,n)=>(v.next({kind:"register",section:e}),o.a.mergeStatic(n.pipe(o.a.filter(e=>e!==t.focused),o.a.tap(e=>v.next({kind:e===t.proceedForwards?"next":"previous"})),o.a.ignoreElements()),S.pipe(o.a.map(n=>s.g.exists(t=>t===e)(n)?t.focused:t.proceedForwards),o.a.distinctUntilChanged(),o.a.finalize(()=>v.next({kind:"deregister",section:e})))))}}}(i||(i={}))},"3zdQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y}));var i=n("ERkP"),a=n("LNSM"),r=n("9NHN"),o=n("vOOZ"),s=n("lrqh"),l=n("ax6a"),c=n("e12y"),d=n("WIwS"),u=n("ps/9"),p=n("MsKq"),h=n("zR/0"),m=n("gy42");const g=40;class f extends i.Component{constructor(){super(...arguments),this._linesCount=Boolean(this.props.defaultLinesCount)?this.props.defaultLinesCount:g,this._wrapper=a.a.create(s.g.none),this._title=a.a.create(s.g.none),this._linesHeight=a.a.create(this._linesCount),this._subs=[]}componentDidMount(){this._subs.push(h.a.combineLatestStatic(this.context,m.a.windowResize.pipe(h.a.startWith(m.b.voidValue)),e=>e).pipe(h.a.switchMap(e=>a.a.combine(this._wrapper,this._title,(t,n)=>({wrapper:t,title:n,remSize:e}))),h.a.filter(({wrapper:e,title:t})=>s.g.isSome(e)&&s.g.isSome(t)),h.a.switchMap(m.b.Scheduler.rafScheduler),h.a.switchMap(m.b.Scheduler.rafScheduler)).subscribe(({wrapper:e,title:t,remSize:n})=>{const i=Math.floor((s.g.unsafeGet(e).offsetHeight-s.g.unsafeGet(t).offsetHeight)/n);this._linesHeight.set(i)}))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{wrapperClass:e}=this.props;return i.createElement("div",Object.assign({ref:e=>this._wrapper.set(s.g.fromNullable(e))},Object(r.c)(P.wrapper,e)),i.createElement("div",{className:P.loaderInitial}),i.createElement("div",{className:P.loader1}),i.createElement("div",{className:P.loader2}),i.createElement("div",{className:P.titleWrap,ref:e=>this._title.set(s.g.fromNullable(e))},this.props.children),i.createElement(o.a.div,Object.assign({style:this._linesHeight.view(e=>({height:`${e}rem`}))},Object(r.c)(P.lines,this.props.linesClass))),i.createElement("div",{className:P.empty}))}}f.contextType=p.a.Context;const b=()=>i.createElement(f,{linesClass:P.documentLines},i.createElement("div",{className:P.documentTitleWrap},i.createElement("div",{className:P.documentTitle}))),y=()=>i.createElement(f,{linesClass:P.lensviewLines,wrapperClass:P.lensviewWrapper},i.createElement(i.Fragment,null,i.createElement("div",{className:P.lensviewTitle}),i.createElement("div",{className:P.lensviewOpenCard}))),v=`calc(${c.a.rem(2)} + 5px)`,k=c.a.keyframes({from:{transform:"translateY(-50%)"},to:{transform:"translateY(100%)"}}),w=c.a.keyframes({from:{transform:"translateY(-100%)"},to:{transform:"translateY(100%)"}}),S={position:"relative",overflow:"hidden",width:c.a.percent(100),height:c.a.percent(100),background:l.a.CoreNeutral0},_={position:"absolute",top:0,width:c.a.percent(100),height:c.a.percent(100),backgroundImage:`linear-gradient(-179deg, ${l.a.CoreNeutral0} 0%, ${d.h} 30%, ${l.a.CoreNeutral0} 60%)`,backgroundSize:c.a.percent(100),backgroundRepeat:"no-repeat",opacity:.45,animation:`${w} ${c.a.seconds(3)} linear forwards infinite`,willChange:"transform"},C={animation:`${k} ${c.a.seconds(2.25)} linear forwards`},E={transform:"translateY(-100%)",animationDelay:c.a.seconds(.75)},O={transform:"translateY(-100%)",animationDelay:c.a.seconds(2.25)},A={position:"relative",zIndex:1,width:c.a.percent(100),backgroundColor:"transparent",backgroundImage:`repeating-linear-gradient(180deg, ${d.e}, ${d.e} ${c.a.rem(1)}, ${l.a.CoreNeutral0} ${c.a.rem(1)}, ${l.a.CoreNeutral0} ${c.a.rem(2)})`,backgroundPosition:"0 0"},x={position:"relative",height:c.a.percent(100),backgroundColor:l.a.CoreNeutral0},T={position:"relative",$nest:{"&:before":{display:"block",width:c.a.percent(100),height:c.a.rem(1.2),background:l.a.CoreNeutral0,content:"''"}}},M={position:"relative",zIndex:1,marginTop:v,width:c.a.percent(100),height:c.a.rem(1.5),borderRadius:c.a.rem(u.u),backgroundColor:l.a.CoreNeutral0},j={backgroundImage:`repeating-linear-gradient(180deg, ${d.e}, ${d.e} ${c.a.rem(1)}, ${l.a.CoreNeutral0} ${c.a.rem(1)}, ${l.a.CoreNeutral0} ${c.a.rem(2)})`},I={top:c.a.rem(1.6)},R={marginTop:c.a.rem(1.5),height:c.a.rem(1.8),backgroundColor:l.a.CoreNeutral0},N={marginTop:c.a.rem(10.5),height:c.a.rem(2.7),backgroundColor:l.a.CoreNeutral0},L={backgroundImage:`repeating-linear-gradient(180deg, ${d.e}, ${d.e} ${c.a.rem(1)}, ${l.a.CoreNeutral0} ${c.a.rem(1)}, ${l.a.CoreNeutral0} ${c.a.rem(3)})`},P=c.a.stylesheet({wrapper:[S],loader:[_],loaderInitial:[_,C],loader1:[_,E],loader2:[_,O],lines:[A],empty:[x],titleWrap:[{position:"relative"}],documentTitleWrap:[T],documentTitle:[M],documentLines:[j],lensviewWrapper:[I],lensviewTitle:[R],lensviewOpenCard:[N],lensviewLines:[L]})},"4Gmt":function(e,t,n){"use strict";n.d(t,"a",(function(){return ge}));var i=n("ERkP"),a=n("vOOZ"),r=n("6fbX"),o=n("1w6p"),s=n("rk+4"),l=n("BoSw"),c=n("bO3R"),d=n("D6Vf");const u=()=>i.createElement("svg",{width:"128",height:"177"},i.createElement("defs",null,i.createElement("rect",{id:"a",y:"14",width:"128",height:"128",rx:"64"})),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("ellipse",{fill:"#F1F2FA",cx:"64",cy:"173",rx:"48",ry:"4"}),i.createElement("path",{d:"M27 0h62a5 5 0 0 1 5 5v91a5 5 0 0 1-5 5H24a5 5 0 0 1-5-5V8a8 8 0 0 1 8-8z",fill:"#F1F2FA"}),i.createElement("mask",{id:"b",fill:"#fff"},i.createElement("use",{xlinkHref:"#a"})),i.createElement("use",{fill:"#A2BCFF",xlinkHref:"#a"}),i.createElement("path",{d:"M116.708 48.783a4.144 4.144 0 0 1 5.672-1.465 4.138 4.138 0 0 1 1.466 5.667l-17.955 30.462a4.141 4.141 0 0 1-3.57 2.039 4.145 4.145 0 0 1-2.879-1.164l-12.527-12.1a4.138 4.138 0 0 1-.099-5.855 4.144 4.144 0 0 1 5.858-.099l8.747 8.45 15.287-25.935zm-63.446 45.53h58.877a4.141 4.141 0 0 1 4.142 4.139 4.141 4.141 0 0 1-4.142 4.14H53.262a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zM8.793 17.33h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm0 17.526h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm4.99 68.985a4.74 4.74 0 0 1-4.686 4.794 4.74 4.74 0 0 1-.111-9.477 4.74 4.74 0 0 1 4.798 4.683zm16.757 16.106a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14c0 9.416-7.665 17.076-17.087 17.076S4.65 129.363 4.65 119.947a4.141 4.141 0 0 1 4.143-4.14 4.141 4.141 0 0 1 4.143 4.14c0 4.85 3.948 8.796 8.802 8.796 4.853 0 8.802-3.946 8.802-8.796zM8.793 76.46c-1.06 0-2.12-.405-2.93-1.213a4.138 4.138 0 0 1 0-5.855l4.274-4.27-4.273-4.27a4.138 4.138 0 0 1 0-5.855 4.145 4.145 0 0 1 5.859 0l4.273 4.27 4.273-4.27a4.144 4.144 0 0 1 5.858 0 4.138 4.138 0 0 1 0 5.855l-4.273 4.27 4.274 4.27a4.138 4.138 0 0 1-2.93 7.068c-1.06 0-2.12-.405-2.929-1.213l-4.273-4.27-4.273 4.27a4.133 4.133 0 0 1-2.93 1.213zm87.342 44.285l13.678 9.075a4.138 4.138 0 0 1 1.16 5.739 4.144 4.144 0 0 1-5.743 1.159l-11.387-7.555-11.386 7.555a4.143 4.143 0 0 1-4.378.128l-12.844-7.478-11.078 7.35c-.705.468-1.5.691-2.288.691a4.14 4.14 0 0 1-2.295-7.589l13.227-8.776a4.144 4.144 0 0 1 4.377-.128l12.844 7.478 11.53-7.65a4.145 4.145 0 0 1 4.583 0zM31.23 86.814a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14v19.402a4.141 4.141 0 0 1-4.143 4.14 4.141 4.141 0 0 1-4.142-4.14V86.814z",fill:"#BDCFFF",mask:"url(#b)"}),i.createElement("path",{d:"M36 12h65a5 5 0 0 1 5 5v88a8 8 0 0 1-8 8H36a5 5 0 0 1-5-5V17a5 5 0 0 1 5-5z",fill:"#7CA1FF",mask:"url(#b)"}),i.createElement("rect",{fill:"#FFF",x:"25",y:"6",width:"75",height:"101",rx:"5"}),i.createElement("path",{d:"M38 21h49a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1zm0 13h32a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1z",fill:"#F1F2FA"})));var p=n("jAl6"),h=n("BugA"),m=n("zR/0"),g=n("9NHN"),f=n("94k3"),b=n("hoSD"),y=n("lrqh"),v=n("ax6a"),k=n("e12y"),w=n("WIwS"),S=n("ps/9"),_=n("3rlE"),C=n("I7vG"),E=n("LNSM");const O=e=>{const{score:t,documentIsEmpty:n,sidebarOpen:r=E.a.create(!0),successIcon:o,progressIcon:s,zeroIcon:l=null}=e,c=t.pipe(m.a.map(y.g.map(e=>e.rank))),d=m.a.combineLatestStatic(t,n,(e,t)=>Object(C.pipe)(e,y.g.fold(()=>!1,({rank:e})=>100===e&&!t))),u=r.pipe(m.a.switchMap(e=>e?c.pipe(m.a.startWith(y.g.none),m.a.pairwise(),m.a.switchMap(([e,t])=>Object(C.pipe)(t,y.g.fold(()=>m.a.of(l),t=>d.pipe(m.a.startWith(!1),m.a.pairwise(),m.a.switchMap(([n,i])=>i?m.a.of(o):Object(C.pipe)(e,y.g.filter(()=>!n),y.g.fold(()=>m.a.of(s(t)).pipe(m.a.delay(1),m.a.startWith(s(0))),()=>m.a.of(s(t)))))))))):m.a.of(null)),m.a.startWith(null));return i.createElement(a.a.Fragment,null,u)};var A=n("kHl6"),x=n("H9Bv");const T={display:"flex",flexDirection:"column",maxHeight:"90vh",width:k.a.rem(32),height:k.a.rem(41),background:v.a.CoreNeutral0},M={padding:`${k.a.rem(2.75)} ${k.a.rem(1)} 0 ${k.a.rem(2)}`,minHeight:k.a.rem(5.1),height:k.a.rem(5.1),backgroundColor:v.a.CoreNeutral0},j={marginRight:k.a.rem(1),paddingBottom:k.a.rem(.3),borderBottom:`1px solid ${w.h}`},I={padding:`0 ${k.a.rem(1)} ${k.a.rem(1)} ${k.a.rem(2)}`},R={padding:`0 ${k.a.rem(1.9)}`,minHeight:k.a.rem(4),height:k.a.rem(4)},N={position:"absolute",top:k.a.rem(-5.15),right:0,bottom:0,left:0,margin:"auto"},L={display:"flex",flexDirection:"column",marginTop:k.a.rem(7.15),marginBottom:k.a.rem(2),paddingRight:k.a.rem(1),alignItems:"center"},P={wordSpacing:k.a.rem(.05),fontSize:k.a.rem(.875),lineHeight:k.a.rem(1.5)},D={padding:`${k.a.rem(1.3)} ${k.a.rem(2.6)}`,textAlign:"center"},F=k.a.prefixedStylesheet("statistics",{wrapper:[T],modalHeader:[M],modalHeaderUnderline:[j],modalReady:[{transition:"opacity .2s"}],modalEmpty:[{opacity:0}],modalBody:[I],modalFooter:[R],loader:[N],zeroStateContainer:[L],performanceText:[P],zeroStateText:[P,D]});var B;!function(e){e.number="number",e.time="time",e.percentage="percentage"}(B||(B={}));const H=e=>{switch(e){case B.number:case B.percentage:return he.numberRowData;case B.time:return he.timeRowData;default:return Object(r.d)(e)}},V=({type:e,value:t,info:n,children:a,dataName:o})=>i.createElement("div",{className:he.row,"data-name":o},i.createElement("div",{className:H(e)},i.createElement("div",{className:he.metricTitle},a),i.createElement("div",{className:he.metric},((e,t)=>{switch(e){case B.number:return(Math.round(10*t)/10).toLocaleString();case B.time:return b.d.convertTimeToShortString(t);case B.percentage:return Math.round(t)+"%";default:return Object(r.d)(e)}})(e,t))),Boolean(n)?i.createElement(c.b,{title:n}):null),U=({state:e})=>{const t=i.useContext(s.a.Context).performance,{stats:n,score:r,documentIsEmpty:o}=e;return i.createElement(i.Fragment,null,i.createElement("section",{className:he.titleSection},i.createElement("div",{className:he.titleColumns},i.createElement(a.a.div,Object.assign({},Object(g.c)(F.performanceText,he.headerDescription)),100===r.rank?t.score100:t.scoreUnder100(r.rank)),i.createElement(O,{score:m.a.of(y.g.some(r)),documentIsEmpty:m.a.of(o),successIcon:i.createElement(_.d.CheckmarkAnimated,{key:"modal-checkmark",width:50,className:he.checkmark}),progressIcon:e=>i.createElement(x.a,{key:"modal-performance-progress",colorType:x.a.ColorType.royalBlue,fontSize:x.a.FontSize.small,percentage:e,theme:me})}))),i.createElement("section",{className:he.wordCountSection},i.createElement(h.d,{className:he.sectionHeaderUnderline},t.wordCount),i.createElement("div",{className:he.wordCountColumns},i.createElement("div",{className:he.firstColumn},i.createElement(V,{type:B.number,value:Math.max(n.chars-1,0)},t.characters),i.createElement(V,{type:B.number,value:n.words},t.words),i.createElement(V,{type:B.number,value:n.sentences},b.f.pluralize(n.sentences,t.sentence,t.sentences))),i.createElement("div",{className:he.secondColumn},i.createElement(V,{type:B.time,value:f.a.DocumentStatistics.calculateReadingTime(n.words)},t.readingTime),i.createElement(V,{type:B.time,value:f.a.DocumentStatistics.calculateSpeakingTime(n.words)},t.speakingTime)))),i.createElement("section",{className:he.readabilitySection},i.createElement("div",{className:he.sectionHeaderWrapper},i.createElement(h.d,null,t.readability),i.createElement(h.m,null,t.sectionTitleDescription)),i.createElement("div",{className:he.readabilityColumns},i.createElement("div",{className:he.firstColumn},i.createElement(V,{type:B.number,value:n.wordLength},t.wordLengthTitle),i.createElement(V,{type:B.number,value:n.sentenceLength},t.sentenceLengthTitle),i.createElement(V,{type:B.number,value:n.readabilityScore,info:t.readabilityDescription,dataName:"readability"},t.readabilityScore)),i.createElement("div",{className:he.secondColumn},i.createElement("div",{className:he.row},i.createElement(A.a,{value:n.wordLengthIndex,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),i.createElement(A.a.Label,{value:n.wordLengthIndex,className:he.progressLabel})),i.createElement("div",{className:he.row},i.createElement(A.a,{value:n.sentenceLengthIndex,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),i.createElement(A.a.Label,{value:n.sentenceLengthIndex,className:he.progressLabel})),i.createElement("div",{className:he.verticalPillar}))),i.createElement(h.m,{className:he.readabilityDescr},n.readabilityDescription)),i.createElement("section",null,i.createElement("div",{className:he.sectionHeaderWrapper},i.createElement(h.d,null,t.vocabulary),i.createElement(h.m,null,t.sectionTitleDescription)),i.createElement("div",{className:he.vocabularyColumns},i.createElement("div",{className:he.firstColumn},i.createElement(V,{type:B.percentage,value:n.uniqueWords,info:t.uniqueWords},t.uniqueWordsTitle),i.createElement(V,{type:B.percentage,value:n.rareWords,info:t.rareWords},t.rareWordsTitle)),i.createElement("div",{className:he.secondColumn},i.createElement("div",{className:he.row},i.createElement(A.a,{value:n.uniqueWords,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),i.createElement(A.a.Label,{value:n.uniqueWords,className:he.progressLabel})),i.createElement("div",{className:he.row},i.createElement(A.a,{value:n.rareWords,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),i.createElement(A.a.Label,{value:n.rareWords,className:he.progressLabel})),i.createElement("div",{className:he.verticalPillar})))))},q={marginBottom:k.a.rem(2.4)},W={display:"flex",marginTop:k.a.rem(.9),marginRight:k.a.rem(1),justifyContent:"space-between"},$={marginBottom:k.a.rem(1.5)},z={display:"flex",marginTop:k.a.rem(.8)},G={marginBottom:k.a.rem(2.4)},K={display:"flex",marginTop:k.a.rem(.8)},Y={display:"flex",marginTop:k.a.rem(.8)},X={flexBasis:k.a.percent(50)},Z={position:"relative",paddingLeft:k.a.rem(.5),flexBasis:k.a.percent(50)},Q={display:"flex",height:k.a.rem(2),alignItems:"center"},J={display:"flex",justifyContent:"space-between"},ee={width:k.a.rem(10),fontFeatureSettings:`${S.g}, ${S.e}`},te={width:k.a.rem(13)},ne={marginRight:k.a.rem(1),paddingBottom:k.a.rem(.5),borderBottom:`1px solid ${w.h}`},ie={width:k.a.percent(80),whiteSpace:"pre-line"},ae={display:"inline-block",color:v.a.CoreBlue50,textAlign:"right",fontWeight:"bold",fontSize:k.a.rem(.875),lineHeight:k.a.rem(2)},re={display:"inline-block",color:v.a.CoreNeutral90,fontSize:k.a.rem(.875),lineHeight:k.a.rem(2)},oe={width:k.a.rem(3.2),height:k.a.rem(3.2),fontWeight:"bold"},se={width:k.a.rem(6),backgroundColor:w.h},le={marginLeft:k.a.rem(1.125)},ce={backgroundImage:w.b},de={backgroundImage:w.d},ue={display:"block",paddingTop:k.a.rem(.5)},pe={position:"absolute",top:k.a.rem(.5),left:k.a.rem(3.5),width:k.a.rem(.0625),height:k.a.rem(3),backgroundColor:w.g},he=k.a.stylesheet({titleSection:[q],titleColumns:[W],wordCountSection:[$],wordCountColumns:[z],readabilitySection:[G],readabilityColumns:[K],vocabularyColumns:[Y],firstColumn:[X],secondColumn:[Z],row:[Q],rowData:[J],numberRowData:[J,ee],timeRowData:[J,te],sectionHeaderUnderline:[ne],sectionHeaderWrapper:[ne,{display:"flex",alignItems:"baseline",justifyContent:"space-between"}],headerDescription:[ie],metric:[ae],metricTitle:[re],checkmark:[{alignItems:"center"}],circleProgressBar:[oe],progressBar:[se],progressLabel:[le],leftProgress:[ce],rightProgress:[de],readabilityDescr:[ue],verticalPillar:[pe]}),me={radialProgressBar:he.circleProgressBar};var ge;!function(e){let t;e.ModalView=o.b.Grid.make(({slots:n,state:a,notify:r})=>{const o=r({kind:t.close});return i.createElement(d.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:o},i.createElement(e.ModalContent,{state:a,downloadButton:n.downloadButton,onClose:o}))}),function(e){e.close="close"}(t=e.ActionsKind||(e.ActionsKind={})),e.ModalContent=({state:t,downloadButton:n,onClose:a})=>i.createElement(d.a,{className:F.wrapper},i.createElement(d.a.Header,{className:F.modalHeader},i.createElement(e.Header,{state:t})),i.createElement(d.a.Body,{name:"performanceBody",className:F.modalBody,wrapperClassName:t.pipe(m.a.map(e=>e.type===l.a.State.Type.EMPTY?F.modalEmpty:F.modalReady))},i.createElement(e.Body,{state:t})),i.createElement(d.a.Footer,{className:F.modalFooter},i.createElement(f,{downloadButton:n,onClose:a})));const n=()=>{const e=i.useContext(s.a.Context);return i.createElement("div",{className:F.zeroStateContainer},i.createElement(u,null),i.createElement("div",{className:F.zeroStateText},e.performance.notEnoughTextToCalculateStats))};e.Header=({state:e})=>{const t=i.useContext(s.a.Context),n=i.useContext(d.a.TitleIdContext);return i.createElement(a.a.Fragment,null,e.pipe(m.a.map(e=>i.createElement(h.d,{key:"statisticsHeader",id:n,className:e.type===l.a.State.Type.READY?F.modalHeaderUnderline:""},t.performance.title))))};const g=()=>i.createElement(p.a,{size:64,className:F.loader,variation:"blue"});e.Body=({state:e})=>i.createElement(a.a.Fragment,null,e.pipe(m.a.map(e=>{switch(e.type){case l.a.State.Type.EMPTY:return null;case l.a.State.Type.LOADING:case l.a.State.Type.ERROR:return i.createElement(g,{key:"statisticsLoading"});case l.a.State.Type.SHORT_CONTENT:return i.createElement(n,{key:"statisticsEmpty"});case l.a.State.Type.READY:return i.createElement(U,{key:"statisticsContent",state:e});default:return Object(r.d)(e)}})));const f=({downloadButton:e,onClose:t})=>i.createElement(i.Fragment,null,e,i.createElement(c.a.Primary,{name:"close-stats",onClick:t},"Close"))}(ge||(ge={}))},"4L0w":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ERkP"),a=n("9NHN"),r=n("e12y");const o=({double:e,triple:t,small:n})=>i.createElement("div",Object.assign({},Object(a.c)(s,!0===e&&l,!0===t&&c,!0===n&&d))),s=r.a.joinClasses(["spacer",r.a.style({margin:0,minHeight:r.a.rem(.875),maxHeight:r.a.rem(1),width:r.a.percent(100),height:r.a.rem(1)})]),l=r.a.joinClasses(["spacerDouble",r.a.style({minHeight:r.a.rem(1.75),maxHeight:r.a.rem(2),height:r.a.rem(2)})]),c=r.a.joinClasses(["spacerTriple",r.a.style({minHeight:r.a.rem(2.625),maxHeight:r.a.rem(3),height:r.a.rem(3)})]),d=r.a.style({$nest:{"&.spacer":{minHeight:r.a.rem(.4375),maxHeight:r.a.rem(.5),height:r.a.rem(.5)},"&.spacerDouble":{minHeight:r.a.rem(.875),maxHeight:r.a.rem(1),height:r.a.rem(1)},"&.spacerTriple":{minHeight:r.a.rem(1.3125),maxHeight:r.a.rem(1.5),height:r.a.rem(1.5)}}})},"4e/B":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i,a,r=n("OA+g"),o=n("I7vG"),s=n("LNSM"),l=n("WOlp"),c=n("7Hnf"),d=n("viRF"),u=n("zR/0"),p=n("gy42"),h=n("6fbX"),m=n("lrqh"),g=n("hoSD");!function(e){let t;!function(e){e.Like="Like",e.Dislike="Dislike"}(t=e.FeedbackType||(e.FeedbackType={}))}(i||(i={})),function(e){function t(e){switch(e){case i.FeedbackType.Like:return l.n.EMOTION_LIKE;case i.FeedbackType.Dislike:return l.n.EMOTION_DISLIKE;default:return Object(h.d)(e)}}function n(e){return Object(o.pipe)(d.b.fromNumber(e.confidence),m.b.map(t=>({emoji:e.emoji,name:e.name,confidence:t,feedback:m.g.none})))}function a(e){return e.reduce((e,t)=>(e[t.name]=t,e),{})}e.toCapiFeedback=t,e.create=function(e,i,l){const h=s.a.create({}),f=[e.pipe(u.a.filter(c.b.is("emotions")),u.a.map(e=>Object(o.pipe)(function(e){const[t,i]=g.a.partition(e.map(n),m.b.isRight);return t.length===e.length?m.b.right(t.map(m.b.unsafeGet)):m.b.left(Object(o.pipe)(i.map(m.b.swap).map(m.b.unsafeGet).join(";")))}(e.emotions),m.b.map(a),m.b.fold(e=>(l.error("Failed to parse emotions from capi",{rejectionReason:e}),{}),r.identity)))).subscribe(p.b.toAtom(h))];return{emotions:h.view(e=>Object.values(e).sort((e,t)=>d.b.ord.compare(t.confidence,e.confidence))),sendEmotionFeedback:(e,n)=>Object(o.pipe)(function(e,t){return void 0===e[t]?m.b.left(new Error("Tried to send feedback for non-existing emotion")):Object(o.pipe)(e[t].feedback,m.g.fold(()=>m.b.right(void 0),()=>m.b.left(new Error("Tried to send feedback for an emotion which already has one"))))}(h.get(),e),m.b.map(()=>{i.sendFeedback({emotionName:e,kind:t(n)})(),h.modify(t=>Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},t[e]),{feedback:m.g.some(n)})}))})),dispose:()=>f.forEach(e=>e.unsubscribe())}}}(a||(a={}))},"5RoT":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i,a=n("a5W6"),r=n("nJQv"),o=n("OA+g"),s=n("I7vG"),l=n("2Jhg"),c=n("LNSM"),d=n("mbuk"),u=n("9yh5"),p=n("dE97"),h=n("kMag"),m=n("GUi3"),g=n("yA7V"),f=n("GGUR"),b=n("zR/0"),y=n("gy42"),v=n("XpkH"),k=n("vVVP"),w=n("UEGg"),S=n("5o4I"),_=n("BeBM"),C=n("bFfh"),E=n("XCjp"),O=n("lrqh"),A=n("D9EC"),x=n("7b34"),T=n("hoSD"),M=n("PrA7"),j=n("Wcgi"),I=n("VfH/"),R=n("bZiY");!function(e){e.create=(e,t,n,i)=>(a,r)=>j.a.Change.getCreateAction({classes:t({state:r.to.visualState,isBulkApplied:p.a.State.isBulkApplied(n("MarkActionFactory.create").state),range:a,isAnimated:!r.to.updateRanges&&Object(v.d)(r),isEnclosed:i}),range:a,order:e({range:a})}),e.update=(e,t,n,i)=>(a,r)=>j.a.Change.getUpdateAction({classes:t({state:r.to.visualState,isBulkApplied:p.a.State.isBulkApplied(n("MarkActionFactory.update").state),range:a,isAnimated:!r.to.updateRanges&&Object(v.d)(r),isEnclosed:i}),range:a,order:e({range:a})}),e.remove=e=>j.a.Change.getRemoveAction({range:e},j.a.Change.RemoveType.partial)}(i||(i={}));const N=300;class L{constructor(e,t,n,i,a,r,l=!1,u,m,y,k){this._ded=e,this._state=t,this._alertList=n,this._alertsReader=i,this._alertsService=a,this._alertRangeService=r,this._useHighHighlights=l,this._marksRenderer=u,this._alertsFilterService=m,this._getActiveAlert=y,this._suggestionsVisualMode=k,this._marksMap=new Map,this._log=M.Monitoring.Logging.getLogger("MarksViewModelImpl",M.Logging.LogLevel.DEBUG),this._subs=new f.a.Keeper,this._filterKit=c.a.create(O.g.none),this._filteredAlerts=c.a.create(O.g.none),this._alertStateDiff=this._alertList.state.pipe(b.a.pairwise(),b.a.map(([e,t])=>g.a.diff(e,t)),b.a.filter(Object(A.m)(x.a.isEmpty))),this.events=new b.a.Subject,this.changeMarks=e=>this._ded.changeMarks(e),this._getMarkAlert=({id:e})=>Object(s.pipe)(O.g.fromNullable(this._marksMap.get(e)),O.g.filter(v.a.notAnyOf(v.c.disposed)),O.g.chain(e=>Object(s.pipe)(this._alertsReader.getById(e.alert.id),O.g.map(t=>({alert:t,markAlert:e}))))),this._isAlertVisible=e=>Object(s.pipe)(this._filterKit.get(),O.g.filter(t=>t.filter(e)),O.g.isSome),this._getVisibleMarkAlert=({id:e})=>Object(s.pipe)(this._getMarkAlert({id:e}),O.g.filter(e=>this._isAlertVisible(e.alert))),this.getMarkByAlert=e=>Object(s.pipe)(this._getVisibleMarkAlert(e.alert),O.g.chain(t=>t.markAlert.markByIndex(e.highlightIndex))),this._isHighlightInteractable=e=>{const t=Object(s.pipe)(O.g.fromNullable(this._marksMap.get(e.alert.id)),O.g.fold(()=>!1,e=>v.a.isOrWillBe(v.c.highlighted)(e)));return!Object(s.pipe)(S.a.getHighlightRange(e),O.g.fold(()=>!1,h.b.isEnclosingView))||t},this.getAlertByMark=e=>Object(s.pipe)(this._alertsReader.getInteractable(h.a.fromRangeIdToAlertId(e.id)),O.g.filter(this._isAlertVisible),O.g.chain(t=>Object(s.pipe)(E.c.getHighlightIndex(t,e.range()),O.b.map(e=>({alert:w.a.fromModel(t),highlightIndex:e})),O.g.fromEither)),O.g.filter(this._isHighlightInteractable)),this._highlightedAlertId=O.g.none,this.highlightAlertHighlight=e=>Object(s.pipe)(this._getMarkAlert(e),O.g.map(e=>e.markAlert),O.g.filter(v.a.canBeChanged()),O.g.fold(()=>O.b.left(new Error("Cannot highlight alert")),t=>(Object(s.pipe)(this._highlightedAlertId,O.g.tap(t=>{this._log.warn(`Trying to highlight alert ${e.id} but previously highlighted alert ${t} is not unhighlighted`),this._unhighlightAlertHighlight({id:t})})),this._highlightedAlertId=O.g.some(e.id),t.scheduleApply(v.c.highlighted),this._marksRenderer.enqueue([t],I.b.Priority.asap),O.b.right({dispose:()=>this._unhighlightAlertHighlight(e)})))),this._unhighlightAlertHighlight=e=>Object(s.pipe)(e,e=>(O.g.exists(t=>t===e.id)(this._highlightedAlertId)||this._log.warn(`Trying to unhighlight alert ${e.id} but nothing is highlighted`),this._highlightedAlertId=O.g.none,e),this._getMarkAlert,O.g.map(e=>e.markAlert),O.g.filter(e=>v.a.canBeChanged()(e)&&!v.a.isOrWillBe(v.c.hidden)(e)&&!Object(s.pipe)(this._state.view(_.e.getActiveAlert(this._getActiveAlert)).get(),O.g.exists(t=>t.id===e.alert.id))),O.g.map(e=>this._marksRenderer.enqueue([e.scheduleApply(v.c.visible)],I.b.Priority.asap))),this._onTransitionEnd=e=>(t,n)=>{v.c.isApplied(t.to.visualState)&&requestAnimationFrame(()=>{Object(s.pipe)(n.mark,O.g.fold(()=>b.a.of(O.b.left(new Error("Cannot animate mark, as it not exists"))),e=>Object(s.pipe)(b.a.mergeStatic(b.a.mergeStatic(b.a.timer(N).pipe(b.a.mapTo(O.b.right(Object(o.constVoid)()))),e.fromMarkEvent("animationend"),e.fromMarkEvent("animationcancel")).pipe(b.a.first())))),Object(o.flow)(b.a.first(),b.a.map(O.b.fold(e=>(e instanceof d.a.CollapsedMarkError?this._log.debug("Cannot animate applied alert as it is collapsed",e):this._log.error("Cannot animate applied alert",e,{alertId:n.alert.id,currentState:n.state,alertInfo:{title:n.alert.title,patternName:n.alert.patternName}}),b.a.timer(N/2).pipe(b.a.map(o.constVoid))),b.a.of))),t=>{t.subscribe(()=>{v.a.isOrWillBe(v.c.disposed)(n)?this._log.info("Alert disposed before apply animation finished"):(this.events.next({type:E.b.Type.AppliedAlertAnimationFinished,alert:e}),p.a.isBulkApplied(e)||this._handleRemovedAlerts([e]))})})})},this._subs.push(this._listenMarksState(),this._listenFilterChange(),this._listenFilteredAlerts(),this._rerenderAllMarksOnUnderlineModeChange()),Object(A.r)("marksManager",this)}dispose(){this._subs.dispose()}flush(){const e=(new Date).getTime();return this._alertList.flushAlerts(),this._marksRenderer.flush().finally(()=>{const t=(new Date).getTime()-e;this._log.info("Flush performed",{duration:t})})}focusAlertHighlight(e){return Object(s.pipe)(this._getMarkAlert(e.alert),O.g.fold(()=>O.b.left(new Error("Cannot focus given alert")),t=>(v.a.canBeChanged()(t.markAlert)&&(p.a.isSuperAlert(t.alert)&&t.markAlert.scheduleForceUpdate(),t.markAlert.scheduleApply(v.c.highlighted),this._marksRenderer.enqueue([t.markAlert],I.b.Priority.asap)),O.b.right({dispose:()=>this._unfocusAlertHighlight(e)}))))}_unfocusAlertHighlight(e){Object(s.pipe)(e.alert,O.g.some,O.g.filter(e=>!Object(s.pipe)(this._highlightedAlertId,O.g.exists(t=>t===e.id))),O.g.chain(this._getMarkAlert),O.g.filter(e=>!v.a.isOrWillBe(v.c.hidden)(e.markAlert)&&v.a.canBeChanged()(e.markAlert)),O.g.map(e=>{v.a.isOrWillBe(v.c.success)(e.markAlert)?(this._handleRemovedAlerts([e.alert]),this._marksRenderer.enqueue([e.markAlert],I.b.Priority.asap)):this._marksRenderer.enqueue([e.markAlert.scheduleApply(v.c.visible)],I.b.Priority.asap)}))}moveCursorToHighlight(e,t){return Object(s.pipe)(this._getMarkAlert(e.alert),O.g.chain(t=>t.markAlert.markByIndex(e.highlightIndex)),O.g.chain(e=>O.g.fromEither(e.range())),O.g.fold(()=>O.b.left(new Error("Cannot find mark for given range")),e=>{const{index:n,length:i}=this._ded.getCursor();if(0===i&&(n<e.start||n>e.end)){const n=Math.min(e[t],this._ded.getLastPossibleCursorPosition());return Object(s.pipe)(this._ded.setCursor(n,0),O.b.orElse(e=>(this._log.error(`Failed to set cursor to ${n}. ${e}`),O.b.left(e))))}return O.b.right(void 0)}))}ensureAlertHighlightInViewport(e,t,n){return Object(s.pipe)(this._getVisibleMarkAlert(e.alert),O.g.map(e=>e.markAlert),O.g.chain(t=>t.markByIndex(e.highlightIndex)),O.g.fold(()=>(this._log.warn("Cannot ensureAlertHighlightInViewport, because mark is None"),b.a.EMPTY),e=>this._ded.scrollToMark(e.id,{animate:n,paddingTop:t})))}_listenFilterChange(){return this._state.pipe(b.a.distinctUntilChanged((e,t)=>!(e.currentLens.id!==t.currentLens.id||_.e.isWithPriorityList(e)&&_.e.isWithPriorityList(t)&&C.a.WithPriority.isNonPriorityListOpened(e.currentLens)!==C.a.WithPriority.isNonPriorityListOpened(t.currentLens))),b.a.map(e=>O.g.some({filter:Object(A.p)(this._alertsFilterService.alertVisibleInText(e.currentLens.id,C.a.WithPriority.nonPriorityAlertsVisible(e)),p.a.isBulkApplied),lensId:e.currentLens.id}))).subscribe(y.b.toAtom(this._filterKit))}getFirstMark(){return this._alertList.state.pipe(b.a.map(g.a.find(e=>p.a.isCritical(e.alert))),b.b.compactMap(e=>b.a.of(Object(s.pipe)(this._getMarkAlert(e.alert),O.g.chain(e=>e.markAlert.mark)))))}_listenFilteredAlerts(){return this._filterKit.pipe(b.a.withLatestFrom(this._alertList.state),b.a.map(([e,t])=>{const n=Object(s.pipe)(e,O.g.map(e=>e.filter));return Object(s.pipe)(t,g.a.reduce({},(e,t)=>{return Object(s.pipe)(n,O.g.map(e=>e(t.alert)),O.g.getOrElse(o.constTrue))&&p.a.isRegistered(t.alert)&&(e[t.alert.id]=t.alert),e}),e=>O.g.some({filter:n,alerts:e}))})).subscribe(y.b.toAtom(this._filteredAlerts))}_schedule(e,t){a.isNonEmpty(e)&&(this._log.trace(`Schedule alerts ${e.map(e=>e.alert.id)} to ${t}`),this._marksRenderer.enqueue(e.map(e=>e.scheduleApply(t)),I.b.Priority.low))}_handleRemovedAlerts(e){Object(s.pipe)(e,a.filterMap(({id:e})=>Object(s.pipe)(this._marksMap.get(e),O.g.fromNullable,O.g.tap(()=>this._marksMap.delete(e)))),r.fromArray,O.g.tap(e=>this._schedule(e,v.c.disposed)))}_handleUpdatedAlerts(e){if(!e.length)return;const t=Object(s.pipe)(this._filteredAlerts.get(),O.g.chain(e=>e.filter)),{activeToHandle:n,removedToHandle:i}=e.reduce((e,n)=>(this._alertsFilterService.alertCanBeDisplayed(n)||p.a.isBulkApplied(n)?l.f.of(this._marksMap.get(n.id)).fold(()=>{Object(s.pipe)(t,O.g.map(e=>e(n)),O.g.getOrElse(()=>!0))&&e.activeToHandle.push(n)},e=>{e.scheduleUpdate(),v.a.isOrWillBe(v.c.success)(e)?e.scheduleApply(v.c.highlighted):this._marksRenderer.enqueue([e],I.b.Priority.asap)}):l.f.of(this._marksMap.get(n.id)).forEach(t=>{n.allowUpdate&&p.a.isCapiDone(n)&&p.a.isRated(n)&&v.a.isOrWillBe(v.c.highlighted)(t)?(t.scheduleUpdate(),t.scheduleApply(v.c.success),this._marksRenderer.enqueue([t],I.b.Priority.asap)):e.removedToHandle.push(n)}),e),{activeToHandle:[],removedToHandle:[]});this._handleVisibleAlerts(n),this._handleRemovedAlerts(i)}_handleVisibleAlerts(e){if(a.isEmpty(e))return;const t=e.map(e=>{if(this._marksMap.has(e.id))return this._marksMap.get(e.id);{const t=p.a.isSuperAlert(e)?u.a.byAhr(this._state.view(_.e.getActiveItem(this._getActiveAlert)).view(Object(o.flow)(O.g.filter(t=>t.activeAlert.id===e.id),O.g.chain(t=>Object(s.pipe)(O.g.fromNullable(e.getHighlightRanges()[t.activeHighlightIndex]),O.g.tapLeft(()=>{this._log.error(`Alert highlight ranges of length ${e.getHighlightRanges().length} do not contain a range at the given AHI: ${t.activeHighlightIndex}`)})))))):u.a.byRangeType(e),n=n=>Object(u.c)({getMarkType:t,theme:u.b.fromAlert(e,this._useHighHighlights,Object(R.a)(this._suggestionsVisualMode.get()))})(n),a=t=>Object(s.pipe)(this._alertsReader.getById(e.id),O.g.alt(()=>(Boolean(t)&&this._log.warn("Could not find alert for provided MarkAlert",{alert:e,source:t}),O.g.some(e))),O.g.map(w.a.fromModel),O.g.unsafeGet),r=({range:t})=>{const n=m.a.getSortOrder(e.lensType);return h.b.isEnclosingView(t())?n+1:n},l=p.a.hasEnclosingHighlight(e),c=new k.a(a,this._alertsService,this._alertRangeService,this.changeMarks,i.create(r,n,a,l),i.update(r,n,a,l),i.remove,this._onTransitionEnd(e));return this._marksMap.set(e.id,c),c}}).filter(e=>v.a.isOneOf(v.c.initial)(e)||v.a.isOrWillBe(v.c.hidden)(e)||v.a.isOrWillBe(v.c.visible)(e)||v.a.isOrWillBe(v.c.faded)(e));this._schedule(t,v.c.visible)}_handleAcceptedAlerts(e){return Object(s.pipe)(e,a.map(this._getMarkAlert),a.compact,e=>{e.length&&(p.a.isBulkApplied(e[0].alert)||this.moveCursorToHighlight({alert:w.a.fromModel(e[0].alert),highlightIndex:0},"end"),this._marksRenderer.enqueue(e.map(e=>e.markAlert.scheduleApply(v.c.applied)),I.b.Priority.immediately))})}_rerenderAllMarksOnUnderlineModeChange(){return this._suggestionsVisualMode.pipe(b.a.skip(1)).subscribe(()=>{const e=Array.from(this._marksMap.values());e.forEach(e=>e.scheduleForceUpdate()),this._marksRenderer.enqueue(e.map(e=>(e.scheduleForceUpdate(),e)),I.b.Priority.low)})}_listenMarksState(){const e=e=>Object.assign({activeAlerts:[],updatedAlerts:[],removedAlerts:[],acceptedAlerts:[],hiddenMarkAlerts:[]},e);return b.a.mergeStatic(this._filteredAlerts.pipe(b.b.compactMap(({alerts:t})=>b.a.of(e({hiddenMarkAlerts:Array.from(this._marksMap.values()).filter(e=>void 0===t[e.alert.id]&&v.a.notAnyOf(v.c.applied,v.c.success)(e)&&!p.a.State.isBulkApplied(e.alert.state)),activeAlerts:T.e.toArray(t)})))),this._alertStateDiff.pipe(b.a.withLatestFrom(this._filteredAlerts),b.a.map(([t,n])=>Object(s.pipe)(t,x.a.reduce(e({}),(e,t)=>(this._marksMap.has(t.alert.id)&&e.removedAlerts.push(t.alert),e),(e,t)=>(p.a.isAccepted(t.alert)?e.acceptedAlerts.push(t.alert):e.updatedAlerts.push(t.alert),e),(e,t)=>(Object(s.pipe)(n,O.g.chain(e=>e.filter),O.g.fold(()=>e.activeAlerts.push(t.alert),n=>n(t.alert)&&e.activeAlerts.push(t.alert))),e)))))).pipe(b.a.tap(({activeAlerts:e,removedAlerts:t,updatedAlerts:n,acceptedAlerts:i,hiddenMarkAlerts:a})=>(this._handleRemovedAlerts(t),this._handleUpdatedAlerts(n),this._handleVisibleAlerts(e),this._handleAcceptedAlerts(i),this._schedule(a,v.c.hidden),()=>this._marksRenderer.dispose())),b.a.catchError(this._log.handler("_listenMarksState exception").error),b.a.retry()).subscribe()}}!function(e){e.Mock=class{constructor(){this.events=new b.a.Subject,this.dispose=o.constVoid,this.focusAlertHighlight=()=>O.b.left(new Error("Method not implemented.")),this.highlightAlertHighlight=()=>O.b.left(new Error("Method not implemented.")),this.moveCursorToHighlight=o.constVoid}getFirstMark(){throw new Error("Method not implemented.")}flush(){return Promise.resolve()}ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}}}(L||(L={}))},"5VIZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n("93Qa"),a=n("GRZr"),r=n("fOOC"),o=n("BbAu"),s=n("OA+g"),l=n("jPXh"),c=n("7l21"),d=n("94k3"),u=n("FiSa"),p=n("4ae2"),h=n("24uI"),m=n("bYZB"),g=n("+JVj"),f=n("mHcA"),b=n("lrqh"),y=n("7b34"),v=n("6fbX"),k=n("hoSD"),w=n("YXP7"),S=n("jlxt");const _=l.v({_tag:l.p("None")}),C=l.p("Some");function E(e,t=`Option<${e.name}>`){return new l.c(t,function(e,t=`Option<${e.name}>`){return l.A([_,l.v({_tag:C,value:e},`Some<${e.name}>`)],t)}(e).is,(t,n)=>null==t?l.x(b.g.none):Object(s.pipe)(e.validate(t,n),b.b.map(b.g.some)),t=>b.g.toNullable(Object(s.pipe)(t,b.g.map(e.encode))))}const O=l.p("Left"),A=l.p("Right"),x=l.p("Both");function T(e,t,n=`SymmetricDiff<${e.name}, ${t.name}>`){return function(e,t,n=`Map<${e.name}, ${t.name}>`){const i=l.t(e,t,n);return new l.c(n,n=>{if(n instanceof Map){let i=!0;return n.forEach((n,a)=>{i=i&&e.is(a)&&t.is(n)}),i}return!1},(e,t)=>Object(s.pipe)(i.validate(e,t),b.b.map(e=>new Map(Object.entries(e)))),e=>i.encode(k.e.fromEntries(e)))}(e,function(e,t,n=`These<${e.name}, ${t.name}>`){return l.A([l.v({_tag:O,left:e},`Left<${e.name}>`),l.v({_tag:x,left:e,right:t},`Both<${e.name}>`),l.v({_tag:A,right:t},`Right<${e.name}>`)],n)}(t,t,`Diff<${t.name}>`),n)}var M;!function(e){let t,n,_,C,O,A,x,M;!function(e){let t;!function(e){e.codec=l.n([l.A([l.m({insert:l.w}),l.m({insert:l.t(l.w,l.B)})]),l.r({attributes:l.t(l.w,l.B)})])}(t=e.Insert||(e.Insert={}));const n=l.n([l.m({retain:l.q}),l.r({attributes:l.t(l.w,l.B)})]),i=l.m({delete:l.q});e.codec=l.A([t.codec,i,n])}(t=e.DeltaOp||(e.DeltaOp={})),function(e){e.codec=l.f(t.codec,"ops")}(n=e.DeltaOps||(e.DeltaOps={})),function(e){let t;!function(e){let t,n,i;e.formatting=l.r({bold:l.g,bulletList:l.g,dashedList:l.g,header1:l.g,header2:l.g,italic:l.g,orderedList:l.g,strike:l.g,underline:l.g}),function(t){t.codec=l.m({source:l.p(m.g.Meta.Source.user),formatting:e.formatting})}(t=e.User||(e.User={})),function(t){t.codec=l.m({source:l.p(m.g.Meta.Source.api),formatting:e.formatting})}(n=e.Api||(e.Api={})),function(t){t.codec=l.m({source:l.p(m.g.Meta.Source.doubleClick),selectedWord:l.w,formatting:e.formatting})}(i=e.DoubleClick||(e.DoubleClick={})),e.codec=l.A([t.codec,n.codec,i.codec]),e.show=o.a({source:o.e})}(t=e.Meta||(e.Meta={})),e.codec=l.m({index:l.q,length:l.q,meta:t.codec}),e.show=o.a({index:o.d,length:o.d,meta:t.show})}(_=e.Selection||(e.Selection={})),function(e){e.codec=l.m({start:l.q,end:l.q,meta:l.m({id:d.d.Type.opaque(l.w),view:l.A([l.p("underline"),l.p("background"),l.p("full"),l.p("focus"),l.p("enclosing"),l.p("underline_start")]),type:l.A([l.p("visible"),l.p("hidden")]),color:d.d.Type.createStringEnum(S.a.Meta.Color,"impact"),underline:l.A([l.p("solid"),l.p("dotted"),l.p("none")]),highlight:l.A([l.p("solid"),l.p("none")]),animation:l.A([l.p("none"),l.p("firstRender"),l.p("apply"),l.p("success"),l.p("bulkApply"),l.p("select")]),order:l.q})}),e.show=o.a({start:o.d,end:o.d,meta:o.a({id:S.a.Id.show,type:o.e,color:o.e,underline:o.e,highlight:o.e,order:o.d})})}(C=e.Mark||(e.Mark={})),function(e){let t;!function(e){e.codec=l.m({animateMode:l.A([l.p(w.a.Meta.AnimateMode.fake),l.p(w.a.Meta.AnimateMode.fast),l.p(w.a.Meta.AnimateMode.initial),l.p(w.a.Meta.AnimateMode.none)])}),e.show=o.a({animateMode:o.e})}(t=e.Meta||(e.Meta={})),e.codec=l.m({y:l.q,x:l.q,meta:t.codec}),e.show=o.a({y:o.d,x:o.d,meta:t.show})}(O=e.Scroll||(e.Scroll={})),function(e){e.changeDataC=l.m({ops:n.codec,prevLen:l.q}),e.changeC=new l.c("DeltaChange",e=>"object"==typeof e&&null!==e&&"kind"in e&&"delta"===e.kind,(t,n)=>Object(s.pipe)(e.changeDataC.validate(t,n),b.b.map(e=>u.a.delta(new p.a(e.ops),e.prevLen||void 0))),t=>e.changeDataC.encode({ops:t.delta.ops,prevLen:t.prevLen}));const i=l.m({ops:l.f(t.Insert.codec,"ops")});e.resetChangeC=new l.c("DeltaChange",e=>"object"==typeof e&&null!==e&&"kind"in e&&"reset"===e.kind,(e,t)=>Object(s.pipe)(i.validate(e,t),b.b.map(e=>u.a.unsafeRes(new p.a(e.ops)))),e=>i.encode({ops:e.delta.ops})),e.show={show:e=>e.toString()}}(A=e.DeltaChange||(e.DeltaChange={})),function(t){let n,d;t.codec=l.m({change:E(A.changeC),marks:T(C.codec.props.meta.props.id,C.codec),selection:E(l.y([_.codec,_.codec])),scroll:E(l.y([O.codec,O.codec])),focus:E(l.g)}),function(e){e.show=o.a({change:b.g.getShow(A.show),marks:y.a.getShow(S.a.Id.show,C.show),selection:b.g.getShow(o.b(_.show,_.show)),scroll:b.g.getShow(o.b(O.show,O.show))})}(n=t.Type||(t.Type={})),function(e){e.show={show:Object(s.flow)(t.codec.decode,b.b.map(n.show.show),b.b.getOrElse(()=>"Invalid StateDiff"))}}(d=t.JSON||(t.JSON={})),t.empty={change:b.g.none,marks:S.a.Collection.Diff.monoid.empty,selection:b.g.none,scroll:b.g.none,focus:b.g.none},t.isChangeEmpty=e=>Object(s.pipe)(e.change,b.g.forAll(e=>t.areOperationsEmpty(e.delta.ops))),t.areOperationsEmpty=e=>0===e.length||1===e.length&&h.a.isRetain(e[0])&&b.g.isNone(h.a.getAttrs(e[0])),t.getEmpty=()=>({change:b.g.none,marks:S.a.Collection.Diff.monoid.empty,selection:b.g.none,scroll:b.g.none,focus:b.g.none}),t.tryUpdateRangesPosition=e=>t=>Object(s.pipe)(e,b.g.map(e=>Object(f.c)(e,[t]).changed),b.g.chain(b.a.head),b.g.getOrElse(()=>t));const p=(e,n)=>{const i=Object(s.pipe)(n.marks,y.a.foldMap(b.a.getMonoid())(e=>[e.meta.id],Object(s.constant)(b.a.empty),Object(s.constant)(b.a.empty)));return y.a.fromMutation(a=>{Object(s.pipe)(e,y.a.forEach((e,r)=>{i.includes(r)||a.set(r,Object(s.pipe)(e,t.tryUpdateRangesPosition(n.change),b.m.left))},(e,r,o)=>{i.includes(o)||a.set(o,b.m.both(Object(s.pipe)(e,t.tryUpdateRangesPosition(n.change)),Object(s.pipe)(r,t.tryUpdateRangesPosition(n.change))))},(e,i)=>{a.set(i,Object(s.pipe)(e,t.tryUpdateRangesPosition(n.change),b.m.right))}))})};t.rebase=(e,t)=>n=>{Object(v.g)(Object(s.pipe)(e.change,b.g.forAll(u.a.isDelta))&&Object(s.pipe)(n.change,b.g.forAll(u.a.isDelta)),"Rebase of DeltaChanges is supported only");const a=k.e.update(e,{marks:p(e.marks,n),change:Object(s.pipe)(e.change,b.g.chain(e=>Object(s.pipe)(n.change,b.g.map(n=>e.transform(n,t)),b.g.alt(()=>b.g.some(e)))))});return Object(s.pipe)(Object(s.tuple)(e.change,n.change),Object(s.tupled)(i.sequenceT(b.g.option)),b.g.filter(([e,t])=>e.delta.ops.length>0&&t.delta.ops.length>0),b.g.fold(()=>b.b.right(a),()=>b.b.left(a)))};const m={empty:u.a.ret(0),concat:(e,t)=>e.compose(t)};t.unwrap=e=>Object(s.pipe)(e,b.b.fold(s.identity,s.identity)),t.monoid=a.getStructMonoid({change:b.g.getMonoid(m),marks:S.a.Collection.Diff.monoid,selection:b.g.getMonoid(r.getTupleSemigroup(r.getFirstSemigroup(),r.getLastSemigroup())),scroll:b.g.getMonoid(r.getTupleSemigroup(r.getFirstSemigroup(),r.getLastSemigroup())),focus:b.g.getMonoid(r.semigroupAll)});t.validate=(e,t=0)=>Object(s.pipe)(e.change,b.g.map(n=>{const i=[],a=n.prevLen+n.length,r=a>t?a:t;return((e,t)=>Object(s.pipe)(e,b.g.fold(s.constTrue,([,e])=>e.index+e.length<=t)))(e.selection,r)||i.push("Selection diff is not valid"),((e,t)=>Object(s.pipe)(e,y.a.filter(e=>!g.b.isValid(t)(e),(e,n)=>!g.b.isValid(t)(n),e=>!g.b.isValid(t)(e)),y.a.isEmpty))(e.marks,r)||i.push("Marks diff is not valid"),a>=0||i.push("TextLen is not valid"),0===i.length?b.b.right(e):b.b.left(i.join(", "))}),b.g.getOrElse(()=>b.b.right(e))),t.decodeAndValidate=(t,n=0)=>Object(s.pipe)(e.StateDiff.codec.decode(t),b.b.mapLeft(e=>c.PathReporter.report(b.b.left(e)).join(", ")),b.b.chain(t=>e.StateDiff.validate(t,n))),t.isEmpty=e=>Object(s.pipe)(e.change,b.g.forAll(e=>0===e.delta.ops.length))&&y.a.isEmpty(e.marks)&&b.g.isNone(e.scroll)&&b.g.isNone(e.selection)&&b.g.isNone(e.focus)}(x=e.StateDiff||(e.StateDiff={})),function(e){e.codec=l.m({text:A.resetChangeC,scroll:O.codec,selection:_.codec}),e.empty={text:u.a.resFromText(""),scroll:w.a.empty,selection:m.g.empty}}(M=e.InitialState||(e.InitialState={}))}(M||(M={}))},"6Gma":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return E}));var i=n("ERkP"),a=n("OA+g"),r=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("LNSM"),c=n("94k3"),d=n("rk+4"),u=n("3rlE"),p=n("NaPV"),h=n("4L0w"),m=n("jAl6"),g=n("BugA"),f=n("QshB"),b=n("e12y"),y=n("lRnN"),v=n("9/oM"),k=n("lrqh"),w=n("XaD9"),S=n("/by5"),_=n("xm6m");const C=({documentModel:e,modalManager:t,navigationViewModel:n,features:a})=>{const{goals:r}=i.useContext(d.a.Context),{gnarSpec:c,pageId:m}=i.useContext(w.a.Context),b=t.state.view(k.g.exists(e=>e.instance.type===p.d.SetGoals)),C=t.state.view(k.g.exists(e=>e.instance.type===p.d.Performance));return i.createElement(o.a.header,{className:_.headerWrapperHigh},i.createElement(h.a,{small:!0}),i.createElement(v.b,{alignment:"bottom",eventType:"onclick",stepId:y.a.StepId.Step8,title:"Document statistics",message:"See how your writing stacks up against other Grammarly users.",dotPosition:{kind:"findFirstButton",buttonOrder:0,position:v.a.center},themes:{containerWrapperClassName:_.performanceOnboardingContainer}},i.createElement(E,{checkingState:e.checkingState,score:e.score,scoreStatus:e.scoreStatus,isActive:C,onClick:()=>{n.events.next({type:"performance"}),c.documentStatisticsButtonClick(m)}})),i.createElement(h.a,{small:!0}),i.createElement(v.b,{alignment:"bottom",eventType:"onclick",stepId:y.a.StepId.Step1,title:"Set Goals",message:"Tell Grammarly about your writing goals to receive more precise suggestions.",dotPosition:{kind:"findFirstButton",buttonOrder:0,position:v.a.center},themes:{containerWrapperClassName:_.goalsOnboardingContainer,notificationClassName:_.goalsNotification}},i.createElement(S.b,Object.assign({name:"set-goals",isActive:b,isDisabled:b,title:r.button.title},Object(s.c)(_.headerBtn),{onClick:()=>{n.events.next({type:"setGoals"}),c.setGoalsButtonClick(m)}}),i.createElement(u.d.Arrow,{direction:u.a.right,className:_.arrowIcon}),i.createElement(g.l,{className:_.description},l.a.combine(e.context,e.contextCompleteness,({domain:e,outcomeContext:t},n)=>({domain:e,outcomeContext:t,completeness:n})).view(({domain:e,completeness:t,outcomeContext:n})=>a.denali.isStudentsOFE&&k.g.contains("academic")(e)&&k.g.isSome(n)?r.button.subtitleAcademic(r.sections.format.formatTitle(k.g.unsafeGet(n).citation)):r.button.subtitle(t,f.a.TOTAL_GOALS,f.a.MIN_GOALS))))),i.createElement(h.a,{small:!0}),i.createElement("div",{className:_.delimiter}))},E=({checkingState:e,score:t,scoreStatus:n,isActive:p,onClick:h})=>{const m=i.useContext(d.a.Context),f=n.view(e=>Object(r.pipe)(e,k.g.map(e=>e===c.a.Message.ScoresStatus.SENSITIVE),k.g.getOrElse(a.constFalse))),b=l.a.combine(p,f,(e,t)=>e||t);return i.createElement(o.a.Fragment,null,l.a.combine(e,t,(e,t)=>{const n="idle"===e,a=n?Object(r.pipe)(t,k.g.filter(({rank:e})=>100===e),k.g.fold(()=>m.performance.button.score,()=>m.performance.button.score100)):null;return i.createElement(S.b,{name:"performance",isActive:p,isDisabled:b,className:_.performanceBtnHigh,title:void 0,onClick:h},i.createElement(O,{checkingState:e,score:t}),i.createElement("div",null,a),i.createElement(g.l,Object.assign({},Object(s.c)(n&&"checking-complete",_.description,!n&&_.descriptionLoading)),i.createElement(o.a.Fragment,null,f.view(e=>n?e?m.performance.button.statuses.paused:Object(r.pipe)(t,k.g.fold(()=>m.performance.button.statuses.unavailable,()=>m.performance.button.statuses.available)):m.performance.button.statuses.calculating))),i.createElement(u.d.Arrow,{direction:u.a.right,className:_.arrowIcon}))}))},O=({checkingState:e,score:t})=>{const n="idle"===e;return i.createElement(i.Fragment,null,i.createElement(m.a,{variation:"green",size:20,className:b.a.joinClasses([n?_.spinnerFadeOut:_.spinnerFadeIn,_.spinnerScore]),isIdle:n,strokeWidth:5}),Object(r.pipe)(t,k.g.map(({rank:e})=>100===e?i.createElement(u.d.NotificationInfo,{width:18,className:n?_.checkmarkA11yContrast:_.checkmarkFadeOut}):i.createElement(g.k,{className:b.a.joinClasses([_.performanceScore,n?_.performanceScoreFadeIn:_.performanceScoreFadeOut])},e)),k.g.toNullable))}},"6qID":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i,a,r,o=n("7qGb"),s=n("OA+g"),l=n("LNSM"),c=n("zR/0"),d=n("lrqh"),u=n("D9EC"),p=n("6fbX"),h=n("PrA7");!function(e){let t,n;!function(e){e.Default="default",e.TacticSelected="tacticSelected"}(t=e.Type||(e.Type={})),function(e){e.Idle="Idle",e.Loading="Loading"}(n=e.LoadingState||(e.LoadingState={})),e.isDefault=function(e){return e.type===t.Default},e.isPhrases=function(e){return e.type===t.TacticSelected}}(i||(i={})),function(e){e.create=function(e,o,u,h,g,f){const b=l.a.create(t(e)),y=new c.a.Subject,v=c.a.mergeStatic(Object(s.pipe)(y,c.a.tap(Object(s.flow)(r.match({onUpdatePhrases:Object(s.constant)(e=>(f.gnarSpec.ideasGenerateMoreMoreIdeasButtonClicked(f.pageId,e.name,f.pageSessionId),i.isPhrases(e)?Object.assign(Object.assign({},e),{loadingState:i.LoadingState.Loading}):e)),onCollapse:m(u),onInsertPhrase:a((e,{name:t})=>{o(e),f.gnarSpec.ideasSmartPhrasesButtonClicked(f.pageId,e.content,t,f.pageSessionId)}),onDismiss:p(()=>{h(),v.unsubscribe()}),onSelectTactic:n,onIdeate:Object(s.constant)(e=>Object.assign(Object.assign({},e),{type:i.Type.TacticSelected,loadingState:i.LoadingState.Idle}))}),b.modify.bind(b)))),Object(s.pipe)(b,c.a.switchMap(e=>{if(i.isPhrases(e)&&e.loadingState===i.LoadingState.Loading){const t=d.f.last(e.phrases);return Object(s.pipe)(g({tacticId:e.id,lastPhraseId:t.id,outcomeRequest:e.outcomeRequest}),d.l.map(t=>({prevId:e.id,phrases:t})))()}return c.a.EMPTY}),c.a.filter(d.b.isRight),c.a.map(d.b.unsafeGet),c.a.delay(1e3),c.a.tap(e=>b.modify(t=>i.isPhrases(t)&&e.prevId===t.id?Object.assign(Object.assign({},t),{phrases:e.phrases,loadingState:i.LoadingState.Idle}):t)))).subscribe();return{state:b,actions:y}};const t=e=>Object.assign(Object.assign({type:i.Type.Default},d.f.head(e.tactics)),e),n=e=>t=>{const n=t.tactics.find(t=>t.id===e.tacticId);return n?Object.assign(Object.assign({},t),n):(g("DraftAIEditorViewModel").error("Trying to select a missing section",{tactics:t.tactics.map(e=>e.id),selected:e.tacticId}),t)},a=e=>t=>n=>{if(i.isPhrases(n)){const i=n.phrases.find(e=>e.id===t.phraseId);i?e(i,n):g("DraftAIEditorViewModel").error("Trying to insert a missing phrase")}else g("DraftAIEditorViewModel").error("Cannot send phrase from Sections state");return n},p=o.map(Object(s.constant)(s.identity)),m=o.map(Object(s.constant)(t)),g=Object(u.l)(h.Monitoring.Logging.getLogger)}(a||(a={})),function(e){let t;!function(e){e[e.UpdatePhrases=0]="UpdatePhrases",e[e.Collapse=1]="Collapse",e[e.Dismiss=2]="Dismiss",e[e.SelectTactic=3]="SelectTactic",e[e.Ideate=4]="Ideate",e[e.InsertPhrase=5]="InsertPhrase",e[e.SelectMiniCard=6]="SelectMiniCard"}(t=e.Type||(e.Type={})),e.match=e=>n=>{switch(n.type){case t.UpdatePhrases:return e.onUpdatePhrases(n);case t.Collapse:return e.onCollapse(n);case t.Dismiss:return e.onDismiss(n);case t.InsertPhrase:return e.onInsertPhrase(n);case t.SelectTactic:return e.onSelectTactic(n);case t.Ideate:return e.onIdeate(n);default:return Object(p.d)(n)}}}(r||(r={}))},"7FJK":function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return T})),n.d(t,"c",(function(){return M}));var i=n("OA+g"),a=n("1aGC"),r=n("mbuk"),o=n("e12y"),s=n("lrqh"),l=n("hoSD"),c=n("PrA7"),d=n("I7vG");const u=a.import("parchment"),p=a.import("blots/inline"),h=(e,t)=>e>t?1:e<t?-1:0;class m extends u.Inline{static getOrders(e,t){return[p.order.indexOf(e),Boolean(t)&&"object"==typeof t&&"number"==typeof t.order?t.order:-1]}_compareWith(e,t){if(!Boolean(t))return 0;const n=this.formats()[this.statics.blotName];if(!Boolean(n))return 0;const i=m.getOrders(this.statics.blotName,n),a=m.getOrders(e,t);return i[0]===a[0]?i[1]===a[1]?h(this.statics.blotName,e):i[1]-a[1]:i[0]-a[0]}formatAt(e,t,n,i){if(this._compareWith(n,i)<0&&u.query(n,u.Scope.BLOT)){const a=this.isolate(e,t);Boolean(i)&&a.wrap(n,i)}else super.formatAt(e,t,n,i)}optimize(e){if(super.optimize(e),this.parent instanceof u.Inline&&this._compareWith(this.parent.statics.blotName,this.parent.formats()[this.parent.statics.blotName])>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}m.allowedChildren=[m,u.Inline,u.Embed,u.Text];const g=e=>Array.from(e.attributes).map(e=>e.value),f=e=>Boolean(e.parent)?f(e.parent):e;class b extends m{constructor(e){super(e),this._unwrapMe=this.allowUnwrap(),this._unwrapMe&&b._logger.warn("Created self-unwrapped blot",g(this.domNode))}static get _logger(){return void 0===b.__logger&&(b.__logger=c.Monitoring.Logging.getLogger("DEd.custom_inline_blot")),b.__logger}allowUnwrap(){return this.domNode.childNodes.length>0&&Object.getPrototypeOf(this)===b.prototype&&"SPAN"===this.domNode.tagName}optimize(e){super.optimize(e),this._tryUnwrap("optimize")}_unwrap(e,t){return s.b.tryCatchError(()=>{b._logger.info("unwrap happened",{source:e,name:t,position:{index:this.length(),length:this.offset(f(this))}});const n=window.getSelection();if(n.isCollapsed&&n.anchorNode&&(n.anchorNode===this.domNode||n.anchorNode.parentNode===this.domNode&&1===this.domNode.childNodes.length)){const e=this.offset(this.parent)+this.length();this.unwrap(),requestAnimationFrame(()=>Object(d.pipe)(b._restoreSelectionWithinBlot(this.parent,e),s.b.mapLeft(e=>{b._logger.error("Self-unwrapped blot: cannot preserve selection",e,g(this.domNode))})))}else n.anchorNode===this.domNode||n.focusNode===this.domNode?(b._logger.error("Self-unwrapped blot: unknown case",g(this.domNode)),this.unwrap()):this.unwrap()})}formatAt(e,t,n,i){super.formatAt(e,t,n,i),this._tryUnwrap("formatAt")}update(e,t){super.update(e,t),this._tryUnwrap("update")}_tryUnwrap(e){if(this._unwrapMe){if(0===this.children.length)return;Object(d.pipe)(this._unwrap(`tryUnwrap: ${e}`,this.statics.blotName),s.b.mapLeft(t=>{b._logger.warn(`Cannot unwrap on "${e}"`,t)})),this._unwrapMe=!1}}}b.__logger=void 0,b._restoreSelectionWithinBlot=(e,t)=>s.b.tryCatchError(()=>{Object(d.pipe)(s.g.fromNullable(window.getSelection()),s.g.map(n=>{let i=0,a=e.children.head;for(;a&&i+a.length()<t;)i+=a.length(),a=a.next;const r=t-i;n.collapse(a.domNode,r)}))});(()=>{const e=a.import("blots/inline"),t=a.import("blots/block");e.allowedChildren.push(b),t.allowedChildren.push(b),a.register("blots/inline",b,!0)})();const y=a.import("parchment"),v=o.a.style({animation:"none",transition:"none"}),k="mark_underline";var w;!function(e){e.hasValue=e=>!1!==e}(w||(w={}));class S extends b{constructor(){super(...arguments),this._log=c.Monitoring.Logging.getLogger("underline")}get markId(){return this.statics.markId}get dataOrder(){return this.domNode.__dataOrder||0}static create(e){const t=super.create(e);return t.__lastValue=e,Object(i.pipe)(e,s.g.fromPredicate(w.hasValue),s.g.tap(e=>{t.setAttribute("data-mark-id",e.id),t.__dataId=e.id,t.__dataOrder=e.order||0,void 0!==e.order&&t.setAttribute("data-order",`${e.order}`),t.className=l.c.classes(this.className,...Boolean(e.classes)?e.classes:[])})),t}wrap(e,t){return j(this),super.wrap(e,t)}clone(){j(this);const e=super.clone(),t=e.domNode;return t.__dataOrder=this.domNode.__dataOrder,t.__dataId=this.domNode.__dataId,t.__lastValue=this.domNode.__lastValue,e}formatAt(e,t,n,i){if(n===this.statics.blotName)if(null==i);else if(!1===i)super.formatAt(e,t,n,i);else switch(i.action){case r.a.Change.ActionType.create:this._log.warn("Create actions user for already created mark",i);break;case r.a.Change.ActionType.update:this.domNode.className=l.c.classes(this.statics.className,v,...i.classes||[]),0!==e||this.length(),super.formatAt(e,t,n,i);break;default:this._log.warn("Got an unknown action")}else super.formatAt(e,t,n,i)}static formats(e){return e.__lastValue}_tryMergeWithNextIfEq(){const e=this.next;return!!(e instanceof S&&e.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){if(-1!==n.indexOf(k)){const i=e[n],a=t[n];if("object"==typeof i&&"object"==typeof a||i===a)continue;return!1}if(e[n]!==t[n])return!1}return!0}(this.formats(),e.formats()))&&(e.moveChildren(this),e.remove(),!0)}optimize(e){super.optimize(e),A.has(this.domNode.__dataId)?this._tryMergeWithNextIfEq():this.domNode.hasAttribute("data-unwrapped")?this._log.debug("Oops. change in already removed mark",{id:this.markId}):(this._log.warn("Oops. change in already removed mark",{id:this.markId}),(this.domNode.hasAttribute("class")||this.domNode.hasAttribute("style"))&&(this.domNode.setAttribute("data-unwrapped","true"),this.domNode.removeAttribute("class"),this.domNode.removeAttribute("style")))}}S.tagName="SPAN";const _=e=>Boolean(e)&&Object.getPrototypeOf(e)===S,C=e=>`${k}_${e}`,E=e=>`formats/${C(e)}`;class O extends b{allowUnwrap(){return Object.getPrototypeOf(this)===O.prototype&&"SPAN"===this.domNode.tagName}get logName(){return"fake_underline_blot"}}const A=new Set;function x(e){a.register(`formats/${e.blotName}`,e,!0)}function T(e){const t=a.imports[E(e)];if(_(t))return t;{A.add(e);const t=function(e){class t extends S{}return t.className=`mark_underline_${e}`,t.blotName=C(e),t.markId=e,t}(e);return x(t),t}}function M(e){Boolean(a.imports[E(e)])&&x(function(e){return O.blotName=C(e),O.className=`mark_underline_${e}`,O}(e)),A.delete(e)}function j(e){(function(e){return e instanceof S})(e)&&!e.domNode.classList.contains(v)&&e.domNode.classList.add(v),function(e){return e instanceof y.Container}(e)&&e.children.forEach(j)}},"86p/":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("7nmT"),a=n("7qGb"),r=n("I7vG"),o=n("lrqh"),s=n("D9EC"),l=n("6fbX"),c=n("PrA7"),d=n("GUi3"),u=n("zR/0"),p=n("gy42"),h=n("UEGg"),m=n("TC4P"),g=n("BeBM"),f=n("s+3N");class b{constructor(e,t,n,l,m,b,y){this._state=e,this._stateProvider=t,this._alertsReader=n,this._alertsService=l,this._stateSideEffects=m,this._getActiveAlert=b,this._stateTransformer=y,this.focusLens=(e,t,n={toFocus:g.d.defaultOptions.focusBehavior})=>{this._log.debug("focusLens "+e),this._switchLensActions.next({lensId:e,alertSource:t,options:n})},this.focusAlert=(e,t,n)=>{this._switchAlertActions.next({alertHighlight:e,alertSource:t,options:{order:n}})},this._log=c.Monitoring.Logging.getLogger("FocusedLensManagerImpl"),this._ts=c.Monitoring.TimeSeries.root.getMetric("lens_state.manager"),this._switchLensActions=new u.a.Subject,this._switchAlertActions=new u.a.Subject,this._addMetadata=e=>t=>t.pipe(u.a.map(t=>({source:t,metadata:e}))),this._focusLensEffect=({lensId:e,alertSource:t,options:{toFocus:n=g.d.defaultOptions.focusBehavior,order:i}})=>{if(this._log.debug("_focusLensEffect ",{alertSource:t,lensId:e}),d.a.isClosedId(e))return Object(r.pipe)(u.a.of(g.e.Effect.Applicator.Source.override(Object(f.b)())),this._addMetadata({sourceId:"LSM.focusLensEffect"}));if(d.a.isDraftAIId(e))return Object(r.pipe)(u.a.of(g.e.Effect.Applicator.Source.override(Object(f.c)())),this._addMetadata({sourceId:"LSM.focusLensEffect"}));const a=this._state.get(),o=a.patch({switchOrder:Boolean(i)?i:a.switchOrder,alertSource:t});return Object(r.pipe)(this._stateProvider.getLensEventsByLensId(o,e,{focusBehavior:n}),this._addMetadata({sourceId:"LSM.focusLensEffect"}))},this._focusAlertEffect=({alertHighlight:e,alertSource:t,options:n})=>{this._log.isEnabled(c.Logging.LogLevel.TRACE)&&this._log.trace(`focusAlert(${e.alert})`);const i=this._state.get(),a=i.patch({switchOrder:Boolean(n.order)?n.order:i.switchOrder,alertSource:t});return Object(r.pipe)(this._stateProvider.getLensEventsByAlert(a,function(e,t,n){if(e===d.a.SpecialId.Priority||e===d.a.SpecialId.PredictionTakeaways||e===d.a.SpecialId.PredictionEmogenie||e===d.a.SpecialId.RealTimeProofit||e===d.a.SpecialId.FreePremiumAlerts)return e;if(void 0!==n)return n;if(e===d.a.SpecialId.Closed||e===d.a.SpecialId.AllAlerts)return d.a.SpecialId.AllAlerts;return t}(i.currentLens.id,e.alert.lensId,n.lensId),e),this._addMetadata({sourceId:"LSM.focusAlertEffect"}))};const v=this._state.get(),k=this._stateTransformer,w=new u.a.BehaviorSubject(v);this._effects=u.a.mergeStatic(...this._stateSideEffects.map(({when:e,what:t,id:n})=>this._state.view("currentLens","id").view(e).pipe(u.a.switchMap(p.b.orEmpty(Object(r.pipe)(this._effectToApplicator(t),this._addMetadata({sourceId:n})))))),u.a.mergeStatic(this._switchAlertActions.pipe(u.a.map(this._focusAlertEffect)),this._switchLensActions.pipe(u.a.map(this._focusLensEffect))).pipe(u.a.switchAll()));const S=this._ts.getTimer("batched.long_state_change");this._subs=[this._effects.pipe(u.a.catchError((e,t)=>(this._log.error("Got error from effects: ",e),t)),u.a.withLatestFrom(w,({source:e,metadata:t},n)=>({state:e(n),metadata:t})),u.a.catchError((e,t)=>(this._log.error("Got error while applying new state: ",e),t)),u.a.tap(e=>{this._log.isEnabled(c.Logging.LogLevel.TRACE)&&this._log.trace("lens state before state transformer: ",e)}),u.a.map(k),u.a.catchError((e,t)=>(this._log.error("Got error while transforming state: ",e),t))).subscribe(e=>Object(r.pipe)(e,o.b.fold(({state:e,metadata:t})=>{this._log.isEnabled(c.Logging.LogLevel.TRACE)&&this._log.trace(`lens state from: ${t.sourceId}`,e),Object(r.pipe)(this._checkState(e),o.b.fold(t=>this._log.error("incorrect state transition detected",{error:t,state:e}),()=>w.next(e)))},o.b.fold(e=>this._switchAlertActions.next(e),e=>this._switchLensActions.next(e))))),Object(r.pipe)(w,u.a.map(g.e.getActiveAlert(this._getActiveAlert)),u.a.tap(e=>this._log.trace("active alert: ",e)),u.a.distinctUntilChanged(o.g.getEq(h.a.eq).equals),u.a.switchMap(p.b.observeIfExists(e=>Object(r.pipe)(this._alertsService.takeReference(e,"activeCard"),o.b.mapLeft(e=>this._log.error("can not take alertRef",e)),o.b.fold(a.of(s.e),e=>e.dispose))))).subscribe(),Object(r.pipe)(w,u.a.map(e=>{const t=performance.now();i.unstable_batchedUpdates(()=>{this._state.set(e)});const n=performance.now()-t;n>16&&S.recordTime(n)})).subscribe()],g.e.hasCards(v)&&Object(r.pipe)(g.e.getActiveAlertHighlight(this._getActiveAlert)(v),o.g.filter(e=>this._alertsReader.isRegistered(e.alert.id)),o.g.fold(()=>this._switchLensActions.next({lensId:v.currentLens.id,alertSource:v.alertSource,options:{order:v.switchOrder,toFocus:g.e.Effect.FocusBehavior.noFocus}}),e=>this._switchAlertActions.next({alertHighlight:e,alertSource:v.alertSource,options:{lensId:v.currentLens.id,order:v.switchOrder}})))}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_effectToApplicator(e){switch(e.type){case g.e.Effect.Type.Applicator:case g.e.Effect.Type.ItemsApplicator:return e.source;case g.e.Effect.Type.SwitchLens:return e.source.pipe(u.a.tap(e=>this._switchLensActions.next(e)),u.a.switchMapTo(u.a.NEVER));case g.e.Effect.Type.SwitchAlert:return e.source.pipe(u.a.tap(e=>this._switchAlertActions.next(e)),u.a.switchMapTo(u.a.NEVER));default:return Object(l.d)(e)}}_checkState(e){try{if(g.e.hasCards(e)){const t=e.currentLens.items.filter(Object(s.b)(m.a.isAnimatable,m.a.isFocused));Object(l.g)(t.size<=1,"cannot have more than one focused card",()=>JSON.stringify(t))}}catch(e){return o.b.left(e)}return o.b.right(void 0)}}b.toLensAlert=({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:e.lensId})},"8ZZk":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("m6JR"),r=n("OA+g"),o=n("I7vG"),s=n("2Jhg"),l=n("LNSM"),c=n("bYZB"),d=n("+JVj"),u=n("rXcq"),p=n("zR/0"),h=n("GGUR"),m=n("gy42"),g=n("Sk6A"),f=n("hoSD"),b=n("lrqh"),y=n("6fbX"),v=n("D9EC"),k=n("PrA7"),w=n("0lfv");!function(e){let t,n,i,_,C,E;!function(e){e.EditingMode="EditingMode",e.ReadMode="ReadMode"}(t=e.VisualState||(e.VisualState={})),function(e){e.is=e=>e.visualState===t.EditingMode}(n||(n={})),function(e){e.is=e=>e.type!==_.Type.Close&&e.type!==_.Type.ApplyRemove&&e.type!==_.Type.ApplyChange}(i||(i={})),function(e){let n,i,a;!function(e){e.SwitchToReadMode="SwitchToReadMode",e.SwitchToEditMode="SwitchToEditMode",e.ApplyChange="ApplyChange",e.ApplyRemove="ApplyRemove",e.Close="Close"}(n=e.Type||(e.Type={})),function(t){t.is=t=>t.type===e.Type.SwitchToReadMode}(i=e.SwitchToReadMode||(e.SwitchToReadMode={})),function(t){t.create=function(t,n,i){const a=(r=f.f.sanitize(t),f.f.urlContainsProtocol(r)?r:"http://"+r);var r;return t.length>0&&function(e){return Object(o.pipe)(function(e){return b.b.tryCatchError(()=>new URL(e))}(e),b.b.fold(()=>!1,e=>S.includes(e.protocol.replace(":",""))))}(a)&&a.length<=u.a.MAX_URL_LENGTH?b.b.right({type:e.Type.ApplyChange,url:a,textRange:n,rect:i}):b.b.left(void 0)}}(a=e.ApplyChange||(e.ApplyChange={})),e.initMapFromState=function(t){return n=>{const i=t.getFormatting(n.range);if(c.e.LinkPayload.is(i)){const t=i[c.e.Type.link],{rect:a,url:r,range:o}=t[0];return"selection"===n.source?{type:e.Type.SwitchToReadMode,textRange:o,rect:a,url:r}:{type:e.Type.SwitchToEditMode,textRange:o,rect:a,url:r}}{Object(y.g)("toolbar"===n.source,"non-toolbar source can not emit ranges without link formatting");const i=Object(o.pipe)(t.getSelectionRect(),b.b.fold(()=>{throw new y.b("Failed to get selection rect while trying to add link")},r.identity));return{type:e.Type.SwitchToEditMode,textRange:n.range,rect:i,url:""}}}},e.initHandlers=function(t,n,i){const a=()=>b.b.tryCatchError(()=>i.next());return i=>{switch(i.type){case e.Type.SwitchToEditMode:return t.setCursor(i.textRange.start,d.b.size(i.textRange));case e.Type.SwitchToReadMode:return b.b.right(void 0);case e.Type.ApplyChange:return Object(o.pipe)(n.removeLink(i.textRange),b.b.chain(()=>d.b.isEmpty(i.textRange)?Object(o.pipe)(n.insertLinkWithCaption(i.textRange.start,i.url,i.url),b.b.chain(()=>t.setCursor(i.textRange.start+i.url.length,d.b.size(i.textRange)))):n.insertLink(i.textRange,i.url)));case e.Type.ApplyRemove:return Object(o.pipe)(a(),b.b.chain(()=>n.removeLink(i.textRange)),b.b.chain(()=>t.setCursor(i.textRange.start,0)));case e.Type.Close:return a();default:return Object(y.d)(i)}}},e.initMapToView=function(n){return i=>{const a=()=>n.next({type:e.Type.Close});switch(i.type){case e.Type.SwitchToEditMode:const r=l.a.create(i.url);return{visualState:t.EditingMode,rect:i.rect,inputContent:r,isValid:r.view(v.n),textRange:i.textRange,close:a,apply:()=>{Object(o.pipe)(e.ApplyChange.create(r.get(),i.textRange,i.rect),b.b.fold(a,e=>n.next(e)))}};case e.Type.SwitchToReadMode:return{visualState:t.ReadMode,url:i.url,rect:i.rect,textRange:i.textRange,close:a,remove:()=>n.next({type:e.Type.ApplyRemove,textRange:i.textRange}),change:()=>n.next({type:e.Type.SwitchToEditMode,url:i.url,rect:i.rect,textRange:i.textRange})};default:return Object(y.d)(i)}}}}(_||(_={})),function(e){e.eq=a.fromEquals((e,t)=>e.source===t.source&&d.b.ord.equals(e.range,t.range))}(C=e.LinkState||(e.LinkState={})),function(e){e.listenCloseHotkey=function(){return g.a.listen("escape").pipe(p.a.mapTo({type:_.Type.Close}))},e.listenApplyHotkey=function(e){return g.a.listen("enter").pipe(p.a.map(()=>{const t=e.get().filter(n.is);Object(y.g)(t.nonEmpty(),"Called Apply when view wasn't in edit mode");const i=t.get();return Object(o.pipe)(_.ApplyChange.create(i.inputContent.get(),i.textRange,i.rect),b.b.fold(()=>({type:_.Type.Close}),e=>e))}))}}(E||(E={})),e.createManager=function(e,n,a){const c=l.a.create(s.e),d=new p.a.Subject,u=_.initMapFromState(e),g=_.initMapToView(d),f=_.initHandlers(e,n,a.closeLinks),y=k.Monitoring.Logging.getLogger("formattingLinksManager"),v=new h.a.Keeper;return v.push(e.dontFreezeWhen(c.view(w.a.exists(({visualState:e})=>e===t.EditingMode)),"links"),a.formattingLinkState.pipe(p.a.debounce(Object(r.flow)(b.g.filter(e=>"selection"===e.source),b.g.fold(()=>0,()=>200),p.a.timer)),p.a.switchMap(b.g.fold(()=>p.a.of(s.f.empty()),e=>d.pipe(p.a.startWith(u(e)),p.a.switchMap(e=>p.a.mergeStatic(p.a.of(e),E.listenCloseHotkey(),e.type===_.Type.SwitchToEditMode?E.listenApplyHotkey(c):p.a.EMPTY)),p.a.switchMap(e=>Object(o.pipe)(f(e),b.b.fold(e=>(y.error("Error in formatting links",e),a.closeLinks.next(),p.a.EMPTY),()=>i.is(e)?p.a.of(e):p.a.EMPTY))),p.a.map(g),p.a.map(s.h)))),p.a.catchError(e=>(y.error("Error in formatting links",e),p.a.EMPTY))).subscribe(m.b.toAtom(c))),{visualState:c,dispose:()=>v.dispose()}}}(i||(i={}));const S=["http","https","mailto","tel"]},"8cPE":function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var i=n("ERkP"),a=n("8Js9"),r=n("I7vG");function o(e){return getComputedStyle(e)}function s(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i+="px"),e.style[n]=i}return e}function l(e){var t=document.createElement("div");return t.className=e,t}var c="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function d(e,t){if(!c)throw new Error("No element matching method supported");return c.call(e,t)}function u(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function p(e,t){return Array.prototype.filter.call(e.children,(function(e){return d(e,t)}))}var h={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},m={x:null,y:null};function g(e,t){var n=e.element.classList,i=h.state.scrolling(t);n.contains(i)?clearTimeout(m[t]):n.add(i)}function f(e,t){m[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(h.state.scrolling(t))}),e.settings.scrollingThreshold)}var b=function(e){this.element=e,this.handlers={}},y={isEmpty:{configurable:!0}};b.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},b.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(i){return!(!t||i===t)||(n.element.removeEventListener(e,i,!1),!1)}))},b.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},y.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(b.prototype,y);var v=function(){this.eventElements=[]};function k(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function w(e,t,n,i,a){var r;if(void 0===i&&(i=!0),void 0===a&&(a=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,i,a){var r=n[0],o=n[1],s=n[2],l=n[3],c=n[4],d=n[5];void 0===i&&(i=!0);void 0===a&&(a=!1);var u=e.element;e.reach[l]=null,u[s]<1&&(e.reach[l]="start");u[s]>e[r]-e[o]-1&&(e.reach[l]="end");t&&(u.dispatchEvent(k("ps-scroll-"+l)),t<0?u.dispatchEvent(k("ps-scroll-"+c)):t>0&&u.dispatchEvent(k("ps-scroll-"+d)),i&&function(e,t){g(e,t),f(e,t)}(e,l));e.reach[l]&&(t||a)&&u.dispatchEvent(k("ps-"+l+"-reach-"+e.reach[l]))}(e,n,r,i,a)}function S(e){return parseInt(e,10)||0}v.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new b(e),this.eventElements.push(t)),t},v.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},v.prototype.unbind=function(e,t,n){var i=this.eventElement(e);i.unbind(t,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},v.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},v.prototype.once=function(e,t,n){var i=this.eventElement(e),a=function(e){i.unbind(t,a),n(e)};i.bind(t,a)};var _={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function C(e){var t=e.element,n=Math.floor(t.scrollTop),i=t.getBoundingClientRect();e.containerWidth=Math.round(i.width),e.containerHeight=Math.round(i.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(p(t,h.element.rail("x")).forEach((function(e){return u(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(p(t,h.element.rail("y")).forEach((function(e){return u(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=E(e,S(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=S((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=E(e,S(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=S(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},i=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft;t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-i:n.top=t.scrollbarXTop+i;s(t.scrollbarXRail,n);var a={top:i,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?a.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:a.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:a.left=t.scrollbarYLeft+e.scrollLeft;s(t.scrollbarYRail,a),s(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(h.state.active("x")):(t.classList.remove(h.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(h.state.active("y")):(t.classList.remove(h.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function E(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function O(e,t){var n=t[0],i=t[1],a=t[2],r=t[3],o=t[4],s=t[5],l=t[6],c=t[7],d=t[8],u=e.element,p=null,m=null,b=null;function y(t){t.touches&&t.touches[0]&&(t[a]=t.touches[0].pageY),u[l]=p+b*(t[a]-m),g(e,c),C(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function v(){f(e,c),e[d].classList.remove(h.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",y)}function k(t,o){p=u[l],o&&t.touches&&(t[a]=t.touches[0].pageY),m=t[a],b=(e[i]-e[n])/(e[r]-e[s]),o?e.event.bind(e.ownerDocument,"touchmove",y):(e.event.bind(e.ownerDocument,"mousemove",y),e.event.once(e.ownerDocument,"mouseup",v),t.preventDefault()),e[d].classList.add(h.state.clicking),t.stopPropagation()}e.event.bind(e[o],"mousedown",(function(e){k(e)})),e.event.bind(e[o],"touchstart",(function(e){k(e,!0)}))}var A={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,C(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,C(e),t.stopPropagation()}))},"drag-thumb":function(e){O(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),O(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(d(t,":hover")||d(e.scrollbarX,":focus")||d(e.scrollbarY,":focus"))){var i,a=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(a){if("IFRAME"===a.tagName)a=a.contentDocument.activeElement;else for(;a.shadowRoot;)a=a.shadowRoot.activeElement;if(d(i=a,"input,[contenteditable]")||d(i,"select,[contenteditable]")||d(i,"textarea,[contenteditable]")||d(i,"button,[contenteditable]"))return}var r=0,o=0;switch(n.which){case 37:r=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:o=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:r=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:o=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:o=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:o=e.containerHeight;break;case 34:o=-e.containerHeight;break;case 36:o=e.contentHeight;break;case 35:o=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==r||e.settings.suppressScrollY&&0!==o||(t.scrollTop-=o,t.scrollLeft+=r,C(e),function(n,i){var a=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===a&&i>0||a>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===r&&n<0||r>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(r,o)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var i=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),a=i[0],r=i[1];if(!function(e,n,i){if(!_.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var a=e;a&&a!==t;){if(a.classList.contains(h.element.consuming))return!0;var r=o(a);if(i&&r.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&i<0||a.scrollTop<s&&i>0))return!0}if(n&&r.overflowX.match(/(scroll|auto)/)){var l=a.scrollWidth-a.clientWidth;if(l>0&&(a.scrollLeft>0&&n<0||a.scrollLeft<l&&n>0))return!0}a=a.parentNode}return!1}(n.target,a,r)){var s=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(r?t.scrollTop-=r*e.settings.wheelSpeed:t.scrollTop+=a*e.settings.wheelSpeed,s=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(a?t.scrollLeft+=a*e.settings.wheelSpeed:t.scrollLeft-=r*e.settings.wheelSpeed,s=!0):(t.scrollTop-=r*e.settings.wheelSpeed,t.scrollLeft+=a*e.settings.wheelSpeed),C(e),(s=s||function(n,i){var a=Math.floor(t.scrollTop),r=0===t.scrollTop,o=a+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(i)>Math.abs(n)?r||o:s||l)||!e.settings.wheelPropagation}(a,r))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(_.supportsTouch||_.supportsIePointer){var t=e.element,n={},i=0,a={},r=null;_.supportsTouch?(e.event.bind(t,"touchstart",d),e.event.bind(t,"touchmove",u),e.event.bind(t,"touchend",p)):_.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",d),e.event.bind(t,"pointermove",u),e.event.bind(t,"pointerup",p)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",d),e.event.bind(t,"MSPointerMove",u),e.event.bind(t,"MSPointerUp",p)))}function s(n,i){t.scrollTop-=i,t.scrollLeft-=n,C(e)}function l(e){return e.targetTouches?e.targetTouches[0]:e}function c(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function d(e){if(c(e)){var t=l(e);n.pageX=t.pageX,n.pageY=t.pageY,i=(new Date).getTime(),null!==r&&clearInterval(r)}}function u(r){if(c(r)){var d=l(r),u={pageX:d.pageX,pageY:d.pageY},p=u.pageX-n.pageX,m=u.pageY-n.pageY;if(function(e,n,i){if(!t.contains(e))return!1;for(var a=e;a&&a!==t;){if(a.classList.contains(h.element.consuming))return!0;var r=o(a);if(i&&r.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&i<0||a.scrollTop<s&&i>0))return!0}if(n&&r.overflowX.match(/(scroll|auto)/)){var l=a.scrollWidth-a.clientWidth;if(l>0&&(a.scrollLeft>0&&n<0||a.scrollLeft<l&&n>0))return!0}a=a.parentNode}return!1}(r.target,p,m))return;s(p,m),n=u;var g=(new Date).getTime(),f=g-i;f>0&&(a.x=p/f,a.y=m/f,i=g),function(n,i){var a=Math.floor(t.scrollTop),r=t.scrollLeft,o=Math.abs(n),s=Math.abs(i);if(s>o){if(i<0&&a===e.contentHeight-e.containerHeight||i>0&&0===a)return 0===window.scrollY&&i>0&&_.isChrome}else if(o>s&&(n<0&&r===e.contentWidth-e.containerWidth||n>0&&0===r))return!0;return!0}(p,m)&&r.preventDefault()}}function p(){e.settings.swipeEasing&&(clearInterval(r),r=setInterval((function(){e.isInitialized?clearInterval(r):a.x||a.y?Math.abs(a.x)<.01&&Math.abs(a.y)<.01?clearInterval(r):e.element?(s(30*a.x,30*a.y),a.x*=.8,a.y*=.8):clearInterval(r):clearInterval(r)}),10))}}},x=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var i in this.element=e,e.classList.add(h.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[i]=t[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a,r,c=function(){return e.classList.add(h.state.focus)},d=function(){return e.classList.remove(h.state.focus)};this.isRtl="rtl"===o(e).direction,!0===this.isRtl&&e.classList.add(h.rtl),this.isNegativeScroll=(r=e.scrollLeft,e.scrollLeft=-1,a=e.scrollLeft<0,e.scrollLeft=r,a),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new v,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=l(h.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=l(h.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",c),this.event.bind(this.scrollbarX,"blur",d),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=o(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=S(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=S(u.borderLeftWidth)+S(u.borderRightWidth),s(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=S(u.marginLeft)+S(u.marginRight),s(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=l(h.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=l(h.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",c),this.event.bind(this.scrollbarY,"blur",d),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var p=o(this.scrollbarYRail);this.scrollbarYRight=parseInt(p.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=S(p.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=o(e);return S(t.width)+S(t.paddingLeft)+S(t.paddingRight)+S(t.borderLeftWidth)+S(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=S(p.borderTopWidth)+S(p.borderBottomWidth),s(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=S(p.marginTop)+S(p.marginBottom),s(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return A[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),C(this)};x.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,s(this.scrollbarXRail,{display:"block"}),s(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=S(o(this.scrollbarXRail).marginLeft)+S(o(this.scrollbarXRail).marginRight),this.railYMarginHeight=S(o(this.scrollbarYRail).marginTop)+S(o(this.scrollbarYRail).marginBottom),s(this.scrollbarXRail,{display:"none"}),s(this.scrollbarYRail,{display:"none"}),C(this),w(this,"top",0,!1,!0),w(this,"left",0,!1,!0),s(this.scrollbarXRail,{display:""}),s(this.scrollbarYRail,{display:""}))},x.prototype.onScroll=function(e){this.isAlive&&(C(this),w(this,"top",this.element.scrollTop-this.lastScrollTop),w(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},x.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),u(this.scrollbarX),u(this.scrollbarY),u(this.scrollbarXRail),u(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},x.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var T=x,M=n("LNSM"),j=n("9NHN"),I=n("vOOZ"),R=n("zR/0"),N=n("gy42"),L=n("lrqh"),P=n("xEVj"),D=n("e12y"),F=n("PnD2");const B=D.a.style({position:"relative",overflow:"hidden !important"}),H=()=>({$nest:{"& .ps__rail-x, & .ps__rail-y":{zIndex:F.level4,pointerEvents:"all"},".ps__rail-x":{display:"none",opacity:0,transition:"background-color .2s linear, opacity .2s linear","-webkit-transition":"background-color .2s linear, opacity .2s linear",height:15,bottom:0,position:"absolute"},".ps__rail-y":{display:"none",opacity:"0",transition:"background-color .2s linear, opacity .2s linear","-webkit-transition":"background-color .2s linear, opacity .2s linear",width:15,right:0,position:"absolute"},".ps--active-x > .ps__rail-x, .ps--active-y > .ps__rail-y":{display:"block","background-color":"transparent"},"&.ps--hidden > .ps__rail-x, &.ps--hidden > .ps__rail-y":{opacity:0},"&.ps--force > .ps__rail-x, &.ps--force > .ps__rail-y":{opacity:.6},"&:hover > .ps__rail-x, &:hover > .ps__rail-y, &.ps--focus > .ps__rail-x, &.ps--focus > .ps__rail-y, &.ps--scrolling-x > .ps__rail-x, &.ps--scrolling-y > .ps__rail-y":{opacity:.6},".ps__rail-x:hover, .ps__rail-y:hover, .ps__rail-x:focus, .ps__rail-y:focus, .ps__rail-x.ps--clicking, .ps__rail-y.ps--clicking":{"background-color":"#eee",opacity:.9}}});D.a.cssRule(".ps",(()=>({overflow:D.a.important("hidden"),"overflow-anchor":"none","-ms-touch-action":"auto",touchAction:"auto","-ms-overflow-style":"none",position:"relative",border:"none !important",$nest:Object.assign(Object.assign(Object.assign({},H().$nest),{".ps__thumb-x":{backgroundColor:"#7d7c7c",borderRadius:6,transition:"background-color .2s linear, height .2s ease-in-out","-webkit-transition":"background-color .2s linear, height .2s ease-in-out",height:6,bottom:2,position:"absolute"},".ps__thumb-y":{backgroundColor:"#7d7c7c",borderRadius:6,transition:"background-color .2s linear, width .2s ease-in-out","-webkit-transition":"background-color .2s linear, width .2s ease-in-out",width:6,right:2,position:"absolute"},".ps__rail-x:hover > .ps__thumb-x, .ps__rail-x:focus > .ps__thumb-x, .ps__rail-x.ps--clicking .ps__thumb-x":{backgroundColor:"#3a3a3a",height:11},".ps__rail-y:hover > .ps__thumb-y, .ps__rail-y:focus > .ps__thumb-y, .ps__rail-y.ps--clicking .ps__thumb-y":{backgroundColor:"#3a3a3a",width:11}}),{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{overflow:D.a.important("auto")},"@supports (-ms-overflow-style: none)":{overflow:D.a.important("auto")}})}))());const V=({update:e,children:t,onScroll:n,scrollTo:a,name:o,className:s,showWhenScrollable:l})=>{const c=M.a.create(L.g.none),d=M.a.create(L.g.none);return P.a.useSubscriptionTo(c.pipe(R.b.compact).pipe(R.a.switchMap(e=>N.a.getResizeObservable(e).pipe(R.a.debounceTime(250),R.a.first(),R.a.tap(()=>d.set(L.g.some((e=>new T(e,{suppressScrollX:!0,minScrollbarLength:40}))(e)))))))),P.a.useSubscriptionTo(d.pipe(R.b.compact).pipe(R.a.tap(e=>e.scrollbarY.setAttribute("aria-label","Vertical scrollbar")),R.a.switchMap(t=>R.a.mergeStatic(N.a.getResizeObservable(t.element).pipe(R.a.auditTime(200),R.a.tap(()=>{t.update()})),(null!=a?a:R.a.EMPTY).pipe(R.a.tap(e=>{t.element.scrollTop=e,t.update()})),(null!=e?e:R.a.EMPTY).pipe(R.a.tap(()=>{t.update()})))))),P.a.useSubscriptionTo(c.pipe(R.b.compact).pipe(R.a.switchMap(e=>N.b.toObservable(s).pipe(R.a.map(e=>Boolean(e)?e.split(" "):[]),R.a.scan((t,n)=>(Boolean(t)&&e.classList.remove(...t),Boolean(n)&&e.classList.add(...n),n),[]))))),P.a.useEffectOnWillUnmount(()=>{Object(r.pipe)(d.get(),L.g.tap(e=>{e.destroy(),d.set(L.g.none)}))}),i.createElement("div",Object.assign({},Object(j.c)(!0===l&&"ps--force",B),{onScroll:void 0!==n?()=>n.next():void 0,ref:e=>c.set(L.g.fromNullable(e)),"data-role":`scrollbar-${o}`}),i.createElement(I.a.Fragment,null,t))};var U;!function(e){function t(e){let t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.deltaX/6,n=e.deltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.deltaY),[t,n]}e.verticalScrollByWhellEvent=e=>R.a.fromEvent(e,"wheel",{passive:!0}).pipe(R.a.map(t),R.a.map(a.d),R.a.tap(t=>e.scrollTop-=t))}(U||(U={}))},"8z+V":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i,a=n("PrA7");!function(e){let t;!function(e){e.isVideo=function(e){return"video"in e}}(t=e.Content||(e.Content={}))}(i||(i={}));class r{constructor(e){this._settings=e}markSeen(e){return a.Monitoring.Logging.getLogger("whatsnew").info("News shown",e),this._settings.markNewsItemsAsSeen(e)}}},"8zjg":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("LNSM"),r=n("yA7V"),o=n("b/mo"),s=n("zR/0"),l=n("gy42"),c=n("jAb7");!function(e){e.defaultState={alerts:r.a.empty,lenses:c.a.monoid.empty},e.get=(i,a,o)=>a.pipe(s.a.startWith(new Map),s.a.combineLatest(i.pipe(s.a.startWith(r.a.empty),s.a.scan((e,n)=>t(n,o.lensFilters)(e),e.defaultState)),n)),e.getMock=(t,n)=>{const i=a.a.create(e.defaultState);return e.get(t,n,o.a.create(o.a.defaultLensFilters,o.a.defaultTextFilters)).subscribe(l.b.toAtom(i)),i};const t=(e,t)=>n=>{const i=r.a.Diff.toRegistered(r.a.diff(n.alerts,e));return{alerts:e,lenses:c.a.applyDiff(t)(i)(n.lenses)}},n=(e,t)=>Object.assign(Object.assign({},t),{lenses:c.a.updatePercentiles(e)(t.lenses)})}(i||(i={}))},"95Qz":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ERkP"),a=n("vOOZ"),r=n("9NHN"),o=n("1w6p"),s=n("3rlE"),l=n("RCgc");const c=(e,t)=>o.b.Grid.make(({slots:n})=>i.createElement(a.a.div,Object.assign({},Object(r.c)(l.a.wrapper,e)),i.createElement(s.d.UpgradeHookPanel.TitleDiamond,{className:t}),n.body))},"97ZK":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("ERkP"),a=n("ax6a"),r=n("e12y"),o=n("ps/9"),s=n("rk+4"),l=n("bO3R"),c=n("BugA");const d=({onClick:e,collapsed:t})=>{const n=i.useContext(s.a.Context).priorityList;return i.createElement(l.a.Tertiary,{name:"card-list-more",className:g.toggleNonPriority,title:i.createElement("div",{className:g.tooltip},n.toggleButtonTooltip(t)),onClick:e},t?n.expand:n.collapse)},u=()=>{const e=i.useContext(s.a.Context).priorityList;return i.createElement("div",{className:g.toggleNonPriorityHint},i.createElement(c.l,null,e.hint))},p={padding:`${r.a.rem(.5)} ${r.a.rem(.25)}`,width:r.a.rem(12.75),whiteSpace:"normal",lineHeight:r.a.rem(1)},h={padding:r.a.rem(.5),borderRadius:r.a.rem(o.t),backgroundColor:a.a.CoreNeutral10},m={$nest:{"&[data-textpos='everywhere']":{marginTop:r.a.rem(1),padding:`0 ${r.a.rem(2)}`},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:a.a.CoreNeutral10}}},g=r.a.stylesheet({tooltip:[p],toggleNonPriority:[m],toggleNonPriorityHint:[h]})},"9ZtS":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("I7vG"),r=n("lrqh"),o=n("dE97"),s=n("yA7V");!function(e){e.create=e=>{return{getAlertMuteCategory:t=>Object(a.pipe)(e.getById(t),r.g.chain(e=>e.muteCategory))}},e.getAlerts=function(e,t){const n={byCategory:new Map(t.map(e=>[e,[]])),all:[]};return Object(a.pipe)(e.get(),s.a.reduce(n,(e,{alert:n})=>Object(a.pipe)(n.muteCategory,r.g.filter(e=>t.includes(e.id)),r.g.map(e=>e.id),r.g.alt(()=>r.g.fromNullable(t.find(o.a.belongsToSpecialCategory(n)))),r.g.fold(()=>e,t=>(e.byCategory.get(t).push(n),e.all.push(n),e)))))}}(i||(i={}))},"9cbG":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var i,a=n("D57K"),r=n("OA+g"),o=n("LNSM"),s=n("JAs9"),l=n("lrqh"),c=n("6fbX"),d=n("lVxj"),u=n("PrA7");!function(e){e.TEXT_GRADES={"Not Great":s.a.Outcomes.Students.TextGrade.notGreat,Okay:s.a.Outcomes.Students.TextGrade.okay,Excellent:s.a.Outcomes.Students.TextGrade.excellent}}(i||(i={}));class p{constructor(e,t,n,i){this.grades=e,this._wsDocument=t,this._doxDocument=n,this._telemetry=i,this.state=o.a.create(l.g.none),this._log=u.Monitoring.Logging.getLogger("ObtainGradesViewModel"),this._documentExtraSettings=Object(r.pipe)(this._wsDocument.meta.settings.extraSettings,l.g.getOrElse(()=>s.a.Extra.empty))}get document(){return{title:this._doxDocument.title,content:Object(r.pipe)(this._wsDocument.initialDelta.text,l.b.getOrElse(()=>"")),updatedAt:this._doxDocument.updatedAt}}selectScore(e){this.state.set(l.g.some(e))}_setOutcomes(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},this._documentExtraSettings),{outcomes:l.g.some(e)});return Object(r.pipe)(this._wsDocument.remoteDocument.updateMetadata({settings:this._wsDocument.meta.settings.changeExtra(t)}),l.l.map(()=>this._documentExtraSettings=t))()}))}_updateOutcomes(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return Object(r.pipe)(yield Object(r.pipe)(this._documentExtraSettings.outcomes,l.g.fold(()=>Promise.resolve(l.b.left(new Error("No student outcomes data present in document"))),t=>this._setOutcomes(Object.assign(Object.assign({},t),e)))),l.b.mapLeft(e=>this._log.error("Couldn't update student outcomes data",e)))}))}show(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){yield this._setOutcomes({kind:s.a.Outcomes.Kind.students,askedTimestamp:l.g.some(d.Local.Timestamp.now()),grade:l.g.none,rejected:!1}),yield this._telemetry.gnarSpec.gradesFormShow(this._doxDocument.id,this._doxDocument.title,this._telemetry.pageId)}))}submit(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){Object(c.g)(l.g.isSome(this.state.get()),"Cannot submit empty grade"),yield this._updateOutcomes({grade:this.state.get()}),yield this._telemetry.gnarSpec.gradesFormSubmit(this._doxDocument.id,this._doxDocument.title,Object(r.pipe)(this.state.get(),l.g.map(e=>Array.isArray(e)?e.join("-"):e),l.g.unsafeGet),this._telemetry.pageId)}))}reject(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){yield this._updateOutcomes({rejected:!0}),yield this._telemetry.gnarSpec.gradesFormClose(this._doxDocument.id,this._doxDocument.title,this._telemetry.pageId)}))}}class h{constructor(e,t,n=i.TEXT_GRADES,a=new Date){this.grades=n,this.state=o.a.create(l.g.none),this.document={title:e,content:t,updatedAt:a}}show(){return Promise.resolve()}submit(){return Promise.resolve()}reject(){return Promise.resolve()}selectScore(e){this.state.set(l.g.some(e))}}},"9xM8":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("e12y"),a=n("0Hf4"),r=n("D9EC"),o=n("ax6a");const s=o.a.CoreGreen10;var l;!function(e){e.markHeightStandard="alerts-markHeightStandard",e.markHeightTall="alerts-markHeightTall",e.markSelected="alerts-markSelected",e.markSelectedFocused="alerts-markSelectedFocused",e.markBase="alerts-markBase",e.markAppliedBase="alerts-markAppliedBase",e.markVisible="alerts-markVisible",e.markStart="alerts-markStart",e.correctness="alerts-correctness",e.premium="alerts-premium",e.clarity="alerts-clarity",e.engagement="alerts-engagement",e.delivery="alerts-delivery",e.critical="alerts-critical",e.advanced="alerts-advanced",e.plagiarism="alerts-plagiarism",e.originality="alerts-originality",e.vox="alerts-vox",e.synonym="alerts-synonym",e.markAnimated="alerts-markAnimated",e.markHidden="alerts-markHidden",e.markApplied="alerts-markApplied",e.markBulkApplied="alerts-markBulkApplied",e.markBulkAppliedAnimation="alerts-markBulkAppliedAnimation",e.markSuccess="alerts-markSuccess",e.noAnimation="alerts-noAnimation"}(l||(l={}));const c="alerts-custom",d={backgroundPosition:"center calc(100% + 2px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},u={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},p=i.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),h={standard:`calc(${i.a.rem(.45)} - 3px)`,tall:`calc(${i.a.rem(.425)} + 1px)`},m=e=>({to:{backgroundColor:e}}),g=(e,t,n,i)=>Object.assign(Object.assign({$unique:!0},d),{paddingBottom:"1px",borderBottom:`2px solid ${t}`,transition:"border-bottom-color .5s linear",$nest:Object.assign(Object.assign({},d.$nest),{"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${l.markSelected}.${l.markHeightStandard}`]:{paddingTop:h.standard},[`&.${l.markSelected}.${l.markHeightTall}`]:{paddingTop:h.tall},[`&.${l.markSelected}`]:{$unique:!0,borderBottomColor:i,animation:`${e} 1s ease forwards`},[`&.${l.markSelectedFocused}`]:{$unique:!0,borderBottomColor:n},[`&.${l.markSelected} .${l.markBase}:not(.${l.markSelected})`]:{paddingBottom:"calc(2px + 1px)",borderBottomStyle:"hidden"},[`&.${l.markSelectedFocused} .${l.markBase}:not(.${l.markSelected})`]:{paddingBottom:"calc(2px + 1px)",borderBottomStyle:"hidden"}}}})}),f=i.a.keyframes(m(o.a.CoreRed10)),b=i.a.keyframes(m(o.a.CoreYellow10)),y=i.a.keyframes(m(o.a.CoreCyan10)),v=i.a.keyframes(m(o.a.CorePurple10)),k=i.a.keyframes(m(o.a.CoreNeutral10)),w=i.a.keyframes(m(o.a.CoreBlue10)),S=i.a.keyframes(m(o.a.CoreRed10)),_=i.a.keyframes(m(o.a.CoreYellow10)),C=i.a.keyframes(m(o.a.CoreBlue10)),E=i.a.keyframes(m(o.a.CoreGreen10)),O=i.a.keyframes(m(o.a.CorePurple10)),A=i.a.keyframes(m(o.a.CoreGreen10)),x=e=>{const t=i.a.color(s).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{[`&.${l.markHeightStandard}`]:{paddingTop:h.standard},[`&.${l.markHeightTall}`]:{paddingTop:h.tall}}}},T=e=>{return{borderBottomColor:"transparent",backgroundColor:i.a.color(s).fade(e).toRGBA().toString()}},M=i.a.keyframes({from:x("100%"),to:x("50%")}),j={borderBottomWidth:"2px",borderBottomColor:`${o.a.CoreNeutral40}`,borderBottomStyle:"dotted",backgroundColor:"transparent"},I=i.a.keyframes({to:Object.assign(Object.assign({},x("0%")),j)}),R=i.a.keyframes({from:T("100%"),to:T("50%")}),N={$nest:{[`&.${l.markHeightStandard}`]:{paddingTop:h.standard},[`&.${l.markHeightTall}`]:{paddingTop:h.tall},[`&:not(.${l.markSelected}):not(.${l.markSelectedFocused})`]:{$nest:{[`&.${l.clarity} &.${l.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:o.a.CoreBlue50}}},[`&.${l.correctness}, &.${l.markSelected}, &.${l.markSelectedFocused}`]:{$nest:{[`.${l.markVisible}:not(.${l.markSelected}):not(.${l.markSelectedFocused}).${l.clarity} .${l.markVisible}:not(.${l.markSelected}):not(.${l.markSelectedFocused}).${l.clarity}`]:{}}},[`&.${l.clarity}`]:{$nest:{[`& & &:not(.${l.markSelected}):not(.${l.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},L={borderBottom:"0 solid transparent !important",background:"none",animation:"none"},P=Object(r.l)(()=>({custom(e,t){const n=i.a.color(e).fade(.25).toRGBA().toString(),r=i.a.keyframes(m(n));return[c,l.markBase,i.a.style(g(r,t,t,n)),a.a.style(g(r,t,t,n),u)].join(" ")},markBase:[l.markBase,i.a.style(d),a.a.style(d,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[l.markAppliedBase,l.markBase,i.a.style({paddingBottom:"1px",borderBottom:`2px solid ${s}`})].join(" "),correctness:[l.correctness,l.markBase,i.a.style(g(S,o.a.CoreRed50,o.a.CoreRed50,o.a.CoreRed10)),a.a.style(g(S,o.a.CoreRed50,o.a.CoreRed50,o.a.CoreRed10),u)].join(" "),premium:[l.premium,l.markBase,i.a.style(g(_,o.a.CoreYellow40,o.a.CoreYellow40,o.a.CoreYellow10)),a.a.style(g(_,o.a.CoreYellow40,o.a.CoreYellow40,o.a.CoreYellow10),u)].join(" "),clarity:[l.clarity,l.markBase,i.a.style(g(C,o.a.CoreBlue50,o.a.CoreBlue50,o.a.CoreBlue10)),a.a.style(g(C,o.a.CoreBlue50,o.a.CoreBlue50,o.a.CoreBlue10),u)].join(" "),markVisible:[l.markVisible,i.a.style(N),a.a.style(N)].join(" "),engagement:[l.engagement,l.markBase,i.a.style(g(E,o.a.CoreGreen50,o.a.CoreGreen50,o.a.CoreGreen10)),a.a.style(g(E,o.a.CoreGreen50,o.a.CoreGreen50,o.a.CoreGreen10),u)].join(" "),delivery:[l.delivery,l.markBase,i.a.style(g(O,o.a.CorePurple50,o.a.CorePurple50,o.a.CorePurple10)),a.a.style(g(O,o.a.CorePurple50,o.a.CorePurple50,o.a.CorePurple10),u)].join(" "),critical:[l.critical,l.markBase,i.a.style(g(f,o.a.CoreRed50,o.a.CoreRed50,o.a.CoreRed10)),a.a.style(g(f,o.a.CoreRed50,o.a.CoreRed50,o.a.CoreRed10),u)].join(" "),advanced:[l.advanced,l.markBase,i.a.style(g(b,o.a.CoreYellow40,o.a.CoreYellow40,o.a.CoreYellow10)),a.a.style(g(b,o.a.CoreYellow40,o.a.CoreYellow40,o.a.CoreYellow10),u)].join(" "),plagiarism:[l.plagiarism,l.markBase,i.a.style(g(y,o.a.CoreCyan50,o.a.CoreCyan50,o.a.CoreCyan10)),a.a.style(g(b,o.a.CoreCyan50,o.a.CoreCyan50,o.a.CoreCyan10),u)].join(" "),originality:[l.originality,l.markBase,i.a.style(g(v,o.a.CorePurple50,o.a.CorePurple50,o.a.CorePurple10)),a.a.style(g(O,o.a.CorePurple50,o.a.CorePurple50,o.a.CorePurple10),u)].join(" "),vox:[l.vox,l.markBase,i.a.style(g(k,o.a.CoreNeutral50,o.a.CoreNeutral50,o.a.CoreNeutral10)),a.a.style(g(k,o.a.CoreNeutral50,o.a.CoreNeutral50,o.a.CoreNeutral10),u)].join(" "),synonym:[l.synonym,l.markBase,i.a.style(g(w,o.a.CoreBlue50,"transparent",o.a.CoreBlue50)),a.a.style(g(w,o.a.CoreBlue50,"transparent",o.a.CoreBlue50),u)].join(" "),markAnimated:[l.markAnimated,i.a.style({animation:`${p} .075s ease`})].join(" "),markHidden:[l.markHidden,i.a.style(L),a.a.style(L)].join(" "),markBulkAppliedAnimation:[l.markBulkAppliedAnimation,l.markBase,i.a.style(x("100%"),j,{animation:`${M} 2s linear forwards,\n          ${I} .25s linear 2s forwards`})].join(" "),markBulkApplied:[l.markBulkApplied,l.markBase,i.a.style(g(A,o.a.CoreNeutral40,o.a.CoreGreen10,o.a.CoreGreen10),j)].join(" "),markApplied:[l.markApplied,i.a.style(x("100%"),{animation:`${M} .25s linear forwards`})].join(" "),markSuccess:[l.markSuccess,i.a.style(T("100%"),{animation:`${R} .25s linear forwards`})].join(" "),noAnimation:[l.noAnimation,i.a.style({animationDuration:"0s !important"})].join(" "),markSelected:l.markSelected,markSelectedFocused:l.markSelectedFocused,markHeightStandard:l.markHeightStandard,markHeightTall:l.markHeightTall,markStart:l.markStart}))},"9yh5":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return p}));var i,a,r=n("I7vG"),o=n("lrqh"),s=n("6fbX"),l=n("GUi3"),c=n("dE97"),d=n("kMag"),u=n("XpkH");function p({getMarkType:e,theme:t}){return({state:n,range:i,isAnimated:a,isBulkApplied:r,isEnclosed:o})=>{const l=n===u.c.applied||n===u.c.success?[t.markAppliedBase,t.markHeight]:[t.markLensBase,t.markHeight];switch(n){case u.c.faded:a&&l.push(t.markAnimated);break;case u.c.visible:{const n=e(i()),o="underline_start"===n;switch(n){case"focus":case"enclosing":l.push(t.markHidden);break;case"full":case"background":case"underline":case"underline_start":l.push(t.markVisible),a&&l.push(t.markAnimated),r?l.push(t.markBulkApplied):o&&l.push(t.markStart);break;default:Object(s.d)(n)}break}case u.c.highlighted:{const n=e(i()),c="underline_start"===n;switch(n){case"full":case"focus":l.push(t.markSelected,t.markSelectedFocused,t.markVisible),r&&l.push(t.markBulkApplied);break;case"enclosing":case"background":l.push(t.markSelected,t.markVisible);break;case"underline":case"underline_start":l.push(t.markSelectedFocused,t.markVisible),o&&l.push(t.markSelected),c&&l.push(t.markStart);break;default:Object(s.d)(n)}a||l.push(t.noAnimation);break}case u.c.hidden:l.push(t.markHidden);break;case u.c.success:l.push("background"===e(i())?t.markSuccess:t.markHidden);break;case u.c.applied:l.push(r?t.markBulkAppliedAnimation:t.markApplied);break;case u.c.initial:case u.c.disposed:break;default:Object(s.d)(n)}return l}}!function(e){e.fromAlert=function(e,t,n){let i=l.a.outcomeFullTypeMatch(e.lensId===l.a.SpecialId.Premium?l.a.Type.Advanced:e.lensType)(n);return c.a.isEthicalAI(e)&&void 0!==e.highlightBackgroundColor&&void 0!==e.highlightUnderlineColor&&(i=n.custom(e.highlightBackgroundColor,e.highlightUnderlineColor)),{markLensBase:i,markBase:n.markBase,markAppliedBase:n.markAppliedBase,markHeight:t?n.markHeightTall:n.markHeightStandard,markAnimated:n.markAnimated,markVisible:n.markVisible,markSelectedFocused:n.markSelectedFocused,markHidden:n.markHidden,markSuccess:n.markSuccess,markBulkApplied:n.markBulkApplied,markBulkAppliedAnimation:n.markBulkAppliedAnimation,markApplied:n.markApplied,noAnimation:n.noAnimation,markSelected:n.markSelected,markStart:n.markStart}}}(i||(i={})),function(e){e.byAhr=function(e){return t=>Object(r.pipe)(e.get(),o.g.forAll(e=>t.meta.id===e.meta.id))?"full":"background"},e.byRangeType=function(e){return t=>d.b.isFocusView(t)?"focus":d.b.isEnclosingView(t)?"enclosing":c.a.isCapiDone(e)?"background":e.hasNestedHighlights?d.b.isMainStartView(t)?"underline_start":"underline":"full"}}(a||(a={}))},AW4s:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return i}));var i,a=n("D57K"),r=n("SYKK"),o=n("OA+g"),s=n("I7vG"),l=n("LNSM"),c=n("JAs9"),d=n("prnJ"),u=n("24uI"),p=n("Xj7G"),h=n("94k3"),m=n("bYZB"),g=n("GUi3"),f=n("QshB"),b=n("zR/0"),y=n("GGUR"),v=n("gy42"),k=n("lrqh"),w=n("pYfS"),S=n("QwZm"),_=n("CrFT");class C{constructor(e){this._changes=l.a.create(e),this.changes=this._changes.pipe(b.a.skip(1))}_updateValue(e,t){this._changes.modify(n=>Object.assign({},n,{[e]:t}))}get template(){return this._changes.get().template}set template(e){this._updateValue("template",e)}get outcomes(){return this._changes.get().outcomes}set outcomes(e){this._updateValue("outcomes",e)}get checkedPlagiarism(){return this._changes.view("checkedPlagiarism").get()}set checkedPlagiarism(e){this._updateValue("checkedPlagiarism",e)}}class E{constructor(e,t,n,i,a,r,p,h){this.id=e,this._doxInit=t,this._ded=n,this._getStats=i,this._doxApi=a,this._enableTrackingOnDownload=r,this.rtfMode=p,this.saved=new b.a.Subject,this.checkingState=l.a.create("full"),this.asyncChecksState=l.a.create({plagiarism:"full"}),this.counters=l.a.create(f.b.group.empty),this.defaultContext=l.a.create(k.g.none),this.score=l.a.create(k.g.none),this.scoreStatus=l.a.create(k.g.none),this.textInfo=l.a.create(k.g.none),this.recentDocumentStats=l.a.create(k.g.none),this.extraSettings=new C(Object(s.pipe)(this._doxInit.meta.settings.extraSettings,k.g.getOrElse(()=>c.a.Extra.empty))),this._subs=new y.a.Keeper,this.flush=()=>(this._ded.flushChanges(),this._doxInit.remoteDocument.flush()),this.updateContext=e=>{const t=!d.a.eq.equals(this.context.get(),e);return this.context.set(e),t},this.updateDefaultContext=e=>{const t=!Object(s.pipe)(Object(o.tuple)(this.defaultContext.get(),e),Object(o.tupled)(k.g.map2(d.a.Default.eq.equals)),k.g.getOrElse(o.constFalse));return this.defaultContext.set(e),t},this.title=l.a.create(t.meta.title),this.proofit=h(this.title),this.context=l.a.create(Object(s.pipe)(t.meta.settings.context,k.g.getOrElse(()=>d.a.unset)));const g=t.initialDelta.length-1;this.documentLength=l.a.create({full:g,trimmed:u.a.isInsertString(t.initialDelta.delta)?u.a.getTrimmedInsertLength(t.initialDelta.delta):g}),this.contextCompleteness=this.context.view(f.a.calculateCompleteness),this._subs.push(n.contentUpdated.pipe(b.a.filter(m.b.isTextMaybeWithFormatting),b.a.debounceTime(200),b.a.map(n.getText),b.a.map(e=>({full:e.length-1,trimmed:e.trim().length}))).subscribe(v.b.toAtom(this.documentLength)))}get template(){return w.a.decodeTemplate(this.extraSettings.template)}updateTemplate(e){this.extraSettings.template=w.a.serializeTemplate(e)}get isInitialRevision(){return this._doxInit.remoteDocument.isInitialRevision}get isDemoDocument(){return this._doxInit.meta.isDemoDocument}get documentText(){return this._ded.getText()}downloadOriginal(e){return Object(s.pipe)(this.flush,r.map(()=>e),r.chain(k.g.fold(()=>()=>this._doxApi.downloadOriginal(this.id,this._enableTrackingOnDownload),e=>()=>this._doxApi.downloadInFormat(this.id,e,this._enableTrackingOnDownload))),r.map(p.a.saveToFS))()}downloadProofread(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){yield this._doxApi.downloadProofread(this.id).then(p.a.saveToFS)}))}generateReport(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){yield this._doxApi.generateReport(this.id,e,t).then(p.a.saveToFS)}))}calculateStats(){return k.l.toPromise(this._getStats).then(e=>(this.recentDocumentStats.set(k.g.some(e)),e))}getCheckingForState(e){return e.currentLens.id!==g.a.SpecialId.Plagiarism?this.checkingState.view(e=>({kind:f.c.CheckingKind.Document,type:e})):l.a.combine(this.checkingState,this.asyncChecksState.view("plagiarism"),(e,t)=>"full"===e?{kind:f.c.CheckingKind.Document,type:e}:"idle"!==t?{kind:f.c.CheckingKind.Plagiarism,type:t}:{kind:f.c.CheckingKind.Document,type:e})}dispose(){this._subs.dispose()}}!function(e){e.Mock=class{constructor(){this.template=k.g.none,this.rtfMode=S.DocumentFeatures.FormattingMode.on,this.score=l.a.create(k.g.none),this.scoreStatus=l.a.create(k.g.none),this.textInfo=l.a.create(k.g.none),this.title=l.a.create(""),this.downloadOriginal=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){return Promise.resolve()})),this.downloadProofread=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){return Promise.resolve()})),this.documentText="",this.documentLength=l.a.create({full:0,trimmed:0}),this.counters=l.a.create(f.b.group.empty),this.saved=l.a.create(!0),this.checkingState=l.a.create("idle"),this.asyncChecksState=l.a.create({plagiarism:"idle"}),this.isDemoDocument=!1,this.calculateStats=()=>Promise.resolve(h.a.DocumentStatistics.generateStats(210,1601)),this.flush=()=>Promise.resolve(),this.context=l.a.create(d.a.fromDomain("general")),this.defaultContext=l.a.create(k.g.some(d.a.defaultContextFallback)),this.contextCompleteness=l.a.create(0),this.updateContext=()=>!0,this.updateDefaultContext=()=>!0,this.proofit=new _.a.Mock,this.extraSettings=new C(c.a.Extra.empty),this.recentDocumentStats=l.a.create(k.g.none),this.generateReport=()=>Promise.resolve()}updateTemplate(e){}getCheckingForState(){return l.a.create({type:"idle",kind:f.c.CheckingKind.Document})}}}(i||(i={}))},Ars8:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return w}));var i=n("e12y"),a=n("0Hf4"),r=n("ax6a"),o=n("Ov/9");const s=44*o.a,l=144*o.a,c=700*o.a,d=12*o.a,u=16*o.a,p=14*o.a,h=p+(u-p)/2-4,m=8.25*o.a,g=.6*o.a;a.a.cssRule("html",{fontSize:i.a.px(p)});const f={invisible:"report-invisible",markBase:"report-markBase",markSuccess:"report-markSuccess",akkuratWrapper:"report-akkuratWrapper",content:"report-content",textContent:"report-textContent",text:"report-text",superscriptContainer:"report-superscriptContainer",superscript:"report-superscript",alertTableContainer:"report-alertTableContainer",alertTable:"report-alertTable",alertTableTd:"report-alertTableTd",alertTableTdIndex:"report-alertTableTdIndex",alertTableTdExample:"report-alertTableTdExample",alertTableTdPlagiarismSource:"report-alertTableTdPlagiarismSource",alertTableHighlightText:"report-alertTableHighlightText",separatorRemover:"report-separatorRemover",plagiarismLink:"report-plagiarismLink"},b=f.superscriptContainer,y={borderBottomColor:i.a.important("transparent"),textDecoration:i.a.important("none"),fontWeight:i.a.important("normal"),fontStyle:i.a.important("normal")},v={boxSizing:"border-box",margin:"0 -8px",paddingRight:i.a.px(s),paddingLeft:i.a.px(l),width:i.a.px(c),$nest:{thead:{display:"table-row-group"}}},k={padding:`${i.a.px(11*o.a)} ${i.a.px(16*o.a)} ${i.a.px(11*o.a)} 0`,borderTop:`1px solid ${r.a.CoreNeutral20}`,verticalAlign:"top",fontSize:i.a.px(d),lineHeight:i.a.px(u),breakInside:"avoid",$nest:{"&:last-of-type":{paddingRight:0}}},w={akkuratWrapper:i.a.joinClasses([f.akkuratWrapper,a.a.style({fontWeight:"normal",fontFamily:"'Akkurat Std', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial","-webkit-font-smooting":"antialiased","-moz-osx-font-smoothing":"grayscale"})]),content:i.a.joinClasses([f.content,a.a.style(v)]),textContent:i.a.joinClasses([f.textContent,a.a.style(v,{fontSize:i.a.px(p),pageBreakBefore:"always"})]),text:i.a.joinClasses([f.text,a.a.style({lineHeight:i.a.px(48),$nest:{"& *":{animation:i.a.important("none")},"& .ql-container [class*=-placeholder]":{display:"none"},"& .ql-clipboard":{display:"none"}}})]),superscriptContainer:i.a.joinClasses([f.superscriptContainer,a.a.style({position:"relative",bottom:i.a.px(h),display:"inline-block",width:0,height:0,whiteSpace:"nowrap",fontSize:i.a.px(m)})]),superscript:i.a.joinClasses([f.superscript,a.a.style(y,{padding:`0 ${i.a.px(g)}`,whiteSpace:"nowrap",$nest:{"&:not(:last-child):after":{content:"','"}}})]),alertTableContainer:i.a.joinClasses([f.alertTableContainer,a.a.style(v,{paddingLeft:0,pageBreakBefore:"always"})]),alertTable:i.a.joinClasses([f.alertTable,a.a.style({width:i.a.percent(100),borderCollapse:"collapse",$nest:{[`& tr:first-of-type .${f.alertTableTd}`]:{borderTopWidth:0},"& [class*=-or]":{marginRight:i.a.px(4*o.a),marginLeft:0,fontSize:i.a.px(d)},"& [class*=-removeOrContainer]":{flexBasis:"auto",$nest:{"& [class*=-itemRemove]":{marginRight:i.a.px(4*o.a),marginBottom:0,padding:0,$nest:{"& [class*=-deleteAll]":{verticalAlign:"middle"}}},"& [class*=-itemContext]":{marginRight:i.a.px(4*o.a),color:r.a.CoreNeutral60,fontStyle:"italic",fontSize:i.a.px(d)}}},"& [class*=-itemOriginal], & [class*=-itemRemove]":{backgroundColor:"transparent",color:r.a.CoreRed50,fontSize:i.a.px(d),lineHeight:i.a.px(u),paddingLeft:0,marginBottom:0},"& [class*=-itemOriginal]":{marginRight:0},"& [class*=-itemOriginal]:after":{margin:"-5px 4px 0",color:r.a.CoreNeutral60,fontSize:i.a.px(d),lineHeight:i.a.px(u)},"& [class*=-itemInsert]":{margin:0,padding:0,backgroundColor:"transparent",color:r.a.CoreGreen60,fontSize:i.a.px(d),lineHeight:i.a.px(u)},"& [class*=-itemInsert]:not(:last-child):after":{display:"inline-block",marginRight:"4px",color:r.a.CoreNeutral60,content:"','",fontSize:i.a.px(d),lineHeight:i.a.px(u)},"& [class*=-replacements_labels-diff]":{fontWeight:"normal"},"& [class*=-replacements_labels-list]":{marginBottom:0}}})]),alertTableTd:i.a.joinClasses([f.alertTableTd,a.a.style(k)]),alertTableTdIndex:i.a.joinClasses([f.alertTableTdIndex,a.a.style(k,{width:i.a.px(l),borderTopWidth:0,color:r.a.CoreNeutral50,textAlign:"right"})]),alertTableTdExample:i.a.joinClasses([f.alertTableTdExample,a.a.style(k,{maxWidth:i.a.px(350*o.a)})]),alertTableTdPlagiarismSource:i.a.joinClasses([f.alertTableTdPlagiarismSource,a.a.style(k,{maxWidth:i.a.px(190*o.a),wordWrap:"break-word"})]),alertTableHighlightText:i.a.joinClasses([f.alertTableHighlightText,a.a.style({color:r.a.CoreNeutral60,fontStyle:"italic",lineHeight:i.a.px(u)})]),markBase:i.a.joinClasses([f.markBase,a.a.style({$nest:{"@media print":{borderBottomWidth:i.a.important(i.a.px(3))}}})]),markSuccess:i.a.joinClasses([f.markSuccess,a.a.style({$nest:{"@media print":{backgroundColor:r.a.CoreNeutral0}}})]),separatorRemover:i.a.joinClasses([f.separatorRemover,a.a.style({position:"fixed",top:0,width:i.a.percent(100),height:i.a.px(3),backgroundColor:r.a.CoreNeutral0})]),plagiarismLink:i.a.joinClasses([f.plagiarismLink,a.a.style({display:"block",color:r.a.CoreBlue50})]),invisible:i.a.joinClasses([f.invisible,i.a.style({position:"absolute",visibility:"hidden"})])},S=e=>({position:"fixed",left:i.a.px(160),zIndex:-1,width:e});a.a.cssRule("[data-vertical-underline-start]:before",S(i.a.px(60)),{height:i.a.percent(100),borderRight:`${i.a.px(4)} solid`,content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),a.a.cssRule("[data-vertical-underline-body]",S(i.a.px(60))),a.a.cssRule("[data-vertical-underline-body]:after",S(i.a.px(60)),{height:i.a.percent(100),borderRight:`${i.a.px(4)} solid`,background:r.a.CoreNeutral0,content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),a.a.cssRule("[data-vertical-underline-index]",y,S(i.a.px(55)),{height:"inherit",backgroundColor:r.a.CoreNeutral0,textAlign:"right",fontSize:i.a.px(m),lineHeight:i.a.px(m)},{"-webkit-print-color-adjust":"exact !important"}),a.a.cssRule("[data-vertical-underline-index]:before",{display:"block",boxSizing:"border-box",width:i.a.px(65),height:i.a.px(6),borderTop:`${i.a.px(6)} solid ${r.a.CoreNeutral0}`,content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),a.a.cssRule("[data-vertical-underline-end]:after",{position:"fixed",left:0,zIndex:-1,display:"block",width:i.a.px(229),height:i.a.percent(100),background:r.a.CoreNeutral0,content:"' '"},{"-webkit-print-color-adjust":"exact !important"})},"B/RW":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return w}));var i=n("ERkP"),a=n("I7vG"),r=n("vOOZ"),o=n("lrqh"),s=n("6fbX"),l=n("1w6p"),c=n("rk+4"),d=n("bO3R"),u=n("yB2L"),p=n("3rlE"),h=n("BugA"),m=n("zR/0"),g=n("RCgc"),f=n("95Qz");const b=l.b.Node.make(({notify:e})=>i.createElement(r.a.div,{className:g.a.maximizedCloseButtonContainer},i.createElement(h.b,{name:"close",onClick:e("onClick")},i.createElement(p.d.Arrow,{width:11,direction:p.a.up}))));var y;!function(e){let t,n;!function(e){e.onUpgrade="onUpgrade",e.onUpgradeButtonMount="onUpgradeButtonMount"}(t=e.ActionsKind||(e.ActionsKind={})),function(e){e.isOnUpgrade=function(e){return"onUpgrade"===e.kind},e.isOnUpgradeButtonMount=function(e){return"onUpgradeButtonMount"===e.kind}}(n=e.Actions||(e.Actions={}))}(y||(y={}));const v=l.b.Node.make(({state:e,notify:t})=>{const n=i.useContext(c.a.Context);return i.createElement(i.Fragment,null,i.createElement("div",{className:g.a.maximizedHeader},i.createElement(r.a.Fragment,null,e.pipe(m.a.map(({count:e})=>e>0?e>1?i.createElement(i.Fragment,{key:"plural"},n.sidebar.content.premiumIssues.foundTitlePlural.description1," ",e," ",n.sidebar.content.premiumIssues.foundTitlePlural.description2):i.createElement(i.Fragment,{key:"singular"},n.sidebar.content.premiumIssues.foundTitleSingular.description1," ",e," ",n.sidebar.content.premiumIssues.foundTitleSingular.description2):null)))),i.createElement(r.a.div,{className:g.a.alertCategoryContainer},e.pipe(m.a.map(({alerts:e})=>e.map(e=>i.createElement("div",{key:e.category,className:g.a.alertCategory},i.createElement("div",{className:g.a.categoryHumanContainer},e.categoryHuman),i.createElement("div",{className:g.a.alertCounterContainer},i.createElement(u.a.Counter,{count:e.count,type:"yellowPremium"}))))))),i.createElement("div",{className:g.a.premiumButtonContainer},i.createElement("div",{ref:e=>{t({type:"upgradeHookAction",kind:y.ActionsKind.onUpgradeButtonMount,element:o.g.fromNullable(e)})()}},i.createElement(d.a,{name:"upgrade",className:g.a.premiumButton,onClick:t({type:"upgradeHookAction",kind:y.ActionsKind.onUpgrade})},i.createElement(p.d.UpgradeHookPanel.ButtonDiamond,null),n.goPremium))))}),k=l.b.Composite.make(Object(f.a)(g.a.maximizedWrapper,g.a.maximizedWrapperIcon),l.b.Group.make({closeButton:l.b.Union.make("kind",{hidden:l.b.Node.empty,visible:b}),content:v})),w=Object(a.pipe)(l.b.squash(k),l.b.mapAction(e=>{switch(e.key){case"content":switch(e.action.kind){case y.ActionsKind.onUpgrade:return{kind:"upgrade"};case y.ActionsKind.onUpgradeButtonMount:return{kind:"onUpgradeButtonMount",element:e.action.element};default:return Object(s.d)(e.action)}case"closeButton":switch(e.action.action){case"onClick":return{kind:"collapse"};default:return Object(s.d)(e.action.action)}default:return Object(s.d)(e)}}),l.b.contramapState(e=>({closeButton:{kind:e.showCloseButton?"visible":"hidden"},content:e.alertsState})))},BBZl:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ERkP"),a=n("vOOZ"),r=n("D9EC"),o=n("e12y"),s=n("ps/9"),l=n("D6Vf"),c=n("zR/0"),d=n("D8Xd"),u=n("P+uJ"),p=n("Z5Rd");const h=({manager:e,views:t,onNotificationClose:n=r.e,theme:o={}})=>{const s=function(e,t,n={}){return a=>{const r=e[a.type],o=e=>()=>{a.actions.next(e)};return a.metadata.viewType===u.a.ViewType.standard?i.createElement(p.b.Wrapper,{key:a.id,notification:a,onClose:()=>{a.actions.next("closedByUser"),t(a)},theme:n},r(a,o)):i.createElement(i.Fragment,{key:a.id},r(a,o))}}(t,n,o.view),h=void 0!==o.grid?Object.assign({},w,o.grid):w,g=e.state.view(e=>e.filter(m(u.a.Position.bottomLeft))),f=e.state.view(e=>e.filter(m(u.a.Position.bottomRight))),b=e.state.view(e=>e.filter(m(u.a.Position.top)));return i.createElement(a.a.div,{className:h.container},c.a.combineLatestStatic(b,f,b,e=>e.some(d.a.isHighPriority)).pipe(c.a.distinctUntilChanged(),c.a.map(e=>e&&i.createElement("div",{className:h.overlay},i.createElement(l.b,{positionType:"absolute",key:"notificationOverlay",preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:k.overlayContent,contentFaded:k.overlayContentFaded}})))),i.createElement(a.a.div,{className:h.bottomLeft},g.view(e=>e.map(s))),i.createElement(a.a.div,{className:h.bottomRight},f.view(e=>e.map(s))),i.createElement(a.a.div,{className:h.top},b.view(e=>e.map(s))))};function m(e){return t=>t.metadata.position===e}const g={position:"fixed",top:0,left:0,zIndex:s.n,width:o.a.percent(100),height:o.a.percent(100),pointerEvents:"none"},f={position:"absolute",zIndex:s.n,display:"flex",flexDirection:"column",width:o.a.rem(27),pointerEvents:"auto",alignItems:"flex-end"},b={right:o.a.rem(s.c),bottom:o.a.rem(1.5)},y={bottom:o.a.rem(1.5),left:o.a.rem(2)},v={transition:"transform .1s",transformOrigin:"center"},k=o.a.stylesheet({notificationContainer:[g],notificationWrapper:[f],bottomRightNotificationWrapper:[f,b],bottomLeftNotificationWrapper:[f,y],topNotificationWrapper:[f,{top:0,right:0,left:0,margin:"0 auto"}],overlayContentBase:[v],overlayContent:[v,{transform:"none"}],overlayContentFaded:[v,{transform:"scale(.95)"}]}),w={container:k.notificationContainer,bottomLeft:k.bottomLeftNotificationWrapper,bottomRight:k.bottomRightNotificationWrapper,top:k.topNotificationWrapper}},BM24:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ERkP"),a=n("vOOZ"),r=n("9NHN"),o=n("bO3R"),s=n("Q8bi"),l=n("GUi3"),c=n("e12y"),d=n("TYHi");const u=({onClick:e,isActive:t,className:n})=>i.createElement(a.a.div,Object.assign({},Object(r.c)(p.allAlertsBtnContainer,n)),i.createElement(o.a,{name:"lens-all-alerts",styleType:s.Typography.Type.Base,className:c.a.joinClasses([p.allAlertsBtn,d.outcomeBtn,p.paddings,d.outcomeBtnBorders]),active:t,onClick:e},l.a.Info.allAlerts.title)),p=c.a.prefixedStylesheet("allAsuggestionsBtn",{allAlertsBtnContainer:[{position:"relative"}],allAlertsBtn:[{marginBottom:c.a.important(0)}],paddings:[{padding:c.a.important(`${c.a.rem(.5)} ${c.a.rem(.75)}`)}]})},BoSw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("lrqh"),r=n("D9EC"),o=n("uukV"),s=n("zR/0");!function(e){let t,n;!function(e){let t;!function(e){e[e.ERROR=0]="ERROR",e[e.EMPTY=1]="EMPTY",e[e.LOADING=2]="LOADING",e[e.SHORT_CONTENT=3]="SHORT_CONTENT",e[e.READY=4]="READY"}(t=e.Type||(e.Type={}))}(t=e.State||(e.State={})),function(e){e.Mock=class{constructor(e={type:t.Type.EMPTY},n=a.g.some(new o.a.ViewModel.Mock)){this.statisticsState=e,this.reportViewModel=n,this.state=s.a.of(this.statisticsState),this.onModalClose=r.e}}}(n=e.ViewModel||(e.ViewModel={}))}(i||(i={}))},BuV2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("6fbX"),r=n("PyeZ"),o=n("+w1e"),s=n("zR/0");!function(e){let t;!function(e){e.apply="apply",e.dismiss="dismiss",e.bulkUndo="bulkUndo",e.ignore="ignore",e.highlight="highlight",e.individualUndo="individualUndo",e.confirmed="confirmed",e.confirmedAll="confirmedAll"}(t=e.Kind||(e.Kind={})),e.isApply=function(e){return e.kind===t.apply},e.isBulkUndo=function(e){return e.kind===t.bulkUndo},e.isConfirmAll=function(e){return e.kind===t.confirmedAll},e.isHighlight=function(e){return e.kind===t.highlight},e.isIndividualUndo=function(e){return e.kind===t.individualUndo},e.create=(e,n)=>s.a.mergeStatic(e.pipe(s.a.filter(o.b.isBulkAction),s.a.map(e=>{switch(e.type){case o.b.Type.bulkApply:return{kind:t.apply,alertIds:e.alertIds};case o.b.Type.bulkDismiss:return{kind:t.dismiss};case o.b.Type.bulkHighlight:return{kind:t.highlight,alert:e.alert,clickPoint:e.clickPoint};case o.b.Type.bulkIgnore:return{kind:t.ignore,alertId:e.alertId};case o.b.Type.bulkIndividualUndo:return{kind:t.individualUndo,alertId:e.alertId};case o.b.Type.bulkLooksGood:return{kind:t.confirmedAll,alertIds:e.alertIds};case o.b.Type.bulkUndo:return{kind:t.bulkUndo,alertIds:e.alertIds};default:Object(a.d)(e)}})),n.pipe(s.a.filter(r.b.isBulkAction),s.a.map(e=>{switch(e.type){case r.b.Type.confirmed:return{kind:t.confirmed,alertId:e.alertId};case r.b.Type.undone:return{kind:t.individualUndo,alertId:e.alertHighlight.alert.id};default:Object(a.d)(e)}})))}(i||(i={}))},C7EH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("U75S"),r=n("Arv5"),o=n("OA+g"),s=n("66iv"),l=n("bYZB"),c=n("lrqh"),d=n("D9EC"),u=n("6fbX"),p=n("PrA7"),h=n("dE97"),m=n("UEGg"),g=n("O6HF"),f=n("NW9S"),b=n("zR/0"),y=n("gy42"),v=n("viRF"),k=n("kFFO"),w=n("TC4P"),S=n("973I"),_=n("XxrX"),C=n("4zjj");!function(e){e.id="BulkAcceptItemId",e.Kind="BulkAcceptItem";const t=a.eb(c.c.fromEquals((e,t)=>e.id===t.id&&m.a.isBulkApplied(e)===m.a.isBulkApplied(t)));e.efficientAlertEq=c.c.fromEquals((e,n)=>e.length===n.length&&t.equals(e,n)),e.eqByAlerts=c.c.fromEquals((t,n)=>e.efficientAlertEq.equals(t.alerts,n.alerts)),e.isInAppliedState=e=>"applied"===e.visibilityState,e.isInVisibleState=e=>"visible"===e.visibilityState,e.isInUndoneState=e=>"undone"===e.visibilityState,e.isInInitialState=Object(d.p)(e.isInVisibleState,e.isInUndoneState),e.eq=c.c.fromEquals((t,n)=>e.eqByAlerts.equals(t,n)&&t.activeAlertIndex===n.activeAlertIndex&&t.hasMarkFocusable===n.hasMarkFocusable&&t.visibilityState===n.visibilityState),e.visualStateEq=c.c.fromEquals((e,t)=>S.a.eq.equals(e.positionState,t.positionState)&&e.visibilityState===t.visibilityState),e.isBulkAcceptItem=function(t){return t.id===e.id},e.create=(e,t)=>(Object(u.g)(a.ob(e),"Cannot create BulkAcceptItem without bulk-acceptable alerts"),new E(e,v(e),S.a.empty,C.b.initial({type:"added",clockwise:!0}),t)),e.updateAlerts=(e,t)=>new E(t,"dismissed"===e.visibilityState?e.visibilityState:v(t),e.positionState,Object.assign(Object.assign({},e.visualState),{incomplete:!1}),e.renderOptions,e.hasMarkFocusable,Object(o.pipe)(c.g.fromNullable(t[e.activeAlertIndex]),c.g.map(()=>e.activeAlertIndex),c.g.getOrElse(()=>t.length-1))),e.changePosition=e=>t=>new E(e.alerts,e.visibilityState,t,e.visualState,e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.changeVisualState=e=>t=>new E(t.alerts,t.visibilityState,t.positionState,e,t.renderOptions,t.hasMarkFocusable,t.activeAlertIndex),e.completeTransition=(e,t)=>new E(e.alerts,e.visibilityState,e.positionState,C.b.complete(e.visualState,t),e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.transitionTo=(e,t)=>new E(e.alerts,e.visibilityState,e.positionState,C.b.to(e.visualState,t),e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.dismiss=e=>new E(e.alerts,"dismissed",e.positionState,C.b.to(e.visualState,{type:"removed",clockwise:!0}),e.renderOptions);const n=Object(s.e)(r.X)(),i=n.composeLens(s.c.fromPath()(["state"])),g=n.composeLens(s.c.fromProp()("ignoreAllowed"));e.undo=e=>new E(Object(o.pipe)(e.alerts,i.set({type:h.a.State.Type.REGISTERED,checkingState:h.a.CheckingState.CHECKING}),g.set(!1)),"undone",e.positionState,Object.assign(Object.assign({},e.visualState),{incomplete:!1}),e.renderOptions),e.select=(e,t)=>Object(o.pipe)(t,c.g.filter(t=>t.id===e.id),c.g.orElse(Object(o.pipe)(e,c.g.fromPredicate(e=>"focused"===e.visualState.transition.type))),c.g.fold(()=>{const n=S.a.invalidateHeight(e.positionState),i={type:"focused",clockwise:!0},a=Object(o.pipe)(t,c.g.fold(()=>C.b.initial(i),()=>C.b.to(e.visualState,i)));return new E(e.alerts,e.visibilityState,n,a,e.renderOptions)},()=>e)),e.unselect=(e,t)=>Object(o.pipe)(t,c.g.filter(t=>t.id===e.id),c.g.orElse(Object(o.pipe)(e,c.g.fromPredicate(e=>"rendered"===e.visualState.transition.type))),c.g.fold(()=>{const t=S.a.invalidateHeight(e.positionState),n=w.a.isHidden(e)?e.visualState:C.b.to(e.visualState,{type:"rendered",clockwise:!0});return new E(e.alerts,e.visibilityState,t,n,e.renderOptions)},()=>e)),e.selectAlert=e=>t=>{const n=t.alerts.findIndex(t=>t.id===e);return n<0&&p.Monitoring.Logging.getLogger("BulkAcceptItem").error("Tried to select non-existing alert"),new E(t.alerts,t.visibilityState,t.positionState,t.visualState,t.renderOptions,-1!==n,-1!==n?n:0)},e.clone=e=>new E(e.alerts,e.visibilityState,e.positionState,e.visualState,e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.hasAlert=e=>t=>void 0!==t.alerts.find(t=>t.id===e),e.moveToViewportTop=(e,t)=>n=>e.setCardPosition(n.id,!1,!0,f.b.FromWindowTop.ISO.wrap(t)).pipe(b.a.switchMapTo(b.a.NEVER)),e.alignMarkToBulkItem=(e,t)=>({suggestedPosition:n})=>i=>{const a={alert:i.activeAlert,highlightIndex:i.activeHighlightIndex};return Object(o.pipe)(e.getMarkAlertPosition(a),b.a.map(c.g.map(Object(o.flow)(f.b.FromWindowTop.ISO.modify(e=>e-f.b.FromWindowTop.ISO.unwrap(n)),f.b.FromWindowTop.ISO.unwrap))),b.b.compact,b.a.switchMap(t=>e.moveAlertHighlightInViewport(a,n,l.a.none).pipe(b.a.mapTo(t))),b.a.switchMap(e=>{const n=c.b.unsafeGet(t.getCardSuggestedPositionInViewport(i.id,!1,c.g.none,"cardContentTop")),a=f.b.FromWindowTop.ISO.modify(f.a.concatC(e))(n.top),r=t.isAboveViewportTop(a)?f.b.FromWindowTop.ISO.wrap(n.contentOffset):a;return t.setCardPosition(i.id,!1,!1,r)}),b.a.mapTo(y.b.voidValue),b.a.catchError(e=>(p.Monitoring.Logging.root.getLogger("AlignmentViewModel").error("Cannot align mark to suggested position of BulkAcceptItem",e),b.a.EMPTY)),b.a.share())};const v=Object(o.flow)(a.ib,c.g.filter(m.a.isBulkApplied),c.g.fold(()=>"visible",()=>"applied"))}(i||(i={}));class E{constructor(e,t,n,a,r,o=!1,s=0){this.alerts=e,this.visibilityState=t,this.positionState=n,this.visualState=a,this.renderOptions=r,this.hasMarkFocusable=o,this.activeAlertIndex=s,this.kind=i.Kind,this.id=i.id,this.activeHighlightIndex=0,this.removedAlertsIds=new Set,this.activeAlert=e[this.activeAlertIndex];const l=e.map(e=>e.getHighlightRanges()[0]);this.meta=new g.a.Impl(v.a.fromRatio(this.activeAlert.progress),this.activeAlert.explanation,g.a.CheckingState.Idle,l,!1),this.a11yContrast=r.features.has(_.a.Features.a11yContrast)}equals(e){return i.eq.equals(this,e)}hashCode(){return Object(k.b)(this.alerts.map(e=>e.id).join())}}},CFZe:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var i,a=n("D57K"),r=n("LNSM"),o=n("zR/0"),s=n("gy42"),l=n("D9EC");class c{constructor(e,t,n){this._documentModel=e,this._events=t,this._plagiarismCapiClient=n,this._plagiarismCheckingState=this._documentModel.asyncChecksState.lens("plagiarism"),this.plagiarismCheckedInSession=this._plagiarismCheckingState.view(e=>"full"!==e),this.checkingState=this._plagiarismCheckingState,this._subs=[],this._isEnabled=r.a.create(!1),this._enable=()=>{this._plagiarismCheckingState.modify(e=>"idle"===e?"checking":e),this._documentModel.extraSettings.checkedPlagiarism=!0,this._plagiarismCapiClient.enablePlagiarismSearch()},this._disable=()=>{this._plagiarismCapiClient.disablePlagiarismSearch()},this._subs.push(this._isEnabled.pipe(o.a.switchMap(s.b.orEmpty(this._events.pipe(o.a.filter(e=>"session_started"===e.kind))))).subscribe(this._enable))}enable(){return this._isEnabled.set(!0),this._enable(),()=>{this._isEnabled.set(!1),this._disable()}}recheck(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const e=!this._isEnabled.get();e&&this._enable(),yield this._plagiarismCheckingState.pipe(o.a.filter(e=>"idle"===e),o.a.first()).toPromise(),e&&this._plagiarismCapiClient.disablePlagiarismSearch()}))}dispose(){this._subs.forEach(e=>e.unsubscribe())}}!function(e){e.Mock=class{constructor(){this.enable=()=>l.e,this.recheck=()=>new Promise(l.e),this.dispose=l.e,this.checkingState=r.a.create("idle"),this.plagiarismCheckedInSession=r.a.create(!0)}}}(i||(i={}))},"CXK/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("zR/0");!function(e){class t{static get observable(){var e;return null!==(e=this._obs)&&void 0!==e?e:this._obs=a.a.fromEvent(document,"visibilitychange").pipe(a.a.map(()=>document.hidden),a.a.startWith(document.hidden),a.a.filter(Boolean),a.a.mapTo(void 0),a.a.repeat(1))}}function n(...e){return a.a.mergeStatic(...e.map(e=>e.pipe(a.a.materialize()))).pipe(a.a.takeWhile(e=>e.hasValue),a.a.dematerialize())}e.Hidden=t,e.mergeUntilAnyCompletes=n,e.createAnimationObservable=function(e,i,r){return n(function(e,t,n){return a.a.Observable.create(i=>{let a,r=window.requestAnimationFrame((function o(s){a||(a=s);const l=s-a;l<n?(i.next(Math.round(e+l/n*(t-e))),r=window.requestAnimationFrame(o)):(i.next(t),i.complete())}));return()=>window.cancelAnimationFrame(r)}).pipe(a.a.distinctUntilChanged())}(e,i,r).pipe(a.a.takeUntil(t.observable)),t.observable.pipe(a.a.mapTo(i),a.a.first()))},e.fadeOutState=function(e){const t=new a.a.Subject;return{state:e.pipe(a.a.switchMap(e=>e?a.a.of("inProgress"):a.a.mergeStatic(a.a.of("fadeOut"),t.pipe(a.a.mapTo("end"))))),complete:()=>t.next(!0)}},e.rafSequence=function(e,t=!1){return a.a.Observable.create(n=>{let i;function a(){n.next(e.shift()),e.length&&(i=requestAnimationFrame(a))}return t?a():i=requestAnimationFrame(a),()=>cancelAnimationFrame(i)})}}(i||(i={}))},Cdla:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("GRZr"),r=n("BbAu"),o=n("OA+g"),s=n("lrqh"),l=n("v0pb");!function(e){let t;!function(t){let n;function i(t){const n=e.Item.Id.from(t.id);return Object(o.pipe)(t.alert.cardDSL,s.g.map(e=>({id:n,content:e,alerts:[t]})))}!function(e){e.eq=s.c.eqString,e.show=r.e,e.from=function(e){return`${e}`}}(n=t.Id||(t.Id={})),t.eqId=s.c.contramap(e=>e.id)(n.eq),t.eqContent=s.c.contramap(e=>JSON.stringify(e.content))(n.eq),t.eqAlerts=s.c.contramap(e=>e.alerts)(s.a.getEq(l.a.ord)),t.eq=Object(a.fold)(s.c.getMonoid())([t.eqId,t.eqContent,t.eqAlerts]),t.show={show:e=>`SDUI Item #(${e.id} with alertIds:${e.alerts.map(e=>e.id)})`},t.eqShow=Object.assign(Object.assign({},t.eq),t.show),t.fromAlert=i,t.fromBaseAlert=Object(o.flow)(l.a.create,i)}(t=e.Item||(e.Item={}))}(i||(i={}))},CrFT:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var i,a=n("OA+g"),r=n("2Jhg"),o=n("LNSM"),s=n("R+r4"),l=n("zR/0"),c=n("lrqh"),d=n("hoSD"),u=n("PrA7"),p=n("0lfv");!function(e){function t(e){return"sending"===e.kind}e.isSendingState=function(e){return e.exists(t)},e.isSending=t}(i||(i={}));class h{constructor(e,t){this._doc=e,this.documentTitle=t,this._proofitStatisticsIO=r.c.async((e,t)=>{this._doc.getProofitStatistics().then(Object(a.flow)(c.b.fold(e=>Object(r.b)(Object(r.d)(e)),e=>e.status===s.a.StatisticsStatus.Success?Object(r.i)(Object(r.g)(e)):Object(r.b)(Object(r.d)(new Error(e.status)))),t)).catch(e=>t(Object(r.b)(Object(r.d)(e))))}).memoizeOnSuccess(),this.state=o.a.create(r.e),this.jobDetails=o.a.create(r.e)}getPlans(){return this._doc.getProofitPlans().then(c.b.fold(e=>Promise.reject(e),e=>e.status===s.a.PlanStatus.Forbidden?Promise.reject({status:s.a.PlanStatus.Forbidden}):Promise.resolve(e)))}getStatistics(){return l.a.from(this._proofitStatisticsIO.run()).pipe(l.a.map(e=>e.toOption()))}placeOrder(e,t,n,i){return this.state.set(Object(r.h)({kind:"sending"})),c.l.toPromise(this._doc.placeProofitOrder({turnaround:e.turnaround,tier:e.tier,userInputs:t,priceOfferId:n},p.a.fromOption(i))).then(e=>this._updateStatus(e.status)).catch(e=>{u.Monitoring.Logging.getLogger("ProofitModel").warn("Error placing proofit order",e),this.state.set(Object(r.h)({kind:"error",errorType:"unknown"}))})}updateState(e){this._updateStatus(e.status),this.jobDetails.set(Object(r.h)({startTime:e.submitted,dueTime:e.due}))}_updateStatus(e){switch(e){case s.a.JobStatus.building:break;case s.a.JobStatus.newJob:this.state.set(Object(r.h)({kind:"submitted"}));break;case s.a.JobStatus.completed:this.state.set(Object(r.h)({kind:"finished"}));break;case s.a.JobStatus.cancelled:this.state.set(Object(r.h)({kind:"cancelled"}));break;case s.a.JobStatus.emptyDocument:this.state.set(Object(r.h)({kind:"error",errorType:"emptyDocument"}));break;case s.a.JobStatus.duplicate:this.state.set(Object(r.h)({kind:"error",errorType:"alreadyProofread"}));break;case s.a.JobStatus.complexInternalStructure:this.state.set(Object(r.h)({kind:"error",errorType:"complexInternalStructure"}));break;case s.a.JobStatus.paymentError:this.state.set(Object(r.h)({kind:"error",errorType:"payment"}));break;case s.a.JobStatus.forbidden:case s.a.JobStatus.unknown:default:this.state.set(r.e)}}}const m=(e,t,n)=>({getProofitPlans:()=>Promise.resolve(c.b.right({status:s.a.PlanStatus.Success,turnaroundOptions:[{enabled:!0,label:"24 hours",minutesToProcess:1440,perWord:.14,price:140,turnaround:s.a.PlanType.TwentyFourHours,requirePaymentCheck:!1,tier:s.a.PlanTier.Base},{enabled:!0,label:"3 hours",minutesToProcess:180,perWord:.18,price:180,turnaround:s.a.PlanType.ThreeHours,requirePaymentCheck:!0,tier:s.a.PlanTier.Base},{enabled:!0,label:"30 minutes",minutesToProcess:30,perWord:.3,price:300,turnaround:s.a.PlanType.Instant,requirePaymentCheck:!1,tier:s.a.PlanTier.Base}],clarityTurnaroundOptions:[{enabled:!0,label:"24 hours",minutesToProcess:1440,perWord:.14,price:140,turnaround:s.a.PlanType.TwentyFourHours,requirePaymentCheck:!1,tier:s.a.PlanTier.Clarity},{enabled:!0,label:"3 hours",minutesToProcess:180,perWord:.18,price:180,turnaround:s.a.PlanType.ThreeHours,requirePaymentCheck:!0,tier:s.a.PlanTier.Clarity}],words:100,userInputs:{nativeLanguage:c.g.none,dialect:c.g.none,quotationType:c.g.none,spaceType:c.g.none},priceOfferId:s.a.PriceOfferId.create("424242")})),placeProofitOrder:()=>()=>new Promise(t=>{const i=d.d.Local.Timestamp.now(),a=d.d.Local.Timestamp.toLocal(d.d.Local.Timestamp.add(i,3*d.d.MS_IN_HOUR)),r={submitted:d.d.Local.Timestamp.toLocal(i),corrections:5,due:a,price:666,name:"",completed:c.g.none,id:1,status:s.a.stringToJobStatus(e),is_dox_applied:!0};setTimeout(()=>t(c.b.right(r)),0),setTimeout(()=>n(r),500)}),getProofitStatistics:()=>Promise.resolve(c.b.right(t))});var g;!function(e){e.Mock=class extends h{constructor(e=s.a.JobStatus.newJob,t=c.g.none){super(m(e,{status:s.a.StatisticsStatus.Success,lastCompletedJobDate:t},e=>{this.updateState(e)}),o.a.create(""))}}}(g||(g={}))},D6Vf:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return C}));var i=n("ERkP"),a=n("LNSM"),r=n("vOOZ"),o=n("9NHN"),s=n("q4n/"),l=n("D9EC"),c=n("6fbX"),d=n("ax6a"),u=n("e12y"),p=n("WIwS"),h=n("ps/9"),m=n("bO3R"),g=n("3rlE"),f=n("8cPE"),b=n("zR/0"),y=n("gy42"),v=n("CXK/"),k=n("xEVj"),w=n("aIes");class S extends i.Component{constructor(){super(...arguments),this._overlayIndex=S._index++,this._subs=[],this._visibilityState=a.a.create("hidden"),this._onClick=()=>{!1!==this.props.preventClose&&null!=this.props.preventClose||this.props.visible.set(!1)}}componentDidMount(){this._visibilityState.set(this.props.visible.get()?"visible":"hidden"),this._subs.push(this._visibilityState.pipe(b.a.map(e=>"visible"===e),b.a.distinctUntilChanged()).subscribe(e=>S._activeOverlays.modify(t=>{const n=new Set(t);return e?n.add(this._overlayIndex):n.delete(this._overlayIndex),n})),this.props.visible.pipe(b.a.skip(1)).subscribe(e=>{const t=!0===this.props.animate?"fadeOut":"hidden";this._visibilityState.set(e?"visible":t)})),this._subs.push(this._visibilityState.pipe(b.a.switchMap(e=>"visible"===e?b.a.fromEvent(document,"keydown"):b.a.EMPTY),b.a.filter(e=>e.keyCode===s.a.ESC_CODE),b.a.withLatestFrom(this.props.onClose?y.b.toObservable(this.props.onClose):b.a.of(l.e))).subscribe(([,e])=>{var t;null!==(t=this.props.preventClose)&&void 0!==t&&t||this.props.visible.set(!1),e()}))}componentWillUnmount(){S._activeOverlays.modify(e=>{const t=new Set(e);return t.delete(this._overlayIndex),t}),this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){return i.createElement(r.a.Fragment,null,this._visibilityState.view(e=>{switch(e){case"visible":case"fadeOut":return i.createElement(r.a.div,Object.assign({},Object(o.c)(!0===this.props.animate?this._getAnimatedTypeClass(e):this._getTypeClass(e),this._getPositionType(this.props.positionType)),{onClick:this.props.onClose?y.b.toObservable(this.props.onClose).pipe(b.a.map(e=>()=>(this._onClick(),e()))):this._onClick,onTransitionEnd:()=>{"fadeOut"===e&&this._visibilityState.set("hidden")}}),i.createElement(r.a.div,Object.assign({},Object(o.c)(!0===this.props.animate&&this._getContentClass(e))),i.createElement("div",{className:V.scroll},i.createElement(r.a.div,Object.assign({},Object(o.c)(this._getAlignmentClass(),this._getSmallResolutionClass())),this.props.children))));case"hidden":return null;default:return Object(c.d)(e)}}))}_getSmallResolutionClass(){switch(this.props.smallResolution){case"resize":return V.wrapperResize;case"cut":default:return""}}_getAlignmentClass(){switch(this.props.alignment){case"top-center":return V.wrapperTopCenter;case"bottom-right":return V.wrapperBottomRight;case"none":return"";case"center":default:return V.wrapperCenter}}_getTypeClass(e){if("visible"!==e)return V.wrapperTransparent;switch(this.props.overlayType){case"light":return V.wrapperLight;case"transparent":return V.wrapperTransparent;case"dark":default:return V.wrapperDark}}_getPositionType(e){switch(e){case"absolute":return V.wrapperAbsolute;case"fixed":return V.wrapperFixed;default:return Object(c.d)(e)}}_getAnimatedTypeClass(e){const t="visible"===e;switch(this.props.overlayType){case"light":return v.a.rafSequence(t?[V.wrapperTransparent,V.wrapperLight]:[V.wrapperLight,V.wrapperTransparent],!0);case"transparent":return b.a.of(V.wrapperTransparent);case"dark":default:return v.a.rafSequence(t?[V.wrapperTransparent,V.wrapperDark]:[V.wrapperDark,V.wrapperTransparent],!0)}}_getContentClass(e){const{contentFaded:t,content:n}=this.props.theme||V,i="visible"===e?[t,n]:[n,t];return v.a.rafSequence(i,!0)}}S.defaultProps={visible:a.a.create(!0)},S._activeOverlays=a.a.create(new Set),S.activeCount=S._activeOverlays.view(e=>e.size),S._index=0;const _=e=>i.createElement(S,Object.assign({},e,{visible:a.a.create(!0),preventClose:!1}),e.children);function C({children:e,className:t,close:n}){const a=i.useState("modal-title"+Math.floor(1e3*Math.random()))[0],{ref:s,onMount:c}=k.a.useElWatcher();return k.a.useFocusTrap(s),i.createElement("div",{ref:c,className:V.contentWrapper},i.createElement(r.a.div,Object.assign({},Object(o.c)(V.modal,t),{onClick:w.d.stopPropagation(l.e),role:"dialog","aria-modal":!0,"aria-labelledby":a}),i.createElement(C.TitleIdContext.Provider,{value:a},e),n?i.createElement("div",{className:V.closeIconButtonContainer},i.createElement(m.a,{name:"modal-close",onClick:n},i.createElement(g.d.Close,{className:V.closeIcon,width:13}))):null))}!function(e){e.TitleIdContext=i.createContext("modal-title"),e.Header=({children:e,className:t})=>i.createElement(r.a.div,Object.assign({},Object(o.c)(V.header,t)),e),e.Body=({children:e,className:t,wrapperClassName:n,name:a})=>{const{ref:s,onMount:l}=k.a.useElWatcher();return i.createElement(f.a,Object.assign({name:a},Object(o.c)(V.scrollBody,n),{showWhenScrollable:!0,update:s.pipe(b.b.compact,b.a.switchMap(y.a.getResizeObservable),b.a.mapTo(y.b.voidValue))}),i.createElement(r.a.div,Object.assign({},Object(o.c)(V.body,t),{mount:l}),e))},e.Footer=({children:e,className:t})=>i.createElement(r.a.div,Object.assign({},Object(o.c)(V.footer,t))," ",e," ")}(C||(C={}));const E={top:0,left:0,display:"flex",flexDirection:"column",overflow:"hidden",width:u.a.percent(100),height:u.a.percent(100),transition:`background ${u.a.seconds(.2)}`,pointerEvents:"auto"},O={position:"fixed",zIndex:h.m},A={margin:`${u.a.rem(-.5)} auto auto`},x={background:"rgba(255, 255, 255, .7)"},T={background:"rgba(100, 107, 131, .4)"},M={position:"absolute",top:u.a.rem(.5),right:u.a.rem(.5)},j={stroke:p.i},I={position:"relative",display:"flex",flexDirection:"column",overflow:"hidden",maxHeight:"90vh",borderRadius:u.a.rem(h.s),boxShadow:d.b.Z300},R={position:"relative",overflow:"hidden",padding:`${u.a.rem(2.5)} ${u.a.rem(2)} ${u.a.rem(1)}`,borderTopLeftRadius:u.a.rem(h.s),borderTopRightRadius:u.a.rem(h.s),backgroundColor:d.a.CoreNeutral1},N={position:"absolute",top:u.a.px(10),right:"@top"},L={padding:u.a.rem(2),backgroundColor:d.a.CoreNeutral0},P={display:"flex",padding:`0 ${u.a.rem(2)}`,height:u.a.rem(4),border:"0 solid transparent",borderWidth:"0 1px",borderBottomRightRadius:u.a.rem(h.s),borderBottomLeftRadius:u.a.rem(h.s),backgroundColor:d.a.CoreNeutral1,alignItems:"center",justifyContent:"flex-end",$nest:{"& > *:not(:last-child)":{marginRight:u.a.rem(.5)}}},D={transitionDuration:u.a.seconds(.2),transitionProperty:"opacity, transform",transformOrigin:"center"},F={height:u.a.percent(100)},B={position:"relative",display:"flex",padding:`${u.a.rem(.5)} 0`,width:"100vw",height:"100vh"},H={$nest:{[`@media (${h.y})`]:{margin:`${u.a.rem(2)} auto auto`}}},V=u.a.prefixedStylesheet("modal",{wrapper:[E],wrapperFixed:[O],wrapperAbsolute:[{position:"absolute"}],wrapperTopCenter:[A],wrapperBottomRight:[{margin:"auto 0 0 auto"}],wrapperCenter:[{margin:"auto"}],wrapperLight:[E,x],wrapperDark:[E,T],wrapperTransparent:[E,{overflow:"hidden",background:"transparent"}],closeIconButtonContainer:[M],closeIcon:[j],modal:[I],header:[R],closeBtn:[N],body:[L],scrollBody:[{position:"relative",flexGrow:1}],footer:[P],contentBase:[D],contentFaded:[D,{opacity:0,transform:"scale(.8)"}],content:[D,{opacity:1,transform:"none"}],contentWrapper:[F],scroll:[B],wrapperResize:[H]})},DLWy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return m}));var i,a=n("2Jhg"),r=n("LNSM"),o=n("QshB"),s=n("zR/0"),l=n("gy42"),c=n("BeBM"),d=n("D9EC"),u=n("6fbX"),p=n("vLzu"),h=n("DMXH");!function(e){e[e.Checking=0]="Checking",e[e.CheckingIn=1]="CheckingIn",e[e.CheckingOut=2]="CheckingOut",e[e.Idle=3]="Idle"}(i||(i={}));class m{constructor(e,t,n,i,o,l,c){this._state=e,this._lensState=t,this._documentModel=n,this._uploadVM=i,this._ded=o,this._features=l,this._mpteReady=c,this.loaderState=r.a.create(a.e),this._subs=[],this._isLocked=r.a.create(!0),this._loadingStateLock=s.a.combineLatestStatic([this._isLocked,this._uploadVM.state.pipe(s.a.startWith(p.a.State.idle)),this._mpteReady],(e,t,n)=>n&&(e||t!==p.a.State.idle)).pipe(s.a.distinctUntilChanged()),this._subs.push(this._listenUploadingState(),this._listenProcessingState(),this._listenFullRecheckingState()),Object(d.r)("loader",(e,t,n)=>{this._state.set({text:a.f.of(e).filter(e=>e in h.a.TextType),lens:a.f.of(t).filter(e=>e in h.a.Type),navigation:a.f.of(n).filter(e=>e in h.a.Type)})})}init(){this._isLocked.set(!1)}_listenUploadingState(){return this._uploadVM.state.pipe(s.a.skip(1)).subscribe(e=>{this._state.set(e===p.a.State.idle?h.a.State.idle:h.a.State.loading)})}_listenProcessingState(){return this._ded.dontFreezeWhen(this._state.view(({text:e})=>e.nonEmpty()),"loader")}_listenFullRecheckingState(){const e=e=>e.filter(e=>e===h.a.Type.checkingIn||e===h.a.Type.checking).map(()=>h.a.Type.checkingOut),t=e=>e.kind===o.c.CheckingKind.Plagiarism||"full"!==e.type;return(e=>this._loadingStateLock.pipe(s.a.switchMap(l.b.orEmptyRight(e))))(this._lensState).pipe(s.a.switchMap(e=>{const n=this._documentModel.getCheckingForState(e),a=n.get(),r=c.e.isSidebarOpened(e);return n.pipe(s.a.skip(1),s.a.map(e=>t(e)||!r?i.Idle:i.Checking),s.a.startWith(t(a)?i.Idle:r?this._features.denali.focusFirstCard?i.Checking:i.CheckingIn:i.CheckingOut))}),s.a.tap(e=>this.loaderState.set(Object(a.h)(e)))).subscribe(t=>{switch(t){case i.Idle:return this._state.set(h.a.State.idle);case i.CheckingIn:return this._state.set({text:a.e,lens:Object(a.h)(h.a.Type.checkingIn),navigation:Object(a.h)(h.a.Type.checkingIn)});case i.Checking:return this._state.set({text:a.e,lens:Object(a.h)(h.a.Type.checking),navigation:Object(a.h)(h.a.Type.checking)});case i.CheckingOut:return this._state.modify(t=>({text:a.e,lens:e(t.lens),navigation:e(t.navigation)}));default:Object(u.d)(t)}})}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}}},DMXH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p}));var i,a=n("I7vG"),r=n("2Jhg"),o=n("LNSM"),s=n("GGUR"),l=n("zR/0"),c=n("lrqh"),d=n("D9EC"),u=n("PrA7");!function(e){let t,n,i;!function(e){e.checking="checking",e.checkingIn="checkingIn",e.checkingOut="checkingOut"}(t=e.Type||(e.Type={})),function(e){e.loading="loading",e.processing="processing"}(n=e.TextType||(e.TextType={})),function(t){t.idle={text:r.e,lens:r.e,navigation:r.e},t.text={text:Object(r.h)(e.TextType.loading),lens:r.e,navigation:r.e},t.processing={text:Object(r.h)(e.TextType.processing),lens:Object(r.h)(e.Type.checking),navigation:Object(r.h)(e.Type.checking)},t.lensAndNavigationProcessing=Object.assign(Object.assign({},t.processing),{text:r.e}),t.loading={text:Object(r.h)(e.TextType.loading),lens:Object(r.h)(e.Type.checking),navigation:Object(r.h)(e.Type.checking)},t.toString=function(e){const t=e.lens.filter(e=>"checkingOut"!==e).nonEmpty()?"on":"off",n=e.navigation.filter(e=>"checkingOut"!==e).nonEmpty()?"on":"off";return`text: ${e.text.getOrElse("off")}; lens: ${t}; nav: ${n}`}}(i=e.State||(e.State={}))}(i||(i={}));class p{constructor(e,t){this._router=e,this._features=t,this.state=o.a.create(i.State.idle),this._log=u.Monitoring.Logging.getLogger("denali_loader"),this._metric=u.Monitoring.TimeSeries.root.getMetric("denali_loader"),this._subs=new s.a.Keeper,this._listenLoading(),Object(a.pipe)(this._router.locationState,c.g.exists(e=>!0===e.openSidebar))||this._features.sidebarOpenedByDefault?this.state.set(i.State.processing):this.state.set(i.State.text)}dispose(){this._subs.dispose()}listenEngineErrors(e){this._subs.push(e.pipe(l.b.compact).subscribe(c.b.fold(()=>this.state.set(i.State.idle),d.e)))}_listenLoading(){this._subs.push(this.state.subscribe(e=>{this._log.debug(`State is changed to ${i.State.toString(e)}`)}),this._listenTimeseries("text",e=>e.text.orUndefined(),!0),this._listenTimeseries("lens",e=>e.lens.filter(e=>"checkingOut"!==e).map(()=>"checking").orUndefined()),this._listenTimeseries("navigation",e=>e.navigation.filter(e=>"checkingOut"!==e).map(()=>"checking").orUndefined()))}_listenTimeseries(e,t,n=!1){return this.state.pipe(l.a.skip(1),l.a.map(e=>t(e)),l.a.distinctUntilChanged(),l.a.map(t=>{if(void 0!==t)return n&&this._metric.getCounter(`${e}.${t}.start.counter`).increment(),{time:this._metric.getTimer(`${e}.${t}.time`).start(),counter:n?this._metric.getCounter(`${e}.${t}.stop.counter`):void 0}}),l.a.pairwise()).subscribe(([e])=>{e&&(e.time.stop(),e.counter&&e.counter.increment())})}}},DRjW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i,a,r,o=n("ERkP"),s=n("uDCn"),l=n("KeH5"),c=n("U75S"),d=n("OA+g"),u=n("vOOZ"),p=n("zR/0"),h=n("6fbX"),m=n("lrqh"),g=n("1w6p"),f=n("YfIO"),b=n("iEw6"),y=n("xEVj"),v=n("+w1e"),k=n("boxh"),w=n("B/RW"),S=n("Xojx");!function(e){function t(e,t){return{mini:g.a.fromSideEffect(e=>{"onClick"===e.action&&t.next({type:v.b.Type.miniItemClick,id:S.a.id})},e),full:g.a.fromSideEffect(e=>{"upgrade"===e.kind&&t.next({type:"upgradeHookAction",kind:w.a.ActionsKind.onUpgrade}),"onUpgradeButtonMount"===e.kind&&t.next({type:"upgradeHookAction",kind:w.a.ActionsKind.onUpgradeButtonMount,element:e.element})},e),hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(`${e} is not supported for UpgradeHookCard`);default:Object(h.d)(e)}}e.flow=function(e,i){return Object(d.pipe)(g.a.composeUnion(t(e,i),()=>e.pipe(p.a.map(e=>({cardKind:n(e.visualState.transition.type)})))))},e.shadeFlow=function(e,i){return g.a.composeUnion(t(e,i),()=>e.pipe(p.a.map(e=>({cardKind:Object(d.pipe)(e.visualState.from,m.g.fold(()=>"hidden",n))}))))}}(i||(i={})),(r=a||(a={})).ListCard=g.b.Node.make(({view:e,notify:t})=>{const n=Object(d.pipe)(e("view"),p.a.distinctUntilChanged((e,t)=>e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),a=new p.a.Subject;return y.a.useSubscriptionTo(a.pipe(p.a.tap(e=>t(e)()))),g.b.mount(f.a.make(g.b.Union.make("cardKind",{mini:Object(d.pipe)(k.a,g.b.contramapState(e=>({alertsCount:e.alerts.length}))),full:Object(d.pipe)(w.b,g.b.contramapState(e=>({showCloseButton:!1,alertsState:{count:e.alerts.length,alerts:e.groupedAlerts}}))),hidden:g.b.Node.empty})),Object(d.pipe)(b.a.flow(n,i.flow(n,a),i.shadeFlow(n,a)),b.a.extend(e=>a.next(e))))}),r.SingleCard=g.b.Node.make(({view:e,notify:t})=>{const n=e("view");return o.createElement(u.a.Fragment,null,n.pipe(p.a.distinctUntilChanged((e,t)=>e.equals(t)),p.a.map(e=>(Object(h.g)(m.g.isSome(e.cardDSL),"upgrade hook must have SDUI content defined"),o.createElement(s.a,{content:m.g.unsafeGet(e.cardDSL),designSystem:l.a,notify:(n,i)=>t({type:v.b.Type.sduiCardAction,sourceId:n,cardId:e.id,actions:i})(),transitions:c.bc(e.transitions),prevContent:e.prevCardDSL,onAnimationEnd:t({type:v.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onMount:t({type:"onUpgradeHookCardMount"})})))))})},"E/Yu":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return a}));var i,a,r=n("Arv5"),o=n("RZOd"),s=n("I7vG"),l=n("LNSM"),c=n("bYZB"),d=n("3s0z"),u=n("zR/0"),p=n("gy42"),h=n("LNdG"),m=n("lrqh"),g=n("6fbX"),f=n("D9EC"),b=n("PrA7"),y=n("o5+S"),v=n("nQSW"),k=n("zGI0");function w(e,t,n,a,o,s,l,p){const h=[{name:"head",hotkey:m.g.none,initialState:{active:!1,disabled:!1}},{name:c.e.Type.bold,hotkey:r.E([{modifiers:new Set([d.a.short]),key:"B"}]),initialState:{active:!1,disabled:!1}},{name:c.e.Type.italic,hotkey:r.E([{modifiers:new Set([d.a.short]),key:"I"}]),initialState:{active:!1,disabled:!1}},{name:c.e.Type.underline,hotkey:r.E([{modifiers:new Set([d.a.short]),key:"U"}]),initialState:{active:!1,disabled:!1}},"separator",{name:c.e.Type.header1,hotkey:r.E([{modifiers:new Set([d.a.short,d.a.alt]),key:"1"}]),initialState:{active:!1,disabled:!1}},{name:c.e.Type.header2,hotkey:r.E([{modifiers:new Set([d.a.short,d.a.alt]),key:"2"}]),initialState:{active:!1,disabled:!1}},"separator",{name:c.e.Type.link,hotkey:r.E([{modifiers:new Set([d.a.short]),key:"K"}]),initialState:{active:!1,disabled:!1}},"separator",{name:c.e.Type.orderedList,hotkey:r.E([{modifiers:new Set([d.a.short,d.a.shift]),key:"7"}]),initialState:{active:!1,disabled:!1}},{name:c.e.Type.bulletList,hotkey:r.E([{modifiers:new Set([d.a.short,d.a.shift]),key:"8"}]),initialState:{active:!1,disabled:!1}},"separator",{name:"clear",hotkey:r.E([{modifiers:new Set([d.a.short]),key:"\\"}]),initialState:{active:!1,disabled:!1}}],g=h.filter(Object(f.b)(k.a.isItem,e=>e.name!==c.e.Type.link)),y=i.initHandlers(g),{formattingEvents:v,viewModel:w}=function(e,t,n,a,r,o,s){const l=i.ToolbarViewModel.create(n,a,s,t),c=k.a.toMenuEvents(e,l.events).pipe(u.a.tap(([e,t,n])=>void r.rtfMenuEventFire(e,o,n)));return{viewModel:l,formattingEvents:c}}(e,a,h,o,s,l,p),[S,_]=u.a.partitionStatic(v,e=>e[0]!==c.e.Type.link),C=function(e,t,n,a,r){const o=n(e,r),s=b.Monitoring.Logging.getLogger("formattingMenuManager"),l=k.a.linkEvents(a,o).pipe(u.a.catchError((e,t)=>(s.error("Error handling formatting event",e),t))),c=i.ToolbarViewModel.stateManager(t,r),d=l.pipe(u.a.merge(c)).subscribe();return{dispose:()=>{d.unsubscribe()}}}(t,n,y,S,w);return{dispose:()=>{C.dispose()},viewModel:w,linkEvents:_}}!function(e){let t,n,i;!function(e){e.asMenuScheme=e=>e.slice(1)}(t=e.Scheme||(e.Scheme={})),function(e){e.Collapsed="Collapsed",e.Expanded="Expanded"}(n=e.VisualState||(e.VisualState={})),function(e){e.create=function(e,i,a,r){const o=e=>i.toolbar.formatting[e],c=e=>m.g.some(i.toolbar.formatting.tooltips[e]),d=h.a.HotkeyOptions.toString(a.has(v.b.Flag.isAppleSystem)),p=new u.a.Subject,g=l.a.create({menu:n.Expanded,items:e.filter(k.a.isItem).reduce((e,t)=>(e[t.name]=t.initialState,e),{})}),f=e[0];return{getBindings:Object(s.pipe)(e,t.asMenuScheme,k.a.Scheme.toBindingProvider(e=>p.next(e),()=>r)),head:{name:f.name,title:o(f.name),tooltip:c(f.name),nestedItem:m.g.none,active:g.view("items",f.name,"active"),disabled:g.view("items",f.name,"disabled"),onClick:()=>p.next({event:f.name,source:k.a.Source.View})},list:t.asMenuScheme(e).map(e=>k.a.isItem(e)?{name:e.name,title:o(e.name),tooltip:c(e.name),nestedItem:Object(s.pipe)(e.hotkey,m.g.map(e=>m.b.left(d(e[0])))),active:g.view("items",e.name,"active"),disabled:g.view("items",e.name,"disabled"),onClick:()=>p.next({event:e.name,source:k.a.Source.View})}:e),visualState:g.view("menu"),state:g,events:p}},e.stateManager=function(e,{state:t}){return e.pipe(u.a.tap(e=>{t.lens("items").modify(Object(o.F)((t,n)=>t===c.e.Type.bulletList?Object.assign(Object.assign({},n),{active:!0===e[c.e.Type.bulletList]||!0===e[c.e.Type.dashedList]}):t===c.e.Type.link?n:c.e.is(t)?Object.assign(Object.assign({},n),{active:!0===e[t]}):n))}),u.a.mapTo(p.b.voidValue))}}(i=e.ToolbarViewModel||(e.ToolbarViewModel={}));const a=(e,{state:t})=>i=>{const a=t=>{e({index:t.start,length:t.end-t.start,meta:{source:c.g.Meta.Source.api,formatting:{bold:!1,italic:!1,underline:!1,bulletList:!1,dashedList:!1,header1:!1,header2:!1,orderedList:!1,strike:!1}}})};switch(i.name){case"head":return()=>t.lens("menu").modify(e=>e===n.Collapsed?n.Expanded:n.Collapsed);case"clear":return a;case c.e.Type.bold:case c.e.Type.bulletList:case c.e.Type.header1:case c.e.Type.header2:case c.e.Type.italic:case c.e.Type.orderedList:case c.e.Type.underline:return(n=>i=>{const a=t.get().items[n].active,r=(t={})=>e({index:i.start,length:i.end-i.start,meta:{source:c.g.Meta.Source.api,formatting:Object.assign(Object.assign({},t),{[n]:!a})}});if(y.b.isBlockFormat(n)){r({[c.e.Type.header1]:!1,[c.e.Type.header2]:!1,[c.e.Type.orderedList]:!1,[c.e.Type.bulletList]:!1,[c.e.Type.dashedList]:!1})}else r()})(i.name);default:return Object(g.d)(i.name)}};e.initHandlers=function(e){return(t,n)=>{const i=a(t,n);return e.reduce((e,t)=>(e[t.name]=i(t),e),{})}}}(i||(i={})),function(e){e.fromToolbar=function(e){return e.pipe(u.a.map(([,e])=>({range:e,source:"toolbar"})))},e.fromDenaliEditor=function(e){return e.pipe(u.a.map(e=>c.e.LinkPayload.is(e)?m.g.some({range:e[c.e.Type.link][0].range,source:"selection"}):m.g.none))}}(a||(a={})),function(e){let t;!function(e){e.Mock=class{constructor(){this.linkEvents=new u.a.Subject,this.changes=new u.a.Subject}}}(t=e.Manager||(e.Manager={}))}(i||(i={}))},EH1O:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("ERkP"),a=n("OA+g"),r=n("I7vG"),o=n("vOOZ"),s=n("rk+4"),l=n("p7l/"),c=n("2HQ1"),d=n("bO3R"),u=n("wsrD"),p=n("FpF0"),h=n("17O8"),m=n("zR/0"),g=n("6fbX"),f=n("hoSD"),b=n("lrqh"),y=n("nb6X"),v=n("PrA7"),k=n("0lfv"),w=n("8ZZk"),S=n("m/RE");class _ extends g.a{}const C=({vm:e})=>{const t=i.useContext(l.a.Context).pipe(m.a.map(f.e.pick("rect")));return i.createElement(o.a.div,{className:S.positionedWrapper},m.a.combineLatestStatic(t,e.visualState).pipe(m.a.map(([e,t])=>Object(r.pipe)(k.a.fromOption(t),b.b.fromOption(()=>new _("Viewport state is O.none")),b.b.chain(t=>Object(r.pipe)(t.rect.getRect(),b.b.map(({clientRects:[t,...n],rootClientRect:i})=>({viewportLikeRect:f.c.absToRelative(e,i),rect:Object(r.pipe)(f.c.Rect.join(t,...n),b.b.getOrElse(()=>f.c.Rect.empty))})),b.b.map(({viewportLikeRect:e,rect:n})=>i.createElement(o.a.div,{className:S.editorToViewportContainer,style:{top:e.top,left:e.left}},i.createElement(h.a.ByAbsoluteRect,{rect:n,align:f.c.Rect.Axis.vertical,selector:A},i.createElement(c.a,{hide:t.close},i.createElement("div",{className:S.wrapper},t.visualState===w.a.VisualState.EditingMode?i.createElement(E,{inputContent:t.inputContent,apply:t.apply,isValid:t.isValid}):i.createElement(O,{url:t.url,change:t.change,remove:t.remove})))))))),b.b.fold(e=>(e instanceof _||v.Monitoring.Logging.getLogger("FormattingLink").error("Cannot render links popup",e),null),a.identity))),m.a.startWith(null)))},E=({apply:e,inputContent:t,isValid:n})=>{const r=i.useContext(s.a.Context);return i.createElement(i.Fragment,null,i.createElement(u.a,{name:"rtfLinks-urlInput",placeholder:r.toolbar.formatting.links.placeholder,autofocus:!0,className:S.urlInput,value:t}),i.createElement(d.a.Ghost,{name:"rtfLinks-apply",onClick:()=>{e()},disabled:n.view(Object(a.not)(a.identity))},r.toolbar.formatting.links.apply))},O=({url:e,change:t,remove:n})=>{const a=i.useContext(s.a.Context);return i.createElement(i.Fragment,null,i.createElement(p.a,{href:e,className:S.urlHolder},i.createElement("span",{className:S.urlText},e)),i.createElement(d.a.Tertiary,{name:"rtfLinks-change",onClick:t,className:S.button},a.toolbar.formatting.links.change),i.createElement("span",{className:S.delimiter}),i.createElement(d.a.Tertiary,{name:"rtfLinks-remove",onClick:n,className:S.button},a.toolbar.formatting.links.remove))},A=e=>{const t=y.a.Selector.Placement.left,n=y.a.Selector.takeBy("bottom",t)(e);return(({point:e})=>-1===Math.sign(e.x)||-1===Math.sign(e.y))(n.point)?y.a.Selector.preferBy("bottom",t)(e):n}},EiZq:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ERkP"),a=n("vOOZ"),r=n("9NHN"),o=n("hoSD"),s=n("1w6p"),l=n("e12y"),c=n("ps/9"),d=n("zR/0"),u=n("gy42"),p=n("xEVj");var h;!function(e){let t,n;!function(e){e.front="front",e.back="back"}(t=e.Layer||(e.Layer={})),function(e){e.completePositionAnimation="completePositionAnimation",e.changePosition="changePosition"}(n=e.ActionKind||(e.ActionKind={})),e.Cell=s.b.Grid.make(({slots:e,state:s,notify:l})=>{const c=new d.a.ReplaySubject,h=s.pipe(d.a.withLatestFrom(c),d.a.switchMap(([e,t])=>e.position.animationInProgress?d.a.mergeStatic(d.a.fromEvent(t,"transitionend").pipe(d.a.filter(e=>e.target===t&&"transform"===e.propertyName),d.a.mapTo(void 0)),d.a.of(void 0).pipe(d.a.delay(200))).pipe(d.a.first()):d.a.EMPTY),d.a.tap(l({kind:n.completePositionAnimation}))),m=s.pipe(d.a.withLatestFrom(c),d.a.switchMap(([e,t])=>e.height.watched?u.a.getResizeObservable(t).pipe(d.a.filter(t=>e.height.value!==t.height||!e.height.isValid||t.height>0)):d.a.EMPTY),d.a.distinctUntilChanged(),d.a.tap(({height:e})=>l({kind:n.changePosition,height:e})()));p.a.useSubscriptionTo(d.a.mergeStatic(h,m));const g=s.pipe(d.a.map(e=>e.position.top),d.a.map(e=>o.c.CSS.translateY(e)),d.a.distinctUntilChanged()),b=s.pipe(d.a.map(e=>e.layer===t.front?1:0),d.a.distinctUntilChanged()),y=s.pipe(d.a.map(({position:e})=>e),d.a.distinctUntilChanged((e,t)=>e.top===t.top),d.a.map(({animationInProgress:e})=>e?f.animate:void 0),d.a.startWith(void 0));return i.createElement(a.a.div,Object.assign({},Object(r.c)(f.item,y),{style:{transform:g,zIndex:b},mount:e=>{null!==e&&c.next(e)}}),e.item)})}(h||(h={}));const m={position:"absolute",boxSizing:"border-box",width:l.a.percent(100),contain:"layout"},g={transition:`transform ${l.a.seconds(c.d/1e3)} linear`},f=l.a.stylesheet({item:[m],animate:[g]})},F8cT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ERkP"),a=n("3rlE"),r=n("e12y");const o={position:"absolute",top:r.a.percent(40),width:r.a.percent(100)},s={position:"absolute",top:r.a.px(-9999),left:r.a.px(-9999),visibility:"hidden"},l=r.a.stylesheet({spinner:[o],wrapper:[{display:"flex",height:"100vh"}],preload:[s]});class c extends i.Component{render(){return i.createElement(d,null,i.createElement(a.b,null))}}const d=({children:e})=>i.createElement("div",{className:l.preload},e)},FK1v:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("OA+g"),r=n("PK5a"),o=n("7b34"),s=n("lrqh"),l=n("Cdla");function c(e,t,n){return{entries:e,latestChangeDiff:t,diffVersion:n+1}}!function(e){function t(e,t){return n=>Array.from(n.entries.values()).reduce((e,n)=>t(e,n),e)}function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const i=new Map,a=o.a.fromMutation(a=>{n.forEach((e,t)=>{a.set(t,s.m.left(e))}),e.forEach((e,t)=>{a.has(t)?i.set(t,`alert add overlaps with alert remove: toAdd(${l.a.Item.show.show(e)} overlapWith(${s.m.getShow(l.a.Item.show,l.a.Item.show).show(a.get(t))}))`):a.set(t,s.m.right(e))}),t.forEach(([e,t],n)=>{a.has(n)?i.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${l.a.Item.show.show(t)}) overlapWith(${s.m.getShow(l.a.Item.show,l.a.Item.show).show(a.get(n))}))`):a.set(n,s.m.both(e,t))})});return i.size>0?s.b.left({recovered:a,rejected:i}):s.b.right(a)}let i,d;e.iso=r.iso(),e.empty={entries:new Map,latestChangeDiff:o.a.empty(),diffVersion:0},e.get=function(e){return t=>s.g.fromNullable(t.entries.get(e))},e.find=function(e){return t(s.g.none,(t,n)=>Object(a.pipe)(t,s.g.alt(()=>s.g.fromPredicate(e)(n))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?s.b.unsafeGet(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:s.e.symmetricDiff(l.a.Item.eq)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=s.e.leftToRight(s.e.Merger.createStrict(l.a.Item.eqShow),t.entries,e);return Object(a.pipe)(n,s.b.bimap(n=>{const i=o.a.fromMutation(t=>{Object(a.pipe)(e,o.a.forEach((e,i)=>!n.rejected.has(i)&&t.set(i,s.m.left(e)),(e,i,a)=>!n.rejected.has(a)&&t.set(a,s.m.both(e,i)),(e,i)=>!n.rejected.has(i)&&t.set(i,s.m.right(e))))});return{recovered:c(n.recovered,i,t.diffVersion),rejected:n.rejected}},n=>c(n,e,t.diffVersion)))}},e.applyDiffLoose=function(e){return t=>{const n=s.e.leftToRight(s.e.Merger.createLoose(l.a.Item.eqShow),t.entries,e);return Object(a.pipe)(n,s.b.bimap(n=>({recovered:c(n.recovered,e,t.diffVersion),rejected:n.rejected}),n=>c(n,e,t.diffVersion)))}},e.fromAlertsDiff=function(e){return o.a.fromMutation(t=>{Object(a.pipe)(e,o.a.forEach(({alert:e})=>Object(a.pipe)(l.a.Item.fromBaseAlert(e),s.g.map(e=>t.set(e.id,s.m.left(e)))),(e,n)=>{Object(a.pipe)([l.a.Item.fromBaseAlert(e.alert),l.a.Item.fromBaseAlert(n.alert)],s.g.sequenceArray,s.g.map(([e,n])=>t.set(e.id,s.m.both(e,n))))},({alert:e})=>Object(a.pipe)(l.a.Item.fromBaseAlert(e),s.g.map(e=>t.set(e.id,s.m.right(e))))))})},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),latestChangeDiff:o.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}},e.diffShow=Object.assign({},o.a.getShow(l.a.Item.Id.show,l.a.Item.show)),function(e){e.showMapKeys={show:e=>null==e?"None":Array.from(e.keys()).join(", ")},e.show={show:t=>`added: ${e.showMapKeys.show(t.added)}\n        \n removed: ${e.showMapKeys.show(t.removed)}\n updated: ${e.showMapKeys.show(t.removed)}`}}(i=e.InternalDiff||(e.InternalDiff={})),function(e){e.empty=()=>({added:new Map,updated:new Map,removed:new Map})}(d=e.MutableInternalDiff||(e.MutableInternalDiff={}))}(i||(i={}))},FPs0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("9NHN"),s=n("e12y");!function(e){e.Top=e=>a.createElement(r.a.div,Object.assign({onTransitionEnd:e.onTransitionEnd},Object(o.c)(e.className,l.fixed)),e.children)}(i||(i={}));const l=s.a.stylesheet({fixed:[{position:"fixed",top:0,height:0}]})},Ffhm:function(e,t,n){"use strict";n.d(t,"a",(function(){return le}));var i=n("ERkP"),a=n("OA+g"),r=n("vOOZ"),o=n("9NHN"),s=n("bO3R"),l=n("3rlE"),c=n("lRnN"),d=n("zR/0"),u=n("es5d"),p=n("HUX/"),h=n("9/oM"),m=n("1w6p"),g=n("ot6E"),f=n("6qID"),b=n("HtjC"),y=n("x98X"),v=n.n(y),k=n("ev6t"),w=n("93Qa");function S(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function _(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function C(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return _(n.overflowY,t)||_(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function E(e,t,n,i,a,r,o,s){return r<e&&o>t||r>e&&o<t?0:r<=e&&s<=n||o>=t&&s>=n?r-e-i:o>t&&s<n||r<e&&s>n?o-t+a:0}var O=function(e,t){var n=window,i=t.scrollMode,a=t.block,r=t.inline,o=t.boundary,s=t.skipOverflowHiddenElements,l="function"==typeof o?o:function(e){return e!==o};if(!S(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,d=[],u=e;S(u)&&l(u);){if((u=u.parentElement)===c){d.push(u);break}null!=u&&u===document.body&&C(u)&&!C(document.documentElement)||null!=u&&C(u,s)&&d.push(u)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,f=e.getBoundingClientRect(),b=f.height,y=f.width,v=f.top,k=f.right,w=f.bottom,_=f.left,O="start"===a||"nearest"===a?v:"end"===a?w:v+b/2,A="center"===r?_+y/2:"end"===r?k:_,x=[],T=0;T<d.length;T++){var M=d[T],j=M.getBoundingClientRect(),I=j.height,R=j.width,N=j.top,L=j.right,P=j.bottom,D=j.left;if("if-needed"===i&&v>=0&&_>=0&&w<=h&&k<=p&&v>=N&&w<=P&&_>=D&&k<=L)return x;var F=getComputedStyle(M),B=parseInt(F.borderLeftWidth,10),H=parseInt(F.borderTopWidth,10),V=parseInt(F.borderRightWidth,10),U=parseInt(F.borderBottomWidth,10),q=0,W=0,$="offsetWidth"in M?M.offsetWidth-M.clientWidth-B-V:0,z="offsetHeight"in M?M.offsetHeight-M.clientHeight-H-U:0;if(c===M)q="start"===a?O:"end"===a?O-h:"nearest"===a?E(g,g+h,h,H,U,g+O,g+O+b,b):O-h/2,W="start"===r?A:"center"===r?A-p/2:"end"===r?A-p:E(m,m+p,p,B,V,m+A,m+A+y,y),q=Math.max(0,q+g),W=Math.max(0,W+m);else{q="start"===a?O-N-H:"end"===a?O-P+U+z:"nearest"===a?E(N,P,I,H,U+z,O,O+b,b):O-(N+I/2)+z/2,W="start"===r?A-D-B:"center"===r?A-(D+R/2)+$/2:"end"===r?A-L+V+$:E(D,L,R,B,V+$,A,A+y,y);var G=M.scrollLeft,K=M.scrollTop;O+=K-(q=Math.max(0,Math.min(K+q,M.scrollHeight-I+z))),A+=G-(W=Math.max(0,Math.min(G+W,M.scrollWidth-R+$)))}x.push({el:M,top:q,left:W})}return x};function A(e){return e===Object(e)&&0!==Object.keys(e).length}var x,T=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(A(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:O(e,t));if(!n){var i=function(e){return!1===e?{block:"end",inline:"nearest"}:A(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var i=e.el,a=e.top,r=e.left;i.scroll&&n?i.scroll({top:a,left:r,behavior:t}):(i.scrollTop=a,i.scrollLeft=r)}))}(O(e,i),i.behavior)}},M=function(){return x||(x="performance"in window?performance.now.bind(performance):Date.now),x()};function j(e,t,n,i,a,r){var o,s,l;void 0===i&&(i=600),void 0===a&&(a=function(e){return 1+--e*e*e*e*e}),o=e,s=e.scrollLeft,l=e.scrollTop,function e(t){var n=M(),i=Math.min((n-t.startTime)/t.duration,1),a=t.ease(i),r=t.startX+(t.x-t.startX)*a,o=t.startY+(t.y-t.startY)*a;t.method(r,o),r!==t.x||o!==t.y?requestAnimationFrame((function(){return e(t)})):t.cb()}({scrollable:o,method:function(t,n){e.scrollLeft=Math.ceil(t),e.scrollTop=Math.ceil(n)},startTime:M(),startX:s,startY:l,x:t,y:n,duration:i,ease:a,cb:r})}var I=function(e){return e&&!e.behavior||"smooth"===e.behavior};var R=function(e,t){var n=t||{};return I(n)?T(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var i=t.el,a=t.left,r=t.top,o=i.scrollLeft,s=i.scrollTop;return o===a&&s===r?e:[].concat(e,[new Promise((function(e){return j(i,a,r,n.duration,n.ease,(function(){return e({el:i,left:[o,a],top:[s,r]})}))}))])}),[]))}}):Promise.resolve(T(e,t))},N=n("fEss"),L=n("BugA"),P=n("e12y"),D=n("xEVj"),F=n("gy42"),B=n("lrqh"),H=n("ax6a");const V=m.b.Grid.make(({slots:e})=>i.createElement("div",{className:ne.container},e.body)),U=m.b.Node.make(({state:e,notify:t})=>{const n=i.createRef();return D.a.useSubscriptionTo(Object(a.pipe)(e,d.a.map(e=>e.scrollTo),d.a.distinctUntilChanged(),d.a.tap(e=>Object(a.pipe)(B.g.fromNullable(n.current),B.g.chain(t=>B.g.fromNullable(t.querySelector("."+q(e)))),z)))),i.createElement(r.a.div,{mount:n},e.pipe(d.a.map(e=>Object(a.pipe)(e.phrases,B.f.map(e=>i.createElement(s.a.White,Object.assign({key:e.id,name:"phrase",onClick:t({type:f.a.Type.InsertPhrase,phraseId:e.id})},Object(o.c)(L.o.button,ne.phrase,q(e.id))),e.content))))))}),q=e=>"phrase-id-"+e,W=m.b.Node.make(({state:e})=>{const t=i.createRef();return D.a.useSubscriptionTo(e.pipe(d.a.distinctUntilChanged(),d.a.switchMap(F.b.Scheduler.rafScheduler),d.a.tap(e=>Boolean(e)&&Object(a.pipe)(t.current,B.g.fromNullable,z)))),i.createElement(r.a.div,{className:e.pipe(d.a.map(e=>e?ne.loader:ne.loaderHidden)),mount:t},i.createElement(N.a,null))}),$=m.b.Grid.make(({slots:e,state:t})=>{const{ref:n,onMount:o}=D.a.useElWatcher();return D.a.useSubscriptionTo(Object(a.pipe)(d.a.combineLatestStatic([n.pipe(d.b.compact),t.pipe(d.a.filter(e=>e.resetScroll))]).pipe(d.a.tap(([e])=>e.scrollTop=0)))),i.createElement(r.a.div,{mount:o,className:ne.phrases,style:t.pipe(d.a.map(e=>e.isScrollable),d.a.distinctUntilChanged(),d.a.startWith(!0),d.a.map(e=>({overflow:e?void 0:"hidden"})))},e.phrases,e.loader)}),z=B.g.tap(e=>R(e,{behavior:"smooth",block:"nearest",inline:"start",scrollMode:"if-needed"})),G=m.b.Knot.make($,{phrases:U,loader:W}),K=m.b.Union.asOption(m.b.Knot.make(V,{body:G})),Y=Object(a.flow)(d.a.map(B.g.fromPredicate(f.c.isPhrases)),e=>{const t=e.pipe(d.a.distinctUntilChanged(B.g.getEq(B.c.getStructEq({id:B.c.eqStrict,phrases:B.c.eqStrict})).equals),d.a.map(B.g.map(e=>Object.assign(Object.assign({},e),{phrases:{scrollTo:e.phrases[0].id,phrases:e.phrases}}))),d.a.scan((e,t)=>Object(a.pipe)(t,B.g.map(({id:t,phrases:n})=>Object(a.pipe)(e,B.g.filter(({id:e})=>e===t),B.g.fold(Object(a.constant)({id:t,phrases:n}),({id:e,phrases:t})=>({id:e,phrases:X(t.phrases,n.phrases)})))))),d.a.map(B.g.map(({phrases:e})=>e))),n=e.pipe(d.a.map(B.g.map(e=>e.loadingState)),d.a.distinctUntilChanged(B.g.getEq(B.c.eqStrict).equals),d.a.map(B.g.map(e=>e===f.c.LoadingState.Loading))),i=n.pipe(d.a.map(B.g.map(e=>!e))),r=e.pipe(d.a.pairwise(),d.a.map(([e,t])=>Object(a.pipe)(t,B.g.map(({id:t})=>B.g.exists(({id:e})=>e!==t)(e)))),d.a.startWith(B.g.none));return d.a.combineLatestStatic([t,n,i,r]).pipe(d.a.map(([e,t,n,i])=>Object(a.pipe)(Object(w.sequenceS)(B.g.Applicative)({phrases:e,loader:t,resetScroll:i,isScrollable:n}))),d.a.map(B.g.map(({phrases:e,loader:t,isScrollable:n,resetScroll:i})=>({body:{phrases:e,loader:t,root:{resetScroll:i,isScrollable:n}}}))))});function X(e,t){const n=B.f.copy(e);for(let e=0;e<t.length;e++){const i=t[e];n[0].id===i.id&&n.shift(),n.push(i)}return{scrollTo:e[e.length-1].id,phrases:n}}const Z=P.a.rem(1.375),Q=P.a.keyframes({to:{opacity:0}}),J=P.a.keyframes({"0%":{opacity:0,transform:"translateY(50%)"},"50%":{opacity:0},"100%":{opacity:1}}),ee={height:P.a.rem(16.625),overflowY:"auto",animationDuration:"300ms",animationFillMode:"forwards"},te={height:P.a.rem(11),pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"center",width:P.a.percent(100),backgroundColor:H.a.CoreNeutral0},ne=P.a.prefixedStylesheet("draft_ai_phrase_selector",{title:[{paddingTop:P.a.rem(1.5)}],loader:[te],loaderHidden:[te,{position:"absolute",opacity:0,bottom:0}],smartPhrasesTitle:[{color:H.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:H.h.SubheadingLetterSpacing,fontSize:P.a.rem(H.h.SubheadingSize),lineHeight:P.a.rem(H.h.SubheadingLineHeight),borderBottom:`1px solid ${H.a.CoreNeutral20}`,marginTop:0,paddingBottom:P.a.rem(.5),marginBottom:P.a.rem(.5)}],phrase:[{width:P.a.percent(100),whiteSpace:"initial",textTransform:"none",lineHeight:P.a.important(P.a.rem(1.375)),padding:`${P.a.rem(.3)} ${P.a.rem(.5)}`,$nest:{"&:not(:last-child)":{marginBottom:P.a.rem(.5)}}}],addPhraseIcon:[{minWidth:Z,minHeight:Z,marginTop:P.a.important(0)}],container:[{paddingBottom:P.a.rem(.75)}],phrases:[ee],phrasesRemoving:[ee,{animationName:Q}],phrasesAppearing:[ee,{animationName:J}]}),ie=({tactics:e,description:t,selectedTactic:n,onSelect:a})=>i.createElement(i.Fragment,null,e.map(e=>i.createElement(ae,{key:e.id,tactic:e,selected:e.id===n,onClick:()=>a(e.id)})),i.createElement(L.a,{className:se.description},t)),ae=({tactic:e,selected:t,onClick:n})=>{const a={name:`ideas-tactic-${e.id}`,children:e.name,onClick:n};return t?i.createElement(s.a.Primary,Object.assign({},a,{className:se.sectionButtonSelected})):i.createElement(s.a.Ghost,Object.assign({},a,{className:se.sectionButton}))},re={marginRight:P.a.rem(.5),marginBottom:P.a.rem(.5),border:`1px solid ${H.a.CoreNeutral20}`,backgroundColor:H.a.CoreNeutral0,color:H.a.CoreBlue50},oe={color:H.a.CoreNeutral0,backgroundColor:H.a.CoreBlue50},se=P.a.prefixedStylesheet("ideas_tactic_selector",{sectionButton:[re],sectionButtonSelected:[re,oe],description:[{marginTop:P.a.rem(.5),lineHeight:P.a.rem(1.375),marginBottom:P.a.rem(1)}]}),le=e=>{const t=Object(p.b)({layoutDensity:"minimal"});return i.createElement("div",{className:t.container},i.createElement(r.a.div,{className:k.a.cardHeader},Object(a.pipe)(e.state.view("title"),d.a.map(e=>i.createElement(ue,null,e))),i.createElement("div",{className:k.a.cornerButton},i.createElement(s.a.Ghost,{name:"collapse",onClick:()=>e.actions.next({type:f.a.Type.Collapse})},i.createElement(l.f.Collapse,null)))),i.createElement("div",{className:k.a.cardWrapper},i.createElement("div",{className:k.a.cardSectionsRow},i.createElement(r.a.Fragment,null,Object(a.pipe)(e.state,d.a.map(({tactics:t,description:n,id:a})=>i.createElement(ie,{tactics:t,description:n,selectedTactic:a,onSelect:t=>e.actions.next({type:f.a.Type.SelectTactic,tacticId:t})})))),m.b.mount(he,(e=>m.a.fromSideEffect(t=>e.actions.next(t.action.action.action.action),Y(e.state)))(e))),i.createElement(r.a.div,{className:k.a.cardActionsRow},m.b.mount(ge,m.a.fromSideEffect(t=>e.actions.next(t.action),e.state)),i.createElement("div",{className:k.a.cardActionsSeparator}),i.createElement(s.a.Ghost,{name:"dismiss",onClick:()=>e.actions.next({type:f.a.Type.Dismiss})},i.createElement(l.d.Ignore,null)))))},ce=m.b.Node.make(({notify:e})=>i.createElement(b.a.GenerateButton,{name:"generate-more-phrases",onClick:e({type:f.a.Type.UpdatePhrases})},i.useContext(g.a.Context).draftAI.morePhrases)),de=m.b.Node.make(({notify:e})=>i.createElement(b.a.GenerateButton,{name:"inspire-me",onClick:e({type:f.a.Type.Ideate})},i.useContext(g.a.Context).draftAI.inspireMe)),ue=e=>i.createElement("span",Object.assign({},Object(o.c)(u.a.lens,u.a.dot,u.a.commonLabel,k.a.cardHeaderSpan)),i.createElement("img",{className:k.a.titleIcon,src:v.a}),e.children),pe=m.b.Grid.make(({slots:e})=>i.createElement(h.b,{alignment:"left",eventType:"onclick",stepId:c.a.StepId.Step15,title:"Click an idea to use and modify it.",message:"",themes:{notificationClassName:k.a.onboardingNotification}},i.createElement(i.Fragment,null,e.phrases))),he=Object(a.pipe)(K,m.b.patch("Some","value","body")(e=>m.b.Composite.make(pe,e))),me=m.b.Grid.make(({slots:e})=>i.createElement(h.b,{alignment:"left",eventType:"onclick",stepId:c.a.StepId.Step14,title:"Click to explore ideas",message:"",themes:{notificationClassName:k.a.onboardingNotification}},i.createElement(i.Fragment,null,e.ideate))),ge=m.b.Union.make("type",{[f.c.Type.Default]:m.b.Composite.make(me,de),[f.c.Type.TacticSelected]:ce})},FuGm:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return i}));var i,a=n("I7vG"),r=n("LNSM"),o=n("94k3"),s=n("lrqh"),l=n("GUi3"),c=n("BeBM"),d=n("zR/0"),u=n("gy42"),p=n("bFfh");class h{constructor(e,t,n,h,m,g,f,b=p.a.WithSuccess.State.isInSuccess(h),y){this._state=e,this._documentModel=t,this._trackSuccessStateChanged=n,this._capabilities=h,this.nonPriorityOptions=m,this.mutedAlertsOptions=g,this.hasNonPriorityAlerts=f,this.isInSuccess=b,this._withBirthday=y,this._getTextAmount=e=>0===e?i.TextAmount.zero:e<=o.a.BIG_TEXT_SIZE?i.TextAmount.small:i.TextAmount.large,this._subs=[],this.textAmount=r.a.create(this._getTextAmount(this._documentModel.documentLength.get().trimmed)),this.actionEvents=new d.a.Subject,this.applicatorEffects={id:"successViewModel.effects",when:l.a.isWithAlertsId,what:c.e.Effect.Applicator.create(this.actionEvents.pipe(d.a.filter(({type:e})=>e===i.ActionType.More),d.a.map(()=>e=>{const t=e.patch({currentLens:c.e.hasItems(e)&&Object(c.l)(e.currentLens)?this._capabilities.toggleNonPriorityList("expanded")(e.currentLens):e.currentLens});return Object(a.pipe)(c.e.hasItems(t)?this._capabilities.findFirstAlert(t.currentLens):s.g.none,s.g.fold(()=>t,e=>t.patch({currentLens:c.e.hasItems(t)?this._capabilities.selectItemByAlert(e,[])(t.currentLens):t.currentLens})))})))},this._currentLens=this._state.view(e=>({isSuccess:this.isInSuccess(e),type:e.currentLens.type,nonPriorityAlertsLeft:c.e.isLensview(e)&&c.e.hasItems(e)&&0!==this._capabilities.getActiveAlertsCount(e.currentLens),isAllAlerts:l.a.isMainLens(e.currentLens.id)})),this._listenTextSize=()=>this._currentLens.view(e=>e.isSuccess).pipe(d.a.switchMap(u.b.orEmpty(this._documentModel.documentLength.view("trimmed"))),d.a.map(this._getTextAmount)).subscribe(u.b.toAtom(this.textAmount)),this._lensSwitch=this._currentLens.pipe(d.a.startWith(this._currentLens.get()),d.a.pairwise(),d.a.map(([e,t])=>t.isSuccess?s.g.some({prevLensType:e.type,nonPriorityAlertsLeft:t.nonPriorityAlertsLeft,isAllAlerts:t.isAllAlerts}):s.g.none)),this._textAmountToSuccessType=e=>e===i.TextAmount.zero?{type:i.SuccessType.zero,showBirthday:this._withBirthday.get()}:e===i.TextAmount.large?{type:i.SuccessType.large}:{type:i.SuccessType.small},this.successState=r.a.create({type:i.SuccessType.zero,showBirthday:this._withBirthday.get()}),this._subs.push(this._listenTextSize(),this._listenSuccessStateChange()),this.priorityList=Object(a.pipe)(m,s.g.map(e=>({hasNonPriorityAlerts:this._state.view(f),reviewNonPriorityAlerts:()=>{e.trackNonPriorityToggle(),this.actionEvents.next({type:i.ActionType.More})}}))),this.mutedAlerts=Object(a.pipe)(g,s.g.map(()=>({reviewMutedSuggestions:()=>{},mutedSuggestionsCount:this._state.view(e=>e.currentLens.meta.mutedCount)})))}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_listenSuccessStateChange(){const e=e=>e.type===i.SuccessType.applied||e.type===i.SuccessType.zero?d.a.of(e):this._documentModel.checkingState.pipe(d.a.filter(e=>"checking"!==e),d.a.first(),d.a.mapTo(e));return this._lensSwitch.pipe(d.b.compactMap(t=>this.textAmount.pipe(d.a.map(this._textAmountToSuccessType),d.a.startWith(t.prevLensType===c.i.lensview?{type:i.SuccessType.applied,nonPriorityAlertsLeft:t.nonPriorityAlertsLeft,isAllAlerts:t.isAllAlerts}:this._textAmountToSuccessType(this.textAmount.get())),d.a.pairwise(),d.a.map(([e,t])=>e.type===i.SuccessType.applied&&t.type!==i.SuccessType.zero?e:t),d.a.switchMap((t,n)=>0===n?d.a.of(t):e(t)),d.a.tap(e=>{this._trackSuccessStateChanged(e.type===i.SuccessType.applied?"applied":e.type===i.SuccessType.zero?"nothingToCheck":"noIssues")})))).subscribe(u.b.toAtom(this.successState))}}!function(e){let t,n,i;!function(e){e.More="More"}(t=e.ActionType||(e.ActionType={})),function(e){e.zero="zero",e.small="small",e.large="large"}(n=e.TextAmount||(e.TextAmount={})),function(e){e.zero="zero",e.small="small",e.large="large",e.applied="applied",e.premiumOnboardingStart="premiumOnboardingStart",e.premiumOnboardingComplete="premiumOnboardingComplete"}(i=e.SuccessType||(e.SuccessType={}));e.Mock=class{constructor(){this.textAmount=r.a.create(n.zero),this.successState=r.a.create({type:i.zero,showBirthday:!1}),this.mutedSuggestionsCount=r.a.create(0),this.hasNonPriorityAlerts=r.a.create(!1)}reviewMutedSuggestions(){throw new Error("Method not implemented.")}reviewNonPriorityAlerts(){throw new Error("Method not implemented.")}dispose(){throw new Error("Method not implemented.")}}}(i||(i={}))},GqpD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return v}));var i,a,r,o=n("I7vG"),s=n("LNSM"),l=n("bYZB"),c=n("zR/0"),d=n("LNdG"),u=n("D9EC"),p=n("lrqh"),h=n("6fbX"),m=n("PrA7"),g=n("mEc7"),f=n("nQSW"),b=n("Pe9T"),y=n("zGI0");function v(e,t,n,i,a,r,o,s,l,d,u){const p=new c.a.Subject;return{viewModel:new k(e,p,t,n,i,a,r,o,s,l,d,u),events:p}}!function(e){e.Collapsed="Collapsed",e.Expanded="Expanded"}(i||(i={})),function(e){e.close="close",e.myGrammarly="myGrammarly",e.documentHeader="documentHeader",e.newDocument="newDocument",e.uploadFile="uploadFile",e.download="download",e.print="print",e.editHeader="editHeader",e.editorSettings="editorSettings",e.accountHeader="accountHeader",e.userName="userName",e.email="email",e.upgradeToPremium="upgradeToPremium",e.language="language",e.subscription="subscription",e.logout="logout",e.support="support",e.whatsNew="whatsNew",e.feedback="feedback",e.privacyPolicy="privacyPolicy",e.termsOfService="termsOfService"}(a||(a={})),function(e){e.uploadFile="uploadFile",e.accountHeaderLabel="accountHeaderLabel",e.languageSettings="languageSettings",e.whatsNewUpdates="whatsNewUpdates"}(r||(r={}));class k{constructor(e,t,n,a,r,l,h,b,v,k,w,S){this._scheme=e,this._events=t,this._textResources=n,this._userAccount=a,this._dialectSettings=r,this._uploadViewModel=l,this._environment=h,this._notificationsManager=b,this._telemetry=v,this._documentModel=k,this._appRouter=w,this._isEditorFocused=S,this.visualState=s.a.create({type:i.Collapsed}),this.items=[],this.getHotkeyString=d.a.HotkeyOptions.toString(this._environment.has(f.b.Flag.isAppleSystem)),this.getBindings=Object(o.pipe)(this._scheme,y.a.Scheme.toBindingProvider(e=>this._events.next(e),()=>this._isEditorFocused.pipe(c.a.combineLatest(this.visualState.pipe(c.a.map(e=>e.type===i.Expanded)),u.o)))),this.onMenuHovered=()=>{this._documentModel.flush().catch(e=>m.Monitoring.Logging.getLogger("documentSettings").error("Could not flush document from toolbar",e))},this.onGoBackToGrammarlyHome=()=>{this._telemetry.gnarSpec.backToMyGrammarlyButtonClick(this._telemetry.pageId,"inline"),this._appRouter.navigate(g.a.routes.documents.href())},this.onOpenToolbar=()=>{this.visualState.set({type:i.Expanded,scrollTo:p.g.none})},this._changeDialect=e=>c.a.from(this._dialectSettings.setDialect(e)).pipe(c.a.tap(()=>{this._environment.actions.dialectChanged().recover(e=>{m.Monitoring.Logging.getLogger("documentSettings").error("env error during dialect change",e)}),this._telemetry.gnarSpec.docSettingsLanguageEventFire(e,this._telemetry.pageId)}),c.a.catchError(e=>(m.Monitoring.Logging.getLogger("documentSettings").error("Cannot set language preferences",e),this._notificationsManager.enqueue("error")))).toPromise(),this.itemsState=s.a.create(e.filter(y.a.isItem).reduce((e,t)=>(e[t.name]=t.initialState,e),{}));const[_,...C]=e.map(e=>this._createViewItem(e));this.head=_,this.items=C}_createViewItem(e){return y.a.isItem(e)?{name:e.name,title:this._getTitle(e.name),tooltip:this._getTooltip(e.name),nestedItem:this._getNestedItem(e),active:this.itemsState.view(e.name,"active"),disabled:this.itemsState.view(e.name,"disabled"),onClick:()=>this._events.next({event:e.name,source:y.a.Source.View})}:e}_getNestedItem(e){const t=e.name;switch(t){case a.uploadFile:if(this._userAccount.features.demoMode)return p.g.none;const n=b.d.ACCEPTED_UPLOAD_EXTENSIONS.filter(e=>".doc"!==e&&".htm"!==e&&".html"!==e).join(", ");return p.g.some(p.b.right({type:r.uploadFile,uploadViewModel:this._uploadViewModel,label:n}));case a.newDocument:case a.print:case l.d.undo:case l.d.redo:case l.d.cut:case l.d.copy:case l.d.paste:case l.d.selectAll:return Object(o.pipe)(e.hotkey,p.g.map(e=>p.b.left(this.getHotkeyString(e[0]))));case a.accountHeader:return p.g.some(p.b.right({type:r.accountHeaderLabel,denaliUserType:this._userAccount.features.denaliUserType}));case a.language:return p.g.some(p.b.right({type:r.languageSettings,dialectSettings:this._dialectSettings,changeDialect:this._changeDialect}));case a.download:return this._documentModel.rtfMode===b.d.DocumentFeatures.FormattingMode.on?p.g.some(p.b.left(this._textResources.documentSettings.downloadLabel)):p.g.none;case a.close:case a.myGrammarly:case a.documentHeader:case a.editHeader:case a.editorSettings:case a.userName:case a.email:case a.upgradeToPremium:case a.subscription:case a.logout:case a.support:case a.whatsNew:case a.feedback:case a.privacyPolicy:case a.termsOfService:return p.g.none;default:return Object(h.d)(t)}}_getTitle(e){const t=this._userAccount.profile.get();switch(e){case a.userName:return t.fullName;case a.email:return t.email;default:return this._textResources.documentSettings[e]}}_getTooltip(e){switch(e){case a.documentHeader:case a.editHeader:case a.accountHeader:case a.email:case a.userName:return p.g.none;default:return p.g.some(this._textResources.documentSettings.tooltips[e])}}}},Gz6z:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("I7vG"),a=n("6fbX"),r=n("lrqh"),o=n("PrA7");class s{constructor(){this._log=o.Monitoring.Logging.getLogger("AlertManager.repository",o.Logging.LogLevel.DEBUG),this._allAlerts=new Map,this._capiAlertsIdMapping=new Map,this.add=e=>{this._allAlerts.set(e.id,e)},this.remove=e=>{this._log.trace("AllAlerts: Clean alert from all alerts",e.toLiteString()),Object(a.g)(0===e.references,"can not dispose alert in use",()=>e.toString()),Object(a.g)(!1===e.isValid,"can not dispose valid alert",()=>e.toString()),Object(a.g)(this._allAlerts.delete(e.id),"alert should exist in alerts list",()=>e.toString()),e.dispose()},this.addToCapiMapping=e=>{e.isValid||Object(i.pipe)(e.rawId,r.g.fold(()=>this._log.debug("skip register of local alert in capi mapping",e),t=>{this._log.trace("register alert in capi mapping",e.toLiteString()),Object(a.g)(void 0===this._capiAlertsIdMapping.get(t),"unexpected overlap of rawid alert",()=>e.toString()),e.validate(),this._capiAlertsIdMapping.set(t,e.id)}))},this.removeFromCapiMapping=e=>{e.isValid&&(Object(i.pipe)(e.rawId,r.g.tap(t=>{this._log.trace("clean valid alert capi mapping for: "+e.toLiteString()),Object(a.g)(this._capiAlertsIdMapping.delete(t),"valid alert should had valid raw id",()=>e.toString())})),e.invalidate())},this.getByAlertId=e=>r.g.fromNullable(this._allAlerts.get(e)),this.getByRawAlertId=e=>Object(i.pipe)(r.g.fromNullable(this._capiAlertsIdMapping.get(e)),r.g.chain(this.getByAlertId)),this.swapRaw=(e,t)=>{const n=Object(i.pipe)(e.rawId,r.g.exists(e=>this._capiAlertsIdMapping.has(e))),o=Object(i.pipe)(e.rawId,r.g.exists(e=>this._capiAlertsIdMapping.has(e)));Object(a.g)(n||o,"At least one of the swapped alerts should be registered in the system");const s=e._raw;e.silentPatchWithRawAlert(t._raw),t.silentPatchWithRawAlert(s),n&&this._capiAlertsIdMapping.set(r.g.unsafeGet(e.rawId),e.id),o&&this._capiAlertsIdMapping.set(r.g.unsafeGet(t.rawId),t.id)},this.toArray=()=>Array.from(this._allAlerts.values()),this.toMap=()=>this._allAlerts,this.toJSON=()=>({allAlerts:Array.from(this._allAlerts.entries()),idMapping:Array.from(this._capiAlertsIdMapping.entries())})}}},HDvz:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n("ERkP"),a=n("OA+g"),r=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("LNSM"),c=n("bYZB"),d=n("rk+4"),u=n("gOzB"),p=n("bO3R"),h=n("wJHk"),m=n("XXDN"),g=n("3rlE"),f=n("8cPE"),b=n("BugA"),y=n("xEVj"),v=n("zR/0"),k=n("mAhp"),w=n("BeBM"),S=n("lRnN"),_=n("9/oM"),C=n("lrqh"),E=n("hoSD"),O=n("D9EC"),A=n("6fbX"),x=n("rmLU"),T=n("+ukg"),M=n("kbau"),j=n("sv6e"),I=n("GqpD"),R=n("zGI0"),N=n("jzV5");const L=({documentSettingsViewModel:e,lensState:t,isDemoMode:n,isUkraineMode:a})=>i.createElement("div",{className:N.leftSidebar},i.createElement(P,{viewModel:e}),i.createElement(B,{documentSettingsViewModel:e,lensState:t,isDemoMode:n,isUkraineMode:a})),P=({viewModel:e})=>{const{ref:t,onMount:n}=y.a.useElWatcher();y.a.useFocusTrap(e.visualState.pipe(v.a.filter(G.isExpanded),v.a.delay(500),v.a.switchMapTo(t)));const a=t.pipe(v.b.compact),s=new v.a.BehaviorSubject(0),l=e.visualState.pipe(v.a.filter(G.isExpanded),v.a.tap(()=>s.next(0))),c=e.visualState.pipe(v.a.filter(G.isExpanded),v.a.switchMap(()=>v.a.fromEvent(document,"mousedown").pipe(v.a.map(e=>C.g.fromNullable(e.target)))),v.a.withLatestFrom(a),v.a.filter(([e,t])=>!Object(r.pipe)(e,C.g.exists(e=>E.c.isParent(t,e)))),v.a.tap(()=>e.visualState.set({type:I.a.Collapsed})));y.a.useSubscriptionTo(l.pipe(v.a.merge(c)));const d=new v.a.Subject;return i.createElement(o.a.Fragment,null,e.visualState.view(t=>{const a=G.isExpanded(t);return i.createElement("nav",{className:a?N.documentSettingsExpanded:N.documentSettings,ref:n,onMouseEnter:e.onMenuHovered},i.createElement(V,{viewModel:e}),i.createElement("div",{className:N.menuHead}),i.createElement(f.a,{name:"documentSettingsScroll",showWhenScrollable:!0,className:N.scrollableContent,scrollTo:s,key:t.type,onScroll:d},e.items.map((e,n)=>R.a.Item.isViewItem(e)?G.isHeader(e.name)?i.createElement(H,{item:e,key:n,onScroll:d}):i.createElement("div",{ref:n=>{t.type===I.a.Expanded&&null!==n&&Object(r.pipe)(t.scrollTo,C.g.filter(t=>t.item===e.name),C.g.tap(e=>s.next(n.getBoundingClientRect().bottom-e.positionY)))},className:G.getItemClassName(e.name),key:n},i.createElement(U,{item:e,onScroll:d})):i.createElement(z,{key:n}))))}))},D=i.memo(j.b.createComponent({component:p.a,section:j.b.create(j.b.Id.menu),behavior:k.a.FocusBehavior.captureTab}),a.constTrue),F=i.memo(j.b.createComponent({component:p.a,section:j.b.create(j.b.Id.support),behavior:k.a.FocusBehavior.captureTab}),a.constTrue),B=({documentSettingsViewModel:e,lensState:t,isDemoMode:n,isUkraineMode:a})=>{const l=i.useContext(d.a.Context),c=t.view(w.e.isSidebarOpened);return i.createElement(o.a.Fragment,null,e.visualState.view(t=>{const d=G.isExpanded(t);return i.createElement("nav",{className:d?N.toolbarCollapsed:N.toolbarExpanded,key:"documentSettings-toolbar"},i.createElement("div",{className:N.expandButtonContainer},i.createElement(o.a.div,Object.assign({"data-name":"documentSettings-toolbarExpand"},Object(s.c)(d?N.expandButtonAnimationWrapperCollapsed:N.expandButtonAnimationWrapperExpanded,n?N.expandButtonSquashed:c.view(Object(O.c)(N.expandButtonSquashedWhenSmall,null)))),i.createElement("div",{className:N.expandButton},!n&&i.createElement(i.Fragment,null,i.createElement(p.a,Object.assign({name:"documentSettings-toolbarExpand-backToMyGrammarlyInline",title:"Grammarly Home",ariaLabel:"Grammarly Home"},Object(s.c)(N.expandButtonInlineAnimation,c.view(Object(O.c)(N.expandButtonHiddenWhenSmall,null))),{onClick:e.onGoBackToGrammarlyHome}),a?i.createElement(g.d.GrammarlyUkraine,{className:d?N.iconCollapsed:N.iconExpanded}):i.createElement(g.d.Grammarly,{className:d?N.iconCollapsed:N.iconExpanded})),i.createElement(o.a.div,Object.assign({},Object(s.c)(N.expandButtonSeparator,c.view(Object(O.c)(N.expandButtonHiddenWhenSmall,null)))))),i.createElement(_.b,{alignment:"bottom",eventType:"onclick",stepId:S.a.StepId.Step10,title:l.documentSettings.onboarding.title,message:l.documentSettings.onboarding.message,themes:{spotClassName:N.onboardingSpot}},i.createElement(D,{name:"documentSettings-toolbarExpand-openToolbar",title:"Menu",ariaLabel:"Menu",className:N.expandButtonInlineAnimation,onClick:e.onOpenToolbar},i.createElement(g.d.DocumentSettings.ExpandMenu,null)))))),i.createElement(F,{name:"documentSettings-toolbarSupport",className:N.toolbarSupportButton,title:l.documentSettings.supportTitle,ariaLabel:l.documentSettings.supportTitle,onClick:t=>{e.visualState.set({type:I.a.Expanded,scrollTo:Object(r.pipe)(G.getClickEventY(t),C.g.map(e=>({item:I.b.support,positionY:e})))})}},i.createElement(g.d.QuestionMark,null)))}))},H=({item:e,onScroll:t})=>i.createElement("div",{className:G.getItemClassName(e.name)},i.createElement(b.l,{className:Object(r.pipe)(G.getTextClassName(e.name),C.g.toUndefined)},e.title),i.createElement($,{item:e,onScroll:t})),V=({viewModel:e})=>{const t=G.isExpanded(e.visualState.get());return i.createElement("div",{className:t?N.closeButtonWrapperExpanded:N.closeButtonWrapperCollapsed},i.createElement(p.a.Flat,{name:`documentSettings-${e.head.name}`,active:e.head.active,disabled:e.head.disabled,animationMode:h.a.None,onClick:e.head.onClick,className:t?N.closeButtonExpanded:N.closeButtonCollapsed},i.createElement(g.d.Close,{className:t?N.closeIconExpanded:N.closeIconCollapsed}),i.createElement("span",{className:t?N.closeButtonTitleExpanded:N.closeButtonTitleCollapsed},e.head.title)))},U=({item:e,onScroll:t})=>{const n=i.useContext(x.a.Context),a=G.getLink(e.name,n),o=i.useRef(null),s=()=>{e.onClick(),null!=o.current&&o.current.click()},l=i.createElement(i.Fragment,null,Object(r.pipe)(G.getIcon(e),C.g.fold(()=>i.createElement("span",{className:N.menuText},e.title),t=>i.createElement(i.Fragment,null,i.createElement("div",{className:N.icon},t),i.createElement("span",{className:N.menuTitle},e.title)))),i.createElement($,{item:e,onScroll:t,mount:e=>o.current=e}));return Object(r.pipe)(a,C.g.fold(()=>i.createElement(q,{item:e,onClick:s},l),t=>i.createElement(W,{item:e,link:t,onClick:s},l)))},q=({item:e,children:t,onClick:n})=>i.createElement(p.a.Flat,{name:`documentSettings-${e.name}`,active:e.active,disabled:e.disabled,onClick:n,className:N.menuButton},t),W=({item:e,link:t,onClick:n,children:a})=>i.createElement(p.a.Flat,{name:`documentSettings-${e.name}`,active:e.active,disabled:e.disabled,className:N.menuButton,onClick:n,href:t,target:"_blank"},a),$=({item:e,onScroll:t,mount:n})=>{const a=i.useContext(d.a.Context);return Object(r.pipe)(e.nestedItem,C.g.map(C.b.fold(e=>i.createElement(b.l,{className:N.label},e),e=>G.renderNestedItem(e,t,a.documentSettings.eduLabel,n))),C.g.toNullable)},z=()=>i.createElement("div",{className:N.separator});var G;!function(e){function t(e){switch(e){case"american":return i.createElement(g.d.DocumentSettings.USFlag,null);case"british":return i.createElement(g.d.DocumentSettings.GBFlag,null);case"canadian":return i.createElement(g.d.DocumentSettings.CanadianFlag,null);case"australian":return i.createElement(g.d.DocumentSettings.AustralianFlag,null);default:return Object(A.d)(e)}}function n(e){const t=e.getBoundingClientRect();return t.bottom-t.height/2}e.renderNestedItem=(e,n,a,s)=>{switch(e.type){case I.c.uploadFile:return i.createElement(i.Fragment,null,i.createElement(b.l,{className:N.label},e.label),i.createElement(M.a,{documentUpload:e.uploadViewModel.uploadModel,multiple:!1,mount:s,hideTooltip:!0}));case I.c.accountHeaderLabel:return T.g.isPremium(e.denaliUserType)?T.g.isBusiness(e.denaliUserType)?i.createElement(u.a.Business,{className:N.accountHeaderLabel}):T.g.isEdu(e.denaliUserType)?i.createElement(u.a.Regular,{className:N.accountHeaderLabel},a):i.createElement(u.a.Premium,{className:N.accountHeaderLabel}):i.createElement(g.d.DocumentSettings.FreeLabel,{className:N.accountHeaderLabel});case I.c.whatsNewUpdates:return i.createElement(i.Fragment,null);case I.c.languageSettings:return function(e,n,a){const s=l.a.create("100%"),c=(h=e.dialectSettings,f=e.changeDialect,e=>i.createElement(p.a.Flat,{name:`documentSettings-${e}DialectButton`,onClick:()=>f(e)},i.createElement(o.a.Fragment,null,t(e),i.createElement("span",{className:N.dialect},`${e} English`),h.dialectOrDefault.view(t=>t===e&&i.createElement(g.d.DocumentSettings.Selected,{className:N.selectedLanguageIcon,key:e}))))),d=new v.a.Subject,u=e=>{const t=Object(r.pipe)(C.g.fromNullable(e.target),C.g.map(e=>e.getBoundingClientRect()));return d.pipe(v.a.map(e=>e.offsetHeight),v.a.tap(e=>Object(r.pipe)(t,C.g.tap(t=>{const n=t.top-t.height/2,i=e/4;window.innerHeight<n+e+i?s.set(`${window.innerHeight-e-i}px`):s.set(`${n}px`)})))).toPromise()};var h,f;return i.createElement(m.a,{name:"languageSettingsDropdown",label:i.createElement("div",{className:N.languageSettings,onMouseEnter:u,onClick:u,ref:a,"aria-hidden":!0},i.createElement(o.a.div,{className:N.icon},e.dialectSettings.dialectOrDefault.view(e=>t(e))),i.createElement(b.l,{className:N.label},"▶")),showDelay:0,closeDelay:100,theme:N,customPosition:{top:s,left:"18.5rem"},forceHide:n},i.createElement("div",{ref:e=>e&&d.next(e),className:N.languageButtonsWrapper},c("american"),c("british"),c("canadian"),c("australian")))}(e,n,s);default:return Object(A.d)(e)}},e.getLink=function(e,t){switch(e){case I.b.subscription:return C.g.some(t.account.subscription);case I.b.support:return C.g.some(t.support.mainPage);case I.b.privacyPolicy:return C.g.some(t.privacyPolicy);case I.b.termsOfService:return C.g.some(t.termsOfService);case I.b.close:case I.b.myGrammarly:case I.b.documentHeader:case I.b.newDocument:case I.b.uploadFile:case I.b.download:case I.b.print:case I.b.editHeader:case I.b.editorSettings:case I.b.accountHeader:case I.b.userName:case I.b.email:case I.b.upgradeToPremium:case I.b.language:case I.b.logout:case I.b.whatsNew:case I.b.feedback:case c.d.undo:case c.d.redo:case c.d.cut:case c.d.copy:case c.d.paste:case c.d.selectAll:return C.g.none;default:return Object(A.d)(e)}},e.getIcon=function(e){const t=e.name;switch(t){case I.b.close:return C.g.some(i.createElement(g.d.Close,null));case I.b.myGrammarly:return C.g.some(i.createElement(g.d.DocumentSettings.Home,null));case I.b.newDocument:return C.g.some(i.createElement(g.d.DocumentSettings.NewDocument,null));case I.b.uploadFile:return C.g.some(i.createElement(g.d.DocumentSettings.UploadFile,null));case I.b.download:return C.g.some(i.createElement(g.d.ToolbarDownload,null));case I.b.print:return C.g.some(i.createElement(g.d.DocumentSettings.PrintFile,null));case c.d.undo:return C.g.some(i.createElement(g.d.DocumentSettings.UndoGrey,null));case c.d.redo:return C.g.some(i.createElement(g.d.DocumentSettings.Redo,null));case c.d.cut:return C.g.some(i.createElement(g.d.DocumentSettings.Cut,null));case c.d.copy:return C.g.some(i.createElement(g.d.Copy,null));case c.d.paste:return C.g.some(i.createElement(g.d.DocumentSettings.Paste,null));case I.b.editorSettings:return C.g.some(i.createElement(g.d.Gear,null));case I.b.support:return C.g.some(i.createElement(g.d.QuestionMark,null));case I.b.upgradeToPremium:return C.g.some(i.createElement(g.d.Paid,null));case I.b.documentHeader:case I.b.editHeader:case I.b.accountHeader:case I.b.userName:case I.b.email:case I.b.language:case I.b.subscription:case I.b.logout:case I.b.whatsNew:case I.b.feedback:case I.b.privacyPolicy:case I.b.termsOfService:case c.d.selectAll:return C.g.none;default:return Object(A.d)(t)}},e.getItemClassName=function(e){switch(e){case I.b.myGrammarly:case I.b.editorSettings:return N.oneItemContainer;case I.b.documentHeader:case I.b.editHeader:case I.b.accountHeader:return N.header;case I.b.userName:return N.userNameHeader;case I.b.email:return N.emailHeader;case I.b.close:case I.b.newDocument:case I.b.uploadFile:case I.b.download:case I.b.print:case I.b.upgradeToPremium:case I.b.language:case I.b.subscription:case I.b.logout:case I.b.support:case I.b.whatsNew:case I.b.feedback:case I.b.privacyPolicy:case I.b.termsOfService:case c.d.undo:case c.d.redo:case c.d.cut:case c.d.copy:case c.d.paste:case c.d.selectAll:return N.menuButtonWrapper;default:return Object(A.d)(e)}},e.getTextClassName=function(e){switch(e){case I.b.userName:return C.g.some(N.userName);case I.b.email:return C.g.some(N.email);case I.b.documentHeader:case I.b.editHeader:case I.b.accountHeader:return C.g.some(N.headerText);case I.b.close:case I.b.myGrammarly:case I.b.newDocument:case I.b.uploadFile:case I.b.download:case I.b.print:case I.b.editorSettings:case I.b.upgradeToPremium:case I.b.language:case I.b.subscription:case I.b.logout:case I.b.support:case I.b.whatsNew:case I.b.feedback:case I.b.privacyPolicy:case I.b.termsOfService:case c.d.undo:case c.d.redo:case c.d.cut:case c.d.copy:case c.d.paste:case c.d.selectAll:return C.g.none;default:return Object(A.d)(e)}},e.isHeader=function(e){switch(e){case I.b.documentHeader:case I.b.editHeader:case I.b.accountHeader:case I.b.userName:case I.b.email:return!0;case I.b.close:case I.b.myGrammarly:case I.b.newDocument:case I.b.uploadFile:case I.b.download:case I.b.print:case I.b.editorSettings:case I.b.upgradeToPremium:case I.b.language:case I.b.subscription:case I.b.logout:case I.b.support:case I.b.whatsNew:case I.b.feedback:case I.b.privacyPolicy:case I.b.termsOfService:case c.d.undo:case c.d.redo:case c.d.cut:case c.d.copy:case c.d.paste:case c.d.selectAll:return!1;default:return Object(A.d)(e)}},e.getClickEventY=function(e){return Object(r.pipe)(C.g.fromNullable(void 0!==e&&e.target),C.g.map(n))},e.getElementCenter=n,e.isExpanded=function(e){return e.type===I.a.Expanded}}(G||(G={}))},Hr9Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y}));var i=n("u/VI"),a=n("hoSD"),r=n("QxMx"),o=n("GUi3"),s=n("viRF");function l(e){return`${e} ${a.f.pluralize(e,"alert","alerts")}`}const c=e=>(t,n,i,a,r)=>t?l(n.count):e(n,i,a,r),d=(e,t)=>(n,i,a,r)=>{const o=r?n.count:n.priorityCount;return o>0?l(o):a&b.IsDocumentEmpty?e:t},u={description:"Improves spelling, grammar, and punctuation.",stateMessage:c(d("No alerts","Looking good"))},p={description:"Helps make your writing easier to understand.",stateMessage:c((e,t,n)=>{const a=Object(r.a)(i.lt(s.a.ord))(t);if(n&b.IsDocumentEmpty)return"So far so good";if(e.count>0){if(s.a.isMin(t))return l(e.count);if(a(s.a.fromNumber(20)))return"Unclear";if(a(s.a.fromNumber(70)))return"A bit unclear";if(a(s.a.fromNumber(85)))return"Mostly clear";if(a(s.a.fromNumber(95)))return"Clear"}return"Very clear"})},h={description:"Helps make your writing more interesting and effective.",stateMessage:c((e,t,n)=>{const a=n&b.IsFreeUser,o=s.a.isMin(t),c=Object(r.a)(i.lt(s.a.ord))(t);if(n&b.IsDocumentEmpty||a&&o)return"Nothing yet";if(a||e.count>0){if(o)return l(e.count);if(c(s.a.fromNumber(20)))return"Bland";if(c(s.a.fromNumber(80)))return"A bit bland";if(c(s.a.fromNumber(95)))return"Engaging"}return"Very engaging"})},m={description:"Helps you make the right impression on your reader.",stateMessage:c((e,t,n)=>{const a=n&b.IsFreeUser,o=s.a.isMin(t),c=Object(r.a)(i.lt(s.a.ord))(t);if(n&b.IsDocumentEmpty||a&&o)return"Nothing yet";if(a||e.count>0){if(o)return l(e.count);if(c(s.a.fromNumber(20)))return"Serious issues";if(c(s.a.fromNumber(40)))return"Very off";if(c(s.a.fromNumber(95)))return"Slightly off"}return"Just right"})},g={description:"Your organization’s writing guidelines.",stateMessage:c(d("Nothing yet","All good"))},f={[o.a.SpecialId.Correctness]:u,[o.a.SpecialId.CorrectnessPriority]:u,[o.a.SpecialId.Clarity]:p,[o.a.SpecialId.ClarityPriority]:p,[o.a.SpecialId.Engagement]:h,[o.a.SpecialId.EngagementPriority]:h,[o.a.SpecialId.Delivery]:m,[o.a.SpecialId.DeliveryPriority]:m,[o.a.SpecialId.Vox]:g,[o.a.SpecialId.VoxPriority]:g,[o.a.SpecialId.Plagiarism]:{description:"Checks for similarities to published writing.",stateMessage:c((e,t,n)=>n&b.IsLensVisited&&!(n&b.IsDocumentEmpty)?n&b.IsLensActive?s.a.isMin(t)?"100% original":`${t}% unoriginal`:"Recheck":"Not checked yet")},[o.a.SpecialId.Premium]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:c((e,t,n)=>n&b.IsDocumentEmpty?"Advanced checks":`${e.count} more ${a.f.pluralize(e.count,"alert","alerts")}`)},[o.a.SpecialId.FreePremiumAlerts]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:c((e,t,n)=>n&b.IsDocumentEmpty?"Advanced checks":`${e.count} more ${a.f.pluralize(e.count,"alert","alerts")}`)}};var b;function y(e){return f[e]}!function(e){e[e.IsDocumentEmpty=1]="IsDocumentEmpty",e[e.IsLensActive=2]="IsLensActive",e[e.IsLensVisited=4]="IsLensVisited",e[e.IsFreeUser=8]="IsFreeUser"}(b||(b={}))},HtjC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("9NHN"),o=n("bO3R"),s=n("yB2L"),l=n("3rlE"),c=n("e12y"),d=n("ax6a"),u=n("ot6E"),p=n("x98X"),h=n.n(p);!function(e){e.GenerateButton=e=>a.createElement(o.a.Primary,Object.assign({},e,Object(r.c)(g.button,e.className)),a.createElement("img",{className:g.logo,src:h.a,"aria-hidden":!0}),e.children);const t=()=>{const{title:e,body:t}=a.useContext(u.a.Context).draftAI.gallery.harvardRecommends;return a.createElement("div",{className:g.tooltipRecommends},a.createElement("div",null,a.createElement(l.d.IdeasRecommended,{width:"12",height:"14",className:g.tooltipRecommendsIcon}),a.createElement("b",null,e)),a.createElement("div",null,t))};e.TacticButton=e=>a.createElement(o.a.Primary,Object.assign({},e,Object(r.c)(e.className,g.tactic),{title:e.isRecommended?a.createElement(t,null):void 0,titleAlign:"topCenter"}),e.isRecommended?a.createElement(l.d.IdeasRecommended,{className:g.tacticRecommendedIcon}):null,e.children,Boolean(e.active)?a.createElement(l.d.Cross,{className:g.tacticSelectionIcon,width:12}):a.createElement(l.d.NewSmall,{className:g.tacticSelectionIcon})),e.MoreButton=e=>{const{more:t}=a.useContext(u.a.Context).draftAI.gallery;return a.createElement(o.a.Primary,Object.assign({},e,Object(r.c)(e.className,g.tactic,g.more)),a.createElement("div",{className:g.counter},a.createElement(s.a.Counter,{count:e.count,type:"blue"})),t,a.createElement(l.d.Arrow,{className:g.tacticSelectionIcon}))}}(i||(i={}));const m=c.a.rem(1.375),g=c.a.prefixedStylesheet("ideas_button",{button:[{height:c.a.rem(2.5),borderRadius:c.a.rem(2.125),display:"flex",flexDirection:"row",alignItems:"center",$nest:{"&[data-textpos='right']":{padding:`${c.a.rem(.5)} ${c.a.rem(1)} ${c.a.rem(.5)} ${c.a.rem(.5)}`}}}],logo:[{width:m,height:m,marginRight:c.a.rem(.5)}],tactic:[{paddingLeft:c.a.rem(1),paddingRight:c.a.rem(1),color:d.a.CoreBlue50,height:c.a.rem(2.5),display:"inline-flex",flexDirection:"row",alignItems:"center",backgroundColor:d.a.CoreNeutral10,border:"1px solid transparent",$nest:{"&:not([data-disabled='true']) > i":{fill:d.a.CoreNeutral50,stroke:d.a.CoreNeutral50},"&:not([data-hovered='true']) > i":{fill:d.a.CoreNeutral50,stroke:d.a.CoreNeutral50},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:d.a.CoreBlue10,borderColor:d.a.CoreBlue50,$nest:{"& > i":{fill:d.a.CoreBlue50,stroke:d.a.CoreBlue50}}},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:d.a.CoreBlue10,borderColor:d.a.CoreBlue50,$nest:{"& > i":{fill:d.a.CoreBlue50,stroke:d.a.CoreBlue50}}}}}],more:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{border:"1px solid transparent"}}}],tacticRecommendedIcon:[{marginLeft:c.a.rem(-.5)}],tacticSelectionIcon:[{marginRight:c.a.rem(-1),marginLeft:c.a.rem(.25)}],tooltipRecommends:[{fontSize:c.a.rem(.75),lineHeight:c.a.rem(1.125)}],tooltipRecommendsIcon:[{marginLeft:c.a.rem(-1.5),minHeight:c.a.rem(1.125),'& path[data-figure="bg"]':{fill:d.a.CoreNeutral0},'& path[data-figure="arrow"]':{stroke:d.a.CoreNeutral70},'& path[data-figure="arrow_spire"]':{fill:d.a.CoreNeutral70}}],counter:[{width:c.a.rem(1.125),display:"inline-flex",marginRight:c.a.rem(.5)}]})},IyPE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("I7vG"),r=n("lrqh");!function(e){e.group=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:i,cost:a})=>(void 0===e[n]&&(e[n]={group:t,category:n,categoryHuman:i,count:0,lensName:"",bundleInfo:r.g.none}),e[n].count+=a,e),{})).sort((e,t)=>t.count-e.count)},e.groupByGroup=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:i,cost:a,lensName:o="",bundleInfo:s=r.g.none})=>(void 0===e[o]&&(e[o]={group:t,category:n,categoryHuman:i,count:0,lensName:o,bundleInfo:s}),e[o].count+=a,e),{})).sort((e,t)=>t.count-e.count)},e.groupByBundleInfo=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:i,cost:o,lensName:s="",bundleInfo:l=r.g.none})=>{const c=Object(a.pipe)(l,r.g.getOrElse(()=>i));return void 0===e[c]&&(e[c]={group:t,category:n,categoryHuman:i,count:0,lensName:s,bundleInfo:l}),e[c].count+=o,e},{})).sort((e,t)=>t.count-e.count)}}(i||(i={}))},JbXn:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("ERkP"),a=n("rk+4"),r=n("bO3R"),o=n("BugA"),s=n("XaD9"),l=n("Fgeo"),c=n("vOOZ"),d=n("3rlE"),u=n("cIor");const p=({children:e,icon:t,onClose:n,className:a,onTransitionEnd:o})=>i.createElement(c.a.div,{className:a,onTransitionEnd:o},i.createElement(r.a,{name:"survey-close",className:u.closeIcon,onClick:n},i.createElement(d.d.Close,null)),i.createElement("section",{className:u.imageSection},t),e);var h=n("YUkS");const m={[l.m.FreeClarityAlertsControl]:"https://www.surveymonkey.com/r/3ZCHBMP",[l.m.FreeClarityAlertsEnabled]:"https://www.surveymonkey.com/r/3ZHVKTS",[l.m.PriorityListForExistingUsers]:"https://www.surveymonkey.com/r/3ZHVKTS",[l.m.MostActiveUsers]:"https://grammarly.qualtrics.com/jfe/form/SV_82Lkzx9EQX37nFA",[l.g.SuperScrollWithAutoJump]:"https://www.surveymonkey.com/r/H6TH28M",[l.g.SuperScrollWithoutAutoJump]:"https://www.surveymonkey.com/r/H62KVPC"},g=({surveyType:e,onClose:t,onRemindLater:n})=>{const l=i.useContext(a.a.Context).survey.newUser,{gnarSpec:c,pageId:d}=i.useContext(s.a.Context);return i.useEffect(()=>void c.surveyPopupShow(d,e),[c,d,e]),i.createElement(p,{className:h.notification,onClose:()=>{t(),c.closeSurveyButtonClick(d,e)},icon:i.createElement("div",{className:h.designerAvatar})},i.createElement("section",{className:h.contentSection},i.createElement(o.g,{className:h.title},l.title),i.createElement(o.a,{className:h.content},l.content),i.createElement(r.a.Group,{className:h.btnGroup},i.createElement(r.a.Primary,{name:"take-survey",className:h.surveyBtn,onClick:()=>{t(),c.takeSurveyButtonClick(d,e)},href:m[e],target:"_blank"},l.takeSurvey),i.createElement(r.a.Caps,{name:"remind-later",onClick:()=>{n(),c.remindLaterButtonClick(d,e)}},l.remindLater))))}},JniT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("LNSM"),a=n("zR/0"),r=n("CvSs"),o=n("gy42"),s=n("ERkP");const l={NothingToCheck:()=>s.createElement(s.Fragment,null),NothingToNoIssueFound:()=>s.createElement(s.Fragment,null),NoIssueFoundToNothingToCheck:()=>s.createElement(s.Fragment,null),NoIssuesFound:()=>s.createElement(s.Fragment,null),EverythingIsClear:()=>s.createElement(s.Fragment,null),Birthday:()=>s.createElement(s.Fragment,null)};function c(e){const t=i.a.create(l);return a.a.from(e?n.e(32).then(n.bind(null,"tpg2")):Promise.all([n.e(0),n.e(2),n.e(25)]).then(n.bind(null,"fOmg"))).pipe(a.a.retryWhen(r.a.OperationRetrier.RetryStrategy.linear(3,1e3)),a.a.first(),a.a.map(e=>e.Illustration)).subscribe(o.b.toAtom(t)),t}},LNdG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("+Caq"),r=n("U75S"),o=n("OA+g"),s=n("6fbX"),l=n("3s0z");!function(e){let t;!function(e){e.toString=e=>t=>Array.from(t.modifiers).reduce((t,n)=>t+function(e,t){switch(e){case l.a.alt:return t?"Option+":"Alt+";case l.a.shift:return"Shift+";case l.a.short:return t?"⌘+":"Ctrl+";default:return Object(s.d)(e)}}(n,e),"")+t.key}(t=e.HotkeyOptions||(e.HotkeyOptions={})),e.combineProviders=e=>Object(o.pipe)(e,r.ub(e=>e.getBindings),a.sequenceArray,a.map(r.Y))}(i||(i={}))},LOBD:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("e12y"),a=n("0Hf4"),r=n("ax6a");const o=e=>({[`&-${e}`]:{marginLeft:i.a.rem(3+1.5*e)}}),s=(e,t)=>({counterIncrement:`list${e}`,counterReset:t}),l=(e,t)=>({"&:before":{content:`counter(list${e}, ${t}) '. '`}}),c=(e,t,n)=>({[`&-${e}`]:Object.assign(Object.assign({},s(e,n)),{$nest:l(e,t)})}),d={editorContainer:"editor-editorContainer",rtfLink:"editor-rtfLink",bigSize:"editor-bigSize"},u=`0 0 ${i.a.rem(.5)}`,p=(e,t,n)=>({margin:u,fontSize:i.a.rem(e),lineHeight:i.a.rem(t),$nest:{"&:not(:first-child)":{marginTop:i.a.rem(n)}}}),h={position:"relative",overflow:"hidden",minHeight:i.a.rem(5),outline:"none",border:"none",resize:"none",$nest:{"& p":{margin:0,padding:0},"& h1":p(1.375,2,2),"& h2":p(1.125,1.7,1),"& ol, & ul":{margin:`0 0 ${i.a.rem(.5)}`,paddingLeft:0},"& ol:not(:first-child), & ul:not(:first-child)":{marginTop:i.a.rem(.5)},"& li":{margin:`0 0 0 ${i.a.rem(3)}`,paddingRight:0,listStyleType:"none",$nest:{"&:before":{display:"inline-block",marginRight:i.a.rem(.5),marginLeft:i.a.rem(-3),width:i.a.rem(2.5),textAlign:"right",whiteSpace:"nowrap",lineHeight:i.a.rem(1.375)},[`.${d.bigSize} &`]:{$nest:{"&:before":{lineHeight:i.a.rem(1.65)}}}}},"& .ql-indent":{$nest:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o(1)),o(2)),o(3)),o(4)),o(5)),o(6)),o(7)),o(8))},"& ul li":{$nest:{"&:before":{content:"'\\2022'"}}},"& ul[data-type='dashed'] li":{$nest:{"&:before":{content:"'-'"}}},"& ol li":Object.assign(Object.assign({},s(0,"list1 list2 list3 list4 list5 list6 list7 list8")),{listStyleType:"none",$nest:Object.assign(Object.assign({},l(0,"decimal")),{"&.ql-indent":{$nest:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c(1,"lower-alpha","list2 list3 list4 list5 list6 list7 list8")),c(2,"lower-roman","list3 list4 list5 list6 list7 list8")),c(3,"decimal","list4 list5 list6 list7 list8")),c(4,"lower-alpha","list5 list6 list7 list8")),c(5,"lower-roman","list6 list7 list8")),c(6,"decimal","list7 list8")),c(7,"lower-alpha","list8")),c(8,"lower-roman","none"))}})}),[`& .${d.rtfLink}`]:{color:r.a.CoreBlue50,$nest:{"&:visited":{color:r.a.CoreBlue50}}}}},m={fontSize:i.a.rem(1.375),lineHeight:i.a.rem(2.5),$nest:{"& h1":{fontSize:i.a.rem(1.65),lineHeight:i.a.rem(3)},"& h2":{fontSize:i.a.rem(1.375),lineHeight:i.a.rem(2.5)}}},g={editorContainer:i.a.joinClasses([d.editorContainer,i.a.style(h),i.a.style({paddingBottom:"40vh"}),a.a.style(h)]),bigSize:i.a.joinClasses([d.bigSize,i.a.style(m),a.a.style(m)]),rtfLink:i.a.joinClasses([d.rtfLink])}},Lmm7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return r}));var i,a,r,o=n("D57K"),s=n("I7vG"),l=n("LNSM"),c=n("4ae2"),d=n("FiSa"),u=n("94k3"),p=n("qE82"),h=n("zR/0"),m=n("lrqh"),g=n("hoSD"),f=n("PrA7");!function(e){e.Querying="querying",e.SynonymsReady="ready",e.SynonymsEmpty="empty",e.SynonymApplied="applied",e.SynonymsError="error",e.SynonymsNone="none"}(i||(i={})),function(e){e.isReady=function(e){return null!==e&&e.kind===i.SynonymsReady},e.isEmpty=function(e){return null!==e&&e.kind===i.SynonymsEmpty},e.isQuerying=function(e){return null!==e&&e.kind===i.Querying},e.isApplied=function(e){return null!==e&&e.kind===i.SynonymApplied},e.defaultState={kind:i.SynonymsNone,query:{id:-1,start:-1,word:""}}}(a||(a={}));class b{constructor(e,t,n,i){this.positionManager=e,this._getContent=t,this._capi=n,this._ded=i,this.state=l.a.create(a.defaultState),this.changes=new h.a.Subject,this._log=f.Monitoring.Logging.getLogger("editor.SynonymsModelImpl")}query(e){return Object(o.__awaiter)(this,void 0,void 0,(function*(){return this._log.trace("SynonymsQuery: "+e.word),this.state.set({kind:i.Querying,query:e}),m.l.toPromise(this._capi.requestSynonyms(e.start,e.word)).then(t=>{const n=g.d.Local.Timestamp.now(),a=Object(s.pipe)(t.synonymsOrGroups,m.g.fold(()=>({kind:i.SynonymsEmpty,query:e,synonyms:{id:t.id},readyAt:n,stats:r.emptySynonymsStats,pname:t.pname}),a=>({kind:i.SynonymsReady,query:e,synonyms:Object.assign(Object.assign({},t),{synonymsOrGroups:a}),readyAt:n,stats:r.getSynonymsStats(a),pname:t.pname})));return this._onResponse(a),a}).catch(t=>(this.abortQuery(),Boolean(t.message)&&-1!==t.message.indexOf("Timeout")?this._log.info("Synonyms timeout",t):this._log.warn("Error getting synonyms",t),{kind:i.SynonymsError,query:e}))}))}abortQuery(){const e=this.state.get();a.isQuerying(e)&&this.state.set(a.defaultState)}_onResponse(e){const t=window.SQT;setTimeout(()=>{this._log.trace("_onResponse() newState: "+e);const t=this.state.get();a.isQuerying(t)&&t.query.word===e.query.word?this.state.set(e):this._log.trace("Discarding result for "+e.query.word)},t)}applySynonym(e,t){this._log.debug(`_applySynonym(#${e.id})`);const n=e.range,a=n.start,r=n.end-n.start;this._ded.flushChanges();let o=this.positionManager.getTextLength();const l=Object(s.pipe)((new c.a).retain(a).delete(r).insert(t),p.a.getEnrichedWithFormattingDelta(this._getContent())),h=d.a.delta(l,o),g=l.invert(this._getContent());return this.changes.next(h),m.b.getOrElse(e=>this._log.error(`Failed to set cursor on synonym apply in ${a}. ${e}`))(this._ded.setCursor(a,0)),this.state.set({kind:i.SynonymApplied,target:e}),this._capi.sendFeedback({id:e.id,kind:u.a.SynonymFeedbackType.SYNONYM_ACCEPTED,replacementText:t})(),this._ded.flushChanges(),o=this.positionManager.getTextLength(),{action:u.a.SynonymFeedbackType.SYNONYM_ACCEPTED,replacement:t,commit:()=>{this._log.debug(`_applySynonym(#${e.id}):commit()`),e.dispose()},undo:()=>{this._log.debug(`_applySynonym(#${e.id}):undo()`);const t=this.positionManager.getTextLength();if(t===o){const e=d.a.delta(g,t);this.changes.next(e)}else this._log.error("Text has changed while uncommitted apply is present");return e.dispose(),[]}}}ignore(e){const t=this.state.get();(a.isEmpty(t)||a.isReady(t))&&t.synonyms.id===e?this._capi.sendFeedback({id:e,kind:u.a.SynonymFeedbackType.SYNONYM_DISMISSED})():this._log.error("Tried to report ignore for an unknown synonyms id",{reportedId:e,currentState:t})}}!function(e){e.emptySynonymsStats={numberOfMeanings:0,numberOfSynonymsByMeanings:[],numberOfSynonymsTotal:0};const t=e=>({numberOfMeanings:1,numberOfSynonymsByMeanings:[e.length],numberOfSynonymsTotal:e.length}),n=t=>t.reduce((e,t)=>({numberOfMeanings:e.numberOfMeanings+1,numberOfSynonymsByMeanings:[...e.numberOfSynonymsByMeanings,t.words.length],numberOfSynonymsTotal:e.numberOfSynonymsTotal+t.words.length}),e.emptySynonymsStats);e.getSynonymsStats=e=>Object(s.pipe)(e,m.b.fold(t,n));const i=(e,t)=>{const n=t.findIndex(t=>t===e);return{meaningIndex:0,synonymIndexInGroup:n,synonymIndexAbs:n}},a={meaningIndex:-1,synonymIndexInGroup:-1,synonymIndexAbs:-1};e.getSynonymStats=(e,t)=>Object(s.pipe)(t,m.b.fold(t=>i(e,t),t=>((e,t)=>t.reduce(({result:t,numberOfLookedSynonyms:n},a,r)=>{const o=i(e,a.words).synonymIndexInGroup;return o>-1?{result:{meaningIndex:r,synonymIndexInGroup:o,synonymIndexAbs:n+o},numberOfLookedSynonyms:n}:{result:t,numberOfLookedSynonyms:n+a.words.length}},{result:a,numberOfLookedSynonyms:0}).result)(e,t))),e.getTimeToClose=e=>Object(s.pipe)(e,e=>g.d.Local.Timestamp.subtract(g.d.Local.Timestamp.now(),e),e=>e/1e3)}(r||(r={}))},"MD/T":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ve})),n.d(t,"b",(function(){return Ue}));var i=n("ERkP"),a=n("OA+g"),r=n("9NHN"),o=n("vOOZ"),s=n("lrqh"),l=n("hoSD"),c=n("1w6p"),d=n("+w1e"),u=n("C7EH"),p=n("HUX/"),h=n("zR/0"),m=n("U75S"),g=n("I7vG"),f=n("rk+4"),b=n("UEGg"),y=n("bO3R"),v=n("D9EC"),k=n("KBak"),w=n("cVtq"),S=n("BT8e"),_=n("StFb"),C=n("ax6a"),E=n("e12y");const O=E.a.style({display:"flex",flexGrow:2,lineHeight:E.a.rem(1.315),flexWrap:"wrap"}),A={padding:0,whiteSpace:"pre-wrap"},x=E.a.style(A),T=E.a.style(Object.assign({color:C.a.CoreGreen60},A)),M=E.a.style(Object.assign({color:C.a.CoreBlue50},A)),j=E.a.style(Object.assign(Object.assign({},A),{color:C.a.CoreRed50,textDecoration:"line-through",$nest:{[`& + .${T}`]:{marginLeft:E.a.rem(.25)},[`& + .${M}`]:{marginLeft:E.a.rem(.25)}}})),I=E.a.style({fontWeight:"bolder",textDecoration:"none",paddingLeft:"1px",paddingRight:"1px",$nest:{[`&.${T}`]:{backgroundColor:C.a.CoreGreen10},[`&.${j}`]:{backgroundColor:C.a.CoreRed10}}}),R=e=>i.createElement("div",{className:O},Object(g.pipe)(e.diff,s.a.mapWithIndex((t,n)=>Object(v.o)(k.a.isDelete(n),k.a.isInsert(n))?i.createElement("div",Object.assign({key:t},Object(r.c)(k.a.isDelete(n)?j:Boolean(e.a11yContrast)?M:T,Object(v.o)(Object(_.c)(n.textChunk),Object(_.d)(n.textChunk))&&I)),i.createElement(w.a,{newText:n.textChunk,oldText:n.invertedChunk,theme:Boolean(e.a11yContrast)?S.a:S.b})):i.createElement("div",{key:t,className:x},n.textChunk))));var N=n("3rlE"),L=n("jAl6"),P=n("26kZ"),D=n("BugA"),F=n("aIes"),B=n("+Zgs"),H=n("ps/9");const V=E.a.keyframes({from:{opacity:0,width:0},to:{opacity:1,width:E.a.rem(1.5)}}),U=E.a.keyframes({from:{opacity:1,width:E.a.rem(1.5)},to:{opacity:0,width:0}}),q=E.a.keyframes({from:{opacity:1},to:{opacity:0}}),W=E.a.keyframes({from:{opacity:0},to:{opacity:1}}),$=(e,t="linear",n=".3s")=>({animation:`${e} ${n} ${t} forwards`}),z=e=>Object.assign(Object.assign({},$(e,"ease-out")),{display:"flex"}),G=e=>Object.assign(Object.assign({},$(e)),{position:"absolute"}),K=E.a.style(z(V)),Y=E.a.style(z(U)),X=E.a.style($(q)),Z=E.a.style(G(W)),Q=E.a.style(Object.assign(Object.assign({},G(W)),{top:0})),J=E.a.style(Object.assign(Object.assign({},G(q)),{top:0})),ee=E.a.style({marginLeft:E.a.rem(-.5)}),te=E.a.style({position:"relative",display:"flex",boxSizing:"border-box",padding:`0 ${E.a.rem(1)}`,alignItems:"center",justifyContent:"space-between",userSelect:"none",transform:"translateY(0)"}),ne=(E.a.style({display:"flex",flexFlow:"column",alignItems:"center",alignSelf:"center"}),E.a.style({height:E.a.rem(3),cursor:"pointer",borderRadius:E.a.rem(H.t),boxShadow:"0px 1px 8px rgb(109 117 141 / 18%)"})),ie=E.a.style({stroke:"none"}),ae=(E.a.style({position:E.a.important("static"),padding:E.a.important(`0 ${E.a.rem(.25)}`),width:E.a.important(E.a.rem(1.75)),background:E.a.important(C.a.CoreGreen50),color:E.a.important(C.a.CoreNeutral0)}),E.a.style({display:"flex",flexFlow:"column"})),re=E.a.style({position:"relative",display:"flex",flexWrap:"wrap"}),oe={marginRight:E.a.rem(.75),textTransform:"none",letterSpacing:E.a.rem(C.h.BodyLetterSpacing),fontSize:E.a.rem(C.h.BodySize)},se=E.a.style({height:E.a.rem(1.5)}),le=E.a.style(Object.assign(Object.assign({},oe),{padding:`0 ${E.a.rem(.5)}`,display:"flex",justifyContent:"center",alignItems:"center",minWidth:E.a.rem(6)})),ce=E.a.style(Object.assign(Object.assign({},oe),{color:C.a.CoreNeutral50,fontWeight:C.h.BodyWeight,padding:`0 ${E.a.rem(.5)}`,$nest:{i:{marginLeft:E.a.rem(-.25)},"&[data-textpos='everywhere']":{padding:`0 ${E.a.rem(.5)}`}}})),de=E.a.style({fontSize:E.a.rem(C.h.BodySize)}),ue=E.a.style({display:"flex",alignItems:"center",marginLeft:E.a.rem(-1)}),pe=E.a.style({maxHeight:E.a.rem(17)}),he=E.a.style({justifyContent:"space-between",height:E.a.percent(100),width:E.a.percent(100),padding:`${E.a.rem(1)} 0 ${E.a.rem(1)} ${E.a.rem(1)}`,$nest:{[`& .${ue}`]:{marginLeft:E.a.rem(-2)}}}),me=E.a.style({maxHeight:E.a.rem(10),position:"relative",marginRight:E.a.rem(-.725),paddingRight:E.a.rem(.875),paddingBottom:E.a.rem(.5)}),ge=E.a.style({overflowY:"auto",paddingBottom:E.a.rem(2)}),fe=E.a.style({position:"absolute",top:E.a.rem(-3),left:0,right:0,height:E.a.rem(3),width:E.a.percent(100),background:`linear-gradient(0deg, ${C.a.CoreNeutral0} 0%, ${C.a.CoreNeutral0} 10%, rgba(255,255,255,0) 100%)`,pointerEvents:"none"}),be=E.a.style({overflow:"hidden",flexWrap:"nowrap",height:E.a.rem(2),display:"flex",justifyContent:"flex-start",alignItems:"center",fontSize:E.a.rem(.875),fontFeatureSettings:"'ss03' on, 'ss02' on",padding:`0 ${E.a.rem(.25)}`,$nest:{"&:hover":{background:C.a.CoreNeutral10,cursor:"pointer"}}}),ye=E.a.style({flexShrink:0}),ve=E.a.style({$nest:{'&:not([data-disabled="true"])[data-hovered="true"],&:not([data-disabled="true"])[data-active="true"]':{backgroundColor:"transparent"}}}),ke=E.a.style({$nest:{g:{stroke:C.a.CoreNeutral50}}}),we=E.a.style({minWidth:E.a.rem(1.5),minHeight:E.a.rem(1.5)}),Se=({className:e,children:t,onClick:n,onMount:a})=>i.createElement(o.a.div,Object.assign({},Object(r.c)(te,e),{onClick:n,mount:a}),t),_e=c.b.Transition.make({fadeIn:Z},{fadeOut:X}),Ce=c.b.Transition.make({fadeIn:Q},{fadeOut:J}),Ee=c.b.Transition.make({visible:K},{invisible:Y}),Oe=e=>i.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Ae=c.b.Knot.make(c.b.Grid.make(({notify:e,slots:t,state:n})=>i.createElement(o.a.Fragment,null,n.pipe(h.a.map(n=>i.createElement(y.a.Primary,{name:"bulk-accept-apply",className:le,disabled:u.a.isInUndoneState(n),onClick:F.d.callOnce(e({type:u.a.isInInitialState(n)?d.b.Type.bulkApply:d.b.Type.bulkLooksGood,alertIds:n.alerts.map(e=>e.id)}))},u.a.isInUndoneState(n)?i.createElement(L.a,{wrapperClassName:se,size:20,variation:"white"}):t.content))))),{content:((e,t)=>c.b.Animated.make(t,c.b.Union.asOption(c.b.Node.make(({state:t})=>i.createElement(o.a.Fragment,null,t.pipe(h.a.map(t=>i.createElement(e,Object.assign({},t)))))))))(e=>{const t=i.useContext(f.a.Context);return i.createElement(i.Fragment,null,u.a.isInAppliedState(e)?t.bulkAccept.confirm:t.bulkAccept.apply(e.alerts.length))},Ce)}),xe=()=>{const e=i.useContext(f.a.Context);return i.createElement(i.Fragment,null,e.dismiss)},Te=e=>c.b.Node.make(({notify:t})=>i.createElement(y.a.Ghost,{className:ce,name:"bulk-accept-dismiss-button",onClick:F.d.callOnce(t({type:d.b.Type.bulkDismiss}))},Object(g.pipe)(e,s.g.map(e=>i.createElement("div",{className:e},i.createElement(N.d.Undo,Object.assign({width:16},Object(r.c)(we,ke))))),s.g.toNullable),i.createElement(xe,null))),Me=c.b.Node.make(({view:e,notify:t})=>{const n=i.useContext(f.a.Context);return i.createElement(o.a.Fragment,null,e("alerts").pipe(h.a.map(e=>i.createElement(y.a.Ghost,{className:ce,name:"bulk-accept-undo-button",onClick:F.d.callOnce(t({type:d.b.Type.bulkUndo,alertIds:e.map(e=>e.id)}))},i.createElement("div",{className:K},i.createElement(N.d.Undo,Object.assign({width:16},Object(r.c)(we,ke)))),n.bulkAccept.undoAll))))}),je=c.b.Union.make("visibilityState",{visible:Te(s.g.none),applied:Me,beingApplied:Te(s.g.none),dismissed:c.b.Node.empty,undone:Te(s.g.some(Y))}),Ie=c.b.Group.make({apply:Ae,dismiss:je}),Re=({onClick:e})=>{const t=i.useContext(f.a.Context);return i.createElement("div",{className:ye},i.createElement(y.a.Ghost,{name:"rejectAlertInBulk",onClick:F.d.callOnce(e),className:ve,title:t.dismiss,ariaLabel:t.dismiss},i.createElement(N.d.Ignore,{className:we})))},Ne=c.b.Animated.make(Ee,c.b.Union.asOption(c.b.Node.make(()=>i.createElement(N.d.NotificationInfo,{className:ee,width:16})))),Le=c.b.Node.make(({state:e,notify:t})=>i.createElement(o.a.Fragment,null,e.pipe(h.a.map(e=>i.createElement(P.a,{align:"topCenter",title:Oe(e.title)},i.createElement("div",{className:be,"data-name":"bulk-accept-alert-row",onClick:n=>t({type:d.b.Type.bulkHighlight,alert:e,clickPoint:{x:n.clientX,y:n.clientY}})(),role:"button",tabIndex:0},c.b.mount(Ne,Object(B.b)(e)),Object(g.pipe)(e.diff,s.g.map(t=>i.createElement(R,{diff:t,a11yContrast:e.a11yContrast})),s.g.toNullable),b.a.isBulkApplied(e)?i.createElement(i.Fragment,null):e.ignoreAllowed&&i.createElement(Re,{onClick:t({type:d.b.Type.bulkIgnore,alertId:e.id})}))))))),Pe=c.b.List.make(m.Eb,Le),De=({variant:e,state:t})=>{const n=i.useContext(f.a.Context),a="expanded"===e?D.g:D.a;return i.createElement(a,{className:de},t.pipe(h.a.map(({alerts:e,visibilityState:t})=>"applied"===t?n.bulkAccept.appliedTitle(e.length):n.bulkAccept.title(e.length))))},Fe=e=>c.b.Animated.make(_e,c.b.Union.asOption(c.b.Node.make(({state:t})=>i.createElement("div",{className:ue},i.createElement(N.d.Sparkles,{className:ie,width:20}),i.createElement(De,{state:t,variant:e}))))),Be=c.b.Grid.make(({slots:e,notify:t})=>i.createElement(Se,{className:ne,onClick:t({type:d.b.Type.miniItemClick,id:u.a.id})},e.title)),He=c.b.Grid.make(({state:e,slots:t,notify:n,view:c})=>{const u=e.pipe(h.a.map(Object(a.flow)(e=>e.alerts.length,s.g.fromPredicate(e=>e>4))));return i.createElement(Se,Object.assign({},Object(r.c)(pe,c("renderOptions").pipe(h.a.map(p.b),h.a.map(l.e.pick("container")))),{onMount:n({type:d.b.Type.bulkAcceptItemShow})}),i.createElement("div",Object.assign({},Object(r.c)(ae,he)),t.title,i.createElement(o.a.div,Object.assign({},Object(r.c)(me,u.pipe(h.a.map(Object(a.flow)(s.g.map(()=>ge),s.g.orNull))))),t.suggestions),i.createElement("div",{className:re},i.createElement(o.a.Fragment,null,u.pipe(h.a.map(Object(a.flow)(s.g.map(()=>i.createElement("div",{className:fe})),s.g.orNull)))),t.controls)))}),Ve=c.b.Knot.make(He,{title:Fe("expanded"),suggestions:Pe,controls:Ie}),Ue=c.b.Knot.make(Be,{title:Fe("mini")})},MP45:function(e,t,n){"use strict";n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return C}));var i=n("a5W6"),a=n("8Js9"),r=n("OA+g"),o=n("I7vG"),s=n("94k3"),l=n("6fbX"),c=n("lrqh"),d=n("7b34"),u=n("PrA7"),p=n("dE97"),h=n("GUi3"),m=n("yA7V"),g=n("BuV2"),f=n("zR/0"),b=n("gy42"),y=n("UEGg"),v=n("BeBM");const k=e=>{const t=e[0];switch(Object(l.g)(void 0!==t,"undoables should had at least one item"),t.action){case s.a.AlertFeedbackType.IGNORE:return{kind:"ignore"};case s.a.AlertFeedbackType.ADD_TO_DICTIONARY:return{kind:"addToDictionary",word:t.replacement};case s.a.AlertFeedbackType.WRONG_SUGGESTION:case s.a.AlertFeedbackType.OFFENSIVE_CONTENT:return{kind:"report"};case s.a.AlertFeedbackType.ACCEPTED:return e.length>1?{kind:"bulkAccept",count:e.length}:{kind:"replace",word:t.replacement};case s.a.SynonymFeedbackType.SYNONYM_ACCEPTED:return{kind:"replaceSynonym"};case s.a.LensFeedbackType.DISMISS_BY_LENS:return{kind:"ignoreAll",alerts:e.length};case s.a.AlertFeedbackType.LIKE:return{kind:"markAsHelpful"};case s.a.AlertFeedbackType.DISLIKE:return{kind:"markAsNotHelpful"};case s.a.AlertFeedbackType.ACKNOWLEDGED:return{kind:"acknowledge"};default:throw new Error("Invalid undoable action "+t.action)}};function w(e,t,n){return e().pipe(f.a.tap(e=>{"closedByUser"===e&&t()}),f.a.filter(e=>"shown"!==e),f.a.map(e=>["undo","bulkUndo"].includes(e)?e:"commit"),f.a.merge(n().pipe(f.a.mapTo("commit"))),f.a.first())}var S,_,C;function E(e,t){return[{id:`${e}_showUndoNotifications`,when:r.constTrue,what:v.e.Effect.Applicator.create(t.pipe(f.a.switchMapTo(f.a.NEVER)))},{id:`${e}_changeLensWhenThereWasNoPreviouslyFocusedAlert`,when:e=>e!==h.a.SpecialId.Closed,what:v.e.Effect.SwitchLens.create(t.pipe(f.a.filter(e=>c.g.isNone(e.previouslyFocused)),f.a.map(({lensId:e})=>({lensId:e,alertSource:p.b.sidebar,options:{toFocus:v.e.Effect.FocusBehavior.noFocus}}))))},{id:`${e}_focusPreviouslyActiveAlert`,when:e=>e!==h.a.SpecialId.Closed,what:v.e.Effect.SwitchAlert.create(t.pipe(f.a.map(e=>Object(o.pipe)(e.previouslyFocused,c.g.map(t=>({alertHighlight:t,alertSource:p.b.sidebar,options:{lensId:e.lensId}})))),f.b.compact))}]}function O(e,t,n){return Object(o.pipe)(e,c.g.map(e=>{const i=t.find(t=>t.id===e.activeAlert.id);return Object(l.g)(void 0!==i,"Undone alerts should contain previously focused alert",e.activeAlert.id),Object(l.g)(Object(o.pipe)(n.getById(i.id),c.g.isSome),"Undone alerts should exist in alert list",i.id),Object(l.g)(p.a.isRegistered(i),"Undoed alert should be in registered state",()=>String(i)),{alert:y.a.fromModel(i),highlightIndex:e.activeHighlightIndex}}))}!function(e){e.create=function(e,t,n){return E("individual_undo_applied",e.pipe(f.a.filter(g.a.isIndividualUndo),f.a.tap(({alertId:e})=>Object(o.pipe)(e,t.getById,c.b.fromOption(()=>new l.b("Could not find alert by id while processing individual undo event",e)),c.b.filterOrElse(p.a.isApplied,e=>new l.b("Alert is not in the applied state",e.toString())),c.b.chain(e=>n.undoApplied([e],p.a.State.Applied.Method.Bulk)()),c.b.getOrElse(e=>u.Monitoring.Logging.getLogger("BulkAcceptedIndividualUndoSideEffect").error("Could not process an individual undo event",e)))),f.a.switchMapTo(f.a.NEVER),f.a.share()))}}(S||(S={})),function(e){e.create=function(e,t,n,a){return E("bulk_undo_applied",e.pipe(f.a.filter(g.a.isBulkUndo),f.a.switchMap(b.b.Scheduler.rafScheduler),f.a.map(({alertIds:e})=>e.map(t.getById)),f.a.map(i.compact),f.a.tap(e=>{Object(o.pipe)(n.undoApplied(e,p.a.State.Applied.Method.Bulk)(),c.b.fold(e=>u.Monitoring.Logging.getLogger("BulkUndoSideEffect").error("Could not perform bulk undo",e),()=>a.onBulkUndo(e.length)))}),f.a.switchMapTo(f.a.NEVER),f.a.share()))}}(_||(_={})),function(e){e.create=function(e,t,n,s,l,u){return E("undo_applied",e.state.pipe(f.a.pairwise(),f.a.map(([e,t])=>Object(o.pipe)(m.a.diff(e,t),d.a.reduce([],r.identity,(e,t)=>(p.a.isApplied(t.alert)&&!p.a.isBulkApplied(t.alert)&&e.push(t.alert),e),r.identity))),f.a.map(i.map(e=>Object(o.pipe)(e.takeReference("undoNotification"),c.b.bimap(t=>Object(r.tuple)(e,t),t=>Object(r.tuple)(e,t))))),f.a.map(i.separate),f.a.map(({left:e,right:t})=>(i.isNonEmpty(e)&&u.warn("can not take alertRef",e),t)),f.a.filter(i.isNonEmpty),f.a.switchMap(i=>{const r=n.get(),d=i.map(([e])=>e),h=d.map(e=>e.state.undoable),m=i.map(a.d);return l(h).pipe(f.a.map(n=>"undo"===n?Object(o.pipe)(e.undoApplied(d,p.a.State.Applied.Method.ByCard)(),c.b.fold(e=>(u.error("Got error during undo",e),c.g.none),()=>v.e.hasCards(r)?c.g.some({lensId:r.currentLens.id,previouslyFocused:O(v.e.getActiveItem(s)(r),d,t)}):c.g.none)):c.g.none),f.a.finalize(()=>m.forEach(e=>e.dispose())),f.b.compact)}),f.a.share()))}}(C||(C={}))},NNUY:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return i}));var i,a=n("91hE"),r=n("OA+g"),o=n("I7vG"),s=n("kgbq"),l=n("94k3"),c=n("lrqh"),d=n("6fbX"),u=n("PrA7"),p=n("zR/0"),h=n("qSni");class m{constructor(e,t,n,i,a){this._capi=e,this.events=t,this._documentContextHolder=n,this._dialectSettings=i,this._log=u.Monitoring.Logging.getLogger("ObservableCAPIClientImpl"),this._subs=[],this.pushChanges=e=>Object(o.pipe)(this._capi.pushChanges(e),c.l.mapLeft(e=>(this._log.warn("Failed to push changes",e),e))),this._warnOnCommandFail=e=>Object(o.pipe)(e,c.l.fold(e=>(this._log.warn("CAPI command failed",e),c.l.left(e)),e=>c.l.right(e))),this.setSessionOption=e=>Object(o.pipe)(this._capi.setSessionOption(e),this._warnOnCommandFail),this.sendFeedback=e=>Object(o.pipe)(this._capi.sendFeedback(e),this._warnOnCommandFail),this.requestDocStats=Object(o.pipe)(this._capi.requestDocStats,this._warnOnCommandFail),this.requestSynonyms=(e,t)=>Object(o.pipe)(this._capi.requestSynonyms(e,t),this._warnOnCommandFail),this.requestSnippets=e=>Object(o.pipe)(this._capi.requestSnippets(e),this._warnOnCommandFail),this.shortenItSubmit=e=>Object(o.pipe)(this._capi.shortenItSubmit(e),this._warnOnCommandFail),this.enablePlagiarismSearch=Object(o.pipe)(this._capi.enablePlagiarismSearch,this._warnOnCommandFail),this.disablePlagiarismSearch=Object(o.pipe)(this._capi.disablePlagiarismSearch,this._warnOnCommandFail),this.realtimeProofitSubmit=e=>Object(o.pipe)(this._capi.realtimeProofitSubmit(e),this._warnOnCommandFail),this.realtimeProofitCancel=Object(o.pipe)(this._capi.realtimeProofitCancel,this._warnOnCommandFail),this.submitRecipients=e=>Object(o.pipe)(this._capi.submitRecipients(e),this._warnOnCommandFail),this.submitScoreSurveyResult=(e,t)=>Object(o.pipe)(this._capi.submitScoreSurveyResult(e,t),this._warnOnCommandFail),this.sendUserAction=(e,t)=>Object(o.pipe)(this._capi.sendUserAction(e,t),this._warnOnCommandFail),this.sendDebugReport=(e,t)=>Object(o.pipe)(this._capi.sendDebugReport(e,t),this._warnOnCommandFail),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>Object(o.pipe)(this._capi.updateContextInfo(e),this._warnOnCommandFail),this.published=()=>Object(o.pipe)(this._capi.published(),this._warnOnCommandFail),this._subs.push(this._dialectSettings.dialectOrDefault.subscribe(e=>this._documentContextHolder.updateContext(Object.assign(Object.assign({},this._documentContextHolder.context.get()),{dialect:c.g.some(e)}))),this._documentContextHolder.context.pipe(p.a.skip(1)).subscribe(t=>{c.l.toPromise(e.setSessionOption({kind:l.a.CAPISessionOptionType.Context,context:t}))})),this._subs.push(this.events.subscribe(t=>{"finish"===t.kind?c.g.isNone(this._dialectSettings.dialect.get())&&h.a.isDialectString(t.dialect)&&this._dialectSettings.setDialectWeak(t.dialect):"session_started"===t.kind&&(this._documentContextHolder.updateDefaultContext(t.defaultDocumentContext),a.getContainerId().then(t=>{setTimeout(()=>c.l.toPromise(e.setSessionOption({kind:l.a.CAPISessionOptionType.GnarContainerId,id:t})).catch(e=>{this._log.warn("Can not send user container id",e)}),5e3)}).catch(e=>{this._log.warn("Can not get container id",e)}))}))}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach(e=>e.unsubscribe())}}!function(e){const t=c.l.rightIO(s.a);e.Mock=class{constructor(e=!1){this._sduiV2=e,this.events=new p.a.Subject,this.feedbacks=new p.a.Subject,this.capi={pushChanges:e=>c.l.right(c.g.none),sendFeedback:e=>{switch(e.kind){case l.a.AlertFeedbackType.IGNORE:case l.a.AlertFeedbackType.ADD_TO_DICTIONARY:case l.a.AlertFeedbackType.LOOKED:case l.a.AlertFeedbackType.CLOSED:case l.a.AlertFeedbackType.LIKE:case l.a.AlertFeedbackType.DISLIKE:case l.a.AlertFeedbackType.WRONG_SUGGESTION:case l.a.AlertFeedbackType.OFFENSIVE_CONTENT:case l.a.AlertFeedbackType.EXPANDED:return Object(o.pipe)(c.l.rightIO(()=>this.feedbacks.next({type:"feedback",args:[e.id,e.kind]})));case l.a.AlertFeedbackType.ACCEPTED:return Object(o.pipe)(c.l.rightIO(()=>"replacementText"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.replacementText,e.reason]}):"alternativeIndex"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.alternativeIndex,e.gapValue,e.reason]}):Object(d.d)(e)));default:return t}},enablePlagiarismSearch:t,disablePlagiarismSearch:t},this.activeAlerts=new Set,this.activeLensIds=new Set,this.fireAdd=e=>{var t;this.activeAlerts.add(e),this.activeLensIds.add(e.cardLayout.outcome),this._sduiV2?this.events.next({kind:"sdui_add",sdui:a.h.create(null===(t=e.sdui)||void 0===t?void 0:t.card,[e.id],[]),sduiRootId:l.a.RawSduiItem.Id.create(e.id),rev:0}):Object(r.constVoid)(),this.events.next({kind:"before_alert"}),this.events.next({kind:"alert_received",alert:e})},this.fireRemove=(e,t=c.g.none,n=c.g.none)=>{this.activeAlerts.delete(e),this.activeLensIds.delete(e.cardLayout.outcome),this._sduiV2?this.events.next({kind:"sdui_remove",sduiRootId:l.a.RawSduiItem.Id.create(e.id),rev:0}):Object(r.constVoid)(),this.events.next({kind:"alert_removed",alertId:e.id,mergedIn:t,hint:n})}}}}(i||(i={}))},NaPV:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return r}));var i,a,r,o=n("LNSM"),s=n("lrqh"),l=n("D9EC"),c=n("zR/0");!function(e){e.SetGoals="SetGoals",e.Performance="Performance"}(i||(i={})),function(e){e.setGoals=e=>({type:i.SetGoals,source:e}),e.performance={type:i.Performance}}(a||(a={}));class d{constructor(e){this._modalViews=e,this.state=o.a.create(s.g.none),this._modalFactoryCache=new Map}show(e){return this.preload(e).pipe(c.a.switchMap(e=>this.showPreloaded(e)))}showPreloaded(e){return c.a.defer(()=>{const t=new c.a.BehaviorSubject("opened");return this.state.set(s.g.some(e({onClose:()=>{this.state.set(s.g.none),t.next("closed"),t.complete()}}))),t})}preload(e){const t=JSON.stringify(e);if(this._modalFactoryCache.has(t)){const e=this._modalFactoryCache.get(t);return c.a.of(e)}return c.a.defer(()=>this._modalViews.load(e)).pipe(c.a.tap(e=>{this._modalFactoryCache.set(t,e)}))}hideAll(){this.state.set(s.g.none)}}!function(e){e.Mock=class{constructor(){this.state=o.a.create(s.g.none),this.hideAll=l.e}show(e){return c.a.EMPTY}showPreloaded(e){return c.a.EMPTY}preload(e){return c.a.EMPTY}}}(r||(r={}))},"OI/H":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("OA+g"),o=n("I7vG"),s=n("vOOZ"),l=n("zR/0"),c=n("lrqh"),d=n("D9EC"),u=n("ax6a"),p=n("PrA7"),h=n("e12y"),m=n("ps/9"),g=n("uqkn"),f=n("E0zP"),b=n("6lhv"),y=n("3bJT"),v=n("H9T+"),k=n("jSKJ"),w=n("oWeJ"),S=n("S3HV"),_=n("CxAE");!function(e){e.Mini=({card:e,actions:t})=>a.createElement(s.a.Fragment,null,e.pipe(l.a.map(e=>f.a.isToneAIItem(e)?a.createElement(_.a.BundleMini,{card:e,actions:t}):f.a.isEthicalAIItem(e)?a.createElement(S.a.Mini,{card:e,actions:t,useBundleContainer:!0}):a.createElement(w.a.Bundle,{card:e,actions:t})))),e.Full=({card:e,actions:n,renderCard:c})=>{const{isChecking:d,isCheckingGlobal:p,transform:h}=g.a.useCardStates(e),m=e=>(u("CardBundle").error("card type not supported:",e),null),y=e.pipe(e=>e.lift(new l.d.SplitByOperator(e=>e.activeAlert.id)),l.a.switchMap(e=>e.pipe(l.a.distinctUntilChanged((e,t)=>e.activeAlertIndex===t.activeAlertIndex),l.a.map(t=>({activeAlertIndex:t.activeAlertIndex,activeAlertId:t.activeAlert.id,card:Object(o.pipe)(e,l.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()&&e.visualState.transitionId===t.visualState.transitionId),l.a.shareReplay({bufferSize:1,refCount:!0}))}))))),v=(e,t)=>{const i=t.alerts.length,r=1===i?$.bundleInnerContainer:2===i?$.bundleInnerContainer2Cards:$.bundleInnerContainerNCards;return a.createElement(s.a.div,{className:r},c?c({card:t,actions:n,isChecking:d,isCheckingGlobal:p,transform:e}):a.createElement(k.a,{card:t,actions:n,isChecking:d,transform:e,isCheckingGlobal:p}))};return a.createElement(s.a.Fragment,null,e.pipe(l.a.map(c=>f.a.isIndependentBundleItem(c)?v(h,c):a.createElement(i,{card:e,actions:n},a.createElement(t,{state:y,stateToClassMapper:(e,t)=>{if(!e)return{prev:Object(b.c)(""),next:Object(b.c)("")};if(e.activeAlertId===t.activeAlertId)return{prev:Object(b.c)($.inBundleToUpdatedCardOld),next:Object(b.c)($.inBundleToUpdatedCardNew)};if(e.activeAlertIndex===t.activeAlertIndex)return{prev:Object(b.c)($.inBundleToUpdatedCardOld),next:Object(b.c)($.inBundleToUpdatedCardNew)};return e.activeAlertIndex<t.activeAlertIndex?{prev:Object(b.c)($.inBundleToNextCardOld),next:Object(b.c)($.inBundleToNextCardNew)}:{prev:Object(b.c)($.inBundleToPrevCardOld),next:Object(b.c)($.inBundleToPrevCardNew)}}},e=>a.createElement(s.a.div,{className:e.view,onAnimationEnd:"prev"===e.type?e.done:r.constVoid},Object(o.pipe)(e.state.card,l.a.map(Object(r.flow)(f.a.match({super:m,ethicalAI:m,takeaway:t=>v("prev"===e.type?l.a.of(t.transform):h,t),sentenceLevelBrandTones:e=>v(h,e),synfony:t=>v("prev"===e.type?l.a.of(t.transform):h,t),shortenIt:t=>v("prev"===e.type?l.a.of(t.transform):h,t),toneAI:t=>v("prev"===e.type?l.a.of(t.transform):h,t),sdui:t=>v("prev"===e.type?l.a.of(t.transform):h,t),suggestedSnippet:t=>v("prev"===e.type?l.a.of(t.transform):h,t),default:t=>v("prev"===e.type?l.a.of(t.transform):h,t)}),g.a.foldCard)))))))))};class t extends b.a{}const n=({alertCount:e})=>1===e?a.createElement(a.Fragment,null):2===e?a.createElement("div",{className:$.bundleFakeCard1}):a.createElement(a.Fragment,null,a.createElement("div",{className:$.bundleFakeCard1}),a.createElement("div",{className:$.bundleFakeCard2})),i=({children:e,card:t,actions:i})=>a.createElement(s.a.div,{className:$.bundleCardWrapper},a.createElement(v.a,{card:t,actions:i}),a.createElement(s.a.div,{className:$.cardBundleContainer},e,Object(o.pipe)((e=>Object(o.pipe)(e,l.a.map(e=>c.g.some(e.alerts.length))))(t),l.a.map(c.g.map(e=>a.createElement(n,{key:e,alertCount:e}))),l.a.map(c.g.toNullable)))),u=Object(d.l)(p.Monitoring.Logging.getLogger)}(i||(i={}));const C="0 1px 8px rgba(109, 117, 141, .18)",E=h.a.keyframes({"0%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),O=h.a.keyframes({from:{transform:"translateX(0)",opacity:1},to:{transform:"translateX(-100px)",opacity:0}}),A=h.a.keyframes({from:{transform:"translateX(-100px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),x=h.a.keyframes({from:{opacity:0,transform:"scale(.95) translateY(-15px)"},to:{opacity:1,transform:"scale(1) translateY(0)"}}),T=h.a.keyframes({from:{opacity:1,transform:"scale(1) translateY(0)"},to:{opacity:0,transform:"scale(.95) translateY(-15px)"}}),M={position:"relative",borderRadius:h.a.rem(m.s),background:u.a.CoreNeutral0,boxShadow:C,zIndex:2},j={marginTop:h.a.rem(.75)},I={marginTop:h.a.rem(1.25)},R={position:"absolute",top:h.a.px(-5),right:h.a.rem(.5),left:h.a.rem(.5),zIndex:-1,display:"block",height:h.a.percent(100),borderRadius:h.a.rem(m.s),backgroundColor:u.a.CoreNeutral1,boxShadow:C,content:"' '"},N={position:"absolute",top:h.a.px(-10),right:h.a.rem(1),left:h.a.rem(1),zIndex:-2,display:"block",height:h.a.rem(2),borderRadius:h.a.rem(m.s),backgroundColor:u.a.CoreNeutral10,boxShadow:C,content:"' '"},L={borderRadius:h.a.rem(.75),background:u.a.CoreNeutral20,margin:`${h.a.rem(-.25)} ${h.a.rem(-.25)}`,padding:`${h.a.rem(.25)} ${h.a.rem(.25)}`,$nest:{[`& .${y.b.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${y.b.fullCardSelector}`]:{padding:`${h.a.rem(.75)} ${h.a.rem(.5)} ${h.a.rem(.5)} ${h.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${h.a.rem(-.5)})`}}},P={position:"absolute",top:h.a.rem(.8),right:h.a.rem(1),margin:0},D={borderRadius:h.a.rem(m.s),background:u.a.CoreNeutral0,boxShadow:C},F={display:"block",position:"absolute",top:0,$nest:{[`& .${y.b.bundleInnerContainerSelector}`]:{margin:0}}},B={animation:`${T} ${h.a.seconds(.25)} ease-out`},H={animation:`${A} ${h.a.seconds(.25)} ease-out`},V={animation:`${O} ${h.a.seconds(.25)} ease-in`},U={animation:`${x} ${h.a.seconds(.25)} ease-in`},q={display:"none",animation:`${E} ${h.a.seconds(.25)} ease-in`},W={animation:`${E} ${h.a.seconds(.25)} ease-in`},$=Object.assign(Object.assign({},h.a.stylesheet({bundleInnerContainer:[M],bundleCardWrapper:[L],minimalBetaLabel:[P],compactCardContainer:[D],cardBundleContainer:[{position:"relative",zIndex:2}],inBundleMovingCard:[F],inBundleToPrevCardOld:[F,B],inBundleToPrevCardNew:[H],inBundleToNextCardOld:[F,V],inBundleToNextCardNew:[U],inBundleToUpdatedCardOld:[q],inBundleToUpdatedCardNew:[W]})),{bundleInnerContainer:h.a.joinClasses([y.b.bundleInnerContainerSelector,h.a.style(M)]),bundleInnerContainer2Cards:h.a.joinClasses([y.b.bundleInnerContainerSelector,h.a.style(M,j)]),bundleInnerContainerNCards:h.a.joinClasses([y.b.bundleInnerContainerSelector,h.a.style(M,I)]),bundleFakeCard1:h.a.joinClasses([y.b.bundleFakeCard1Selector,h.a.style(R)]),bundleFakeCard2:h.a.joinClasses([y.b.bundleFakeCard2Selector,h.a.style(N)])})},OMiD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return _}));var i,a=n("a5W6"),r=n("OA+g"),o=n("I7vG"),s=n("LNSM"),l=n("+JVj"),c=n("kMag"),d=n("zR/0"),u=n("gy42"),p=n("NW9S"),h=n("BeBM"),m=n("MP45"),g=n("lrqh"),f=n("D9EC"),b=n("hoSD"),y=n("6fbX"),v=n("7b34"),k=n("jlxt"),w=n("PrA7"),S=n("Lmm7");!function(e){e.getMarkClasses=(e,t)=>"visible"===e.meta.type?["defaultSynonymClass",t.synonym,t.markSelected]:["defaultSynonymClass",t.markHidden]}(i||(i={}));class _{constructor(e,t,n,i,a,l,c,p,m,b,y,v,_,C,E){this._inlineManager=e,this._positionManager=t,this._markPosMan=n,this._synonymsModel=i,this._state=a,this._networkState=l,this._notificationsManager=c,this._contentChanged=p,this._getMarkRect=m,this._getContents=b,this._getActiveItemWithAlert=y,this._trackUndoCloseButton=v,this._trackSynonymPopupOpen=_,this._trackSynonymPopupDismiss=C,this._trackSynonymAccept=E,this._log=w.Monitoring.Logging.getLogger("synonymsViewModel"),this.viewState=s.a.create(g.g.none),this.popupShown=this.viewState.view(g.g.fold(()=>!1,e=>e.popupVisible)),this._subs=[],this.marksDiff=s.a.create(k.a.Collection.Diff.monoid.empty),this._disposeFirstSynonym=(e,t)=>{this._removeMark(),this._deregisterRange(e),this._deregisterRange(t)},this.query=e=>this._synonymsModel.query(e),this.close=e=>{"closedByUser"===e&&Object(o.pipe)(this.viewState.get(),g.g.map(e=>e.synonymsState),g.g.filter(Object(f.p)(S.a.isReady,S.a.isEmpty)),g.g.tap(e=>{this._synonymsModel.ignore(e.synonyms.id),this._trackSynonymPopupDismiss(e.pname,e.stats,S.c.getTimeToClose(e.readyAt))})),this._inlineManager.closeSynonyms.next()},this._withRegisteredWord=(e,t)=>d.a.Observable.create(n=>{const i=this._synonymsModel.positionManager.registerRange(k.a.SynonymMark.generateActiveWordRandomId(),e),a=t(i).subscribe(n);return()=>{a.unsubscribe(),this._deregisterRange(i.meta.id)}}),this._toRegisteredMark=e=>this._synonymsModel.positionManager.registerRange(e.meta.id,e),this._createSynonymMark=Object(r.flow)(this._createMark,this._toRegisteredMark,this._addMarkToDiff.bind(this)),this._listenQuery=e=>d.a.Observable.create(t=>(this._request(e).then(n=>{var i;null!==(i=t.closed)&&void 0!==i&&i||Object(o.pipe)(n,g.g.fold(()=>this.close("error"),n=>t.next([e,n])))}),()=>{this._synonymsModel.abortQuery()})),this._createSynonymsState=([e,t])=>d.a.Observable.create(n=>{const i=this._canShowPopup(t),a={synonymsState:t,activeWord:e,activeMark:this._createSynonymMark(e,i),popupVisible:i};return n.next(a),()=>{this._deregisterRange(a.activeMark.meta.id),this._removeMark()}}),this._emitCloseWhen=d.b.listenWhenSome(()=>d.a.mergeStatic(this._contentChanged.pipe(d.a.skip(1)),this._state.view(h.e.getActiveAlert(this._getActiveItemWithAlert)).pipe(d.a.skip(1))).pipe(d.a.mapTo(u.b.voidValue),d.a.tap(()=>this.close("closedByUser")))),this._isOnline=()=>"offline"!==this._networkState.getOnlineStatus(),this._handleState()}scrollToMark(e,t,n){return this._markPosMan.moveMarkInViewport(p.b.FromWindowTop.ISO.wrap(t),n)(e)}onPopupOpen(){Object(o.pipe)(this.viewState.get(),g.g.map(e=>e.synonymsState),g.g.filter(Object(f.p)(S.a.isReady,S.a.isEmpty)),g.g.map(({stats:e,pname:t})=>({stats:e,pname:t})),g.g.getOrElse(()=>({stats:S.c.emptySynonymsStats,pname:"unknown"})),({pname:e,stats:t})=>void this._trackSynonymPopupOpen(e,t))}getSynonymMarkRect(e){return this._getMarkRect(e.meta.id)}getFirstSynonymRect(){return d.a.Observable.create(e=>{let t=g.g.none,n=g.g.none;const i=Object(o.pipe)(this._getContents(),b.e.pick("text"),g.b.map(C),g.b.getOrElse(()=>[])),s=i.length?g.g.some(l.b.create(i[0].start,i[i.length-1].end)):g.g.none,p=Object(o.pipe)(s,g.g.fold(()=>[],e=>this._positionManager.findRanges(t=>c.b.isVisible(t)&&l.b.isOverlap(t,e)))),h=d.a.from(Promise.all(E(i,p).map(this.query))).pipe(d.a.map(Object(r.flow)(Object(a.findFirst)(S.a.isReady),g.g.map(e=>{const i=l.b.create(e.query.start,e.query.start+e.query.word.length);t=g.g.some(k.a.SynonymMark.generateSynonymOnboardingId(e.synonyms.id));const a=this._synonymsModel.positionManager.registerRange(g.g.unsafeGet(t),i),r=this._createSynonymMark(a,!1);return n=g.g.some(r.meta.id),r}))),u.b.Scheduler.inRaf,d.a.switchMap(g.g.fold(()=>d.a.of(g.g.none),e=>d.a.defer(this._getMarkRect(e.meta.id)).pipe(d.a.map(g.g.fromEither)))),d.a.first()).subscribe(e);return()=>{g.g.map2(this._disposeFirstSynonym)(t,n),h.unsubscribe()}})}apply(e){const t=this.viewState.get();Object(o.pipe)(t,g.g.map(({synonymsState:t,activeWord:n})=>{if(!S.a.isReady(t))throw new y.b("Synonym should exist.");this._trackSynonymAccept(t.pname,Object.assign(Object.assign({},t.stats),S.c.getSynonymStats(e,t.synonyms.synonymsOrGroups)),S.c.getTimeToClose(t.readyAt));const i=this._synonymsModel.applySynonym({id:t.synonyms.id,dispose:f.e,range:n},e);Object(m.d)(()=>this._notificationsManager.enqueue("alertUndo",{params:Object(m.e)([i])}),this._trackUndoCloseButton,()=>this._contentChanged).subscribe(e=>"commit"===e?i.commit():i.undo())})),this.close("apply")}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_request(e){return this.query({start:e.start,word:e.meta.value}).then(g.g.some).catch(e=>(this._log.error("Error querying synonyms",e),g.g.none))}_canShowPopup(e){return S.a.isReady(e)||S.a.isEmpty(e)}_createMark(e,t){return k.a.create({type:t?"visible":"hidden",view:"full",color:k.a.Meta.Color.blue,underline:"solid",highlight:"none",order:0,animation:"none"})(Object.assign(Object.assign({},e),{meta:{id:k.a.SynonymMark.id}}))}_addMarkToDiff(e){return this.marksDiff.set(v.a.fromMutation(t=>{t.set(k.a.SynonymMark.id,g.m.right(e))})),e}_removeMark(){requestAnimationFrame(()=>{this.marksDiff.modify(e=>v.a.fromMutation(t=>Object(o.pipe)(e,v.a.forEach(f.e,f.e,(e,n)=>t.set(n,g.m.left(e))))))})}_deregisterRange(e){Object(o.pipe)(this._synonymsModel.positionManager.findById(e),g.g.fold(f.e,t=>this._synonymsModel.positionManager.deregisterRange(e)))}_handleState(){this._subs.push(this._inlineManager.doubleClickedWord.pipe(d.a.switchMap(this._emitCloseWhen),d.a.map(g.g.filter(this._isOnline)),d.b.chain(e=>this._withRegisteredWord(e,Object(r.flow)(this._listenQuery,d.a.switchMap(this._createSynonymsState),d.a.map(g.g.some))))).subscribe(u.b.toAtom(this.viewState),e=>this._log.error("can not change syns state",e)))}}const C=(e,t=10)=>{const n=/( |^)[a-z]{3,}\b/gim,i=[];let a;for(let r=0;(a=n.exec(e))&&r<t;r++){const e=a[0].replace(" ",""),t=n.lastIndex-e.length,r=t+e.length;i.push({start:t,word:e,end:r})}return i},E=(e,t)=>0===t.length||0===e.length?e:(()=>{const n=e[e.length-1].end,i=t.findIndex(e=>e.start>n),a=i>=0?t.slice(0,i):t;return e.filter(e=>a.every(t=>!(e.start<=t.end&&t.start<=e.end)))})()},OOrw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("GRZr"),r=n("OA+g"),o=n("lrqh"),s=n("6fbX"),l=n("PrA7"),c=n("dE97"),d=n("GUi3"),u=n("zR/0"),p=n("viRF"),h=n("UEGg"),m=n("O6HF"),g=n("YJiV"),f=n("TC4P"),b=n("E0zP");!function(e){let t,n;e.Kind="PlagiarismCard",function(e){const t=e=>t=>Object.assign(Object.assign({},t),{positionState:e});e.changeVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e});const n=g.a.getTransitionTo(e.changeVisualState,t);e.getChangePosition=function(){return{changePosition:t}},e.getAnimatable=function(){return{completeTransition:t=>n=>e.changeVisualState(f.a.VisualState.complete(n.visualState,t))(n),transitionTo:n,changeVisualState:e.changeVisualState}};const i=(e,t,n)=>i=>Object.assign(Object.assign({},i),{alerts:e,activeAlert:b.a.getAlertByIndex(n,e),removedAlertsIds:t,activeAlertIndex:n});function a(t,i,a){Object(s.g)(1===i.length,"PlagiarismCard can only handle update with a single alert");const r=i[0];Object(s.g)(void 0!==t.alerts.find(e=>e.id===r.id),"can not receive updates for unknown alert",()=>r.toString());const o=function(e,t,n){const i=g.a.getApplicableCardMeta(t,e.visualState,n);return Object.assign(Object.assign({},e),{activeHighlightIndex:g.a.getAHI(e,i),meta:i})}(t,r,a);switch(r.state.type){case c.a.State.Type.REGISTERED:return"success"===o.visualState.transition.type||"presuccess"===o.visualState.transition.type?n({type:"focused",clockwise:o.visualState.transition.clockwise})(o):o;case c.a.State.Type.REMOVED:return"focused"!==o.visualState.transition.type&&"expanded"!==o.visualState.transition.type||!o.alerts.every(e=>c.a.isCapiDone(e)&&e.allowUpdate&&c.a.isRated(o.activeAlert))?e.remove(i,!0)(o):n({type:"presuccess",clockwise:o.visualState.transition.clockwise})(o);case c.a.State.Type.APPLIED:case c.a.State.Type.BEING_APPLIED:return e.remove(i,!0)(o);default:return Object(s.d)(r.state)}}e.select=(n,a)=>g.a.getSelectByAlert(i,e=>r.identity,e.changeVisualState,t,e=>r.identity,r.identity,n,a),e.getSelect=function(n,i){const a=e.select(n,i);return{select:g.a.getSelectFirstAlert(a),selectByAlert:(e,t,n)=>a(t,e,n),unselect:g.a.getUnselectItem(e.changeVisualState,t)}},e.remove=g.a.getRemove(i,n),e.getRemoveAlert=function(t,n){return{removeAlertFromItem:(i,a)=>s=>{const l=new Set(i.map(e=>e.id));return b.a.hasAnyOfAlerts(l)(s)?e.remove(i,Object(r.pipe)(t(a),o.g.map(e=>n.compare(s,e)>0),o.g.getOrElse(r.constTrue)))(s):s}}},e.getUpdateWithAlert=function(e){return{updateWithAlerts:t=>n=>a(n,t,e)}}}(t=e.Capabilities||(e.Capabilities={})),e.eq=b.a.eq,function(n){function i(t,n){const i=n.alerts;return Object.assign(Object.assign({id:t,kind:e.Kind,activeAlert:b.a.getAlertByIndex(n.activeAlertIndex,i),equals(t){return e.eq.equals(this,t)},hashCode(){return b.a.hashCode(Object.assign(Object.assign({},this),{userInput:o.g.none}))}},n),{alerts:i})}function s(e){const t=e.map(e=>e.getHighlightRanges()[0]),n=Object(r.pipe)(e.map(e=>p.b.groupSum.concat(p.b.MAX,p.b.groupSum.inverse(e.progress))),Object(a.fold)(p.b.groupSum),e=>p.b.monoidMin.concat(e,p.b.MAX),p.a.fromRatio);return new m.a.Impl(n,"",m.a.CheckingState.Idle,t,!1)}n.create=function(e,n){const a=l.Monitoring.Logging.getLogger("PlagiarismCardFactory"),p=(e,a,l,c)=>g.a.getCreate(i,o.g.none,g.a.getChangeVisualState(t.changeVisualState,r.identity),()=>u.a.EMPTY,n)(e,a,l,0,s(a),d.a.SpecialId.Plagiarism,c),m=g.a.getSelectNextAlert(g.a.getCardSelections(e),t.select(e,n)),y=(e,t)=>Object.assign(Object.assign({},e),{meta:s(t)});return{createRendered:(e,t)=>p(e,t,0,o.g.some(f.a.VisualState.initial({type:"rendered",clockwise:!0},!1))),createAdded:(e,t)=>p(e,t,0,o.g.some(f.a.VisualState.initial({type:"added",clockwise:!0},!0))),createFocused:(e,t,n)=>p(e,t,n,o.g.some(f.a.VisualState.initial({type:"focused",clockwise:!0},!0))),changePlagiarismMetaWithAlerts:y,addPlagiarismAlerts:(e,t)=>{const n=e.alerts.concat(t.map(e=>h.a.fromModel(e))).sort(c.d.ord.compare).filter(t=>{const n=h.a.isPlagiarism(t);return n||a.error("Encountered non-plagiarism alert in plagiarism card",{alert:t,cardId:e.id}),n});return y(Object.assign(Object.assign({},e),{alerts:n,activeAlertIndex:b.a.getIndexByAlert(e.activeAlert.id,n)}),n)},remove:(e,n,i)=>t.remove(n,i)(e),selectNextAlert:(e,t)=>m(t)(e),shouldAnimateAlertApply:n.shouldAnimateAlertApply}},n.getPlagiarismCardMeta=s}(n=e.ItemFactory||(e.ItemFactory={}))}(i||(i={}))},Od5a:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("rk+4"),c=n("bO3R"),d=n("GUi3"),u=n("zR/0"),p=n("ZvPX"),h=n("zTZn"),m=n("97ZK"),g=n("lrqh"),f=n("D9EC"),b=n("aH3e"),y=n("W1E0");!function(e){e.View=({lens:n,transition:i,successLensViewModel:l,preventAnimation:c,illustrations:v,onTransitionEnd:k,title:w,showTitle:S,scoreStatus:_})=>{const C=a.useContext(b.a.Context).platform===b.a.Platform.IPAD,E=!d.a.isMainLens(n.id);return a.createElement(p.c.FixedContent,null,a.createElement(o.a.div,Object.assign({onTransitionEnd:k},Object(s.c)(C?y.successLensIPad:y.successLens,i.pipe(u.a.map(e=>e.base)))),S&&a.createElement(o.a.div,Object.assign({},Object(s.c)(y.successLensHeader,i.pipe(u.a.map(e=>e.title)))),w),a.createElement("div",{className:C?y.successLensContentIPad:y.successLensContent},a.createElement(h.a,{state:l.successState,preventAnimation:c,illustrations:v,alertsListType:g.g.isSome(l.priorityList)?"priority":"all",scoreStatus:_},Object(r.pipe)(l.priorityList,g.g.map(e=>a.createElement(o.a.Fragment,null,e.hasNonPriorityAlerts.view(Object(f.c)(a.createElement(m.b,{collapsed:!0,onClick:()=>e.reviewNonPriorityAlerts(n.id)}),null)))),g.g.orNull),E&&a.createElement(t,null),Object(r.pipe)(l.mutedAlerts,g.g.map(t=>a.createElement(e.MutedSuggestions,{count:t.mutedSuggestionsCount,onReview:t.reviewMutedSuggestions})),g.g.orNull)))))},e.MutedSuggestions=({count:e,onReview:t})=>{const n=a.useContext(l.a.Context);return a.createElement(o.a.Fragment,null,e.view(e=>e?a.createElement(o.a.span,{className:y.mutedSuggestions},n.successLens.mutedSuggestions(e),a.createElement(c.a.Ghost,{name:"review-muted",className:y.reviewButton,onClick:t},n.review)):null))};const t=()=>{const e=a.useContext(l.a.Context),{navigateToAllAlerts:t}=a.useContext(p.d);return a.createElement(c.a.Ghost,{name:"to-all-alerts",onClick:t,className:y.toAllAlerts},e.goBackToAllAlerts)}}(i||(i={}))},"Ov/9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=1.7},P3VO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("LNSM"),r=n("zR/0"),o=n("D9EC");!function(e){e.EMPTY={addEventListener(e,t){},removeEventListener(e,t){},postMessage(e){}},e.create=(t,n)=>{const i=new r.a.Subject,a=new r.a.Subject,o=i.pipe(r.a.withLatestFrom(t)).subscribe(([e,t])=>{t.postMessage(e,"*")}),s=t.pipe(r.a.switchMap(e=>r.a.fromEvent(e,"message")),r.a.map(e=>e.data),r.a.filter(e=>Boolean(e.kind)));return e.init(s,i,a,n,()=>o.unsubscribe())},e.init=(e,t,n,i,s=o.e)=>({incomingMessages:e.pipe(r.a.filter(i)),outgoingMessages:t,internalMessages:n,isReady:a.a.create(!1),dispose:s})}(i||(i={}))},P79j:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("D9EC"),s=n("1w6p"),l=n("e12y"),c=n("AK7F"),d=n("3hQ2"),u=n("97ZK"),p=n("zR/0");!function(e){e.Toggle=s.b.Node.make(({view:e,notify:t})=>a.createElement(r.a.Fragment,null,e("view").pipe(p.a.map(e=>{const i=c.a.isCollapsed(e);return a.createElement(a.Fragment,null,!c.a.isHidden(e)&&a.createElement("div",{className:n.moreBtnContainer},a.createElement(u.b,{collapsed:i,onClick:t({kind:d.a.Event.Kind.toggleNonPriorityCards,nextState:i?d.a.Event.ToggleNonPriorityCards.NextState.expanded:d.a.Event.ToggleNonPriorityCards.NextState.collapsed})})))})))),e.Hint=s.b.Node.make(({view:e})=>a.createElement(r.a.Fragment,null,e("view").pipe(p.a.map(c.b.isVisible),p.a.map(Object(o.c)(a.createElement(u.a,null),null)))));const t={display:"flex",height:l.a.rem(3),alignItems:"center",justifyContent:"center"},n=l.a.stylesheet({moreBtnContainer:[t]})}(i||(i={}))},PDwX:function(e,t,n){e.exports=n.p+"files/2fdff5731e4f939b623f3e6d82b7eacf/mutedAlerts.mp4"},PPsJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return x}));var i=n("OA+g"),a=n("I7vG"),r=n("2Jhg"),o=n("1aGC"),s=n("4ae2"),l=n("24uI"),c=n("bYZB"),d=n("zR/0"),u=n("GGUR"),p=n("hoSD"),h=n("lrqh"),m=n("D9EC"),g=n("6fbX"),f=n("PrA7"),b=n("o5+S"),y=n("0lfv");const v=o.import("modules/clipboard");var k,w,S,_;!function(e){e.normalizeSpacesInDelta=e=>e.reduce((e,t)=>e.push(l.a.isInsert(t)&&"string"==typeof t.insert?Object.assign(Object.assign({},t),{insert:t.insert.replace(/\s/g,e=>"\n"===e||"\r"===e||"\t"===e?e:" ")}):t),new s.a);let t,n;e.getConverter=(t,n,o=[],s)=>{const l=((e,t,n)=>r.j.of(()=>{const i={root:document.createElement("div"),scroll:e.scroll,addContainer:(t,i)=>{const a=e.addContainer(t,i);return null!=n&&n&&a.classList.add(n),a},setContents:m.e,setSelection:m.e,getFormat:()=>[],selection:{savedRange:{index:0,length:0}}},a=new v(i,{matchVisual:!1,matchers:t});return e=>{a.container.innerHTML="",a.container.appendChild(e);const t=a.convert();return a.container.innerHTML="",Object(b.r)(t)}}))(t,o,s);return t=>Object(a.pipe)(p.f.sanitize(t,{allowedAttrs:["href","style","class",_.TrailingSpaces.dataPreserveSpaces],forbidTags:["script","style","meta","img","video","embed","frame","iframe","area","source","track","template","canvas","audio"],allowDataAttrs:!1,returnHTML:!0}),e=>Object(a.pipe)(p.c.traverseMutate(e,e=>p.c.Guardians.isHTMLElement(e)||p.c.Guardians.isDocumentFragment(e),Object(i.flow)(_.normalizeBold,_.TrailingSpaces.decodeTrailingSpaces,_.cleanupStyles(["whiteSpace","fontWeight","fontStyle","white-space","font-weight","font-style","mso-list"]))),h.b.fold(e=>(f.Monitoring.Logging.getLogger("HTML2Delta").warn("Cannot normalize html on paste",e),h.g.none),e=>h.g.some(e))),h.g.chain(e=>y.a.fromOption(l.map(t=>t(e)).recover(f.Monitoring.Logging.getLogger("HTML2Delta").handler("Cannot convert given text to html").error).toOption())),h.g.map(n),h.g.map(e.normalizeSpacesInDelta))},function(e){let t;!function(e){e.and=(...e)=>t=>e.every(e=>e(t)),e.or=(...e)=>t=>e.some(e=>e(t)),e.includes=e=>t=>t.includes(e)}(t=e.Test||(e.Test={})),e.checks=[{name:c.f.MSOutlook,test:t.and(t.includes('xmlns:w="urn:schemas-microsoft-com:office:word'),t.includes("span.EmailStyle15"))},{name:c.f.MSWord,test:t.includes('xmlns:w="urn:schemas-microsoft-com:office:word')},{name:c.f.MSExcel,test:t.includes('xmlns:x="urn:schemas-microsoft-com:office:excel')},{name:c.f.MSOffice,test:t.includes('xmlns:o="urn:schemas-microsoft-com:office:office')},{name:c.f.MSWordOnline,test:t.and(t.includes('xml:lang="EN-US"'),t.includes("TextRun"),t.includes("SCX"))},{name:c.f.GDocs,test:t.includes('id="docs-internal-guid-')},{name:c.f.GSheets,test:t.includes('<meta name="generator" content="Sheets"/>')},{name:c.f.DropboxPaper,test:t.includes('class=" author-d-')},{name:c.f.CocoaHTMLWriter,test:t.includes('<meta name="Generator" content="Cocoa HTML Writer">')},{name:c.f.ProbablyMSOutlookOnline,test:t.or(t.includes("color: rgb(0, 0, 0); font-family: Calibri, Helvetica, sans-serif;"),t.includes("color: rgb(0, 0, 0); font-family: Calibri,Helvetica,sans-serif;"))},{name:c.f.ProbablyGMail,test:t.or(t.includes("color: rgb(34, 34, 34); font-family: Arial, Helvetica, sans-serif;"),t.includes("color: rgb(34, 34, 34); direction: ltr; font-family: Arial,Helvetica,sans-serif;"))}],e.detectSource=(e,t)=>{const n=t.find(t=>t.test(e));return n?n.name:c.f.Unknown}}(t=e.SourceDetector||(e.SourceDetector={})),function(e){function t(e,t){return p.c.Guardians.isP(e)&&"MsoNormal"===e.className&&1===e.childNodes.length&&e.firstChild&&e.firstChild.textContent===_.nbsp?(new s.a).insert("\n"):t}function n(e,t){var n;let i=(new s.a).compose(t);if(0===t.ops.length)return h.b.right(i);const a=i.ops[0];if(!p.c.Guardians.isHTMLElement(e))return h.b.left(new Error("Cannot parse non-html element"));if(!l.a.isInsertString(a))return h.b.left(new Error("The first operation is not a string insert"));const r=a.insert.match(/^\s*?(\.|·|o|§|Ø)\s+/),o=a.insert.match(/^\s*?(\d+|[a-zA-Z]+)?[\.\)][\ \t\u202F\u00A0]+/);if(null===r&&null===o||o&&a.insert.length-1===o[0].length&&1===i.ops.length)return h.b.right(i);const c=null!==r?"bullet":"ordered",d=null!==r?r:o,u=(i=(new s.a).insert(a.insert.substring(d[0].length,a.insert.length),a.attributes).concat(new s.a(i.ops.slice(1)))).ops[i.ops.length-1];l.a.isInsertString(u)&&(i=new s.a(i.ops.slice(0,-1)).push({insert:u.insert.substring(0,u.insert.length-1),attributes:u.attributes}));const m=(null!==(n=e.getAttribute("style"))&&void 0!==n?n:"").replace(/\n+/g,"").match(/level(\d+)/),g=m?Number(m[1])-1:0;return i.push({insert:"\n",attributes:{list:c,indent:g}}),h.b.right(i)}e.fancyTable=[["tr",(e,t)=>t.insert("\n")],["td",(e,t)=>{const n=Number(e.getAttribute("colspan"))||1;return e.nextSibling?t.insert("\t".repeat(n)):t}]],e.matchOutlookEmptyLine=t,e.outlookEmptyLine=[["p.MsoNormal",t]],e.matchMsWordList=n;const r=e=>(t,r)=>Object(a.pipe)(n(t,r),h.b.fold(t=>(e.info("Cannot parse MS Word List",t),r),i.identity));e.getMSWordList=e=>{const t=r(e.getLogger("MSWordListMatcher"));return[["p.MsoListParagraph",t],["p.MsoListParagraphCxSpFirst",t],["p.MsoListParagraphCxSpMiddle",t],["p.MsoListParagraphCxSpLast",t],["p.MsoNoSpacing",t],["h1",t],["h2",t],["h3",t],["h4",t],["h5",t],["h6",t],["p.MsoHeading7",t],["p.MsoHeading8",t],["p.MsoHeading9",t],["p.MsoTitle",t],["p.MsoSubtitle",t],["p.MsoQuote",t],["p.MsoIntenseQuote",t]]}}(n=e.Matchers||(e.Matchers={}))}(k||(k={})),(S=w||(w={})).byActiveSelection=(e,t)=>{const n=[`color: ${window.getComputedStyle(e).color};`,"background: transparent;","margin-top:0pt;","margin-bottom:0pt;"].join(" "),r=(e,t)=>{e.setAttribute("style",t.join("; "))};return Object(a.pipe)(S.getSelectedHTMLForCopy(e),h.g.chain(Object(i.flow)(_.removeAllSpans,h.b.chain(_.TrailingSpaces.normalizeTrailingSpaces),h.b.map(_.normalizeNestedListsUnsafe(e=>t(e)[0])),h.b.chain(e=>p.c.traverseMutate(e,p.c.Guardians.isHTMLElement,e=>(p.c.Guardians.isSPAN(e)?r(e,[n,e.parentNode&&p.c.Guardians.isLink(e.parentNode)?"color: #4a6ee0;":""]):p.c.Guardians.isBR(e)||(p.c.Guardians.isLink(e)?r(e,[n,"color: #4a6ee0;"]):p.c.Guardians.isH1(e)||p.c.Guardians.isH2(e)?r(e,[n,"font-weight: normal;"]):p.c.Guardians.isLI(e)&&e.parentNode?p.c.Guardians.isOL(e.parentNode)?r(e,[n,`list-style-type:${t(e)[1]};`]):p.c.Guardians.isUL(e.parentNode)&&r(e,[n,"list-style-type:disc"]):p.c.Guardians.isHTMLElement(e)&&r(e,[n])),e))),h.b.map(e=>p.f.sanitize(e,{allowedAttrs:["class","href","style","target",_.TrailingSpaces.dataPreserveSpaces],allowDataAttrs:!1})),h.b.map(e=>`<meta charset='utf-8'>${e}`),h.b.fold(e=>(f.Monitoring.Logging.getLogger("HTML4Copy").error("Cannot get html for copy",e),h.g.none),h.g.some))))},S.getSelectedHTMLForCopy=e=>Object(a.pipe)(p.c.getFirstSelectionRange(),h.g.chain(t=>{if(t.commonAncestorContainer===e){const e=document.createDocumentFragment();return e.appendChild(t.cloneContents()),h.g.some(e)}if(p.c.isParent(e,t.commonAncestorContainer)){const n=Object(a.pipe)(p.c.getTreeBetween(e,t.commonAncestorContainer,p.c.Guardians.isP),h.g.fold(()=>t.cloneContents(),e=>(p.c.appendTo(p.c.getLastChild(e),t.cloneContents()),e))),i=document.createDocumentFragment();return i.appendChild(n),h.g.some(i)}return h.g.none})),function(e){e.removeAllSpans=e=>Object(a.pipe)(p.c.traverseMutate(e,p.c.Guardians.isHTMLElement,e=>{if(p.c.Guardians.isSPAN(e)){const t=p.c.moveChildrenTo(document.createDocumentFragment(),e);return t.normalize(),t}return e}),h.b.map(e=>(e.normalize(),e))),e.space=" ",e.nbsp=" ";const t=t=>{if(0===t)return"";if(1===t)return e.nbsp;const n=t-1,i=(n-n%2)/2;return`${e.nbsp}${`${e.space}${e.nbsp}`.repeat(i)}${2*i===n?"":e.nbsp}`};let n;!function(e){e.dataPreserveSpaces="data-preserver-spaces";const n=/mso-spacerun:\s*yes/;e.decodeTrailingSpaces=t=>{var i;return p.c.Guardians.isSPAN(t)&&(t.hasAttribute(e.dataPreserveSpaces)||n.test(null!==(i=t.getAttribute("style"))&&void 0!==i?i:""))&&t.setAttribute("style","white-space: pre-wrap"),t},e.normalizeTrailingSpaces=n=>p.c.traverseMutate(n,e=>p.c.Guardians.isHTMLElement(e),n=>{if(n.nodeType!==Node.TEXT_NODE||null==n.textContent||n.parentNode&&p.c.Guardians.isSPAN(n.parentNode)&&n.parentNode.hasAttribute(e.dataPreserveSpaces))return n;{const i=n.textContent.match(/^( *)(.*?)( *)$/);if(i){const n=document.createElement("span");return n.appendChild(document.createTextNode(`${t(i[1].length)}${i[2]}${t(i[3].length)}`)),n.setAttribute(e.dataPreserveSpaces,"true"),n}throw new g.b("Cannot parse textContent")}})}(n=e.TrailingSpaces||(e.TrailingSpaces={})),e.normalizeBold=e=>!p.c.Guardians.isHTMLElement(e)||"B"!==e.nodeName&&"STRONG"!==e.nodeName||"normal"!==e.style.fontWeight?e:p.c.moveChildrenTo(document.createElement("span"),e),e.cleanupStyles=e=>t=>{var n;if(!p.c.Guardians.isHTMLElement(t))return t;const i=(null!==(n=t.getAttribute("style"))&&void 0!==n?n:"").split(";").map(e=>e.split(":")).filter(([t])=>e.includes(t)).map(([e,t])=>`${e}:${t}`).join(";");return t.setAttribute("style",i),t},e.normalizeNestedListsUnsafe=function(e){return t=>{return p.c.findAll(e=>p.c.Guardians.isOL(e)||p.c.Guardians.isUL(e))(t).forEach(t=>Array.from(t.childNodes).reduce(([n,i],r)=>{if(p.c.Guardians.isLI(r)){const o=e(r);if(o>0){let e;return e=n>o?p.c.getParentAt(i,n-o):n===o?h.b.right(i):Object(a.pipe)(p.c.createNested(i.nodeName,o-n),h.b.map(e=>(i===t?i.insertBefore(e,r):i.appendChild(e),e)),h.b.map(p.c.getLastChild)),Object(a.pipe)(e,h.b.map(e=>{e.appendChild(r)})),Object(a.pipe)(e,h.b.fold(()=>[n,i],e=>[o,e]))}return[0,t]}return[n,i]},[0,t])),t}}}(_||(_={}));const C=o.import("core/module");class E extends C{constructor(e,t){super(e,t),this.quill=e,this._options=t,this._uuid=p.f.alphanumeric(12),this._sourceChecks=[{name:c.f.DenaliSameDocSession,test:k.SourceDetector.Test.includes(this._uuid)},{name:c.f.DenaliOtherDocSession,test:k.SourceDetector.Test.includes("<meta name='uuid' content='uuid")}],this._log=f.Monitoring.Logging.getLogger("DEd.Clipboard"),this._html2Delta=k.getConverter(this.quill,this._options.deltaFilter,[...k.Matchers.fancyTable,...k.Matchers.getMSWordList(this._log),...k.Matchers.outlookEmptyLine],this._options.className),this.textChangedAfterPaste=new d.a.Subject,this.clipboardShortcutUsed=new d.a.Subject,this._subs=new u.a.Keeper,this.syntheticPaste=e=>{this._options.flush(),this._onPaste({delta:(new s.a).insert(e),source:c.f.Synthetic})},this._onPaste=({delta:e,source:t})=>{const n=l.a.calcAmountLength(e),i=Boolean(this.quill.getSelection())?this.quill.getSelection():{index:0,length:0};this.quill.getLength()-i.length+n>this._maxAllowedTextLength?this._lengthExceededCallback():this._flushHistory(()=>this._doPaste([e,n],i,t))},this._doPaste=([e,t],n,i)=>{const a=this.quill.getText(),r=a.length-1,l=a.trim().length,c=(new s.a).retain(n.index).delete(n.length),d=(new s.a).retain(n.index).concat(e);Boolean(c.ops)&&c.ops.length>0&&this.quill.updateContents(Object(b.s)(c),o.sources.USER),this._options.flush(),this.quill.updateContents(Object(b.s)(d),o.sources.USER),this._options.flush();const u=0===l?"initial":n.length===r?"reset":"partial";this.quill.setSelection("initial"===u||"reset"===u?0:n.index+t,0),this.quill.focus(),this.textChangedAfterPaste.next({type:u,source:i,len:t,tags:this._fetchTagsAmount(e)})},this._getNonEmptyRange=()=>Object(a.pipe)(h.g.fromNullable(this.quill.getSelection()),h.g.filter(c.g.nonEmpty)),this._deleteRange=e=>{const t=(new s.a).retain(e.index).delete(e.length);this.quill.updateContents(Object(b.s)(t),o.sources.USER),this.quill.setSelection(e.index,0),this._options.flush()},this._getHTMLByRange=e=>(this.quill.setSelection(e.index,e.length),Object(a.pipe)(w.byActiveSelection(this.quill.root,E.getListLevel),h.g.map(e=>`<meta name='uuid' content='uuid${this._uuid}'>${e}`))),this._copyRangeToClipboard=e=>t=>this.rtfSupport&&this._rangeHasFormatting(t)?this._copyHTMLByRange(e,t):this._copyPlainTextByRange(e,t),this._onClipboardShortcutUsed=e=>(this.clipboardShortcutUsed.next(),e),this._getRTFContentFromClipboardEvent=e=>t=>Object(a.pipe)(y.a.fromOption(O.getFromEvent(t,"html")),h.g.filter(e=>e.length>0),h.g.map(e=>({source:k.SourceDetector.detectSource(e,[...this._sourceChecks,...k.SourceDetector.checks]),originalHTML:e})),h.g.map(n=>Object(a.pipe)(e.some(e=>e===n.source)?this._getPlainTextFromClipboard(t):this._html2Delta(n.originalHTML),h.g.map(e=>({source:n.source,delta:e})))),h.g.getOrElse(()=>Object(a.pipe)(this._getPlainTextFromClipboard(t),h.g.map(e=>({source:c.f.PlainText,delta:e}))))),this._getPlainTextFromClipboard=e=>Object(a.pipe)(y.a.fromOption(O.getFromEvent(e,"text")),h.g.map(e=>(new s.a).insert(e))),this._fetchTagsAmount=e=>Array.from(e.reduce((e,t)=>(l.a.match(t=>Object.keys(t.attributes||{}).forEach(t=>e.add(t)),m.e,t=>Object.keys(t.attributes||{}).forEach(t=>e.add(t)))(t),e),new Set)),this._maxAllowedTextLength=Boolean(t.maxAllowedTextLength)?t.maxAllowedTextLength:E.DEFAULTS.maxAllowedTextLength,this._lengthExceededCallback=t.lengthExceededCallback||E.DEFAULTS.lengthExceededCallback;const n=d.a.mergeStatic(d.a.fromEvent(this.quill.root,"keydown"),d.a.fromEvent(this.quill.root,"keyup")).pipe(d.a.map(e=>(e.metaKey||e.ctrlKey)&&!0===e.shiftKey&&"v"===e.key.toLowerCase()),d.a.distinctUntilChanged(),d.a.startWith(!1),d.a.shareReplay({bufferSize:1,refCount:!0}));this._subs.push(d.a.fromEvent(this.quill.root,"paste").pipe(d.a.withLatestFrom(n)).subscribe(([e,t])=>Object(a.pipe)(e,p.c.preventDefault,this._onClipboardShortcutUsed,this.rtfSupport&&!t?this._getRTFContentFromClipboardEvent(this.plainTextSources):Object(i.flow)(this._getPlainTextFromClipboard,h.g.map(e=>({source:c.f.Unknown,delta:e}))),h.g.map(this._onPaste))),d.a.fromEvent(this.quill.root,"copy").subscribe(Object(i.flow)(p.c.preventDefault,this._onClipboardShortcutUsed,e=>Object(a.pipe)(this._getNonEmptyRange(),h.g.map(this._copyRangeToClipboard(e))))),d.a.fromEvent(this.quill.root,"cut").subscribe(Object(i.flow)(p.c.preventDefault,this._onClipboardShortcutUsed,e=>Object(a.pipe)(this._getNonEmptyRange(),h.g.map(this._copyRangeToClipboard(e)),h.g.map(h.b.map(this._deleteRange)))))),this.container=this.quill.addContainer("ql-clipboard"),Boolean(t.className)&&this.container.classList.add(t.className),this.container.setAttribute("contenteditable","true"),this.container.setAttribute("tabindex","-1")}get rtfSupport(){return!1}get plainTextSources(){return[]}_rangeHasFormatting(e){return(e=>Object(b.r)(this.quill.getContents(e.index,e.length)).ops.some(e=>h.g.isSome(l.a.getAttr(e,b.b.QuillFormatNames.is))))(e)||(e=>this.quill.scroll.path(e.index+e.length).some(([e])=>p.c.Guardians.isLI(e.domNode)||p.c.Guardians.isH1(e.domNode)||p.c.Guardians.isH2(e.domNode)))(e)}_copyHTMLByRange(e,t){return Object(a.pipe)(this._getHTMLByRange(t),h.b.fromOption(()=>new Error("empty html in range")),h.b.chain(t=>O.setToEvent(e,{type:"html",value:t})),h.b.chainLeft(e=>(this._log.warn("HTML: Cannot copy html to clipboard",e),h.b.right(void 0))),h.b.chain(()=>O.setToEvent(e,{type:"text",value:this.quill.getText(t.index,t.length)})),h.b.bimap(e=>(this._log.error("HTML: Cannot copy plain text to clipboard",e),e),()=>t))}_copyPlainTextByRange(e,t){return Object(a.pipe)(O.setToEvent(e,{type:"text",value:this.quill.getText(t.index,t.length)}),h.b.bimap(e=>(this._log.error("Plain text: Cannot set range to clipboard",e),e),()=>t))}_flushHistory(e){this.quill.history.cutoff(),e(),this.quill.history.cutoff()}convert(){return(new s.a).insert("\n")}dangerouslyPasteHTML(){throw new Error("dangerouslyPasteHTML is not implemented")}}var O,A;E.getListLevel=e=>{const t=Number((e.className||"").split("-").pop())||0;return[t,(t+1)%3==0?"lower-roman":(t+1)%2==0?"lower-alpha":"decimal"]},E.DEFAULTS={maxAllowedTextLength:1e5,lengthExceededCallback:m.e},(A=O||(O={})).setToEvent=(e,t)=>h.b.tryCatch(()=>{switch(t.type){case"text":e.clipboardData.setData("text/plain",t.value);break;case"html":e.clipboardData.setData("text/html",t.value);break;default:Object(g.d)(t.type)}},h.b.toError),A.getFromEvent=(e,t)=>{switch(t){case"text":return e.clipboardData?r.f.of(e.clipboardData.getData("text/plain")):r.e;case"html":return e.clipboardData?r.f.of(e.clipboardData.getData("text/html")):r.e;default:return Object(g.d)(t)}};const x=(e,t)=>(class extends E{get rtfSupport(){return e}get plainTextSources(){return t}})},PRmi:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("OA+g"),a=n("SGhz"),r=n("lrqh"),o=n("PrA7");class s{constructor(e){this._capiSDUIClient=e,this._log=o.Monitoring.Logging.getLogger("SDUIFeedbackServiceImpl")}sendUserAction(e,t){Object(i.pipe)(this._capiSDUIClient.sendUserAction(e,t),r.l.toPromise,e=>e.catch(e=>{a.a.isDroppedError(e)?this._log.debug("Stopped listening for sendUserAction message acknowledge",e):a.b.isNotConnectedError(e)?this._log.warn("Failed to sendUserAction as CAPI was not connected",e):this._log.error("Failed to sendUserAction",e)}))}}},Q4mH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("1w6p"),s=n("8uad"),l=n("0A/6"),c=n("N19O"),d=n("rq0W"),u=n("OI/H"),p=n("zR/0");!function(e){e.Card=e=>o.b.Node.make(({view:t})=>{const n=t("view");return a.createElement(r.a.Fragment,null,n.pipe(p.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),p.a.map(i=>a.createElement(c.a.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},r=>a.createElement(l.a.Card,{mount:r,miniCard:a.createElement(u.a.Mini,{card:n,actions:e}),fullCard:a.createElement(u.a.Full,{card:n,actions:e}),successCard:a.createElement(s.a.Success,{cardData:i,isLastCard:t("isLastCard"),actions:e}),feedbackForm:a.createElement(s.a.FeedbackForm,{cardData:i,actions:e}),mutedCard:a.createElement(s.a.MutedAlert,{cardData:i,actions:e}),actions:e,card:i,transitionClassMapper:d.b})))))})}(i||(i={}))},QKlB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("a5W6"),r=n("U75S"),o=n("OA+g"),s=function(e){return function(t){return function(n){var i=t(n),a=i[0],r=i[1];return[e(a),r]}}},l=function(e){return function(t){return function(n){var i=t(n),a=i[0],r=i[1];return e(a)(r)}}},c=(o.identity,o.identity,n("+JVj")),d=n("kMag"),u=n("v0pb"),p=n("yA7V"),h=n("UEGg"),m=n("5o4I"),g=n("lrqh"),f=n("tn8Q"),b=n("6fbX"),y=n("D9EC"),v=n("7b34"),k=n("jlxt"),w=n("bUJM");function S(e,t,n,i){const a=w.a.State.Repository.getPrimaryState(t.markAlertStates,e.id),s=w.a.State.Repository.getPrimaryState(n.markAlertStates,e.id);if(g.g.getEq(w.a.State.eq).equals(a,s)||!n.markAlerts.has(e.id))return[];{const t=n.markAlerts.get(e.id).marks.map(e=>n.marks.get(e)).filter(e=>Boolean(e)),{marks:a}=i.fromRanges(t,e,w.a.State.Repository.getPrimaryState(n.markAlertStates,e.id));return Object(b.g)(t.length===a.length,"MarkAlerts substate change can not reduce or add marks count"),Object(o.pipe)(r.oc(t,a),r.O(([e,t])=>!k.a.eq.equals(e,t)))}}!function(e){let t,n;function i(e,t){return Object(o.pipe)(e.marks.get(t),g.g.fromNullable,g.g.exists(k.a.Meta.isInteractable))?Object(o.pipe)(e.markAlerts.get(d.a.fromRangeIdToAlertId(t)),g.g.fromNullable,g.g.map(e=>({alert:e.alert,highlightIndex:e.marks.findIndex(e=>e===t)}))):g.g.none}function _(e,t){const n=[],i=c.b.create(t.index,t.index+t.length);return e.marks.forEach(e=>{c.b.isOverlap(e,i)&&n.push(e)}),n}function C(e,t){return Object(y.b)(t,t=>Object(o.pipe)(t.alert.getHighlightRanges(),a.every(c.b.isValid(e.length))))}function E(e,t){return n=>{t.set(n.meta.id,g.m.right(n)),e.set(n.meta.id,n)}}function O(e,t,n){const i=w.a.State.Repository.getPrimaryState(t.markAlertStates,n.id);return Object(o.pipe)(e.fromAlert(h.a.fromModel(n.alert),i,g.g.isSome(i)?g.g.none:g.g.some("firstRender")),g.b.mapLeft(e=>`can not add MarkAlert because we can not take reference on AlertModel(${u.a.show.show(n)}) due to: ${e.toString()}`))}function A(e,t,n,i=g.g.none){const a=t.markAlerts.get(n.id);if(void 0===a)return g.b.left(new Error(`can not update mark on alert ${u.a.show.show(n)})`));const{left:s,right:l}=Object(o.pipe)(a.marks.map(e=>Object(o.pipe)(t.marks.get(e),g.b.fromNullable(new Error(`mark not found for alert ${u.a.show.show(n)}`)))),r.Pb);if(0!==s.length)return g.b.left(s[0]);const c=w.a.State.Repository.getPrimaryState(t.markAlertStates,n.id);return Object(o.pipe)(e.updateOn(l,h.a.fromModel(n.alert),c,i),g.b.map(({ma:e,marks:t})=>({ma:e,marks:k.a.Collection.Diff.fromArray(l,t)})))}function x(e,t,n=o.identity){const i=e.markAlerts.get(t.id);if(void 0===i)return g.b.left(`can not get AlertModel(${u.a.show.show(t)})), mark alert not found`);const a=[],s=[];if(i.marks.forEach(t=>{const n=e.marks.get(t);void 0!==n?a.push(n):s.push(t)}),s.length>0)return g.b.left(`can not get unknown UnknownMarks(${JSON.stringify(s)})`);const l=t.alert.getHighlightRanges();return g.b.right(a.map(e=>Object(o.pipe)(l,r.S(t=>t.meta.id===e.meta.id),g.g.map(k.a.create(n(e.meta))),g.g.getOrElse(()=>e))))}e.empty={markAlerts:new Map,markAlertStates:w.a.State.Repository.empty,marks:new Map,markAlertShouldBeVisible:o.constFalse,primaryAHISelector:(e,t)=>Object(o.pipe)(e,r.S(e=>Object(o.pipe)(t,r.S(t=>m.a.eq.equals(t,e)),g.g.isSome)),g.g.orElse(g.g.fromNullable(t[0])))},function(e){e.init=function(e){return[e,e]},e.amend=function(e){return l(t=>Object(o.pipe)(e,s(e=>k.a.Collection.Diff.monoid.concat(t,e))))}}(t=e.Change||(e.Change={})),function(e){e.toChange=function(e){return t=>Object(o.flow)(t,f.a.recover(e))}}(n=e.ChangeWithFailures||(e.ChangeWithFailures={})),e.getMarkByAlert=function(e,t){return Object(o.pipe)(e.markAlerts.get(t.alert.id),g.g.fromNullable,g.g.filter(e=>t.highlightIndex>=0&&t.highlightIndex<e.marks.length),g.g.chain(n=>g.g.fromNullable(e.marks.get(n.marks[t.highlightIndex]))),g.g.filter(k.a.Meta.isInteractable))},e.getAlertByMark=i,e.getMarksBySelection=_,e.getAlertsBySelection=function(e,t){return Object(o.pipe)(_(e,t),r.P(t=>Object(o.pipe)(i(e,t.meta.id),g.g.filter(t=>(function(e,t){return Object(o.pipe)(w.a.State.Repository.getPrimaryState(e.markAlertStates,t.alert.id),g.g.fold(()=>!0,({type:e})=>{switch(e){case w.a.State.Type.applied:case w.a.State.Type.bulkAccepted:case w.a.State.Type.inSuccess:case w.a.State.Type.hovered:return!1;case w.a.State.Type.selected:return!0;default:return Object(b.d)(e)}}))})(e,t)))))},e.markAlertShouldBeVisible=C,e.updateWithAlertsCollection=function(e,t,n){return i=>{const a=C(t,i.markAlertShouldBeVisible),r=new Map,s=Object.assign(Object.assign({},i),{markAlertStates:w.a.State.Repository.copy(i.markAlertStates),markAlerts:new Map(i.markAlerts),marks:new Map(i.marks)}),l=v.a.fromMutation(t=>{Object(o.pipe)(n,v.a.forEach((e,n)=>{i.markAlerts.has(n)?(s.markAlertStates=w.a.State.Repository.removeFromAll(s.markAlertStates,e.id),Object(o.pipe)(x(s,e),g.b.fold(e=>{r.set(n,e)},e=>{s.markAlerts.delete(n),e.forEach(e=>{s.marks.delete(e.meta.id),t.set(e.meta.id,g.m.left(e))})}))):a(e)&&r.set(n,`can not remove unknown AlertModel(\n              ${u.a.show.show(e)})`)},(n,l,c)=>{const d=`inState(${i.markAlerts.has(c)})-wasDisplayed(${a(n)})-shouldDisplayed(${a(l)})`,p=new Array;switch(d){case"inState(false)-wasDisplayed(false)-shouldDisplayed(false)":break;case"inState(false)-wasDisplayed(true)-shouldDisplayed(false)":r.set(c,`got unexpected state, can not update from AlertModel(\n              ${u.a.show.show(n)}) to AlertModel(\n                ${u.a.show.show(l)}) because we can not find corresponding markAlert`);break;case"inState(false)-wasDisplayed(true)-shouldDisplayed(true)":case"inState(false)-wasDisplayed(false)-shouldDisplayed(true)":s.markAlertStates[w.a.State.Type.selected]=w.a.State.Repository.remove(s.markAlertStates,w.a.State.Type.selected,l.id),Object(o.pipe)(O(e,s,l),g.b.fold(e=>{r.set(c,e)},({ma:e,marks:n})=>{s.markAlerts.set(c,e),n.forEach(E(s.marks,t))}));break;case"inState(true)-wasDisplayed(true)-shouldDisplayed(false)":r.set(c,`can not update update from AlertModel(\n          ${u.a.show.show(n)}) to AlertModel(\n            ${u.a.show.show(l)}) because MarkAlert remove during alert update NYI`);break;case"inState(true)-wasDisplayed(false)-shouldDisplayed(false)":s.markAlertStates[w.a.State.Type.selected]=w.a.State.Repository.remove(s.markAlertStates,w.a.State.Type.selected,l.id);break;case"inState(true)-wasDisplayed(false)-shouldDisplayed(true)":case"inState(true)-wasDisplayed(true)-shouldDisplayed(true)":const i=w.a.State.Repository.getPrimaryState(s.markAlertStates,l.id),a="inState(true)-wasDisplayed(false)-shouldDisplayed(true)"===d&&g.g.isNone(i)?g.g.some("firstRender"):g.g.none;p.push(A(e,s,l,a));break;default:const h=d;r.set(c,`can not update update from AlertModel(\n              ${u.a.show.show(n)}) to AlertModel(\n                ${u.a.show.show(l)}) because enter unexpected logic branch: ${h}`)}p.forEach(g.b.fold(e=>{r.set(c,`can not update MarkAlert on AlertModel(\n                    ${u.a.show.show(l)}) due to: ${e.toString()}`)},({ma:e,marks:n})=>{Object(o.pipe)(n,v.a.forEach((e,n)=>{s.marks.delete(n),t.set(n,g.m.left(e))},(e,n,i)=>{const a=s.marks.get(i);s.marks.set(i,n),t.set(i,g.m.both(a,n))},(e,n)=>{s.marks.set(n,e),t.set(n,g.m.right(e))})),s.markAlerts.set(c,e)}))},(n,l)=>{i.markAlerts.has(l)?r.set(l,`can not add existing MarkAlert(${JSON.stringify(i.markAlerts.get(l))}) by AlertModel(\n                ${u.a.show.show(n)})`):a(n)&&Object(o.pipe)(O(e,s,n),g.b.fold(e=>{r.set(l,e)},({ma:e,marks:n})=>{s.markAlerts.set(l,e),n.forEach(E(s.marks,t))}))}))});return r.size>0?g.b.left({recovered:[l,s],rejected:r}):g.b.right([l,s])}},e.updateWithRangeChange=function(e,t,n){return i=>{if(0===e.length)return[k.a.Collection.Diff.monoid.empty,i];const a=e.filter(e=>Object(o.pipe)(t,p.a.find(t=>Object(o.pipe)(g.g.fromNullable(i.markAlerts.get(t.id)),g.g.exists(t=>void 0!==t.marks.find(t=>t===e.meta.id)))),g.g.exists(n)));if(0===a.length)return[k.a.Collection.Diff.monoid.empty,i];const r=Object.assign(Object.assign({},i),{marks:new Map(i.marks)});return[v.a.fromMutation(e=>{a.forEach(t=>{const n=r.marks.get(t.meta.id);if(void 0!==n){const i=k.a.create(n.meta)(t);r.marks.set(t.meta.id,i),e.set(t.meta.id,g.m.both(n,i))}})}),r]}},e.removeMarksForAlerts=function(e){return t=>{const n=Object(o.pipe)(e,p.a.reduce(new Array,(e,n)=>(t.markAlerts.has(n.id)&&e.push(n),e)));if(0===n.length)return g.b.right([k.a.Collection.Diff.monoid.empty,t]);const i=Object.assign(Object.assign({},t),{markAlerts:new Map(t.markAlerts),marks:new Map(t.marks),markAlertStates:w.a.State.Repository.copy(t.markAlertStates)}),a=new Map,r=v.a.fromMutation(e=>{n.forEach(t=>{i.markAlertStates=w.a.State.Repository.removeFromAll(i.markAlertStates,t.id),Object(o.pipe)(x(i,t),g.b.fold(e=>{a.set(t.id,e)},n=>{i.markAlerts.delete(t.id),n.forEach(t=>{i.marks.delete(t.meta.id),e.set(t.meta.id,g.m.left(t))})}))})});return a.size>0?g.b.left({recovered:[r,i],rejected:a}):g.b.right([r,i])}},e.disposeAppliedMarks=function(){return e=>{if(e.markAlertStates.applied.length<1)return g.b.right([k.a.Collection.Diff.monoid.empty,e]);const t=new Array,n=Object.assign(Object.assign({},e),{markAlertStates:w.a.State.Repository.copy(e.markAlertStates),markAlerts:new Map(e.markAlerts),marks:new Map(e.marks)});n.markAlertStates[w.a.State.Type.applied]=[];const i=v.a.fromMutation(i=>{e.markAlertStates.applied.forEach(e=>{const a=n.markAlerts.get(e.alert.id);if(void 0!==a){n.markAlerts.delete(e.alert.id);const{left:s,right:l}=Object(o.pipe)(a.marks.map(e=>Object(o.pipe)(n.marks.get(e),g.b.fromNullable(new Error(`Mark not found for Mark Alert with id ${a.alert.id}`)))),r.Pb);s.length>0?s.forEach(e=>t.push(e)):l.forEach(e=>{n.marks.delete(e.meta.id),i.set(e.meta.id,g.m.left(e))})}})});return t.length>0?g.b.left({recovered:[i,n],rejected:t}):g.b.right([i,n])}},e.updateWithSelectionChange=function(t,n){return i=>{const a=e.getAlertsBySelection(i,t);return 0===a.length?[k.a.Collection.Diff.monoid.empty,i]:e.updateMarkAlertState(w.a.State.Type.selected,Object(o.pipe)(i.primaryAHISelector(i.markAlertStates.selected,a),g.g.map(e=>[e]),g.g.getOrElse(()=>[])),n)(i)}},e.updateMarks=function(e){return t=>{const n=new Map(t.marks);return[v.a.fromMutation(t=>{Object(o.pipe)(e,v.a.reduce(n,(e,i)=>(Object(o.pipe)(n.get(i.meta.id),g.g.fromNullable,g.g.tap(e=>t.set(i.meta.id,g.m.left(e)))),e.delete(i.meta.id),e),(e,i)=>(Object(o.pipe)(n.get(i.meta.id),g.g.fromNullable,g.g.tap(e=>t.set(i.meta.id,g.m.both(e,i)))),e.set(i.meta.id,i),e),(e,n)=>(t.set(n.meta.id,g.m.right(n)),e.set(n.meta.id,n))))}),Object.assign(Object.assign({},t),{marks:n})]}},e.updateMarkAlertState=function(e,t,n){return i=>{if(r.eb(m.a.eq).equals(i.markAlertStates[e],t))return[k.a.Collection.Diff.monoid.empty,i];{const a=Object.assign(Object.assign({},i),{markAlertStates:w.a.State.Repository.copy(i.markAlertStates),marks:new Map(i.marks)});return a.markAlertStates[e]=t,[v.a.fromMutation(t=>{(function(e,t,n,i){const a=t.markAlertStates[e],s=n.markAlertStates[e],l=Object(o.pipe)(r.F(m.a.eq)(a,s),r.w(e=>S(e.alert,t,n,i))),c=Object(o.pipe)(s,r.w(e=>S(e.alert,t,n,i)));return l.concat(c)})(e,i,a,n).forEach(([e,n])=>{a.marks.set(e.meta.id,n),t.set(e.meta.id,g.m.both(e,n))})}),a]}}},e.updateVisibilityFilter=function(e,t,n,i){return a=>{const r=C(e,t),{alertsToShow:s,alertsToRemove:l}=Object(o.pipe)(n,p.a.reduce({alertsToShow:new Array,alertsToRemove:new Array},(e,t)=>(r(t)?a.markAlerts.has(t.id)||e.alertsToShow.push(t):a.markAlerts.has(t.id)&&e.alertsToRemove.push(t),e)));if(0===s.length&&0===l.length)return g.b.right([k.a.Collection.Diff.monoid.empty,Object.assign(Object.assign({},a),{markAlertShouldBeVisible:t})]);const c=Object.assign(Object.assign({},a),{markAlertShouldBeVisible:t,markAlertStates:w.a.State.Repository.copy(a.markAlertStates),markAlerts:new Map(a.markAlerts),marks:new Map(a.marks)}),d=new Map,u=v.a.fromMutation(e=>{l.forEach(t=>{c.markAlertStates=w.a.State.Repository.removeFromAll(c.markAlertStates,t.id),Object(o.pipe)(x(c,t),g.b.fold(e=>{d.set(t.id,e)},n=>{c.markAlerts.delete(t.id),n.forEach(t=>{c.marks.delete(t.meta.id),e.set(t.meta.id,g.m.left(t))})}))}),s.forEach(t=>Object(o.pipe)(O(i,c,t),g.b.fold(e=>{d.set(t.id,e)},({ma:n,marks:i})=>{c.markAlerts.set(t.id,n),i.forEach(E(c.marks,e))})))});return d.size>0?g.b.left({recovered:[u,c],rejected:d}):g.b.right([u,c])}},e.setMarkTo=E,e.createMarkAlert=O,e.updateMarkAlert=A,e.getMarksForAlert=x}(i||(i={}))},QLdX:function(e,t,n){"use strict";n.r(t),n.d(t,"generateUUID",(function(){return a}));var i=n("hoSD");const a=()=>i.f.alphanumeric(4)},QdI4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("91hE"),r=n("U75S"),o=n("OA+g"),s=n("zR/0"),l=n("lrqh"),c=n("+w1e"),d=n("BeBM");!function(e){let t;!function(e){let t;!function(e){e.fromCardActions=Object(o.flow)(s.a.map(e=>{if(c.b.isSDUICardAction(e)){const t=Object(o.pipe)(e.actions,r.O(a.d.Action.isTransitionAction));return e.actions.find(e=>"prevCard"===e.type)?l.g.some({kind:"prevClicked",transitions:t}):e.actions.find(e=>"nextCard"===e.type)?l.g.some({kind:"nextClicked",transitions:t}):l.g.none}return l.g.none}),s.b.compact)}(t=e.Events||(e.Events={})),e.sideEffect=(e,t,n)=>({id:"SingleCardAssistant.prevNextNavigation",when:d.e.Effect.When.isSidebarOpen,what:d.e.Effect.ItemsApplicator.create(Object(o.pipe)(e,s.a.withLatestFrom(t.pipe(s.a.filter(d.e.hasCards))),s.a.map(([e,t])=>Object(o.pipe)(t.currentLens.cardIndex,l.g.chain(n=>Object(o.pipe)(t.currentLens.items.getAt("nextClicked"===e.kind?n+1:n-1),l.g.map(t=>Object(o.tuple)(t,e)))))),s.b.compact,s.a.map(([e,t])=>i=>d.e.Prism.getLensWithItems().modify(n.selectItemById(e.id,t.transitions),i))))})}(t=e.PrevNextNavigation||(e.PrevNextNavigation={}))}(i||(i={}))},QshB:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var i,a,r,o,s=n("m6JR"),l=n("BbAu"),c=n("I7vG"),d=n("LNSM"),u=n("prnJ"),p=n("lrqh");!function(e){e.group=p.d.getStructGroup({critical:p.d.groupSum,advanced:p.d.groupSum,free:p.d.groupSum,freePremium:p.d.groupSum,paid:p.d.groupSum,criticalPriority:p.d.groupSum,advancedPriority:p.d.groupSum,freePriority:p.d.groupSum,paidPriority:p.d.groupSum,unread:p.d.groupSum,muted:p.d.groupSum}),e.eq=s.getStructEq({critical:s.eqNumber,advanced:s.eqNumber,free:s.eqNumber,freePremium:s.eqNumber,paid:s.eqNumber,unread:s.eqNumber,criticalPriority:s.eqNumber,advancedPriority:s.eqNumber,freePriority:s.eqNumber,paidPriority:s.eqNumber,muted:s.eqNumber}),e.show=l.a({critical:l.d,advanced:l.d,free:l.d,paid:l.d,criticalPriority:l.d,advancedPriority:l.d,freePriority:l.d,paidPriority:l.d,unread:l.d,muted:l.d}),e.isValid=function(e){return e.critical>=0&&e.advanced>=0&&e.unread>=0},e.isEmpty=function(t){return e.eq.equals(t,e.group.empty)}}(i||(i={})),function(e){e.MIN_GOALS=3,e.TOTAL_GOALS=e.MIN_GOALS+1,e.calculateCompleteness=function(t){const n=Object(c.pipe)(t.goals,p.g.exists(e=>e.size>0));return u.a.eq.equals(t,u.a.unset)?0:Object(c.pipe)(t.domain,p.g.forAll(e=>"general"===e))&&!(p.g.isSome(t.audience)||p.g.isSome(t.style)||n)?0:Number(n||0)+e.MIN_GOALS}}(a||(a={})),function(e){e.zero={full:0,trimmed:0}}(r||(r={})),function(e){let t;!function(e){e[e.Document=0]="Document",e[e.Plagiarism=1]="Plagiarism"}(t=e.CheckingKind||(e.CheckingKind={})),e.Mock={getCheckingForState:()=>d.a.create({kind:e.CheckingKind.Document,type:"idle"})}}(o||(o={}))},RC7t:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("I7vG"),o=n("LNSM"),s=n("gy42"),l=n("zR/0"),c=n("lrqh"),d=n("xEVj");!function(e){e.Manager=({children:t,cardWidth:n})=>{const i=s.b.toObservable(n).pipe(l.a.shareReplay({refCount:!0,bufferSize:1}));return d.a.useSingleton("CardWidth.Manager"),d.a.useSubscriptionTo(i),a.createElement(e.Context.Provider,{value:i},t)},e.DefaultManager=({children:t})=>(d.a.useSingleton("CardWidth.DefaultManager"),a.createElement(e.Manager,{cardWidth:e.withCardWidthEffect(e.defaultSizeObserver)},t)),e.withCardWidthEffect=(t,n=e.defaultCardWidthSetter)=>t.pipe(l.a.tap(e=>n(c.g.some(e))),l.a.finalize(n.bind(null,c.g.none)),l.a.shareReplay({refCount:!0,bufferSize:1})),e.defaultCardWidthSetter=t=>{e.setRootCssVar(document.documentElement,t)},e.defaultSizeObserver=o.a.create(400),e.Context=a.createContext(e.defaultSizeObserver),e.setRootCssVar=(e,t)=>{e.style.setProperty("--cardWidth",Object(r.pipe)(t,c.g.map(String),c.g.orNull))}}(i||(i={}))},RCgc:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("ax6a"),a=n("e12y"),r=n("ps/9");const o={position:"relative",borderRadius:a.a.rem(r.t),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:i.a.CoreNeutral0},s={padding:`${a.a.rem(1)} ${a.a.rem(2)}`},l={position:"absolute",top:a.a.rem(.75),left:a.a.rem(.5)},c={display:"flex",boxSizing:"border-box",padding:a.a.rem(.5),height:a.a.rem(2.5),cursor:"pointer",justifyContent:"flex-start",alignItems:"center"},d={marginLeft:a.a.rem(.8),fontSize:a.a.rem(.85),lineHeight:a.a.rem(1)},u={display:"flex",width:a.a.percent(100),alignItems:"center",justifyContent:"space-between"},p={position:"absolute",top:a.a.rem(.2),right:a.a.rem(.3),cursor:"pointer"},h={paddingRight:a.a.rem(1),textAlign:"left",fontSize:a.a.rem(.75),lineHeight:a.a.rem(1.15)},m={marginTop:a.a.rem(.6),fontSize:a.a.rem(.875),flexShrink:0},g={display:"flex",marginBottom:a.a.rem(.6),justifyContent:"flex-end",flexShrink:0},f={marginRight:"auto",lineHeight:a.a.rem(1.3125)},b={marginTop:a.a.rem(.21),minWidth:a.a.rem(1.5),flexShrink:0},y={marginTop:a.a.rem(1)},v={display:"flex",justifyContent:"center",alignItems:"center",height:a.a.rem(2),backgroundColor:i.a.CoreGreen60,borderRadius:a.a.rem(.25),fontSize:a.a.rem(.875),fontWeight:700,color:i.a.CoreNeutral0,lineHeight:a.a.rem(2),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:a.a.color(i.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:a.a.color(i.a.CoreGreen60).tint(.2).toRGBA().toString()}}},k=a.a.stylesheet({wrapper:[o],maximizedWrapper:[s],minimizedWrapper:[c],maximizedWrapperIcon:[l],shadowWrapper:[{position:"relative",zIndex:1}],minimizedText:[d],minimizedContent:[u],maximizedCloseButtonContainer:[p],maximizedHeader:[h],alertCategoryContainer:[m],alertCategory:[g],categoryHumanContainer:[f],alertCounterContainer:[b],premiumButtonContainer:[y],premiumButton:[v]})},RNks:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var i=n("OA+g"),a=n("I7vG"),r=n("lrqh"),o=n("1w6p"),s=n("EiZq"),l=n("uqkn"),c=n("TC4P"),d=n("BeBM"),u=n("bFfh"),p=n("zR/0");const h=(e,t,n,i,a,r)=>o.a.composeKnot({content:g(e,t,a,r),root:b(t,n,i)});function m(e){return(t,n,i,a,r,s)=>o.a.composeKnot({content:o.a.fromSideEffect(n=>{f(t)(n);const i=n.action.action;"item"===i.key&&e(i.action)},y(n,r,s)),root:b(n,i,a)})}const g=(e,t,n,i)=>o.a.fromSideEffect(f(e),y(t,n,i));function f(e){return t=>{switch(t.action.action.action.kind){case s.a.ActionKind.changePosition:e.changePosition.next({id:t.key,height:t.action.action.action.height});break;case s.a.ActionKind.completePositionAnimation:e.completePositionAnimation.next(t.key)}}}const b=(e,t,n)=>o.a.fromSideEffect(e=>{t.next(e.element)},p.a.combineLatestStatic([n,e.view("cardsHeight")]).pipe(p.a.map(([e,t])=>({disableUserActions:e,height:t})),p.a.startWith({disableUserActions:!1,height:0}))),y=(e,t,n)=>{const o=e.view(u.a.Prism.items),h=e.pipe(p.a.map(e=>e.itemsOrd)),m=e.pipe(p.a.map(Object(i.flow)(d.k.getActiveItem,r.g.map(l.a.getId)),p.a.distinctUntilChanged())),g=e.view(t.getActiveAlertsCount).view(e=>0===e);return p.a.combineLatestStatic([o,m,g,h]).pipe(p.a.map(([e,i,o,l])=>{const d=Object(a.pipe)(e.find(e=>e.positionState.watched),r.g.map(e=>e.value)),u=e.getAt(e.size-1);return e.filter(e=>e.positionState.visible||e.positionState.watched&&((e,t)=>!!Object(a.pipe)(t,r.g.exists(t=>t.id===e.id))||Object(a.pipe)(t,r.g.exists(e=>e.positionState.isHeightValid)))(e,d)).map(e=>(function(e){return(t,n,i,o)=>l=>{const d=Object(a.pipe)(t,r.g.exists(e=>e===l.id));return{cell:{item:e.viewState(n,i)(l),root:{height:{value:l.positionState.height,watched:l.positionState.watched&&!e.isScheduledToDispose(l),isValid:l.positionState.isHeightValid},position:{top:l.positionState.absTop,animationInProgress:l.positionState.animationInProgress},layer:d||c.a.isAnimatable(l)&&l.visualState.incomplete&&!Object(a.pipe)(l.visualState.from,r.g.exists(e=>"focused"===e))?s.a.Layer.front:s.a.Layer.back}},root:l.id,hashCode:l.hashCode.bind(l),equals:e=>l.equals(e.cell.item.view),compare:e=>o.compare(l,e.cell.item.view)}}})(t)(i,o,Object(a.pipe)(u,r.g.exists(t=>t.id===e.id)),l)(e),n(l))}))}},RfT4:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("ERkP"),a=n("vOOZ"),r=n("LNSM"),o=n("dE97"),s=n("XaD9"),l=n("1Y2u"),c=n("rk+4"),d=n("bO3R"),u=n("yB2L"),p=n("Q8bi"),h=n("6fbX"),m=n("+ukg"),g=n("4XP+"),f=n("j1Ag");const b=({switchToCritical:e,switchToAdvanced:t,counters:n,features:r})=>{const o=i.useContext(c.a.Context),{pageId:l,gnarSpec:b}=i.useContext(s.a.Context),y=r.denali.alertGroupNames===m.a.CRITICAL_ADVANCED?{critical:o.sidebar.critical,advanced:o.sidebar.advanced}:{critical:o.sidebar.free,advanced:o.sidebar.premium},v=n.view(function(e){switch(e){case m.a.CRITICAL_ADVANCED:return"critical";case m.a.CRITICAL_ADVANCED_PRIORITY:return"criticalPriority";case m.a.FREE_PREMIUM:return"free";case m.a.FREE_PREMIUM_PRIORITY:return"freePriority";default:return Object(h.d)(e)}}(r.denali.alertGroupNames)),k=n.view(function(e){switch(e){case m.a.CRITICAL_ADVANCED:return"advanced";case m.a.CRITICAL_ADVANCED_PRIORITY:return"advancedPriority";case m.a.FREE_PREMIUM:case m.a.FREE_PREMIUM_PRIORITY:return"paid";default:return Object(h.d)(e)}}(r.denali.alertGroupNames));return i.createElement(a.a.div,{className:g.counters},v.view(t=>t>0?i.createElement(d.a,{key:"critical-issues",name:"critical-issues",styleType:p.Typography.Type.H3Legacy,className:f.issuesWrapper,onClick:()=>{e(),b.assistantOpenButtonClick(l,"critical")}},i.createElement(u.a.OutcomeCounter,{theme:{counterWrapper:f.criticalCounterWrapper,counterContent:f.criticalCounterContent},count:t}),i.createElement("span",null," ",y.critical(t))):null),k.view(e=>e>0?i.createElement(d.a,{key:"advanced-issues",name:"advanced-issues",styleType:p.Typography.Type.H3Legacy,className:f.issuesWrapper,onClick:()=>{t(),b.assistantOpenButtonClick(l,"advanced")}},i.createElement(u.a.OutcomeCounter,{theme:{counterWrapper:f.advancedCounterWrapper,counterContent:f.advancedCounterContent},count:e}),i.createElement("span",null," ",y.advanced(e))):null))};const y=({features:e,documentModel:t,navigationViewModel:n})=>{const{gnarSpec:c,pageId:d}=i.useContext(s.a.Context);return i.createElement(a.a.section,{className:g.wrapper},i.createElement(b,{features:e,switchToCritical:()=>n.events.next({type:"switchToCritical",actionSource:o.b.sidebar}),switchToAdvanced:()=>n.events.next({type:"switchToAdvanced",actionSource:o.b.sidebar}),counters:t.counters}),i.createElement(l.a,{checking:t.checkingState.view(e=>"idle"!==e),hasErrors:r.a.combine(t.counters.view("critical"),t.counters.view("advanced"),(e,t)=>e>0||t>0),onClick:()=>{n.events.next({type:"toggleSidebar",actionSource:o.b.sidebar}),c.assistantOpenButtonClick(d,"default")}}))}},SDjP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("zR/0"),r=n("lrqh");!function(e){let t,n;!function(e){let t;!function(e){e.TextView="TextView",e.ChecksBackend="ChecksBackend"}(t=e.FocusSource||(e.FocusSource={})),e.eq=r.c.getStructEq({source:r.c.eqString})}(t=e.Meta||(e.Meta={})),e.eq=r.c.getStructEq({inFocus:r.c.eqBoolean,meta:t.eq}),e.empty={inFocus:!0,meta:{source:t.FocusSource.TextView}},e.create=e=>t=>({inFocus:t,meta:{source:e}}),function(e){e.create=()=>({focus:new a.a.Subject})}(n=e.Changes||(e.Changes={}))}(i||(i={}))},Sk6A:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("zR/0");!function(e){e.listen=e=>a.a.fromEvent(document,"keydown").pipe(a.a.filter(t=>t.key.toLowerCase()===e&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)))}(i||(i={}))},SxAM:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var i=n("ERkP"),a=n("vOOZ"),r=n("9NHN"),o=n("bO3R"),s=n("3rlE"),l=n("zR/0"),c=n("6fbX"),d=n("q4n/"),u=n("fT1+"),p=n("2Xcb");class h extends i.Component{constructor(){super(...arguments),this._subs=[]}componentDidMount(){this._title&&(this._title.focus(),this._subs.push(this.props.searchViewModel.hotkeysActions.subscribe(e=>{switch(e){case u.a.focus:this._title&&(this._title.focus(),this._title.select());break;case u.a.next:this._resultFunctionOrSelect(e=>e.next());break;case u.a.previous:this._resultFunctionOrSelect(e=>e.prev());break;default:Object(c.d)(e)}}),this.props.searchViewModel.visible.pipe(l.a.filter(Boolean)).subscribe(()=>{requestAnimationFrame(()=>{this._title&&(this._title.focus(),this._title.select())})})))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_resultFunctionOrSelect(e){this.props.searchViewModel.result.get().fold(()=>this.props.searchViewModel.select(),e)}render(){const e=this.props.searchViewModel;return i.createElement("div",{className:p.view},i.createElement(a.a.div,{className:p.searchInputWrapper},i.createElement(s.d.SearchQuestion,{className:p.searchIcon}),i.createElement(a.a.input,Object.assign({name:u.b.SEARCH_INPUT_NAME,spellCheck:!1,mount:e=>this._title=e,placeholder:"Find in document",className:p.searchInput,autoFocus:!0},Object(r.b)({value:e.term}),{onKeyDown:e=>e.keyCode===d.a.ENTER_CODE&&this._resultFunctionOrSelect(e=>e.next())})),e.result.view(e=>e.getOrElse({count:0,current:0})).view(({count:e,current:t})=>e>0&&i.createElement("span",{className:p.counter,key:"count"},t,"/",e))),i.createElement(o.a.Ghost,{className:p.roundButton,name:"search-prev",disabled:e.result.view(e=>e.filter(e=>1!==e.current).isEmpty()),onClick:()=>this._resultFunctionOrSelect(e=>e.prev())},i.createElement(s.d.Arrow,{className:p.lessIconUp})),i.createElement(o.a.Ghost,{className:p.roundButton,name:"search-next",disabled:e.result.view(e=>e.filter(e=>e.current!==e.count).isEmpty()),onClick:()=>this._resultFunctionOrSelect(e=>e.next())},i.createElement(s.d.Arrow,{className:p.lessIcon})),i.createElement(o.a.Ghost,{className:p.closeButton,name:"search-close",onClick:()=>e.visible.set(!1)},i.createElement(s.d.Close,null)))}}const m=({searchViewModel:e})=>i.createElement(a.a.div,{className:p.wrapper},e.visible.view(t=>t&&i.createElement(h,{searchViewModel:e})))},TRam:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("OA+g"),r=n("D9EC"),o=n("lrqh"),s=n("6fbX"),l=n("skHh"),c=n("fzZ3"),d=n("5VIZ");!function(e){function t(e){return t=>i.is(t)?e.checksBackend(t):u.is(t)?e.textView(t):p.is(t)?e.mpte(t):e.default(t)}let n,i,u,p;e.match=t,e.toShortString=e=>e.kind,function(t){t.is=e=>Object(r.p)(i.RevisionedMessage.is,u.RevisionedMessage.is)(e),t.toString=t=>`${e.toShortString(t)}\nrev: ${i.RevisionedMessage.is(t)?t.revision:t.forRevision}`}(n=e.RevisionedMessage||(e.RevisionedMessage={})),e.getRevision=Object(a.flow)(o.g.fromPredicate(n.is),o.g.map(e=>i.is(e)?e.revision:e.forRevision)),function(t){function n(e){return t=>s.is(t)?e.start(t):a.is(t)?e.ping(t):o.is(t)?e.pong(t):c.is(t)?e.stateDiff(t):u.is(t)?e.ack(t):p.is(t)?e.command(t):e.default(t)}let i,a,o,s,c,u,p,h;t.is=e=>e.kind.startsWith("ChecksBackend"),t.match=n,function(e){e.Start="ChecksBackend_Start",e.Ping="ChecksBackend_Ping",e.Pong="ChecksBackend_Pong",e.StateDiff="ChecksBackend_StateDiff",e.Ack="ChecksBackend_Ack",e.Reject="ChecksBackend_Reject",e.Command="ChecksBackend_Command"}(i=t.Kind||(t.Kind={})),function(t){t.is=e=>e.kind===i.Ping,t.create=e=>({id:e,kind:i.Ping,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.toShortString}(a=t.Ping||(t.Ping={})),function(t){t.is=e=>e.kind===i.Pong,t.create=e=>({id:e,kind:i.Pong,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.toShortString}(o=t.Pong||(t.Pong={})),function(t){t.is=e=>e.kind===i.Start,t.create=e=>({kind:i.Start,id:e,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.toShortString}(s=t.Start||(t.Start={})),function(t){t.is=e=>e.kind===i.StateDiff,t.create=(e,t,n,a="unknown")=>({id:e,revision:t,kind:i.StateDiff,diff:d.a.StateDiff.codec.encode(n),source:a,meta:{timestamp:(new Date).valueOf()}}),t.toString=t=>`${e.RevisionedMessage.toString(t)}\ndiff: ${d.a.StateDiff.JSON.show.show(t.diff)}`}(c=t.StateDiff||(t.StateDiff={})),function(t){t.is=e=>e.kind===i.Ack,t.create=(e,t)=>({kind:i.Ack,id:e,revision:t,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.RevisionedMessage.toString}(u=t.Ack||(t.Ack={})),function(n){let i;n.is=e=>e.kind===t.Kind.Command,function(i){i.is=e=>n.is(e)&&e.command===l.a.Kind.GetViewportAndRangeRect,i.create=(e,n,i)=>({kind:t.Kind.Command,command:l.a.Kind.GetViewportAndRangeRect,id:e,markId:i,revision:n,meta:{timestamp:(new Date).valueOf()}}),i.toString=t=>`${e.RevisionedMessage.toString(t)}\ncommand: ${t.command}\nmarkId: ${t.markId}`}(i=n.GetViewportAndRangeRect||(n.GetViewportAndRangeRect={})),n.toString=i.toString}(p=t.Command||(t.Command={})),function(e){e.is=e=>Object(r.p)(c.is,u.is)(e)}(h=t.RevisionedMessage||(t.RevisionedMessage={})),t.toString=n({start:s.toString,ping:a.toString,pong:o.toString,stateDiff:c.toString,ack:u.toString,command:p.toString,default:()=>"Unknown message"})}(i=e.ChecksBackend||(e.ChecksBackend={})),function(t){function n(e){return t=>a.is(t)?e.ping(t):o.is(t)?e.pong(t):u.is(t)?e.stateDiff(t):p.is(t)?e.ack(t):h.is(t)?e.ackStart(t):g.is(t)?e.ackCommand(t):m.is(t)?e.reject(t):f.is(t)?e.rejectCommand(t):b.is(t)?e.event(t):e.default(t)}let i,a,o,u,p,h,m,g,f,b,y;t.is=e=>e.kind.startsWith("TextView"),t.match=n,function(e){e.Ping="TextView_Ping",e.Pong="TextView_Pong",e.StateDiff="TextView_StateDiff",e.Ack="TextView_Ack",e.Reject="TextView_Reject",e.AckStart="TextView_AckStart",e.AckCommand="TextView_AckCommand",e.RejectCommand="TextView_RejectCommand",e.Event="TextView_Event"}(i=t.Kind||(t.Kind={})),function(t){t.is=e=>e.kind===i.Ping,t.create=e=>({kind:i.Ping,id:e,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.toShortString}(a=t.Ping||(t.Ping={})),function(t){t.is=e=>e.kind===i.Pong,t.create=e=>({kind:i.Pong,id:e,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.toShortString}(o=t.Pong||(t.Pong={})),function(t){t.is=e=>e.kind===i.StateDiff,t.create=(e,t,n,a="unknown")=>({id:e,forRevision:t,kind:i.StateDiff,diff:n,source:a,meta:{timestamp:(new Date).valueOf()}}),t.toString=t=>`${e.RevisionedMessage.toString(t)}\ndiff: ${d.a.StateDiff.JSON.show.show(t.diff)}`}(u=t.StateDiff||(t.StateDiff={})),function(t){t.is=e=>e.kind===i.Ack,t.create=(e,t)=>({kind:i.Ack,id:e,forRevision:t,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.RevisionedMessage.toString}(p=t.Ack||(t.Ack={})),function(t){t.is=e=>e.kind===i.AckStart,t.create=(e,t)=>({kind:i.AckStart,id:e,initialState:t,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.toShortString}(h=t.AckStart||(t.AckStart={})),function(t){let n,a;t.is=e=>e.kind===i.Reject,t.create=function(e,t,a,r){switch(a){case n.HAS_DIRTY_STATE:case n.WAITING_FOR_ACK:return{id:e,forRevision:t,kind:i.Reject,reason:a,diff:r,meta:{timestamp:(new Date).valueOf()}};case n.INVALID_STATE_DIFF:case n.WRONG_REVISION:return{id:e,forRevision:t,kind:i.Reject,reason:a,meta:{timestamp:(new Date).valueOf()}};default:return Object(s.d)(a)}},t.isRecoverable=e=>e.reason===n.HAS_DIRTY_STATE||e.reason===n.WAITING_FOR_ACK,t.toString=t=>`${e.RevisionedMessage.toString(t)}\nreason: ${t.reason}\n${a.is(t)?d.a.StateDiff.JSON.show.show(t.diff):""}`,function(e){e.HAS_DIRTY_STATE="HAS_DIRTY_STATE",e.WAITING_FOR_ACK="WAITING_FOR_ACK",e.WRONG_REVISION="WRONG_REVISION",e.INVALID_STATE_DIFF="INVALID_STATE_DIFF"}(n=t.Reason||(t.Reason={})),function(e){e.is=e=>e.reason===n.HAS_DIRTY_STATE||e.reason===n.WAITING_FOR_ACK}(a=t.Recoverable||(t.Recoverable={}))}(m=t.Reject||(t.Reject={})),function(n){let i;n.is=e=>e.kind===t.Kind.AckCommand,function(i){i.is=e=>n.is(e)&&e.command===l.a.Kind.GetViewportAndRangeRect,i.create=(e,n,i)=>({command:l.a.Kind.GetViewportAndRangeRect,kind:t.Kind.AckCommand,id:e,forRevision:n,rangeRect:i,meta:{timestamp:(new Date).valueOf()}}),i.toString=t=>`${e.RevisionedMessage.toString(t)}\ncommand: ${t.command}\nrangeRect: ${JSON.stringify(t.rangeRect)}`}(i=n.GetViewportAndRangeRect||(n.GetViewportAndRangeRect={})),n.toString=i.toString}(g=t.AckCommand||(t.AckCommand={})),function(n){let i;n.is=e=>e.kind===t.Kind.RejectCommand,function(i){let a;!function(e){e.HAS_DIRTY_STATE="HAS_DIRTY_STATE",e.WAITING_FOR_ACK="WAITING_FOR_ACK",e.WRONG_REVISION="WRONG_REVISION",e.MARK_NOT_EXIST="MARK_NOT_EXIST"}(a=i.Reason||(i.Reason={})),i.is=e=>n.is(e)&&e.command===l.a.Kind.GetViewportAndRangeRect,i.create=(e,n,i)=>({command:l.a.Kind.GetViewportAndRangeRect,kind:t.Kind.RejectCommand,id:e,forRevision:n,reason:i,meta:{timestamp:(new Date).valueOf()}}),i.toString=t=>`${e.RevisionedMessage.toString(t)}\ncommand: ${t.command}\nreason: ${t.reason}`}(i=n.GetViewportAndRangeRect||(n.GetViewportAndRangeRect={})),n.toString=i.toString}(f=t.RejectCommand||(t.RejectCommand={})),function(e){let n;e.is=e=>e.kind===t.Kind.Event,function(t){t.create=(e,t)=>({kind:i.Event,event:c.a.Kind.MarkHovered,id:e,markId:t,meta:{timestamp:(new Date).valueOf()}}),t.is=t=>e.is(t)&&t.event===c.a.Kind.MarkHovered,t.toString=e=>`event: ${e.event}\nmarkId: msg.markId}`}(n=e.MarkHovered||(e.MarkHovered={})),e.toString=n.toString}(b=t.Event||(t.Event={})),function(e){e.is=e=>Object(r.p)(u.is,p.is,m.is,g.is,f.is)(e)}(y=t.RevisionedMessage||(t.RevisionedMessage={})),t.toString=n({ping:a.toString,pong:o.toString,stateDiff:u.toString,ack:p.toString,ackStart:h.toString,ackCommand:g.toString,reject:m.toString,rejectCommand:f.toString,event:b.toString,default:()=>"Unknown message"})}(u=e.TextView||(e.TextView={})),function(t){let n,i,a;function r(e){return t=>i.is(t)?e.restartComplete(t):a.is(t)?e.rejectCommand(t):e.default(t)}!function(e){e.RejectCommand="MPTE_RejectCommand",e.RestartComplete="MPTE_RestartComplete"}(n=t.Kind||(t.Kind={})),t.is=e=>e.kind.startsWith("MPTE"),t.match=r,function(t){t.is=e=>e.kind===n.RestartComplete,t.create=e=>({kind:n.RestartComplete,id:e,meta:{timestamp:(new Date).valueOf()}}),t.toString=e.toShortString}(i=t.RestartComplete||(t.RestartComplete={})),function(i){let a;!function(e){e.REBASE_FAILURE="REBASE_FAILURE"}(a=i.Reason||(i.Reason={})),i.is=e=>e.kind===n.RejectCommand,i.create=(e,n)=>({command:l.a.Kind.GetViewportAndRangeRect,kind:t.Kind.RejectCommand,id:e,reason:n,meta:{timestamp:(new Date).valueOf()}}),i.toString=t=>`${e.toShortString(t)}\ncommand: ${t.command}\nreason: ${t.reason}`}(a=t.RejectCommand||(t.RejectCommand={})),t.toString=r({restartComplete:i.toString,rejectCommand:a.toString,default:t=>"Unknown message. "+e.toShortString(t)})}(p=e.MPTE||(e.MPTE={})),e.isAcceptableOnWaitForAck=Object(r.p)(u.Ack.is,u.AckStart.is,u.Reject.is,u.AckCommand.is,u.RejectCommand.is,p.RestartComplete.is),e.toString=t({checksBackend:i.toString,textView:u.toString,mpte:p.toString,default:t=>"Unknown message. "+e.toShortString(t)})}(i||(i={}))},TeUQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("ERkP"),a=n("9NHN"),r=n("BugA"),o=n("e12y"),s=n("HUX/"),l=n("ax6a"),c=n("x98X"),d=n.n(c),u=n("ev6t");const p=({title:e,onClick:t})=>{const n=Object(s.b)({layoutDensity:"minimal"});return i.createElement("div",Object.assign({},Object(a.c)(n.container,h.container),{onClick:t}),i.createElement("div",{className:n.wrapper},i.createElement(r.a,{className:h.label},i.createElement("img",{className:u.a.titleIcon,src:d.a}),e)))},h=o.a.prefixedStylesheet("draft_ai_mini_card",{label:[{color:l.a.CoreNeutral90,textOverflow:"ellipsis",position:"relative",lineHeight:o.a.rem(2),marginLeft:o.a.rem(1),userSelect:"none"}],container:[{cursor:"pointer"}]})},UAG8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("OA+g"),r=n("LNSM"),o=n("FiSa"),s=n("zR/0"),l=n("lrqh"),c=n("PrA7"),d=n("QKlB"),u=n("skHh"),p=n("xN5S"),h=n("0LFZ"),m=n("yzK/");!function(e){e.initState=function(e,t=l.g.none){const n=c.Monitoring.Logging.getLogger("ChecksBackend"),i=r.a.create(h.a.empty(t));return n.isEnabled(c.Logging.LogLevel.DEBUG)&&i.subscribe(e=>n.debug("state changed to",e)),{state:i,getTextLength:()=>i.get().textState.length,getContents:()=>o.a.delta(i.get().textState.delta.slice()),getContentsBySelection:e=>{const t=i.get().textState;return Object(a.pipe)(e,e=>e.index>t.length||e.index+e.length>t.length?l.b.left(new p.a.IncorrectTextLenError(`can not apply selection: ${JSON.stringify(e)} on document with length: ${t.length}`)):l.b.right(e),l.b.map(e=>t.delta.slice(e.index,e.index+e.length)),l.b.map(o.a.delta))},getSelection:()=>i.get().selectionState,getMarkByAlert:e=>d.a.getMarkByAlert(i.get().marksState,e),getAlertByMark:e=>d.a.getAlertByMark(i.get().marksState,e),getMarks:Object(a.flow)(l.b.fromPredicate(e=>e.index>0&&e.index+e.length<i.get().textState.length,e=>new p.a.SelectionOutOfBoundError(JSON.stringify(e))),l.b.map(e=>d.a.getMarksBySelection(i.get().marksState,e))),getRect:Object(a.flow)(u.a.GetViewportAndRangeRect.create,e.pushCommand)}},e.createDiffProducer=function(e,t,n,i){return({externalStateDiffs:a,textViewEvents:r,initialState:o,restart:l})=>{const c=i(a,r,l);return m.b.create(c,e,o,n,t).pipe(s.a.concatMap(e=>s.a.of(e)),s.a.map(e=>{const[n,i]=e.change(t.state.get());return t.state.set(i),{diff:n,source:e.source}}))}}}(i||(i={}))},Uwwq:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("a5W6"),r=n("BbAu"),o=n("OA+g"),s=n("I7vG"),l=n("LNSM"),c=n("94k3"),d=n("lrqh"),u=n("D9EC"),p=n("PrA7"),h=n("dE97"),m=n("zR/0"),g=n("GGUR"),f=n("gy42"),b=n("9ZtS");!function(e){let t,n,i;!function(e){let t;!function(e){e.ord=d.h.ordString,e.show=r.e,e.create=e=>e}(t=e.Id||(e.Id={})),e.isSpecial=e=>Object.values(c.a.MutedAlerts.SpecialCategory).includes(e),e.specialCategoryDescription="Special category"}(t=e.Category||(e.Category={})),function(e){e.filter=e=>d.e.filter(t=>e(t.id)),e.filterWithCount=(e,t)=>n=>{const i=Array.from(n.keys()),a=b.a.getAlerts(t,i).byCategory;return Object(s.pipe)(n,d.e.filterMap(t=>e(t.id)?d.g.some(Object.assign(Object.assign({},t),{alertsCount:a.get(t.id).filter(h.a.isRegistered).length})):d.g.none))}}(n=e.BaseMutedCategories||(e.BaseMutedCategories={})),function(e){let i,r;!function(e){let t;!function(e){e.CategoriesChanged="CategoriesChanged"}(t=e.Type||(e.Type={})),e.isChangedEvent=function(e){return e.type===t.CategoriesChanged}}(i=e.Events||(e.Events={})),e.create=function(e,r,u,y,v){const k=p.Monitoring.Logging.getLogger("MutedAlertsModel"),w=l.a.create(new Map),S=new m.a.Subject,_=new g.a.Keeper;return _.push(e.pipe(m.a.filter(c.a.CAPIEvent.is("session_started")),m.a.map(e=>(function(e){const t=e.map(e=>[e.userMuteCategory,{id:e.userMuteCategory,description:e.userMuteCategoryDescription,scope:e.userMuteScope}]);return new Map(t)})(e.userMutedCategories)),m.a.tap(f.b.toAtom(w)),m.a.tap(()=>S.next({type:i.Type.CategoriesChanged}))).subscribe(),w.pipe(m.a.pairwise(),m.a.map(([e,n])=>(function(e,n){return{muted:d.e.diffKeys(t.Id.ord)(e,n),unmuted:d.e.diffKeys(t.Id.ord)(n,e)}})(e,n)),m.a.map(function(e){return({muted:t,unmuted:n})=>({toMute:b.a.getAlerts(e,t).all.filter(e=>e.mute!==h.a.MuteStateType.Muted),toUnmute:b.a.getAlerts(e,n).all.filter(e=>e.mute!==h.a.MuteStateType.Unmuted)})}(u)),m.a.tap(({toMute:e,toUnmute:t})=>{e.length>0&&y.changeMuteState(e,h.a.MuteStateType.Muted),t.length>0&&y.changeMuteState(t,h.a.MuteStateType.Unmuted)})).subscribe()),{events:S,mutedCategories:w,muteCategories:e=>{Object(s.pipe)(r.sendFeedback({kind:c.a.MutedFeedbackType.MUTE,userMuteScope:v,userMuteCategories:e}),d.l.mapLeft(e=>{k.warn("Alerts could not be muted on CAPI",e)}))();const n=b.a.getAlerts(u,e);0===n.all.filter(e=>e.mute!==h.a.MuteStateType.Muted).length&&k.warn("No alerts were muted on category mute",{categoryIds:e});const o=function(e,n,i){return r=>{const o=new Map(r);return e.forEach((e,r)=>{t.isSpecial(r)?o.set(r,{id:r,scope:n,description:t.specialCategoryDescription}):Object(s.pipe)(a.lookup(0,e),d.g.chain(e=>e.muteCategory),d.g.fold(()=>i.error("No alerts to mute",r),e=>o.set(r,{id:e.id,description:e.description,scope:n})))}),o}}(n.byCategory,v,k)(w.get());return w.set(o),S.next({type:i.Type.CategoriesChanged}),d.b.right(void 0)},unmuteCategories:e=>{return Object(s.pipe)(r.sendFeedback({kind:c.a.MutedFeedbackType.UNMUTE,userMuteScope:v,userMuteCategories:e}),d.l.mapLeft(e=>{k.warn("Alerts could not be un-muted on CAPI",e)}))(),0===b.a.getAlerts(u,e).all.filter(e=>e.mute!==h.a.MuteStateType.Unmuted).length&&k.warn("No alerts were unmuted on category unmute",{categoryIds:e}),w.modify(function(e,t){return n=>{const i=new Map(n);return e.forEach(e=>{n.has(e)?i.delete(e):t.error("Tried to unmute a category which is not muted",e)}),i}}(e,k)),S.next({type:i.Type.CategoriesChanged}),d.b.right(void 0)},getMutedCategories:()=>Object(s.pipe)(w.get(),n.filterWithCount(Object(o.not)(t.isSpecial),u)),getMutedSpecialCategories:()=>Object(s.pipe)(w.get(),n.filter(t.isSpecial)),loadCachedMutedCategories:e=>{w.set(e)},dispose:()=>_.dispose()}},function(e){e.create=function(){return{events:m.a.EMPTY,mutedCategories:l.a.create(new Map),getMutedCategories:()=>new Map,getMutedSpecialCategories:()=>new Map,muteCategories:e=>d.b.right(void 0),unmuteCategories:e=>d.b.right(void 0),loadCachedMutedCategories:u.e,dispose:u.e}}}(r=e.Mock||(e.Mock={}))}(i=e.CategoriesModel||(e.CategoriesModel={}))}(i||(i={}))},VRL6:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("ERkP"),a=n("hoSD"),r=n("ax6a"),o=n("e12y"),s=n("rk+4"),l=n("3rlE"),c=n("Z5Rd"),d=n("o79T");const u=(e,t)=>{switch(e.kind){case"ignore":return"Dismissed";case"ignoreAll":return i.createElement(i.Fragment,null,i.createElement("span",null,e.alerts)," ",a.f.pluralize(e.alerts,"alert has been","alerts have been")," dismissed");case"replace":return"Corrected";case"replaceSynonym":return"Replaced";case"replaceTransform":return i.createElement(i.Fragment,null,e.transform);case"addToDictionary":return i.createElement(i.Fragment,null,i.createElement("b",{className:t&&t.addToDictionary},e.word)," has been added to dictionary");case"report":return"Your report has been sent";case"markAsHelpful":return"Marked as “Will address”";case"markAsNotHelpful":return"Marked as “Not helpful”";case"acknowledge":return"Acknowledged";default:return""}},p={display:"flex",marginTop:o.a.rem(-1.1),marginBottom:o.a.rem(-.5),alignItems:"center",justifyContent:"space-between"},h={marginTop:o.a.rem(.6),marginRight:o.a.rem(1),color:r.a.CoreNeutral0,flexGrow:0,flexShrink:0},m={marginTop:o.a.rem(-.25),paddingRight:o.a.rem(.5),minWidth:"auto",minHeight:"auto",justifyContent:"space-between"},g={marginTop:o.a.rem(.6),maxWidth:o.a.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1},f={marginRight:o.a.rem(1.4)},b=o.a.stylesheet({alertUndoWrapper:[p],alertUndoWrapperFlexible:[p,{flexWrap:"nowrap"}],alertUndoWrapperFullWidth:[p,{flexWrap:"wrap"}],alertUndoBtn:[h],alertUndoIcon:[m],alertUndoContent:[g],alertUndoContentFlexible:[g,f],addToDictionary:[{wordBreak:"break-all"}]});var y;!function(e){const t={wrapper:b.alertUndoWrapperFlexible,content:b.alertUndoContent,icon:b.alertUndoIcon,button:b.alertUndoBtn};e.Standard=({action:n,params:a})=>i.createElement(c.b.Content,null,i.createElement(e.Content,{action:n,content:u(a),theme:Object.assign(Object.assign({},t),{wrapper:b.alertUndoWrapperFullWidth})})),e.Flexible=({notification:n,onClose:a,action:r,params:o})=>i.createElement(c.a.Wrapper,{notification:n,onClose:a},i.createElement(c.b.Content,null,i.createElement(e.Content,{action:r,content:u(o,{addToDictionary:b.addToDictionary}),theme:Object.assign(Object.assign({},t),{wrapper:b.alertUndoWrapperFlexible,content:b.alertUndoContentFlexible})}))),e.Content=({action:e,content:n,theme:a=t})=>{const r=i.useContext(s.a.Context);return i.createElement("div",{className:a.wrapper},i.createElement("div",{className:a.content},n),i.createElement(d.a,{name:"alertUndoButton",className:a.button,onClick:e},i.createElement(l.d.Undo,{className:a.icon}),r.undo))}}(y||(y={}))},"VfH/":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return b}));var i,a=n("I7vG"),r=n("LNSM"),o=n("+JVj"),s=n("GGUR"),l=n("zR/0"),c=n("gy42"),d=n("XpkH"),u=n("vVVP"),p=n("BeBM"),h=n("Y8lK"),m=n("n61d"),g=n("6fbX"),f=n("lrqh");!function(e){let t;!function(e){e.immediately="immediately",e.asap="asap",e.low="low"}(t=e.Priority||(e.Priority={}))}(i||(i={}));class b{constructor(e,t){this._state=e,this._getActiveItemWithAlert=t,this._lockMarkUpdate=r.a.create(!1),this._subs=new s.a.Keeper,this._alertsChangeWorker=new h.a(this._renderMarks,new m.a.LazyPredicateUniq(d.a.isPending),this._asyncRunner(this._lockMarkUpdate,l.a.timer(50))),this._asapAlertsChangeWorker=new h.a(this._renderMarks,new m.a.LazyPredicateUniq(d.a.isPending),this._asyncRunner(this._lockMarkUpdate,c.b.Scheduler.inRaf(l.a.of(!0)))),this._subs.push(this._listenFocusedMark())}enqueue(e,t){switch(t){case i.Priority.immediately:e.forEach(e=>e.apply());break;case i.Priority.asap:this._asapAlertsChangeWorker.put(e);break;case i.Priority.low:this._alertsChangeWorker.put(e);break;default:Object(g.d)(t)}}flush(){return this._asapAlertsChangeWorker.flush(),this._alertsChangeWorker.flush(),Promise.resolve()}dispose(){this._subs.dispose(),this._alertsChangeWorker.shutdown(),this._asapAlertsChangeWorker.shutdown()}_renderMarks(e){const[t,...n]=e.filter(d.a.isPending);Boolean(t)&&t.applyWith(n)}_asyncRunner(e,t){return n=>e.pipe(l.a.switchMap(c.b.orEmptyRight(t)),l.a.first()).subscribe(n)}_listenFocusedMark(){return this._state.view(p.e.getActiveAlert(this._getActiveItemWithAlert)).subscribe(e=>{const t=Object(a.pipe)(e,f.g.map(e=>e.getHighlightRanges()[0]),f.g.getOrElse(()=>o.b.empty));this._alertsChangeWorker.order(u.a.compareTo(t))})}}},VwWj:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return m}));var i,a=n("6fbX"),r=n("GUi3"),o=n("BeBM"),s=n("bFfh");!function(e){e.compose=function(e){return t=>o.a.compose(e.map(e=>e(t)))},e.map=function(e,t){return n=>t(e(n))}}(i||(i={}));const l=(e,t)=>n=>{if(r.a.isOutcomeId(n))return s.a.WithSuccess.getAlertHandler(e,t);switch(n){case r.a.SpecialId.Premium:return s.a.Premium.getAlertsHandler(e,t);case r.a.SpecialId.AllAlerts:case r.a.SpecialId.Priority:case r.a.SpecialId.PredictionTakeaways:case r.a.SpecialId.PredictionEmogenie:case r.a.SpecialId.RealTimeProofit:case r.a.SpecialId.FreePremiumAlerts:return s.a.WithSuccess.getAlertHandler(e,t);default:return Object(a.d)(n)}},c=(e,t,n)=>i=>i===r.a.SpecialId.Plagiarism?s.a.Plagiarism.getAlertsHandler(t):l(e,n)(i),d=(e,t,n,i,a)=>r=>n(r)?s.a.WithBundles.getAlertsHandler(e,t,a):i(r);class u{constructor(e,t,n){this._inner=e,this._itemEq=t,this._itemsOrd=n}create(e,t){return r.a.isOutcomeId(e)||r.a.isAllAlerts(e)?s.a.WithPriority.create(e,t,this._itemEq,this._itemsOrd):this._inner.create(e,t)}}class p{constructor(e,t,n,i){this._lensPredicate=e,this._inner=t,this._itemEq=n,this._itemOrd=i}create(e,t){return this._lensPredicate(t)?s.a.WithBundles.create(e,t,this._itemEq,this._itemOrd):this._inner.create(e,t)}}class h{constructor(e,t,n){this._inner=e,this._itemEq=t,this._itemOrd=n}create(e,t){return e===r.a.SpecialId.Plagiarism?s.a.Plagiarism.create(t,this._itemEq,this._itemOrd):this._inner.create(e,t)}}class m{constructor(e,t){this._itemEq=e,this._itemOrd=t}create(e,t){const n=()=>s.a.WithSuccess.create(e,t,this._itemEq,this._itemOrd);if(r.a.isOutcomeId(e))return n();switch(e){case r.a.SpecialId.Premium:return s.a.Premium.create(t,this._itemEq,this._itemOrd);case r.a.SpecialId.AllAlerts:case r.a.SpecialId.Priority:case r.a.SpecialId.PredictionTakeaways:case r.a.SpecialId.PredictionEmogenie:case r.a.SpecialId.RealTimeProofit:case r.a.SpecialId.FreePremiumAlerts:return n();default:return Object(a.d)(e)}}}},Wcgi:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("mbuk");!function(e){let t;!function(e){let t;!function(e){e.full="full",e.partial="partial"}(t=e.RemoveType||(e.RemoveType={})),e.getCreateAction=function(e){return t=>({id:t,action:a.a.Change.ActionType.create,meta:e})},e.getUpdateAction=function(e){return t=>({id:t,action:a.a.Change.ActionType.update,meta:e})},e.getRemoveAction=function(e,n=t.full){return t=>({id:t,action:a.a.Change.ActionType.remove,meta:{range:e.range,removeType:n}})},e.addRange=function(e){return Object.assign(Object.assign({},e),{range:e.meta.range()})},e.useRange=function(e,t){return Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{range:()=>t})})}}(t=e.Change||(e.Change={}))}(i||(i={}))},XBrO:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("ERkP"),a=n("rk+4"),r=n("bO3R"),o=n("D6Vf"),s=n("BugA"),l=n("gOzB");const c=()=>i.createElement("svg",{width:"31",height:"13",viewBox:"0 0 31 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M1 6.5H30M30 6.5L24.5 1M30 6.5L24.5 12",stroke:"#0E101A",strokeLinecap:"round"}));var d=n("a0Ed"),u=n("m71o");const p=({current:e})=>i.createElement("div",{className:u.plan},i.createElement(s.g,{className:u.planTitle},e.title),i.createElement(s.a,null,i.createElement(d.a,Object.assign({},e.regularPriceMoney,{periodInMonths:e.periodMonths})),i.createElement("div",{className:u.subMonthlyPrice},i.createElement(d.b,Object.assign({},e.regularPriceMoney,{periodInMonths:e.periodMonths}))))),h=({offer:e,saved:t})=>{const n=i.useContext(a.a.Context).changePlan;return i.createElement("div",{className:u.plan},i.createElement(s.g,{className:u.planTitle},e.title),i.createElement(s.a,null,i.createElement(d.a,Object.assign({},e.regularPrice,{periodInMonths:e.periodInMonths}))," ",i.createElement(l.a.Regular,{className:u.badge},n.savedBadge(t.percent)),i.createElement("div",{className:u.subMonthlyPrice},i.createElement(d.b,Object.assign({},e.regularPrice,{periodInMonths:e.periodInMonths})))))},m=({current:e,offer:t,saved:n})=>i.createElement("div",{className:u.offer},i.createElement(p,{current:e}),i.createElement("div",{className:u.arrow},i.createElement(c,null)),i.createElement(h,{offer:t,saved:n})),g=e=>{const t=i.useContext(a.a.Context).changePlan,n=i.useContext(o.a.TitleIdContext);return i.createElement(s.d,{id:n},t.title(i.createElement(d.a,Object.assign({},e.savedPrice.pricePerYear,{periodInMonths:12}))))},f=({changePlanViewModel:{currentPlan:e,offer:t,savedPrice:n,nextPaymentDate:l,changePlan:c,close:p}})=>{const h=i.useContext(a.a.Context).changePlan;return i.createElement(o.a,{className:u.wrapper},i.createElement(o.a.Header,{className:u.header},i.createElement(g,{savedPrice:n})),i.createElement(o.a.Body,{name:"change.plan.body",className:u.content},i.createElement(i.Fragment,null,i.createElement(m,{current:e,offer:t,saved:n}),i.createElement(s.h,null,h.confirmationDescription(e.title,l,i.createElement(d.c,Object.assign({},t.price)),i.createElement(d.c,Object.assign({},t.regularPrice)),t.periodInMonths)))),i.createElement(o.a.Footer,null,i.createElement(r.a.Ghost,{name:"modal.cancel",onClick:p},h.cancelButton),i.createElement(r.a.Primary,{name:"confirm.change.to.annual",onClick:c},h.confirmationButton(t.title))))}},Xojx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("f9Xq"),r=n("91hE"),o=n("OA+g"),s=n("LNSM"),l=n("zR/0"),c=n("lrqh"),d=n("D9EC"),u=n("6fbX"),p=n("hoSD"),h=n("PrA7"),m=n("GUi3"),g=n("dE97"),f=n("IyPE"),b=n("yA7V"),y=n("UEGg"),v=n("O6HF"),k=n("+w1e"),w=n("YJiV"),S=n("BeBM"),_=n("bFfh"),C=n("GGUR"),E=n("K4Sz"),O=n("TC4P"),A=n("mLF+"),x=n("E0zP");!function(e){function t(t){return t.id===e.id}let n,i,T;function M(e){switch(e){case m.a.Type.Critical:case m.a.Type.Correctness:return a.a.Color.CoreRed50;case m.a.Type.Clarity:return a.a.Color.CoreBlue50;case m.a.Type.Engagement:return a.a.Color.CoreGreen60;case m.a.Type.Delivery:return a.a.Color.CorePurple40;case m.a.Type.Vox:return a.a.Color.CoreNeutral50;case m.a.Type.Plagiarism:return a.a.Color.CoreCyan50;case m.a.Type.Advanced:case m.a.Type.Other:return;default:return Object(u.d)(e)}}e.id="UpgradeHookId",e.Kind="UpgradeHook",e.eq={equals:(e,t)=>c.c.eqString.equals(e.id,t.id)&&x.a.eq.equals(e,t)&&A.a.eq.equals(e,t)},e.isUpgradeHookItem=t,function(e){e.create=e=>{const t=w.a.getCreate((e,t)=>i.createItem(e,t),c.g.none,i.changeVisualState,()=>l.a.of(c.g.none),e);return{createAdded:e=>(n,i)=>{const a=O.a.VisualState.initial({type:"added",clockwise:!0},!0);return t(n,i,0,0,v.a.empty(void 0),e,c.g.some(a))}}}}(n=e.ItemFactory||(e.ItemFactory={})),function(t){t.createItem=(t,n)=>Object.assign({kind:e.Kind,id:t,activeAlert:n.alerts[0],cardDSL:c.g.none,prevCardDSL:c.g.none,transitions:[],equals(t){return e.eq.equals(this,t)},hashCode(){return x.a.hashCode(Object.assign(Object.assign({},this),{userInput:c.g.none}))},groupedAlerts:e.getGroupedLiteAlerts(n.alertModels)},n);const n=O.a.Capabilities.getPojoUpdates(),i=x.a.Capabilities.getPojoUpdates(),a=A.a.Capabilities.getPojoUpdates();t.updateSDUIState=a.setSDUIState,t.changeVisualState=w.a.getChangeVisualState(n.setVisualState,o.identity),t.changePosition=n.setPosition,t.transitionTo=w.a.getTransitionTo(t.changeVisualState,t.changePosition);const r=A.a.Capabilities.getCompleteTransition(t.updateSDUIState);t.animatable={completeTransition:e=>n=>Object(o.pipe)(n,t.changeVisualState(O.a.VisualState.complete(n.visualState,e)),r),transitionTo:t.transitionTo,changeVisualState:t.changeVisualState},t.updateAlerts=i.setAlerts,t.sduiSelect=A.a.Capabilities.getSelect(t.updateSDUIState),t.select={selectByAlert:()=>o.identity,select:(e,n,i)=>a=>Object(o.pipe)(a,w.a.getSelectItem(t.changeVisualState,t.changePosition)(e,n),t.sduiSelect(e,i)),unselect:w.a.getUnselectItem(t.changeVisualState,t.changePosition)},t.remove={remove:(e,n)=>i=>e(i)?t.transitionTo({type:"removed",clockwise:n(i)})(i):i}}(i=e.Capabilities||(e.Capabilities={})),function(e){let t;!function(e){e.empty={onShowUpgradeHook:o.constVoid,onOpenUpgradeUrl:o.constVoid,onDismissUpgradeHook:o.constVoid}}(t=e.EventHandlers||(e.EventHandlers={}));e.UpgradeHookItemViewModelImpl=class{constructor(e,t,n,i,a){this._subs=new C.a.Keeper,this.events=new l.a.Subject,this.upgradeHookDismissed=s.a.create(!1),this._subs.push(this.events.subscribe(n=>{"showedUpgradeHook"===n.type?a.onShowUpgradeHook():(k.b.isSDUICardAction(n)&&n.actions.some(e=>"upgradeToPremium"===e.type)&&(t.openUpgradeUrl(i),a.onOpenUpgradeUrl()),k.b.isSDUICardAction(n)&&n.actions.some(e=>"removeCard"===e.type)&&(this.upgradeHookDismissed.set(!0),a.onDismissUpgradeHook()),e.actionEvents.next(n))})),this._subs.push(n.subscribe(()=>{this.upgradeHookDismissed.set(!1)}))}dispose(){this._subs.dispose()}}}(T=e.ViewModel||(e.ViewModel={})),e.getPremiumAlerts=(e,t)=>l.a.combineLatestStatic([t.view("currentLens").view("id").view(m.a.isPriority).view(e=>e?e=>g.a.isRegistered(e)&&g.a.isPremium(e)&&g.a.isPriority(e):e=>g.a.isRegistered(e)&&g.a.isPremium(e)),e]).pipe(l.a.map(([e,t])=>b.a.reduce([],(t,{alert:n})=>(Boolean(e(n))&&t.push(n),t))(t))),e.getGroupedLiteAlerts=e=>f.a.group(e.map(e=>e.toLiteAlert())),e.formatLiteAlerts=(e,t=5)=>{const n=e.slice(0,t),i=e.slice(t).map(e=>e.count).reduce(d.s,0);return i>0?[...n,{group:"",category:"",categoryHuman:"more...",count:i,lensName:"more...",bundleInfo:c.g.some("more...")}]:n},e.groupPremiumAlerts=e=>Object.values(e.reduce((e,t)=>{const n=t.lensType;return null!=e[n]?e[n]=Object.assign(Object.assign({},e[n]),{lensNames:c.a.uniq(c.c.eqStrict)([...e[n].lensNames,t.lensName]),alertsCount:e[n].alertsCount+1}):e[n]={lensNames:[t.lensName],lensType:t.lensType,alertsCount:1},e},{})),e.SDUICard=e=>{const t=e.map(e=>{var t;return r.i.create([{type:"block",fraction:1,horizontalAlign:a.a.HorizontalAlign.Center,name:"counter",parts:[r.f.create(e.alertsCount.toString(),null!==(t=M(e.lensType))&&void 0!==t?t:a.a.Color.CoreNeutral50)]},{type:"block",fraction:11,name:"alertGroup",parts:[r.k.create(p.f.capitalize(e.lensType),a.a.TextSize.Regular,[],a.a.Color.CoreNeutral90,void 0,void 0),r.k.create(` · ${e.lensNames.join(", ")}`,a.a.TextSize.Regular,[],a.a.Color.CoreNeutral50,void 0,void 0)]}],[],r.j.create("0.5","0.25","0.25","0.75"))});return r.e.create([r.i.create([r.c.create("title",void 0,void 0,r.k.create("Premium suggestions available:",a.a.TextSize.Regular,[a.a.TextFormat.Bold],a.a.Color.CoreNeutral90,void 0,void 0))],[r.c.create("right-top-buttons",void 0,void 0,r.d.createIcon("feedback",r.g.Source.createKnown(a.a.IconKnownName.Feedback),[{type:"openFeedback"}],a.a.ButtonKind.Secondary,"Provide feedback"),r.d.createIcon("settings",r.g.Source.createKnown(a.a.IconKnownName.Gear),[{type:"openSettings"}],a.a.ButtonKind.Secondary,"Options"),r.d.createIcon("close",r.g.Source.createKnown(a.a.IconKnownName.Close),[{type:"closeCard"}],a.a.ButtonKind.Secondary,"Close panel"))],r.j.create("0.75","0.25","0.5","0.75")),r.c.create("content",void 0,void 0,...t),r.i.create([{type:"button",id:"goPremium",name:"goPremium",actions:[{type:"upgradeToPremium"}],kind:a.a.ButtonKind.Primary,state:a.a.ButtonState.Enabled,label:Object.assign(Object.assign({},r.c.create("",r.j.create("0","0.5","0","0.25"),{horizontal:a.a.Space.D025,vertical:a.a.Space.D025},r.g.create(r.g.Source.createKnown(a.a.IconKnownName.Diamond),void 0),r.k.create("Unlock Premium",a.a.TextSize.Regular,[],a.a.Color.CoreNeutral0,void 0,void 0))),{verticalAlign:a.a.VerticalAlign.Middle})},{type:"button",id:"dismiss",name:"dismiss",actions:[{type:"removeCard"}],kind:a.a.ButtonKind.Secondary,state:a.a.ButtonState.Enabled,label:r.c.create("",r.j.create("0","0.5","0","0.5"),{horizontal:a.a.Space.D025,vertical:a.a.Space.D0},r.k.create("Dismiss",a.a.TextSize.Regular,[],a.a.Color.CoreNeutral50,void 0,void 0))}],[r.c.create("navigation-arrows",void 0,void 0,r.d.createIcon("prev",r.g.Source.createKnown(a.a.IconKnownName.ArrowLeft),[{type:"prevCard"},{type:"transition",fromName:"content",toName:"content",animateFrom:a.a.AnimationName.SlideRight,animateTo:a.a.AnimationName.SlideRight},{type:"transition",fromName:"title",toName:"title",animateFrom:a.a.AnimationName.SlideRight,animateTo:a.a.AnimationName.SlideRight}],a.a.ButtonKind.Secondary,"Previous suggestion"),r.d.createIcon("next",r.g.Source.createKnown(a.a.IconKnownName.ArrowRight),[{type:"nextCard"}],a.a.ButtonKind.Secondary,"Next suggestion"))],r.j.create("0.5","0.25","1","0.75"))])};const j=Object(d.l)(h.Monitoring.Logging.getLogger);e.getSideEffect=(a,r,s,d,u,p=n.create(u),h=Object(o.flow)(e.groupPremiumAlerts,e.SDUICard))=>{const g=j("UpgradeHook.sideEffect"),f=S.e.Prism.getLensWithItems().compose(_.a.Prism.getFeedItems()),b=r.pipe(l.a.map(e=>e.currentLens.id),l.a.distinctUntilChanged());return{id:"upgradeHookEffect",when:m.a.isWithAlertsId,what:S.e.Effect.ItemsApplicator.create(Object(o.pipe)(l.a.combineLatestStatic([a,b]),l.a.map(([n])=>a=>{const r=E.a.find(a.currentLens.items,t);if(s.get())return a;if(0===n.length)return c.g.isSome(r)?(g.trace("no more premium alerts, removing UpgradeHook item from the current lens"),f.set(a.currentLens.items.remove(e.id),a)):a;let l,u=a;return c.g.isNone(r)?(g.trace("premium alerts found, adding upgrade hook item to lens state",n),l=Object(o.pipe)(p.createAdded(a.currentLens.id)(e.id,n),e=>i.updateSDUIState(c.g.some(h(e.alerts)),c.g.none,[])(e)),u=f.set(a.currentLens.items.add(l),a)):l=c.g.unsafeGet(r).value,(1===(u=Object(o.pipe)(i.updateAlerts(Object(o.pipe)(n,c.a.map(y.a.fromModel)),e.getGroupedLiteAlerts(n))(l),e=>a.currentLens.items.add(e),e=>f.set(e,u))).currentLens.items.size||m.a.isPremiumId(u.currentLens.id))&&(g.trace("auto focusing upgrade hook item"),u=S.e.Prism.getLensWithItems().modify(d.selectItemById(e.id,[]),u)),u})))}}}(i||(i={}))},XpkH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l}));var i,a,r,o=n("m6JR"),s=n("dE97");function l(e){return e.from.visualState===r.initial||e.from.visualState===r.hidden||e.to.visualState===r.highlighted}!function(e){e.eq=Object(o.contramap)(e=>e.alert)(s.d.ordId),e.isPending=e=>null!==e.state.scheduled&&(e.state.scheduled.visualState!==e.state.current.visualState||e.state.scheduled.updateRanges||e.state.scheduled.forceUpdate),e.isOneOf=(...e)=>t=>e.some(e=>e===t.state.current.visualState),e.notAnyOf=(...e)=>t=>e.every(e=>e!==t.state.current.visualState),e.canBeChanged=t=>n=>Boolean(t)&&r.applied===n.state.current.visualState?t===r.disposed:s.a.State.isBulkApplied(n.alert.state)||e.notAnyOf(r.applied,r.disposed)(n),e.isOrWillBe=e=>t=>null===t.state.scheduled?t.state.current.visualState===e:t.state.scheduled.visualState===e,e.willBe=e=>t=>null!==t.state.scheduled&&t.state.scheduled.visualState===e}(i||(i={})),function(e){e.updateRanges=function(e,t){return Object.assign(Object.assign({},e),{updateRanges:t})},e.forceUpdate=function(e,t){return Object.assign(Object.assign({},e),{forceUpdate:t})},e.updateVisualState=function(e,t){return Object.assign(Object.assign({},e),{visualState:t})},e.from=function(e){return{visualState:e,updateRanges:!1,forceUpdate:!1}}}(a||(a={})),function(e){e.initial="initial",e.highlighted="highlighted",e.visible="visible",e.faded="faded",e.hidden="hidden",e.success="success",e.applied="applied",e.disposed="disposed"}(r||(r={})),function(e){e.isApplied=function(t){return t===e.applied}}(r||(r={}))},Y7d8:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var i=n("ERkP"),a=n("vOOZ"),r=n("9NHN"),o=n("lrqh"),s=n("6fbX"),l=n("1w6p"),c=n("rk+4"),d=n("bO3R"),u=n("3rlE"),p=n("26kZ"),h=n("zR/0"),m=n("ax6a"),g=n("e12y"),f=n("ps/9"),b=n("BugA");const y=g.a.style({display:"inline-flex",overflow:"visible",border:`2px solid ${m.a.CoreNeutral10}`,borderRadius:g.a.rem(f.t),backgroundColor:m.a.CoreNeutral10}),v=g.a.joinClasses([g.a.style({padding:`0 ${g.a.rem(.5)} 0 ${g.a.rem(.5)}`,display:"inline-flex",justifyContent:"space-around",textAlign:"center",$nest:{"&:first-child":{marginRight:g.a.px(2)}}}),b.o.base]),k=g.a.style({fontSize:g.a.rem(m.h.SmallSize)}),w=g.a.style({width:g.a.rem(2.5)}),S=g.a.style({width:g.a.rem(9.5)}),_=g.a.joinClasses([g.a.style({width:g.a.rem(2.25)}),k]),C=g.a.joinClasses([g.a.style({width:g.a.rem(8.75)}),k]),E=g.a.joinClasses([g.a.style({borderRadius:g.a.rem(f.t),backgroundColor:m.a.CoreNeutral0,boxShadow:m.b.Z100,fontWeight:600,$nest:{"&[data-disabled='true']":{backgroundColor:m.a.CoreNeutral0}}}),v]),O=g.a.style({display:"inline-flex",width:g.a.rem(1.25),minWidth:0,minHeight:0,fill:m.a.CoreNeutral50,stroke:m.a.CoreNeutral50,$nest:{"&[data-disabled='true']":{fill:m.a.CoreNeutral50,stroke:m.a.CoreNeutral50}}});var A;!function(e){let t,n,m;!function(e){e.priority="priority",e.all="all"}(t=e.LensMode||(e.LensMode={})),function(e){let t;!function(e){e.select="select"}(t=e.Kind||(e.Kind={}))}(n=e.Action||(e.Action={})),function(t){t.priorityFirst=o.h.fromCompare(t=>t===e.LensMode.priority?-1:1),t.allFirst=o.h.fromCompare(t=>t===e.LensMode.all?-1:1)}(m=e.Order||(e.Order={})),e.Component=l.b.Node.make(({state:e,notify:o})=>i.createElement(a.a.div,{key:"feedModeSelector",className:y},e.pipe(h.a.map(({lensMode:e,layoutMode:a,ord:s})=>[t.all,t.priority].sort(s.compare).map(t=>i.createElement(d.a,Object.assign({name:`${t}-lens`,key:`${t}-lens`,disabled:e===t,onClick:()=>o({kind:n.Kind.select,selected:t})()},Object(r.c)(e===t?E:v,f(t,a))),i.createElement(g,{selected:t})))))));const g=({selected:e})=>{const n=i.useContext(c.a.Context).feedModeSelector;switch(e){case t.all:return i.createElement(i.Fragment,null,n.all);case t.priority:return i.createElement(i.Fragment,null,n.priority,i.createElement(p.a,{align:"bottomCenter",title:n.priorityDescription},i.createElement(u.d.Info,{width:10,className:O})));default:Object(s.d)(e)}},f=(e,n)=>{switch(e){case t.all:return"compact"===n?_:w;case t.priority:return"compact"===n?C:S;default:Object(s.d)(e)}}}(A||(A={}))},Y8lK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(e,t,n,i){void 0===i&&(i=20),this._task=e,this._buffer=t,this._run=n,this._batchSize=i,this._sub=null}return e.prototype.put=function(e){this._buffer.put(e),null===this._sub&&this._buffer.nonEmpty&&this._scheduleWork()},e.prototype.order=function(e){this._buffer.order(e)},e.prototype.flush=function(){this._task(this._buffer.take(this._buffer.length))},Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.length},enumerable:!1,configurable:!0}),e.prototype._scheduleWork=function(){var e=this;this._sub=this._run((function(){e._task(e._buffer.take(e._batchSize)),e._sub=null,e._buffer.nonEmpty&&e._scheduleWork()}))},e.prototype.shutdown=function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)},e}()},YXP7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("zR/0"),r=n("lrqh");!function(e){let t,n;!function(e){let t;!function(e){e.none="none",e.fast="fast",e.initial="initial",e.fake="fake"}(t=e.AnimateMode||(e.AnimateMode={})),e.eq=r.c.getStructEq({animateMode:r.c.eqString})}(t=e.Meta||(e.Meta={})),e.empty={x:0,y:0,meta:{animateMode:t.AnimateMode.none}},e.eq=r.c.getStructEq({x:r.c.eqNumber,y:r.c.eqNumber,meta:e.Meta.eq}),e.eqY=r.c.getStructEq({y:r.c.eqNumber}),function(e){e.create=()=>({scroll:new a.a.Subject})}(n=e.Changes||(e.Changes={}))}(i||(i={}))},YfIO:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("ERkP"),a=n("vOOZ"),r=n("1w6p"),o=n("zR/0"),s=n("lrqh"),l=n("+w1e"),c=n("9T0W"),d=n("D/5U");const u=r.b.Grid.make(({slots:e})=>i.createElement(c.a.Context.Provider,{value:c.a.emptyWithName("card")},i.createElement(a.a.div,{"data-role":"animation-wrapper",className:d.a.animationWrapper},e.animatedItemBaseChild)));var p,h,m,g,f=n("sWLkM");!function(e){e.make=function(e){return r.b.Union.asOption(r.b.Knot.make(t,{shadeItem:e}))};const t=r.b.Grid.make(({slots:e,state:t,notify:n})=>i.createElement(a.a.Fragment,null,t.pipe(o.a.map(({item:r,key:o,className:s})=>i.createElement(a.a.div,{className:s,key:"shade"+t+o,onAnimationEnd:e=>{f.b.get(e.animationName)!==s&&d.b.get(e.animationName)!==s||n({type:l.a.Kind.completeTransitionTo,id:r.id,transitionId:r.visualState.transitionId})()}},e.shadeItem)))))}(p||(p={})),function(e){e.make=function(e){return r.b.Composite.make(u,r.b.Knot.make(t,{shade:p.make(e),item:e}))};const t=r.b.Grid.make(({state:e,slots:t,notify:n})=>i.createElement(a.a.Fragment,null,e.pipe(o.a.map(({item:e,className:r,hasAnimation:o})=>(o||requestAnimationFrame(n({type:l.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})),i.createElement(a.a.Fragment,null,t.shade,i.createElement(a.a.div,{className:s.g.toUndefined(r),key:"expanded"===e.visualState.transition.type?"focused":e.visualState.transition.type,onAnimationEnd:n({type:l.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===e.visualState.transition.type&&n({type:l.a.Kind.startTransitionTo,id:e.id,transition:{type:"success",clockwise:e.visualState.transition.clockwise}})()}},t.item)))))))}(h||(h={})),function(e){e.make=function(e){return r.b.Composite.make(u,r.b.Knot.make(t,{staticItemChild:e}))};const t=r.b.Grid.make(({state:e,slots:t})=>i.createElement(a.a.Fragment,null,e.pipe(o.a.map(e=>i.createElement(a.a.div,{key:e},t.staticItemChild)))))}(m||(m={})),function(e){e.make=function(e){return r.b.Knot.make(t,{animatedItem:r.b.Union.make("animatedItemKind",{static:m.make(e),animating:h.make(e)})})};const t=r.b.Grid.make(({state:e,slots:t})=>i.createElement(a.a.Fragment,null,e.pipe(o.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),o.a.map(()=>i.createElement(a.a.Fragment,null,t.animatedItem)))))}(g||(g={}))},YnIn:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var i=n("ERkP"),a=n("vOOZ"),r=n("D9EC"),o=n("bSlT"),s=n("6lhv"),l=n("bO3R"),c=n("3rlE"),d=n("rmLU"),u=n("rk+4"),p=n("BugA"),h=n("ax6a"),m=n("e12y"),g=n("ps/9");const f={position:"fixed",bottom:m.a.rem(1),right:m.a.rem(1),zIndex:g.j,width:m.a.rem(20),padding:m.a.rem(2),background:h.a.CoreNeutral0,transition:`transform ${m.a.seconds(.1)} linear ${m.a.seconds(.1)}`,transform:"perspective(100)",borderRadius:m.a.rem(g.s),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},b={transitionDelay:m.a.seconds(0),transform:"perspective(100) rotateY(90deg)"},y={transform:"perspective(100) rotateY(-90deg)"},v={paddingBottom:m.a.rem(1)},k={marginBottom:m.a.rem(1)},w={width:m.a.percent(100),borderRadius:m.a.rem(g.t),padding:`${m.a.rem(.5)} 0 ${m.a.rem(.5)} ${m.a.rem(.5)}`,lineHeight:m.a.rem(1.3125),margin:"0 2px"},S={width:m.a.rem(1),height:m.a.rem(1),minHeight:m.a.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:m.a.rem(.25)},_={color:h.a.CoreBlue50,textDecoration:"none"},C={paddingTop:m.a.rem(2),height:m.a.rem(15),flexGrow:1},E={marginBottom:m.a.rem(.5)},O={$nest:{"& ul":{paddingLeft:m.a.rem(2)},"& a":{color:h.a.CoreBlue50,textDecoration:"none"}}},A=m.a.stylesheet({notification:[f],rotateHide:[f,b],rotateShow:[f,y],closeIcon:[{position:"absolute",top:0,right:0}],question:[v],questionText:[k],answerBtn:[w],answer:[{whiteSpace:"normal"}],outcomeIcon:[S],learnMoreLink:[_],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[C],completionHeader:[E],badExperience:[O]}),x=({viewModel:e,onClose:t})=>i.createElement(a.a.div,{className:A.completionScreen},e.state.view(e=>o.a.isSecondAnswerAboutDissatisfaction(e)?i.createElement(M,{reason:e.answer2}):i.createElement(T,null)),i.createElement(l.a.Primary,{name:"survey.done",onClick:t},"done")),T=()=>{const e=i.useContext(u.a.Context).premiumOnboardingSurvey.completion;return i.createElement(i.Fragment,null,i.createElement(c.d.NotificationInfo,{width:40}),i.createElement("div",{className:A.completionContent},i.createElement(p.e,{className:A.completionHeader},e.enjoyment.header),i.createElement(p.a,null,e.enjoyment.sub)))},M=({reason:e})=>{const t=i.useContext(d.a.Context),n=i.useContext(u.a.Context).premiumOnboardingSurvey.completion.badExperience,a=(()=>{switch(e){case o.b.DissatisfactionReason.LowQualitySuggestions:return n.lowQuality;case o.b.DissatisfactionReason.PoorPlagiarismSuggestions:return n.noPlagiarism;case o.b.DissatisfactionReason.NoSupportForDesirableApp:return n.noSupportForDesirableApp(t.extension.chrome.installURL,t.extension.edge.infoURL,t.extension.firefox.installURL,t.extension.safari.installURL,t.funnel.keyboardInstall,t.funnel.desktopAppInstall);case o.b.DissatisfactionReason.AggressivePremiumPromotion:case o.b.DissatisfactionReason.NoPremiumSuggestions:case o.b.DissatisfactionReason.PremiumAndFreeAreIdentical:default:return n.possibleMultipleAccounts}})();return i.createElement("div",null,i.createElement(p.a,{className:A.badExperience},a),i.createElement("br",null))};var j=n("H37f");const I=({answerType:e,viewModel:t,children:n})=>i.createElement(l.a.Flat,{className:A.answerBtn,name:`answer.${e}`,onClick:()=>t.answer(e)},i.createElement("span",{className:A.answer},n));var R=o.b.Experience;const N=({viewModel:e})=>{const t=i.useContext(u.a.Context).premiumOnboardingSurvey.firstQuestion;return i.createElement("div",{className:A.question},i.createElement(p.e,{className:A.questionText},t.question),i.createElement(I,{answerType:R.VerySatisfied,viewModel:e},i.createElement(j.b,null,"😄")," ",t.answers.verySatisfied),i.createElement(I,{answerType:R.SomewhatSatisfied,viewModel:e},i.createElement(j.b,null,"🙂")," ",t.answers.somewhatSatisfied),i.createElement(I,{answerType:R.Neutral,viewModel:e},i.createElement(j.b,null,"😐")," ",t.answers.neutral),i.createElement(I,{answerType:R.SomewhatDissatisfied,viewModel:e},i.createElement(j.b,null,"🙁")," ",t.answers.somewhatDissatisfied),i.createElement(I,{answerType:R.VeryDissatisfied,viewModel:e},i.createElement(j.b,null,"😞")," ",t.answers.veryDissatisfied))};var L=n("hoSD"),P=o.b.SatisfactionReason,D=o.b.DissatisfactionReason;const F=({viewModel:e})=>i.createElement(a.a.div,{className:A.question},e.state.view(o.a.isSecondQuestionAboutDissatisfaction).view(Object(r.c)(i.createElement(B,{viewModel:e}),i.createElement(H,{viewModel:e})))),B=({viewModel:e})=>{const t=i.useContext(u.a.Context).premiumOnboardingSurvey.secondDissatisfactionQuestion;return i.createElement(i.Fragment,null,i.createElement(p.e,{className:A.questionText},t.question),L.a.shuffle([i.createElement(I,{answerType:D.LowQualitySuggestions,viewModel:e},t.answers.lowQualitySuggestions),i.createElement(I,{answerType:D.PoorPlagiarismSuggestions,viewModel:e},t.answers.poorPlagiarismSuggestions),i.createElement(I,{answerType:D.NoSupportForDesirableApp,viewModel:e},t.answers.noSupportForDesirableApp),i.createElement(I,{answerType:D.AggressivePremiumPromotion,viewModel:e},t.answers.aggressivePremiumPromotion),i.createElement(I,{answerType:D.NoPremiumSuggestions,viewModel:e},t.answers.noPremiumSuggestions),i.createElement(I,{answerType:D.PremiumAndFreeAreIdentical,viewModel:e},t.answers.premiumAndFreeAreIdentical)]))},H=({viewModel:e})=>{const t=i.useContext(d.a.Context),n=i.useContext(u.a.Context).premiumOnboardingSurvey.secondSatisfactionQuestion;return i.createElement(i.Fragment,null,i.createElement(p.e,{className:A.questionText},n.question),L.a.shuffle([i.createElement(I,{answerType:P.PlagiarismChecker,viewModel:e},n.answers.plagiarismChecker," ",i.createElement(c.d.PlagiarismOutcome,{className:A.outcomeIcon})),i.createElement(I,{answerType:P.ClaritySuggestions,viewModel:e},n.answers.claritySuggestions," ",i.createElement(c.d.ClarityOutcome,{className:A.outcomeIcon})),i.createElement(I,{answerType:P.EngagementSuggestions,viewModel:e},n.answers.engagementSuggestions," ",i.createElement(c.d.EngagementOutcome,{className:A.outcomeIcon})),i.createElement(I,{answerType:P.ToneSuggestions,viewModel:e},n.answers.toneSuggestions," ",i.createElement(c.d.DeliveryOutcome,{className:A.outcomeIcon})),i.createElement(I,{answerType:P.UsingMultipleDevices,viewModel:e},i.createElement(i.Fragment,null,n.answers.usingMultipleDevices," ",i.createElement("a",{href:t.funnel.keyboardInstall,onClick:e=>e.stopPropagation(),className:A.learnMoreLink,target:"_blank"},n.learnMoreLink)))]))},V=({viewModel:e,onClose:t})=>i.createElement(U,{viewModel:e},n=>i.createElement(i.Fragment,null,o.a.isFirstQuestion(n)?i.createElement(N,{viewModel:e}):o.a.isSecondQuestion(n)?i.createElement(F,{viewModel:e}):i.createElement(x,{viewModel:e,onClose:t}),i.createElement(l.a,{name:"survey-close",className:A.closeIcon,onClick:t},i.createElement(c.d.Close,null)))),U=({viewModel:e,children:t})=>i.createElement(s.a,{state:e.state,stateToClassMapper:(e,t)=>{const[n,i]=e&&o.a.isFirstQuestion(e)&&o.a.isSecondQuestion(t)||e&&o.a.isSecondQuestion(e)&&o.a.isCompleted(t)?[A.rotateHide,A.rotateShow]:[A.notification,A.notification];return{prev:{start:A.notification,end:n},next:{start:i,end:A.notification}}}},e=>i.createElement(a.a.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:r.e},t(e.state)))},ZvPX:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return T})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return R}));var i=n("ERkP"),a=n("vOOZ"),r=n("9NHN"),o=n("lrqh"),s=n("6fbX"),l=n("1w6p"),c=n("RNks"),d=n("pKiV"),u=n("3F3p"),p=n("+LKT");const h=e=>l.b.Union.make("kind",{alertCard:p.a.Card(e)});var m=n("rk+4"),g=n("+w1e"),f=n("+5S2"),b=n("NbEL"),y=n("BeBM"),v=n("3zdQ"),k=n("bO3R"),w=n("FPs0"),S=n("3rlE"),_=n("zR/0"),C=n("xEVj"),E=n("dCuA"),O=n("2U56"),A=n("2BTG");const x=({title:e,cardsVM:t,transition:n,onTransitionEnd:a,scrollEl:r,state:o,cardsListScrollManager:s,isMaster:l,capabilities:d,comparator:u,cardListFlow:p=c.a,checksFeedItem:m=h})=>i.createElement(M,{cardsVM:t,transition:n,onTransitionEnd:a,scrollEl:r,state:o,cardsListScrollManager:s,cardListFlow:p,isMaster:l,capabilities:d,comparator:u,checksFeedItem:m},i.createElement(T,{title:e})),T=({title:e})=>i.createElement("div",{className:O.a.headerWrapper},i.createElement("div",{className:O.a.header},e)),M=({cardsVM:e,transition:t,onTransitionEnd:n,scrollEl:o,state:s,cardsListScrollManager:l,isMaster:d,capabilities:u,comparator:p,children:m,cardListFlow:g=c.a,checksFeedItem:b=h})=>{const v=s.get().currentLens.meta,k=E.a.Elements.create();return i.createElement(i.Fragment,{key:v.id},i.createElement(R.FixedContent,null,i.createElement(a.a.div,Object.assign({},Object(r.c)(t.pipe(_.a.map(e=>e.title))),{onTransitionEnd:n}),m),i.createElement(R.SeeAlerts,{key:"seeAlerts",cardsViewportState:f.c.getCardsViewportState(s,l,u),actionEvents:e.actionEvents,cardsAmount:s.view("currentLens").view(u.getVisibleAlertsCount)})),i.createElement(E.a,{name:v.id,stateSyncListener:E.a.superScrollListener(l,k),height:f.c.getAssistantHeight(s,l,u),className:t.pipe(_.a.map(e=>e.assistantWrapper)),isMaster:d},i.createElement(j,{elements:k,cardsVM:e,cardsListScrollView:l,scrollEl:o,lensView:s.lens(y.e.Prism.getLens()),transition:t,state:s,cardListFlow:g,onTransitionEnd:n,checksFeedItem:b,capabilities:u,comparator:p})))},j=({elements:e,cardsVM:t,cardsListScrollView:n,scrollEl:s,lensView:p,transition:m,state:g,onTransitionEnd:b,capabilities:y,comparator:v,cardListFlow:k=c.a,checksFeedItem:w=h})=>{const S=new _.a.ReplaySubject;C.a.useEffectOnDidMount(()=>e.lens("scrollProvider").set(s.get())),C.a.useSubscriptionTo(S.pipe(_.a.tap(t=>e.lens("scrollConsumer").set(t))));const E=f.c.getScrollObserver(n).pipe(_.a.startWith(!1));return i.createElement(i.Fragment,null,i.createElement("div",{className:O.a.fakeTop,ref:t=>e.lens("viewport").set(o.g.fromNullable(t))}),i.createElement("div",{className:O.a.viewport},i.createElement(a.a.div,Object.assign({},Object(r.c)(O.a.lensviewContentWrapper,m.pipe(_.a.map(e=>e.content))),{onTransitionEnd:b}),l.b.mount(u.a,()=>f.c.getPlaceholderState(g,n)),l.b.mount(d.a.cardList(w(t.actionEvents)),k(t,p,S,E,y,v)))))},I=A.a.OutcomeContext;var R,N;(N=R||(R={})).Title=A.a.Title,N.SeeAlerts=({cardsViewportState:e,actionEvents:t,cardsAmount:n})=>{const r=i.useContext(m.a.Context).sidebar;return C.a.useSubscriptionTo(e.pipe(_.a.distinctUntilChanged(),_.a.withLatestFrom(n),_.a.tap(([e,n])=>{switch(e){case b.a.above:case b.a.below:t.next({type:g.b.Type.moreAlertsButtonShow,position:e,cardsAmount:n});break;case b.a.hidden:break;default:Object(s.d)(e)}}))),i.createElement(a.a.Fragment,null,e.pipe(_.a.distinctUntilChanged(),_.a.combineLatest(n,(e,n)=>{switch(e){case b.a.above:return i.createElement("div",{className:O.a.seeAlertsContainer},i.createElement(k.a.Primary,{name:"top-see-alerts",className:O.a.topSeeAlerts,onClick:()=>t.next({type:g.b.Type.switchToClosestByViewport,position:e,cardsAmount:n})},r.seeAlerts(n),i.createElement(S.d.Arrow,{width:"12",direction:S.a.up})),i.createElement("div",{className:O.a.topStack}));case b.a.below:return i.createElement("div",{className:O.a.seeAlertsContainer},i.createElement(k.a.Primary,{name:"bottom-see-alerts",className:O.a.bottomSeeAlerts,onClick:()=>t.next({type:g.b.Type.switchToClosestByViewport,position:e,cardsAmount:n})},r.seeAlerts(n),i.createElement(S.d.Arrow,{width:"12",direction:S.a.down})),i.createElement("div",{className:O.a.bottomStack}));case b.a.hidden:return null;default:return Object(s.d)(e)}})))},N.Rechecking=({className:e})=>i.createElement(a.a.div,Object.assign({key:"lensview-loader"},Object(r.c)(e,O.a.rechecking)),i.createElement(v.a,null)),N.FixedContent=({onTransitionEnd:e,children:t})=>i.createElement(w.a.Top,{onTransitionEnd:e,className:O.a.fixedLensContent},t)},a0Ed:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("ERkP"),a=n("rk+4"),r=n("hoSD");const o=({value:e,currency:t})=>{const n="USD"===t?"$":`${t} `;return i.createElement(i.Fragment,null,n,r.f.formatPrice(e))},s=({value:e,currency:t,periodInMonths:n})=>{const r=e/Math.max(1,n),s=i.useContext(a.a.Context).changePlan;return i.createElement(i.Fragment,null,i.createElement(o,{currency:t,value:r}),"/",s.perMonth)},l=({value:e,currency:t,periodInMonths:n})=>{const r=12*(e/Math.max(1,n)),s=i.useContext(a.a.Context).changePlan;return i.createElement(i.Fragment,null,i.createElement(o,{currency:t,value:r}),"/",s.perYear)}},aYRv:function(e,t,n){"use strict";n.d(t,"c",(function(){return ua.a})),n.d(t,"b",(function(){return ke.a})),n.d(t,"a",(function(){return ha}));var i,a=n("GRZr"),r=n("OA+g"),o=n("I7vG"),s=n("LNSM"),l=n("FiSa"),c=n("bYZB"),d=n("NaPV"),u=n("GUi3"),p=n("dE97"),h=n("yA7V"),m=n("8zjg"),g=n("mH/M"),f=n("QdI4"),b=n("AHUR"),y=n("f9Xq"),v=n("D9EC"),k=n("lrqh"),w=n("PrA7"),S=n("mLF+"),_=n("BeBM");!function(e){const t=Object(v.l)(w.Monitoring.Logging.getLogger);let n;!function(e){e.create=e=>{const n=t("SingleCardAssistant.Transformers.disablePrevNextButtons");return({state:t,metadata:i})=>_.e.hasItems(t)?Object(r.pipe)(t.currentLens.cardIndex,k.g.chain(e=>Object(r.pipe)(_.k.getActiveItem(t.currentLens),k.g.map(t=>Object(r.tuple)(t,e)))),k.g.map(([n,i])=>_.e.Prism.getLensWithItems().modify(a=>{if(S.a.isSDUIItem(n)&&k.g.isSome(n.cardDSL)){const r=e.clone(n),o=k.g.unsafeGet(r.cardDSL);return b.a.forEach(o,e=>{"button"===e.type&&"prev"===e.name&&(e.state=0===i?y.a.ButtonState.Disabled:y.a.ButtonState.Enabled),"button"===e.type&&"next"===e.name&&(e.state=i===t.currentLens.items.size-1?y.a.ButtonState.Disabled:y.a.ButtonState.Enabled)}),Object.assign(Object.assign({},a),{items:a.items.add(r)})}return a},t)),k.g.getOrElse(()=>t),e=>k.b.left({state:e,metadata:i})):(n.trace("state has no feed items, returning original state"),k.b.left({state:t,metadata:i}))}}(n=e.DisablePrevNextButtons||(e.DisablePrevNextButtons={}))}(i||(i={}));var C,E,O=n("zR/0"),A=n("GGUR"),x=n("aIes"),T=n("gy42"),M=n("rXcq"),j=n("a5W6"),I=n("hoSD"),R=n("UEGg");!function(e){const t=e=>t=>Object(o.pipe)(t,k.g.map(Object(r.flow)(j.filterMap(t=>e.getAlertByMark(t)),j.sort(k.h.contramap(({alert:{lensType:e,lensPriority:t}})=>({type:e,priority:t}))(u.a.ord)))));e.fromMarksEvents=(e,n)=>({activeHighlights:Object(o.pipe)(n.activeMarks,O.a.map(t(e))),hoveredHighlights:Object(o.pipe)(n.hoveredMarks,O.a.map(t(e)))})}(C||(C={})),(E||(E={})).Mock=class{constructor(){this.alertHovered=new O.a.Subject,this.alertClicked=new O.a.Subject,this.highlightedAlert=s.a.create(k.g.none)}};class N{constructor(e,t,n,i,a,r){this._ded=e,this._state=t,this._markAlertMapper=n,this._alertsReader=i,this._getActiveItemWithAlert=a,this._resolveClickedAlert=r,this._impl=new L(C.fromMarksEvents(this._markAlertMapper,this._ded),this._state,this._alertsReader,this._getActiveItemWithAlert,this._resolveClickedAlert),this.alertHovered=this._impl.alertHovered,this.alertClicked=this._impl.alertClicked}}class L{constructor(e,t,n,i,a){this._highlightEvents=e,this._state=t,this._alertsReader=n,this._getActiveItemWithAlert=i,this._resolveClickedAlert=a,this._focusedItem=this._state.view(_.e.getActiveItem(this._getActiveItemWithAlert)),this._focusedLens=this._state.view("currentLens"),this.alertHovered=this._highlightEvents.hoveredHighlights.pipe(O.a.map(k.g.map(j.map(({alert:e})=>e))),O.a.scan((e,t)=>Object(o.pipe)(t,k.g.chain(t=>Object(o.pipe)(e,k.g.filter(e=>-1!==t.indexOf(e)),k.g.fold(()=>k.g.fromNullable(t[0]),k.g.some)))),k.g.none),O.a.map(k.g.filter(e=>this._alertsReader.isInteractable(e.id)&&!R.a.isPlagiarism(e))),O.a.distinctUntilChanged()),this.alertClicked=this._highlightEvents.activeHighlights.pipe(O.a.withLatestFrom(this._focusedItem,this._focusedLens),O.a.scan((e,[t,n,i])=>{const a=t=>Object(o.pipe)(e,k.g.exists(e=>e.alert.id===t.alert.id)),r=e=>Object(o.pipe)(n,k.g.exists(t=>t.activeAlert.id===e.alert.id)),s=e=>i.meta.filter(e.alert);return Object(o.pipe)(t,k.g.chain(e=>{var t;return Object(o.pipe)(e,null!==(t=this._resolveClickedAlert)&&void 0!==t?t:I.a.findByPredicateList([Object(v.b)(a,r),r,Object(v.b)(a,s),s,a]),k.g.fold(()=>k.g.fromNullable(e[0]),k.g.some),k.g.map(e=>I.e.update(e,{highlightIndex:e.alert.hasNestedHighlights?0:e.highlightIndex})))}))},k.g.empty()),O.a.shareReplay({refCount:!0,bufferSize:1}))}}var P,D=n("b/mo"),F=n("3gHY"),B=n("Ei+9"),H=n("3yNE"),V=n("+MLo"),U=n("C53H"),q=n("uqkn"),W=n("IVzZ"),$=n("0EQH"),z=n("U75S"),G=n("Arv5"),K=n("YJiV"),Y=n("K4Sz"),X=n("C7EH"),Z=n("bFfh");!function(e){let t;e.MIN_ACCEPTABLE_COUNT=4,e.getFocusFirstFilter=(t,n)=>({visibleAlerts:i,alertSource:a,lensId:s,alertHighlight:l})=>Object(o.pipe)(l,k.g.filter(()=>"text"===a||!u.a.isMainLens(s)||Object(o.pipe)(i,k.a.map(e=>Object(o.pipe)(t.getById(e.id),k.g.filter(n.alertIsBulkAcceptable(s)),k.g.map(R.a.fromModel),k.g.filter(Object(v.b)(R.a.isDefault,Object(r.not)(R.a.isBulkApplied))))),k.a.compact).length<e.MIN_ACCEPTABLE_COUNT)),function(t){t.create=(t,n)=>({getBulkAcceptableAlerts:i(n),willShowBulkAccept:Object(r.flow)(_.e.mapper(e=>Object(o.pipe)(t.get(),i(n)(e.currentLens.id))),k.g.map(t=>t.length>=e.MIN_ACCEPTABLE_COUNT),k.g.getOrElse(r.constFalse))})}(t=e.BulkAcceptReader||(e.BulkAcceptReader={}));const n=Object(v.l)(w.Monitoring.Logging.getLogger);e.getStateTransformer=(e,t,a,s,c,d)=>{let p=!1;return h=>{const{state:m,metadata:g}=h,f=n("BulkAccept.stateTransformer",w.Logging.LogLevel.TRACE,w.Logging.LogColor.Manager.getColor());if(p)return k.b.left({state:m,metadata:g});if(!_.e.hasItems(m)||!u.a.isMainLens(m.currentLens.id)||!_.e.isLensview(m))return k.b.left(h);const b=Object(o.pipe)(Y.a.find(m.currentLens.items,X.a.isBulkAcceptItem),k.g.map(I.e.pick("value")));return Object(o.pipe)(b,k.g.exists(e=>"dismissed"===e.visibilityState))?(f.debug("Bulk Accept was dismissed by user. The transformer will skip processing the lens state till the end of the session."),p=!0,k.b.left(h)):Object(o.pipe)(e.get(),i(t)(m.currentLens.id),k.g.map(l(b,a,f)),k.g.map(e=>Object(o.pipe)(b,k.g.fold(()=>{const t=X.a.create(e,(e=>K.b.toCardRenderOptions(d,e,O.a.of(k.g.none)))(m.currentLens.id));if(X.a.isInAppliedState(t))return m;f.debug("adding new BulkAcceptItem to the current lens");const n="text"===m.alertSource;return c.onShow(e.length,n),n?_.e.Prism.getLens().compose(Z.a.Prism.items).set(m.currentLens.items.add(t),m):_.e.Prism.getLens().set(Object(r.unsafeCoerce)(Object(o.pipe)(m.currentLens,s.unselectItem(),e=>Object.assign(Object.assign({},e),{items:e.items.add(t)}),s.selectItemById(X.a.id,[]))),m)},t=>{if(X.a.efficientAlertEq.equals(e,t.alerts))return f.trace("BulkAcceptItem exists and did not change, returning the original state"),m;{const n=Object(o.pipe)(e,G.L,R.a.isBulkApplied);return Object(o.pipe)(e,G.L,R.a.isBeingApplied)||n&&X.a.isInUndoneState(t)?(f.trace("BulkAcceptItem is in undone state, skipping update with applied alerts"),m):X.a.isInAppliedState(t)?(f.debug("Items changed, removing applied BulkAcceptItem from lens"),_.e.Prism.getLens().compose(Z.a.Prism.items).set(m.currentLens.items.remove(t.id),m)):(f.debug("updating BulkAcceptItem with new alerts"),_.e.Prism.getLens().compose(Z.a.Prism.items).set(m.currentLens.items.add(X.a.updateAlerts(t,e)),m))}}))),k.g.getOrElse(()=>Object(o.pipe)(b,k.g.fold(()=>m,e=>X.a.isInUndoneState(e)?(f.trace("BulkAcceptItem is in undone state, returning original state"),m):(f.debug("removing BulkAcceptItem from the current lens"),_.e.Prism.getLens().compose(Z.a.Prism.items).set(m.currentLens.items.remove(e.id),m))))),e=>k.b.left({state:e,metadata:g}))}};const i=t=>n=>i=>Object(o.pipe)(n,k.g.fromPredicate(u.a.isMainLens),k.g.map(e=>Object(o.pipe)(i,h.a.reduce([],(n,i)=>Object(o.pipe)(i,k.g.fromPredicate(n=>t.alertIsBulkAcceptable(e)(n.alert)||p.a.State.isBulkApplied(n.state)||p.a.isBeingAppliedinBulk(n.alert)),k.g.map(I.e.pick("alert")),k.g.map(R.a.fromModel),k.g.filter(R.a.isDefault),k.g.fold(()=>n,e=>(n.push(e),n)))))),k.g.map(k.a.partition(R.a.isBulkApplied)),k.g.chain(({left:t,right:n})=>n.length>0?k.g.some(n):t.length>=e.MIN_ACCEPTABLE_COUNT?k.g.some(t):k.g.none)),a=(e,t)=>n=>Object(o.pipe)(e,k.g.map(I.e.pick("alerts")),k.g.chain(z.S(e=>e.id===n.id)),k.g.chain(I.e.pick("diff")),k.g.alt(()=>t(n))),s=(e,t)=>n=>Object(o.pipe)(n.getTransform(),k.g.map(I.e.pick("content")),k.g.chain(k.g.fromEither),k.g.map(e=>e.alternatives.slice(0,1)),k.g.map(e),k.g.chain(k.b.fold(e=>(t.error("Could not hydrate diff",{e,alert:R.a.snapshot(n)}),k.g.none),z.ib))),l=(t,n,i)=>r=>Object(o.pipe)(r,z.ub(l=>Object.assign(Object.assign({},l),{diff:Object(o.pipe)(l,a(t,s(n,i))),ignoreAllowed:r.length>e.MIN_ACCEPTABLE_COUNT})))}(P||(P={}));var Q,J=n("94k3"),ee=n("tn8Q"),te=n("HqKA"),ne=n("BuV2"),ie=n("E0zP");!function(e){const t=Object(v.l)(w.Monitoring.Logging.getLogger),n=()=>t("BulkAcceptSideEffects"),i=e=>n().error(e),a=e=>i("Bulk accept item not found in lens state on "+e),s=(e,t)=>i(`Alert ${e} does not exist in AlertsCollection on ${t}`);e.selectNextCardOnBulkAcceptConfirmed=(e,t,i,a)=>e.pipe(O.a.filter(ne.a.isConfirmAll),O.a.withLatestFrom(i,a),O.a.filter(([,e,n])=>n&&_.e.hasCards(e)&&u.a.isMainLens(e.currentLens.id)&&k.g.isNone(t(e.currentLens))),O.a.map(()=>_.e.Effect.FocusBehavior.focusNext),O.a.tap(e=>n().trace("selectNextCardOnBulkAccept emit: ",e)));const l=e=>Object(o.pipe)(e.currentLens.items.find(X.a.isBulkAcceptItem),k.g.map(e=>e.value)),c=(e,t)=>Object(r.flow)(l,k.g.map(I.e.pick("alerts")),k.g.chain(Object(r.flow)(z.S(t=>t.id===e),k.g.tapLeft(()=>t.error("Alert not found in BulkAcceptItem")))));e.createEffects=function({actions:e,tracking:t,alertService:i,alertsReader:u,enableMPTE:h=!1}){const m=new Map,g=e=>{h&&(m.has(e.id)&&f(e.id),Object(o.pipe)(i.takeReference(e,"BulkAccept"),k.b.fold(e=>n().error("failed to hold reference to bulk accepted alert",e),t=>m.set(e.id,t))))},f=e=>{if(h){const t=m.get(e);void 0!==t&&(t.dispose(),m.delete(e))}},b=()=>{h&&(m.forEach(e=>e.dispose()),m.clear())},y=[{actionToHandle:ne.a.Kind.apply,handler:({kind:e})=>r=>(requestAnimationFrame(()=>Object(o.pipe)(l(r),k.g.map(I.e.pick("alerts")),k.g.map(z.ub(e=>(g(e),e.id))),k.g.fold(()=>a(e),e=>{t.onAccept(e.length),Object(o.pipe)(i.applyBulk(e,te.b.getSubTypeFromLens(r.currentLens.id)),ee.a.tapFailure(e=>n().error("error calling alert service to apply alerts bulk",e)))}))),r)},{actionToHandle:ne.a.Kind.dismiss,handler:({kind:e})=>n=>Object(o.pipe)(l(n),k.g.fold(()=>(a(e),n),e=>{t.onDismiss(e.alerts.length);const i=X.a.dismiss(e);return _.e.Prism.getLens().compose(Z.a.Prism.items).set(n.currentLens.items.modifyWith([[e.id,i]],()=>i),n)}))},{actionToHandle:ne.a.Kind.bulkUndo,handler:({kind:e})=>n=>Object(o.pipe)(l(n),k.g.fold(()=>(a(e),n),e=>{b(),t.onBulkUndo(e.alerts.length),requestAnimationFrame(()=>{i.undoBulk(e.alerts.map(e=>e.id),te.b.getSubTypeFromLens(n.currentLens.id))});const a=X.a.undo(e);return _.e.Prism.getLens().compose(Z.a.Prism.items).set(n.currentLens.items.modifyWith([[e.id,a]],()=>a),n)}))},{actionToHandle:ne.a.Kind.ignore,handler:({alertId:e,kind:s})=>l=>Object(o.pipe)(l,c(e,n()),k.g.fold(()=>(a(s),l),a=>(g(a),t.onIgnore(a.patternName),Object(o.pipe)(i.applyFeedback(e,{kind:J.a.AlertFeedbackType.IGNORE,subtype:te.b.getSubTypeFromLens(l.currentLens.id)},p.b.text),k.b.fold(e=>n().error("error sending ignore feedback",e),r.constVoid)),l)))},{actionToHandle:ne.a.Kind.individualUndo,handler:({alertId:e,kind:a})=>l=>Object(o.pipe)(u.getById(e),k.g.fold(()=>(s(e,a),l),a=>(h&&l.currentLens.items.filter(Object(v.b)(ie.a.isWithAlertsItem,e=>p.a.isRemoved(e.activeAlert))).values().forEach(e=>f(e.activeAlert.id)),t.onRevert(a.patternName),Object(o.pipe)(i.applyFeedback(e,{kind:J.a.AlertFeedbackType.IGNORE_BULK_ACCEPTED,subtype:te.b.getSubTypeFromLens(l.currentLens.id)},p.b.text),k.b.fold(e=>n().error("error sending undo feedback",e),r.constVoid)),l)))},{actionToHandle:ne.a.Kind.confirmed,handler:({alertId:e,kind:a})=>l=>Object(o.pipe)(u.getById(e),k.g.fold(()=>(s(e,a),l),e=>(f(e.id),t.onLooksGood(),Object(o.pipe)(i.confirmApplied([e.id]),k.b.fold(e=>n().error("error during individual confirm",e),r.constVoid)),l)))},{actionToHandle:ne.a.Kind.confirmedAll,handler:({alertIds:e})=>a=>(b(),t.onAllLooksGood(e.length),Object(o.pipe)(i.confirmApplied(e),k.b.fold(e=>n().error("error during bulk confirm of applied alerts",e),r.constVoid)),a)},{actionToHandle:ne.a.Kind.highlight,handler:({kind:e,alert:n})=>i=>Object(o.pipe)(l(i),k.g.fold(()=>(a(e),i),e=>{const a=Object(o.pipe)(_.e.Prism.getLens().compose(Z.a.Prism.items).set(i.currentLens.items.add(Object(o.pipe)(e,X.a.selectAlert(n.id))),i),e=>({currentLens:e.currentLens,alertSource:p.b.sidebar}));return t.onSuggestionClick(n.patternName),i.patch(a)}))}];return Object(o.pipe)(y,k.f.map(d(e)))};const d=e=>({actionToHandle:t,handler:n})=>{const i=e.pipe(O.a.map(e=>i=>e.kind===t?n(e)(i):i));return{id:"bulkAcceptSideEffect-"+t,when:u.a.isWithAlertsId,what:_.e.Effect.Applicator.create(i)}}}(Q||(Q={}));var ae,re,oe=n("2GrK"),se=n("+5S2"),le=n("1HVN"),ce=n("XxrX"),de=n("Xojx"),ue=n("86p/"),pe=n("s+3N"),he=n("VwWj"),me=n("OOrw");(re=ae||(ae={})).nothing=k.b.left,re.liftLensState=function(e){return t=>k.b.left(Object.assign(Object.assign({},t),{state:e(t.state)}))},re.liftWithItemsState=function(e){return t=>k.b.left(Object.assign(Object.assign({},t),{state:_.e.hasItems(t.state)?_.e.Prism.getLensWithItems().modify(e,t.state):t.state}))},re.liftLensView=function(e){return t=>k.b.left(Object.assign(Object.assign({},t),{state:_.e.hasCards(t.state)?_.e.Prism.getLens().modify(e,t.state):t.state}))};var ge,fe=n("Z86f"),be=n("XCjp"),ye=n("7b34");!function(e){const t=2;function n(e){return([t,n])=>Object(o.pipe)(h.a.diff(t,n),ye.a.reduce(!1,r.identity,(t,{alert:n})=>p.a.isApplied(n)&&n.state.undoable.action===J.a.AlertFeedbackType.IGNORE&&k.g.isSome(e.getAlertMuteCategory(n.id)),r.identity))}e.showCardMuteOnboarding=function(e,i,a,o,s,l){return{id:"mutingAlertDismissed",when:r.constTrue,what:_.e.Effect.Applicator.create(i.state.pipe(O.a.takeUntil(e.pipe(O.a.filter(r.identity))),O.a.pairwise(),O.a.filter(n(a)),O.a.scan(e=>e+1,0),O.a.filter(e=>e===t),O.a.switchMap(o),O.a.tap(e=>{"closedByUser"===e?s():"shown"===e&&l()}),O.a.switchMap(()=>O.a.NEVER)))}}}(ge||(ge={}));var ve,ke=n("lRnN"),we=n("3hQ2"),Se=n("FuGm"),_e=n("MP45"),Ce=n("6fbX"),Ee=n("SDjP");!function(e){let t;!function(e){e.create=()=>({selection:new O.a.Subject})}(t=e.Changes||(e.Changes={}))}(ve||(ve={}));var Oe,Ae=n("YXP7"),xe=n("Ni70"),Te=n("NW9S");(Oe||(Oe={})).getPositionManager=(e,t,n,i,a)=>{const o=Object(r.flow)(O.a.switchMap(e=>O.a.defer(t(e.meta.id))),O.a.switchMap(k.b.fold(e=>(a.debug("Could not get the mark position",e),O.a.EMPTY),O.a.of)),O.a.map(xe.b.relativeToViewport),O.a.map(Object(r.flow)(e=>k.g.some(e.top),k.g.map(Te.b.FromWindowTop.ISO.wrap)))),s=(e,o)=>Object(r.flow)(O.a.switchMap(e=>O.a.defer(t(e.meta.id))),O.a.switchMap(k.b.fold(e=>(a.debug("Could not get the mark position, ignoring the scroll change",e),O.a.EMPTY),O.a.of)),O.a.map(xe.b.relativeToViewport),O.a.withLatestFrom(i),O.a.tap(([t,i])=>n.scroll.next(((e,t,n,i)=>{const a=t.top-Te.b.FromWindowTop.ISO.unwrap(n),r=t.right-t.left,o=Math.max(0,(e.width-r)/2);return{x:t.left-o,y:a,meta:{animateMode:i}}})(i,t,e,o))),O.a.mapTo(T.b.voidValue));return{moveAlertHighlightInViewport:(t,n,i)=>Object(r.pipe)(O.a.of(e(t)),O.b.compact,s(n,i)),moveMarkInViewport:(e,t)=>Object(r.flow)(O.a.of,s(e,t)),getMarkAlertPosition:t=>Object(r.pipe)(O.a.of(e(t)),O.b.compact,o)}};var Me,je,Ie=n("8Js9"),Re=n("0A7Q"),Ne=n("QKlB"),Le=n("5VIZ"),Pe=n("yzK/");function De(e,t,n,i,a,o,s,l,d){return Object(r.pipe)(n,O.a.map(t=>Object(r.pipe)(t.change,k.g.fold(()=>[t,[]],n=>(e.alternativeManager.pushChanges(n),Le.a.StateDiff.isChangeEmpty(t)||e.obsCapiClient.pushChanges(n)(),[t,e.positionManager.pushChanges(n).changed])))),O.a.map(([n,u])=>p=>Object(r.pipe)(function(e,t,n,i,a,o,s,l,d,u){return Object(r.pipe)(e.change,k.g.fold(()=>k.b.right(i.textState),e=>Re.a.updateWithChange(i.textState,e)),k.b.map(p=>{const h=Object(r.pipe)(e.selection,k.g.map(Ie.d)),m=Object(r.pipe)(h,k.g.getOrElse(()=>i.selectionState)),g=Object(r.pipe)(e.scroll,k.g.map(Ie.d),k.g.getOrElse(()=>i.scrollState)),f=Object(r.pipe)(h,k.g.filter(e=>0===e.length&&d(e))),b=Object(r.pipe)(e.focus,k.g.map(Ee.a.create(Ee.a.Meta.FocusSource.TextView)),k.g.tap(e=>l.focus.next(e)),k.g.getOrElse(()=>i.focusState)),[y,v]=Object(r.pipe)(Ne.a.updateWithRangeChange(t,n,u),e=>Object(r.pipe)(f,k.g.fold(()=>e,t=>Ne.a.Change.amend(Ne.a.updateWithSelectionChange(t,a))(e))))(i.marksState);return Object(r.pipe)(f,k.g.chain(e=>Object(r.pipe)(Ne.a.getAlertsBySelection(v,e),k.f.fromArray)),k.g.tap(e=>o.activeHighlights.next(k.g.some(e)))),Object(r.pipe)(h,k.g.filter(c.g.isDoubleClickSelection),k.g.chain(e=>Object(r.pipe)(Ne.a.getMarksBySelection(v,e),k.f.fromArray,k.g.fold(()=>k.g.some(e),()=>k.g.none))),k.g.tap(e=>s.doubleClickedWord.next({start:e.index,end:e.index+e.length,meta:{clicks:2,value:e.meta.selectedWord}}))),[Object.assign(Object.assign({},Le.a.StateDiff.empty),{marks:y}),{marksState:v,textState:p,selectionState:m,scrollState:g,focusState:b}]}))}(n,u,e.checkingDomain.state.get(),p,t,i,a,o,l,d),k.b.getOrElse(e=>(s({severity:"ERROR",from:"textViewChanges",reason:`can not apply text change from externalStateDiffs ${e}`}),[Le.a.StateDiff.empty,p])))),Pe.a.withSource("text_view_changes"))}function Fe(e,t,n){return Object(r.pipe)(e,O.a.map(e=>n=>(Object(r.pipe)(e.markId,k.g.fold(()=>{t.hoveredHighlights.next(k.g.none)},e=>Object(r.pipe)(e.map(e=>Ne.a.getAlertByMark(n.marksState,e)),k.a.compact,e=>{t.hoveredHighlights.next(k.g.some(e))}))),[Le.a.StateDiff.empty,n])),Pe.a.withSource("textViewHoverChanges"))}(Me||(Me={})).create=()=>({activeHighlights:new O.a.BehaviorSubject(k.g.none),hoveredHighlights:new O.a.BehaviorSubject(k.g.none)}),(je||(je={})).create=()=>({doubleClickedWord:new O.a.Subject});var Be=n("ERkP"),He=n("7nmT"),Ve=n("D57K"),Ue=n("vOOZ"),qe=n("9NHN"),We=n("bO3R"),$e=n("xEVj"),ze=n("e12y"),Ge=n("ax6a"),Ke=ze.a.style({position:"absolute",minWidth:400,maxWidth:600,minHeight:100,maxHeight:800,fontSize:10,lineHeight:2,resize:"both",zIndex:1e5,pointerEvents:"all",borderRadius:ze.a.px(6),background:"#fff",overflowY:"scroll",overflowX:"hidden",display:"flex",flexDirection:"column"}),Ye=ze.a.style({position:"sticky",display:"flex",top:0,zIndex:1,background:Ge.a.CoreNeutral30,padding:10,cursor:"move"}),Xe=ze.a.style({overflow:"scroll",flexGrow:2,background:Ge.a.CoreNeutral10}),Ze=ze.a.style({display:"flex",alignItems:"center",padding:"0 10px",width:ze.a.percent(100),height:50,background:Ge.a.CoreNeutral20}),Qe=function(e){var t,n,i,a,o=s.a.create(0),l=s.a.create(k.g.none),c=s.a.create({top:0,left:0}),d=$e.a.useElWatcher(),u=d.ref,p=d.onMount,h=o.pipe(O.a.switchMapTo(e.messages.pipe(O.a.scan((function(e,t){return Object(Ve.__spreadArray)(Object(Ve.__spreadArray)([],e,!0),[t],!1)}),[]),O.a.startWith([]))));return $e.a.useSubscriptionTo(O.a.combineLatestStatic([u.pipe(O.b.compact),h]).pipe(O.a.debounceTime(300),O.a.tap(Object(r.flow)(Ie.b,(function(e){return e.scrollTop=e.scrollHeight}))))),$e.a.useSubscriptionTo(l.pipe(O.a.withLatestFrom(c),O.a.switchMap((function(e){var t=e[0],n=e[1];return Object(r.pipe)(t,k.g.fold((function(){return O.a.EMPTY}),(function(e){return O.a.fromEvent(window.document,"mousemove",{capture:!0,passive:!0}).pipe(O.a.map((function(t){return{top:t.clientY-(e.top-n.top),left:t.clientX-(e.left-n.left)}})))})))})),O.a.tap(T.b.toAtom(c)))),Be.createElement(Ue.a.div,Object(Ve.__assign)({mount:p},Object(qe.c)(Ke,null===(t=e.theme)||void 0===t?void 0:t.container),{style:c}),Be.createElement("header",Object(Ve.__assign)({},Object(qe.c)(Ye,null===(n=e.theme)||void 0===n?void 0:n.header),{onMouseDown:function(e){return l.set(k.g.some({top:e.clientY,left:e.clientX}))},onMouseUp:function(){return l.set(k.g.none)}}),e.title),Be.createElement(Ue.a.div,Object(Ve.__assign)({},Object(qe.c)(Xe,null===(i=e.theme)||void 0===i?void 0:i.messages)),h.pipe(O.a.map((function(t){return t.map((function(t,n){return Be.createElement(Be.Fragment,{key:n},e.renderMessage(t))}))})))),Be.createElement("footer",Object(Ve.__assign)({},Object(qe.c)(Ze,null===(a=e.theme)||void 0===a?void 0:a.footer)),e.footerExtra,Be.createElement(We.a.Primary,{name:"reset",onClick:function(){return o.modify((function(e){return e+1}))}},"Reset")))},Je=n("TRam");const et="rgb(74, 110, 224)",tt="rgb(234, 21, 55)",nt=(ze.a.style({position:"absolute",minWidth:400,maxWidth:600,minHeight:100,maxHeight:800,fontSize:10,lineHeight:2,resize:"both",zIndex:1e5,pointerEvents:"all",borderRadius:ze.a.px(6),background:"#fff",overflowY:"scroll",overflowX:"hidden"}),ze.a.style({position:"sticky",display:"flex",justifyContent:"space-between",top:0,zIndex:1,background:`linear-gradient(90deg, ${et} 40%, rgb(186 202 255))`,padding:10,cursor:"move",$nest:{"& h2":{display:"inline-block",color:"#fff"}}})),it=ze.a.style({width:15,height:15,textAlign:"center",lineHeight:1.5,background:"#fff",color:"black",borderRadius:ze.a.percent(50)}),at=(ze.a.style({display:"grid",gridTemplateColumns:"20px auto 20px",gridTemplateRows:"1fr",gap:"0px 0px"}),ze.a.style({background:et}),ze.a.style({background:"rgb(186 202 255)"}),ze.a.style({overflow:"scroll"}),{width:0,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent"}),rt=ze.a.style({fontWeight:"bold",paddingRight:ze.a.px(5),cursor:"pointer",display:"flex",justifyContent:"space-between"}),ot=(ze.a.style({color:"#fff",background:tt,borderRadius:ze.a.px(5)}),ze.a.style(Object.assign(Object.assign({},at),{borderLeft:`20px solid ${et}`,gridColumn:2}))),st=ze.a.style(Object.assign(Object.assign({},at),{borderRight:"20px solid rgb(186 202 255)"})),lt=ze.a.style({display:"none"}),ct={display:"grid",gridAutoFlow:"dense",margin:"0 10px"},dt=ze.a.style({display:"grid",gridAutoFlow:"dense",alignItems:"center"}),ut=Object.assign(Object.assign({},ct),{marginLeft:0,color:"#fff",gridTemplateColumns:"auto 20px",$nest:{[`& .${dt}`]:{background:et,gridTemplateColumns:"20px 1fr",$nest:{[`& .${it}`]:{gridColumn:1},[`& .${rt}`]:{gridColumn:2}}}}}),pt=ze.a.style(ut),ht=ze.a.style(Object.assign(Object.assign({},ut),{$nest:{[`& .${ot}`]:{borderLeft:`20px solid ${tt}`},[`& .${dt}`]:{background:`linear-gradient(90deg, ${et} 0%, ${tt} 80%)`,gridTemplateColumns:"20px 1fr",$nest:{[`& .${it}`]:{gridColumn:1},[`& .${rt}`]:{gridColumn:2}}}}})),mt=ze.a.style(Object.assign(Object.assign({},ct),{marginRight:0,gridTemplateColumns:"20px auto",$nest:{[`& .${dt}`]:{background:"rgb(186 202 255)",gridTemplateColumns:"1fr 20px",[`& .${rt}`]:{textAlign:"right"}}}})),gt=ze.a.style(Object.assign(Object.assign({},ct),{textAlign:"center",color:"#fff",margin:ze.a.px(5),$nest:{[`& .${dt}`]:{background:"rgb(114 124 146)"}}})),ft={background:"rgb(114 124 146)",padding:ze.a.px(5),overflow:"hidden",marginBottom:ze.a.px(5),textAlign:"left"},bt=ze.a.style(Object.assign(Object.assign({},{listStyleType:"none",padding:0,margin:0}),{lineHeight:1.2,$nest:{"& ul":{marginLeft:10},"& li":{margin:0,padding:"0 7px",fontWeight:"bold",borderLeft:"1px solid",$nest:{"&:before":{position:"relative",top:"-0.3em",height:"1em",width:12,borderBottom:"1px solid",content:'""',display:"inline-block",left:-7}}},"& > li:last-child":{borderLeft:"none",$nest:{"&:before":{borderLeft:"1px solid"}}}}})),yt=ze.a.style(ft),vt=ze.a.style(Object.assign(Object.assign({},ft),{background:"rgb(186 202 255)",gridColumn:2,color:"#000",borderColor:"#000"})),kt=ze.a.style(Object.assign(Object.assign({},ft),{background:et,gridColumn:1,color:"#fff",borderColor:"#fff"})),wt=Object(v.p)(Je.a.TextView.Reject.is,Je.a.TextView.RejectCommand.is),St=Je.a.match({checksBackend:()=>({messageBox:mt,arrow:st,details:vt}),textView:e=>wt(e)?{messageBox:ht,arrow:ot,details:kt}:{messageBox:pt,arrow:ot,details:kt},mpte:()=>({messageBox:gt,arrow:lt,details:yt}),default:()=>({messageBox:gt,arrow:lt,details:yt})}),_t=e=>{const t=[];return Object(r.pipe)(e.diff.change,k.g.fromNullable,k.g.exists(e=>e.ops.length>0))&&t.push("𝚫 change"),Object.keys(e.diff.marks).length&&t.push("𝚫 marks"),null!=e.diff.scroll&&t.push("𝚫 scroll"),null!=e.diff.selection&&t.push("𝚫 selection"),null!=e.diff.focus&&t.push("𝚫 focus"),t.join(" | ")},Ct=Je.a.match({checksBackend:e=>{const t=e.kind.replace("ChecksBackend_","");return Je.a.ChecksBackend.StateDiff.is(e)?`${t}: ${_t(e)}`:Je.a.ChecksBackend.Command.is(e)?`${t}: ${e.command}`:t},textView:e=>{const t=e.kind.replace("TextView_","");return Je.a.TextView.StateDiff.is(e)?`${t}: ${_t(e)}`:wt(e)?`${t}: ${e.reason}`:Je.a.TextView.Event.is(e)?`${t}: ${e.event}`:t},mpte:e=>e.kind.replace("MPTE_",""),default:e=>e.kind});const Et=({message:e})=>Object(r.pipe)(e,Je.a.getRevision,k.g.map(e=>Be.createElement("div",{title:"revision/forRevision",className:it},e)),k.g.toNullable),Ot=({message:e,onClick:t})=>Be.createElement("div",{className:rt,title:`🕗 ${e.meta.timestamp}`,onClick:t},Be.createElement("span",null,Ct(e)),function(e){return Je.a.ChecksBackend.StateDiff.is(e)||Je.a.TextView.StateDiff.is(e)}(e)&&Be.createElement("span",null,"Source: ",e.source)),At=(e,t=-1)=>Be.createElement("ul",{className:bt,key:t},Object.keys(e).map(t=>Be.createElement("li",{key:t},Be.createElement("strong",null,t,": "),I.e.isObject(e[t])?At(e[t]):Array.isArray(e[t])?e[t].map(At):JSON.stringify(e[t])))),xt=({className:e,message:t})=>Be.createElement("div",{className:e},At(t)),Tt=({message:e})=>{const t=St(e),[n,i]=Be.useState(!1);return Be.createElement("div",{className:t.messageBox},Be.createElement("div",{className:t.arrow}),Be.createElement("div",{className:dt},Be.createElement(Ot,{message:e,onClick:()=>i(!n)}),Be.createElement(Et,{message:e})),n&&Be.createElement(xt,{message:e,className:t.details}))},Mt=({connection:e})=>Be.createElement(Qe,{title:Be.createElement(Be.Fragment,null,Be.createElement("h2",null,"TextView"),Be.createElement("h2",null,"ChecksBackend")),messages:O.a.mergeStatic(e.outgoingMessages,e.incomingMessages,e.internalMessages),theme:{header:nt},renderMessage:e=>Be.createElement(Tt,{message:e})}),jt=(e,t=!1)=>{const n=()=>{const t=document.getElementById("mpte-debugger");if(t)document.body.removeChild(t);else{const t=document.createElement("div");t.id="mpte-debugger",t.style.position="fixed",t.style.overflow="hidden",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.top="0px",t.style.left="0px",t.style.zIndex="999999",He.render(Be.createElement(Mt,{connection:e}),t),document.body.appendChild(t)}};Object(v.r)("mpte",n),t&&n()};var It=n("bUJM");function Rt(e,t,n,i=new O.a.Subject,a=Ne.a.updateWithAlertsCollection){return O.a.mergeStatic(function(e,t,n,i){return Object(r.pipe)(e.checkingDomain.state,O.a.pairwise(),O.a.map(([e,t])=>h.a.diff(e,t)),O.a.filter(Object(r.not)(ye.a.isEmpty)),O.a.map(e=>a=>{const[o,s]=Object(r.pipe)(n(t,a.textState,e),Ne.a.ChangeWithFailures.toChange(e=>i.error("alertsDiff was not applied properly on MarksState",Array.from(e.values()).reduce((e,t)=>e+t+", ",""))))(a.marksState);return function(e){const t=e.markAlertStates[It.a.State.Type.applied];z.ob(t)&&setTimeout(()=>requestAnimationFrame(()=>Nt.next(t)),Lt)}(s),[Object.assign(Object.assign({},Le.a.StateDiff.empty),{marks:o}),Object.assign(Object.assign({},a),{marksState:s})]}),Pe.a.withSource("alert_crud"))}(e,t,a,n),function(e,t,n){return Nt.pipe(O.a.map(i=>(Object(r.pipe)(i,z.P(e=>t.getById(e.alert.id)),z.O(p.a.isApplied),z.ub(t=>{e.next({type:be.b.Type.AppliedAlertAnimationFinished,alert:t})})),Object(r.pipe)(Ne.a.disposeAppliedMarks(),Ne.a.ChangeWithFailures.toChange(e=>n.error("failed to dispose applied marks",e)),Pe.a.fromMSChange))),Pe.a.withSource("alert_crud_dispose"))}(i,e.alertsReader,n))}const Nt=new O.a.Subject,Lt=250;var Pt=n("kMag");function Dt(e,t){return e.positionManager.rangeChangedMPTE.pipe(O.a.map(e=>e.filter(Object(v.b)(Pt.a.is,Pt.b.isVisible))),O.a.map(t=>Object(r.pipe)(t,z.P(t=>e.alertsReader.getById(t.meta.alertId)),z.O(p.a.isInteractable),z.P(e=>Object(r.pipe)(e.onRangeChange(t),k.g.chain(t=>{switch(t.state){case p.a.Transition.State.Pending:return k.g.none;case p.a.Transition.State.Dispose:return k.g.some(e);default:return Object(Ce.d)(t)}}))),h.a.from)),O.a.filter(Object(r.not)(h.a.isEmpty)),O.a.distinctUntilChanged(h.a.eq.equals),O.a.map(e=>n=>{const[i,a]=Object(r.pipe)(Ne.a.removeMarksForAlerts(e),Ne.a.ChangeWithFailures.toChange(e=>t.error("optimisticAlertRemove was not applied properly on MarksState",Array.from(e.values()).reduce((e,t)=>e+t+", ",""))))(n.marksState);return[Object.assign(Object.assign({},Le.a.StateDiff.empty),{marks:i}),Object.assign(Object.assign({},n),{marksState:a})]}),Pe.a.withSource("optimistic_alert_remove"))}function Ft(e,t,n){const i=n.getLogger("alertApplyChanges");return Object(r.pipe)(e.checkingDomain.changes,O.a.map(n=>a=>{e.alternativeManager.pushChanges(n);const o=e.positionManager.pushChanges(n).changed;e.obsCapiClient.pushChanges(n)();const[s,c]=Object(r.pipe)(a.marksState,Ne.a.updateWithRangeChange(o,e.checkingDomain.state.get(),t));return Object(r.pipe)(Re.a.updateWithChange(a.textState,n),k.b.fold(e=>(e instanceof Re.a.UnexpectedFlushError||i.error("Error during applying changes",{err:e,change:l.a.isFlush(n)?{kind:n.kind}:n.toJSON()}),[Le.a.StateDiff.empty,a]),e=>[Object.assign(Object.assign({},Le.a.StateDiff.empty),{marks:s,change:k.g.some(n)}),Object.assign(Object.assign({},a),{marksState:c,textState:e})]))}),Pe.a.withSource("alert_apply_changes"))}function Bt(e,t,n,i){return n.pipe(O.a.map(n=>a=>Object(r.pipe)(Ne.a.updateVisibilityFilter(a.textState,n,e.get(),t),Ne.a.ChangeWithFailures.toChange(e=>i.error("marks filter was not applied properly on MarksState",e)),Pe.a.fromMSChange)(a)),Pe.a.withSource("marks_filter_changes"))}var Ht=n("fzZ3");function Vt(e,t){return Object(r.pipe)(e.focus,O.a.filter(e=>e.meta.source===Ee.a.Meta.FocusSource.ChecksBackend),O.a.map(e=>n=>(t.debug("backendToEditorFocusChanges: update focus",e),e.inFocus===n.focusState.inFocus?[Le.a.StateDiff.empty,n]:[Object.assign(Object.assign({},Le.a.StateDiff.empty),{focus:k.g.some(e.inFocus)}),Object.assign(Object.assign({},n),{focusState:e})])),Pe.a.withSource("text_view_changes"))}var Ut=n("+JVj"),qt=n("5o4I");function Wt(e,t,n,i){const a=i.getLogger("backendToEditorMarkHighlightChanges");return Object(r.pipe)(O.a.combineLatestStatic([e,...t]),O.a.map(([e,...t])=>i=>{const o=Object(r.pipe)([e,...t],j.compact,Object(z.gc)(qt.a.eq)),[s,l]=Object(r.pipe)(Ne.a.updateMarkAlertState(It.a.State.Type.selected,o,n))(i.marksState);a.debug("update marks",{ahis:o,marks:s});const d=Object(r.pipe)(e,k.g.chain(e=>Ne.a.getMarkByAlert(l,e)),k.g.filter(e=>!Ut.b.isOverlap(e,Ut.b.create(i.selectionState.index,i.selectionState.index+i.selectionState.length))),k.g.chain(e=>{const t=Object.assign(Object.assign({},c.g.empty),{index:e.end});return c.g.eq.equals(i.selectionState,t)?k.g.none:k.g.some(Object(r.tuple)(i.selectionState,t))}));return[Object.assign(Object.assign({},Le.a.StateDiff.empty),{marks:s,selection:d}),Object.assign(Object.assign({},i),{marksState:l,selectionState:Object(r.pipe)(d,k.g.fold(()=>i.selectionState,Ie.d))})]}),Pe.a.withSource("highlights_changes"))}var $t;function zt(e,t){return Object(r.pipe)(e.scroll,O.a.map(e=>n=>(t.debug("backendToEditorScrollChanges: update scroll ",e),[Object.assign(Object.assign({},Le.a.StateDiff.empty),{scroll:k.g.some([n.scrollState,e])}),Object.assign(Object.assign({},n),{scrollState:e})])),Pe.a.withSource("scroll_changes"))}function Gt(e){return Object(r.pipe)(e,O.a.filter(Object(r.not)(ye.a.isEmpty)),O.a.map(e=>t=>{const[n,i]=Object(r.pipe)(Ne.a.updateMarks(e))(t.marksState);return[Object.assign(Object.assign({},Le.a.StateDiff.empty),{marks:n}),Object.assign(Object.assign({},t),{marksState:i})]}),Pe.a.withSource("mark_changes"))}function Kt(e,t){return Object(r.pipe)(e.selection,O.a.map(e=>n=>(t.debug("backendToEditorScrollChanges: update selection ",e),[Object.assign(Object.assign({},Le.a.StateDiff.empty),{selection:k.g.some([n.selectionState,e])}),Object.assign(Object.assign({},n),{selectionState:e})])),Pe.a.withSource("selection_changes"))}!function(e){let t;!function(e){e.marksFilterChanged="marksFilterChanged"}(t=e.Kind||(e.Kind={}))}($t||($t={}));var Yt,Xt=n("UAG8"),Zt=n("xwB0"),Qt=n("tMFp"),Jt=n("skHh");!function(e){let t,n;e.create=i=>{const a=w.Monitoring.Logging.getLogger("MPTE.multiplex.fsm",w.Logging.LogLevel.TRACE,w.Logging.LogColor.Manager.getColor("MPTE.multiplex.fsm")),o=s.a.create(t.open("recoverable")),l=Object(r.flow)(O.a.withLatestFrom(o),O.a.concatMap(([s,c])=>{if(e.State.isWaitForAck(c)){if(!i(s))return a.warn(`Received ${s.kind} while waiting for Ack.\n              Multiplex drops this message and expects to receive Reject from Transport for the latest StateDiff.`,{currentState:c,message:Je.a.toShortString(s)}),O.a.EMPTY;if(s.id!==c.messageId)return a.error(`Received ${s.kind} from TextView for unknown messageId: ${s.id}. Expected: ${c.messageId}`),O.a.EMPTY}return e.State.isReset(c)&&Je.a.TextView.StateDiff.is(s)?(a.info("ChecksBackend hasn't finished resetting yet. Buffering message",Je.a.toString(s)),Object(r.pipe)(o,O.a.filter(e.State.isOpen),O.a.first(),O.a.mapTo(s),l)):Object(r.pipe)(c,n.step(s),([e,n])=>Object(r.pipe)(e,k.b.fold(e=>(a.error(e),O.a.EMPTY),e=>(a.debug(`\n                    FSM switch: ${t.Kind[c.kind]} -> ${t.Kind[e]}\n                    On ${Je.a.toShortString(s)}`),o.set(n),O.a.of(s)))))}));return{state:o,switchState:l}},function(e){let t,n;!function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED",e[e.WAIT_FOR_ACK=2]="WAIT_FOR_ACK",e[e.RESET=3]="RESET"}(t=e.Kind||(e.Kind={})),function(e){e.isRecoverable=e=>"recoverable"===e.tolerance}(n=e.WaitForAck||(e.WaitForAck={})),e.open=e=>({kind:t.OPEN,tolerance:e}),e.closed=e=>({kind:t.CLOSED,tolerance:e}),e.reset=e=>({kind:t.RESET,tolerance:e}),e.waitForAck=(e,n)=>({kind:t.WAIT_FOR_ACK,messageId:e,tolerance:n}),e.isOpen=e=>e.kind===t.OPEN,e.isClosed=e=>e.kind===t.CLOSED,e.isReset=e=>e.kind===t.RESET,e.isWaitForAck=e=>e.kind===t.WAIT_FOR_ACK}(t=e.State||(e.State={})),function(e){e.fromMessage=e=>{if(Je.a.TextView.is(e))switch(e.kind){case Je.a.TextView.Kind.Ack:case Je.a.TextView.Kind.AckCommand:return k.g.some([t.Kind.WAIT_FOR_ACK,t.Kind.OPEN]);case Je.a.TextView.Kind.AckStart:return k.g.some([t.Kind.WAIT_FOR_ACK,t.Kind.RESET]);case Je.a.TextView.Kind.Reject:return k.g.some([t.Kind.WAIT_FOR_ACK,t.Kind.CLOSED]);case Je.a.TextView.Kind.RejectCommand:return k.g.some([t.Kind.WAIT_FOR_ACK,t.Kind.OPEN]);case Je.a.TextView.Kind.StateDiff:return k.g.some([t.Kind.OPEN,t.Kind.CLOSED]);default:return k.g.none}if(Je.a.ChecksBackend.is(e))switch(e.kind){case Je.a.ChecksBackend.Kind.Ack:return k.g.some([t.Kind.CLOSED,t.Kind.OPEN]);case Je.a.ChecksBackend.Kind.Command:case Je.a.ChecksBackend.Kind.Start:case Je.a.ChecksBackend.Kind.StateDiff:return k.g.some([t.Kind.OPEN,t.Kind.WAIT_FOR_ACK]);default:return k.g.none}if(Je.a.MPTE.is(e))switch(e.kind){case Je.a.MPTE.Kind.RestartComplete:return k.g.some([t.Kind.RESET,t.Kind.OPEN]);default:return k.g.none}return k.g.none},e.step=n=>i=>Object(r.pipe)(n,e.fromMessage,k.g.map(([e,a])=>{if(e!==i.kind)return[k.b.left(`Failed to change state from ${t.Kind[i.kind]} to ${t.Kind[a]} from message: ${Je.a.toString(n)}\n                FSM must be in ${t.Kind[e]} state.`),i];switch(a){case t.Kind.CLOSED:return[k.b.right(a),t.closed(Je.a.TextView.Reject.is(n)?"irrecoverable":i.tolerance)];case t.Kind.RESET:return[k.b.right(a),t.reset("recoverable")];case t.Kind.OPEN:return[k.b.right(a),t.open(e===t.Kind.CLOSED?i.tolerance:"recoverable")];case t.Kind.WAIT_FOR_ACK:return[k.b.right(a),t.waitForAck(n.id,i.tolerance)];default:return Object(Ce.d)(a)}}),k.g.getOrElse(()=>[k.b.right(i.kind),i]))}(n||(n={}))}(Yt||(Yt={}));var en,tn,nn=n("xN5S");!function(e){let t,n;!function(e){e.isCommand=e=>Object(r.pipe)(e,Ie.d,k.b.isLeft),e.isStateDiff=e=>Object(r.pipe)(e,Ie.d,k.b.isRight),e.fromCommand=e=>[e.id,k.b.left(e)],e.fromStateDiff=e=>[Qt.a.generateUUID(),k.b.right(e)],e.fromIdAndStateDiff=(e,t)=>[e,k.b.right(t)]}(t=e.QueuedMessage||(e.QueuedMessage={})),function(e){e.empty=()=>[],e.clear=e=>e.splice(0,e.length),e.replaceLast=(e,n)=>i=>{e.pop(),e.push(t.fromStateDiff({diff:i,source:n}))},e.peek=k.a.head,e.dequeue=e=>Object(r.pipe)(e,k.a.head,k.g.tap(Object(r.flow)(Ie.d,k.b.mapLeft(()=>{e.shift()})))),e.mapCommands=e=>t=>Object(r.pipe)(t,k.a.map(Object(r.flow)(Ie.d,k.b.mapLeft(e))))}(n||(n={}));const i=(e,t)=>Yt.State.isOpen(e)&&k.a.isEmpty(t);e.create=(e,a,o)=>{const s=w.Monitoring.Logging.getLogger("MPTE.multiplex.queue",w.Logging.LogLevel.TRACE,w.Logging.LogColor.Manager.getColor("MPTE.multiplex.queue")),l=n.empty();let c=k.g.none;Object(v.r)("queue",()=>l);const d=e=>k.b.fold(e=>{throw(()=>Object(r.pipe)(l,n.mapCommands(e=>o.next(Je.a.MPTE.RejectCommand.create(e.id,Je.a.MPTE.RejectCommand.Reason.REBASE_FAILURE)))))(),n.clear(l),new nn.a.StateDiffRebaseError("Trying to rebase diff with changes",e)},e),u=Object(r.pipe)(e,O.a.filter(Yt.State.isOpen),O.a.delay(0),O.a.withLatestFrom(e),O.a.switchMap(([,e])=>Yt.State.isOpen(e)?O.a.of(n.dequeue(l)):u),O.b.compact);return{rebaseStateDiffAgainstQueue:e=>k.b.tryCatchError(()=>(Object(r.pipe)(c,k.g.filter(()=>k.a.isEmpty(l)),k.g.tap(e=>l.push(e))),l.reduce((e,n,i)=>Object(r.pipe)(n,Ie.d,k.b.fold(()=>e,n=>Object(r.pipe)(n.diff,Le.a.StateDiff.rebase(e,!1),d(e=>Object(r.pipe)(e,Le.a.StateDiff.rebase(n.diff,!0),d(a=>(l[i]=t.fromStateDiff({diff:a,source:n.source}),e))))))),e))),getStream:(o,d)=>O.a.mergeStatic(Object(r.pipe)(a,O.a.tap(e=>{Je.a.TextView.Ack.is(e)&&Object(r.pipe)(c,k.g.exists(([t])=>t===e.id))&&(c=k.g.none,Object(r.pipe)(n.peek(l),k.g.tap(t=>{t[0]===e.id&&Object(r.pipe)(l.shift(),k.g.fromNullable,k.g.map(Ie.b),k.g.tap(e=>s.debug("Removed Ack'ed message from queue",{id:e})))}))),Je.a.TextView.AckStart.is(e)&&(l.splice(0,l.length),s.debug("Queue is cleared on reset session."))}),O.a.switchMapTo(O.a.EMPTY)),Object(r.pipe)(d,O.a.withLatestFrom(e),O.a.switchMap(([e,n])=>i(n,l)?O.a.of(t.fromCommand(e)):(s.debug("Enqueue command",e),l.push(t.fromCommand(e)),O.a.EMPTY))),Object(r.pipe)(o,O.a.filter(({diff:e})=>!Le.a.StateDiff.isEmpty(e)),O.a.withLatestFrom(e),O.a.switchMap(([e,a])=>{if(i(a,l)){const n=t.fromStateDiff(e);return s.debug("Passing through",n),O.a.of(n)}return Object(r.pipe)(l,k.a.last,k.g.fold(()=>{const n=t.fromStateDiff(e);s.debug("No items in queue. Enqueue StateDiff",n),l.push(n)},Object(r.flow)(Ie.d,k.b.fold(()=>{s.debug("Previous item in queue is Command. Enqueue StateDiff",e),l.push(t.fromStateDiff(e))},t=>{s.debug("Previous item in queue is StateDiff. Merge and enqueue StateDiff",e),Object(r.pipe)(Le.a.StateDiff.monoid.concat(t.diff,e.diff),n.replaceLast(l,t.source))})))),O.a.EMPTY})),u).pipe(O.a.tap(e=>{c=k.g.fromPredicate(t.isStateDiff)(e)}))}}}(en||(en={})),(tn||(tn={})).create=(e,t,n,i,a)=>{const o=w.Monitoring.Logging.getLogger("MPTE.multiplex.reject",w.Logging.LogLevel.TRACE,w.Logging.LogColor.Manager.getColor("MPTE.multiplex.reject")),s=n.pipe(O.a.filter(Yt.State.isWaitForAck));return Object(r.pipe)(e,O.a.filter(Je.a.TextView.Reject.is),O.a.tap(e=>o.debug("Got reject from TextView",e)),O.a.withLatestFrom(s),O.a.map(([e,n])=>{if(t.next(Je.a.ChecksBackend.Ack.create(e.id,e.forRevision)),Je.a.TextView.Reject.isRecoverable(e)){const t=Le.a.StateDiff.decodeAndValidate(e.diff);return k.b.isLeft(t)?(o.debug(`Received an invalid state diff in Reject. Restarting session. Error details: ${t.left}`,Le.a.StateDiff.JSON.show.show(e.diff)),a({severity:"WARN",from:"MultiplexRejectPipeline",reason:`Received an invalid state diff in Reject: ${Le.a.StateDiff.JSON.show.show(e.diff)}`}),k.g.none):Yt.State.WaitForAck.isRecoverable(n)?Object(r.pipe)(e.diff,Le.a.StateDiff.codec.decode,k.b.fold(e=>(o.error("Failed to decode Reject diff",e),a({severity:"ERROR",from:"MultiplexRejectPipeline",reason:`Failed to decode Reject diff: ${e}`}),k.g.none),Object(r.flow)(i.rebaseStateDiffAgainstQueue,k.b.mapLeft(e=>{o.debug("Failed to rebase Reject on queue. Restarting session...",e),a({severity:"WARN",from:"MultiplexRejectPipeline",reason:`Failed to rebase Reject on queue: ${e}`})}),k.g.fromEither))):(o.debug("Multiplex is not in recoverable state. Restarting session..."),a({severity:"WARN",from:"MultiplexRejectPipeline",reason:"Multiplex is not in recoverable state"}),k.g.none)}return o.debug("Reject is not recoverable. Restarting session..."),a({severity:"WARN",from:"MultiplexRejectPipeline",reason:"Reject is not recoverable"}),k.g.none}),O.b.compact,O.a.tap(e=>o.debug("Sending rebased StateDiff to ChecksBackend",e)))};const an=1,rn=1;var on,sn,ln=n("nQSW"),cn=n("Pe9T"),dn=n("Fgeo"),un=n("aq1X"),pn=n("sv6e"),hn=n("vz4c");!function(e){e.OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY="OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY",e.create=function({nextPayDate:n,currentPlan:i},a,r=x.c.DenaliStorage.fromLocalStorage(x.c.ls)){Object(v.r)("gbSatisfactionSurveyModelOverrideNextPayDateForDebug",t=>r.setItem(e.OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY,t));const s=I.d.Local.parseDate(Object(o.pipe)(r.getItem(e.OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY),k.g.getOrElse(()=>n)));return i?Object(o.pipe)(k.g.fromEither(s),k.g.map(t),k.g.map(e=>({daysFromInstitutionCreation:e,isAdmin:a.admin,isTrial:!0===i.hasTrial}))):k.g.none};const t=e=>{const t=I.d.Local.Timestamp,n=I.d.Local.daysAgo(e,7);return Math.floor(t.subtract(t.now(),n)/I.d.MS_IN_DAY)}}(on||(on={})),function(e){let t=null;e.create=function({currentPlan:e,nextPayDate:a,expirationDate:r}){var s;Object(v.r)("premiumSurveyModelOverridePremiumEndDate",e=>t=e);const l=I.d.Local.parseDate(null!==(s=null!=t?t:a)&&void 0!==s?s:r);return e?Object(o.pipe)(k.g.fromEither(l),k.g.map(n(e.periodMonths)),k.g.map(t=>({weeksPassedFromLastPayment:t,currentPlanType:i(e)}))):k.g.none};const n=e=>t=>{const n=I.d.Local.Timestamp.toLocal(I.d.Local.monthsAgo(t,e));return I.d.Local.toTimestamp(I.d.Local.subtract(I.d.Local.now(),n))/I.d.MS_IN_WEEK};function i(e){switch(e.periodMonths){case 1:return"Monthly";case 3:return"Quarterly";default:return"Annual"}}}(sn||(sn={}));var mn=n("CvSs"),gn=n("D8Xd"),fn=n("+ukg"),bn=n("+dDf");const yn=2e3;var vn;!function(e){e[e.Inactive=0]="Inactive",e[e.ListenCrossSession=1]="ListenCrossSession",e[e.ListenCurrentSession=2]="ListenCurrentSession"}(vn||(vn={}));const kn=3;var wn;!function(e){function t(e,t){return{type:e,currentSessionRules:[O.a.EMPTY,t.pipe(O.a.filter(_.e.isLensview),O.a.pairwise(),O.a.filter(([e,t])=>!bn.a.isInGlobalSuccess(e)&&bn.a.isInGlobalSuccess(t)),O.a.debounceTime(yn))],crossSessionRules:e=>O.a.of({counter:e.counter+1}),get defaultData(){return{actual:!0,counter:0,wasClosedAt:k.g.none}},getState(e){const t=Date.now()-Object(o.pipe)(e.wasClosedAt,k.g.fold(()=>0,e=>e.getTime()));return!e.actual||t<7*I.d.MS_IN_DAY?vn.Inactive:e.counter>=kn?vn.ListenCurrentSession:vn.ListenCrossSession},transform:e=>gn.a.isCloseAction(e)?{actual:!1}:{wasClosedAt:k.g.some(new Date)}}}e.getMostActiveUsers=function(e){return{type:dn.m.MostActiveUsers,currentSessionRules:t(dn.m.MostActiveUsers,e).currentSessionRules,crossSessionRules:e=>O.a.of({lastThreeVisits:e.lastThreeVisits.concat([(new Date).toISOString()]).slice(-3)}),get defaultData(){return{passed:!1,lastThreeVisits:[]}},getState:e=>e.passed?vn.Inactive:e.lastThreeVisits.length<3||Date.now()-new Date(e.lastThreeVisits[0]).getTime()>7*I.d.MS_IN_DAY?vn.ListenCrossSession:vn.ListenCurrentSession,transform:()=>({passed:!0})}},e.getDefault=t;const n=e=>{const t=I.d.Local.toTimestamp(e),n=I.d.Local.daysAgo(I.d.Local.now(),14);return t>=I.d.Local.monthsAgo(I.d.Local.now(),12)&&t<=n};e.getProofit=function(e,t,i,a,r){const o=i.modal.pipe(O.a.first(e=>e.nonEmpty()),O.a.mapTo({actual:!1}));return{type:dn.m.ProofitPromo,crossSessionRules:()=>O.a.throwError(new Ce.b("Proofit Survey invalid cross session observable")),get currentSessionRules(){const s=e.textInfo.pipe(O.a.map(k.g.filter(e=>e.wordsCount>=200)),O.a.concatMap(k.g.fold(()=>O.a.EMPTY,()=>i.requestStatistics())),O.a.switchMap(e=>e.fold(()=>O.a.EMPTY,e=>O.a.of(e))),O.a.map(e=>e.lastCompletedJobDate),O.b.compact,O.a.filter(n)),l=t.textChangedAfterPaste.pipe(O.a.filter(e=>"partial"!==e.type),O.a.switchMapTo(s));return[o,r.view(e=>e===fn.o.enabled).pipe(O.a.switchMap(T.b.orEmpty(O.a.mergeStatic(a.isUploaded()?s:O.a.EMPTY,l).pipe(O.a.first()))))]},get defaultData(){return{actual:!0}},getState:e=>e.actual?vn.ListenCurrentSession:vn.Inactive,transform:e=>("getStarted"===e&&i.showOrderModal(),{actual:!1})}},e.getPremiumOnboarding=function(e){return{type:dn.m.PremiumOnboarding,crossSessionRules:()=>O.a.throwError(new Ce.b("Premium Onboarding Survey invalid cross session observable")),defaultData:{afterFirstWeek:!1,afterSecondWeek:!1},currentSessionRules:[O.a.EMPTY,O.a.of(e).pipe(O.a.filter(k.g.exists(e=>e.weeksPassedFromLastPayment>1)),O.a.delay(yn))],getState:t=>Object(o.pipe)(e,k.g.fold(()=>vn.Inactive,({weeksPassedFromLastPayment:e})=>e>2&&!t.afterSecondWeek?vn.ListenCurrentSession:e>1&&!t.afterFirstWeek?vn.ListenCurrentSession:vn.Inactive)),transform:t=>({[Object(o.pipe)(e,k.g.exists(e=>e.weeksPassedFromLastPayment>2))?"afterSecondWeek":"afterFirstWeek"]:gn.a.isCloseAction(t)})}},e.getGBSatisfaction=function(e){return{type:dn.m.GBSatisfaction,crossSessionRules:()=>O.a.throwError(new Ce.b("GB Satisfaction Survey invalid cross session observable")),defaultData:{firstAppearance:!1,secondAppearance:!1,surveyCompleted:!1},currentSessionRules:[O.a.EMPTY,O.a.of(e).pipe(O.a.filter(k.g.exists(e=>e.daysFromInstitutionCreation>=3)),O.a.delay(yn))],getState:t=>t.surveyCompleted?vn.Inactive:Object(o.pipe)(e,k.g.fold(()=>vn.Inactive,({daysFromInstitutionCreation:e})=>e>=5&&!t.secondAppearance?vn.ListenCurrentSession:e>=3&&!t.firstAppearance?vn.ListenCurrentSession:vn.Inactive)),transform:t=>gn.a.isCloseAction(t)?{[Object(o.pipe)(e,k.g.exists(e=>e.daysFromInstitutionCreation>=5))?"secondAppearance":"firstAppearance"]:!0}:{surveyCompleted:"completeSurvey"===t}}}}(wn||(wn={}));var Sn,_n=n("2Jhg");(Sn||(Sn={})).create=function(e,t,n,i){const a=w.Monitoring.Logging.getLogger("SurveyManager"),r=t.getSurveyModel(e.type).view(k.g.getOrElse(()=>e.defaultData)),o=new O.a.BehaviorSubject(_n.e),s=[r.view(t=>[e.getState(t),t]).pipe(O.a.distinctUntilChanged(([e],[t])=>e===t),O.a.tap(()=>o.next(_n.e)),O.a.switchMap(([t,a])=>{switch(t){case vn.Inactive:return O.a.EMPTY;case vn.ListenCrossSession:return e.crossSessionRules(a);case vn.ListenCurrentSession:const[r,s]=e.currentSessionRules;return r.pipe(O.a.merge(s.pipe(O.a.switchMapTo(n.state),O.a.filter(e=>e.length<1),O.a.take(1),O.a.switchMap(()=>(o.next(Object(_n.h)(e.type)),i(e.type).pipe(O.a.map(e.transform),O.a.take(1),O.a.finalize(()=>{o.next(_n.e)})))))));default:return Object(Ce.d)(t)}})).subscribe(n=>t.setSurveyModel(e.type,I.e.update(r.get(),n)),e=>a.error("Survey error",e))];return Object(v.r)("survey",{show:()=>r.get(),clear:()=>t.setSurveyModel(e.type,e.defaultData)}),{dispose:()=>s.forEach(e=>e.unsubscribe())}};var Cn=n("rmZI"),En=n("bSlT");const On=e=>t=>({onShow:()=>{e.gnarSpec.premiumOnboardingSurveySurveyShow(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType)},onClose:()=>{e.gnarSpec.premiumOnboardingSurveySurveyClose(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType)},onFirstAnswer:n=>{e.gnarSpec.premiumOnboardingSurveySurveyAnswerFirst(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType,n)},onSecondAnswer:n=>{e.gnarSpec.premiumOnboardingSurveySurveyAnswerSecond(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType,n)}}),An=e=>t=>({onShow:()=>{e.gnarSpec.gbSatisfactionSurveySurveyShow(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId)},onClose:()=>{e.gnarSpec.gbSatisfactionSurveySurveyClose(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId)},onFirstAnswer:n=>{e.gnarSpec.gbSatisfactionSurveySurveyAnswerFirst(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)},onSecondAnswer:n=>{e.gnarSpec.gbSatisfactionSurveySurveyAnswerSecond(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)},onThirdAnswer:n=>{e.gnarSpec.gbSatisfactionSurveySurveyAnswerThird(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)}});function xn(e,t,n,i,a,r,s,l,c,d,u){const p=Object(o.pipe)(d.state.get(),e=>mn.a.isOk(e)?sn.create(e.value):k.g.none),h=Object(o.pipe)(d.state.get(),e=>mn.a.isOk(e)&&Boolean(e.value.currentPlan)&&k.g.isSome(s.profile.get().institutionInfo)?on.create(e.value,k.g.unsafeGet(s.profile.get().institutionInfo)):k.g.none),m=function(e,t,n,i,a){return r=>dn.j.mapBySurveyType(r,()=>e.state.view(k.g.isNone).pipe(O.a.switchMap(T.b.orEmpty(t.enqueue("proofitPromo").pipe(O.a.filter(e=>"shown"!==e))))),e=>t.enqueue("externalSurvey",{surveyType:e}).pipe(O.a.filter(e=>"shown"!==e)),()=>Object(o.pipe)(n,k.g.map(On(a)),k.g.fold(()=>O.a.EMPTY,e=>(e.onShow(),t.enqueue("premiumOnboardingSurvey",{viewModel:new En.c(e)}).pipe(O.a.filter(e=>"shown"!==e),O.a.tap(e.onClose))))),()=>Object(o.pipe)(i,k.g.map(e=>({isAdmin:e.isAdmin,tracking:An(a)(e)})),k.g.fold(()=>O.a.EMPTY,({isAdmin:e,tracking:n})=>(n.onShow(),t.enqueue("gbSatisfactionSurvey",{viewModel:new Cn.c(n,e)}).pipe(O.a.filter(e=>"shown"!==e),O.a.tap(n.onClose))))))}(l,c,p,h,u);switch(e){case dn.m.FreeClarityAlertsEnabled:case dn.m.FreeClarityAlertsControl:case dn.m.PriorityListForExistingUsers:return Sn.create(wn.getDefault(e,t),s.settings,c,m);case dn.m.ProofitPromo:return Sn.create(wn.getProofit(n,i,a,r,s.features.proofit),s.settings,c,m);case dn.m.PremiumOnboarding:return Sn.create(wn.getPremiumOnboarding(p),s.settings,c,m);case dn.m.GBSatisfaction:return Sn.create(wn.getGBSatisfaction(h),s.settings,c,m);case dn.m.MostActiveUsers:return Sn.create(wn.getMostActiveUsers(t),s.settings,c,m);default:return Object(Ce.d)(e)}}var Tn=n("jlxt"),Mn=n("Wcgi"),jn=n("Lmm7"),In=n("9xM8");class Rn{constructor(e,t,n,i,a,l,c,d,u,p,h,m){this._inlineManager=e,this._positionManager=t,this._synonymsModel=n,this._state=i,this._networkState=a,this._ded=l,this._notificationsManager=c,this._getActiveItemWithAlert=d,this._trackUndoCloseButton=u,this._trackSynonymPopupOpen=p,this._trackSynonymPopupDismiss=h,this._trackSynonymAccept=m,this._log=w.Monitoring.Logging.getLogger("LegacySynonymsViewModel"),this.viewState=s.a.create(k.g.none),this.popupShown=this.viewState.view(k.g.fold(()=>!1,e=>e.popupVisible)),this._defaultClassName="defaultSynonymClass",this._subs=[],this.disposeFirstSynonym=e=>{this._ded.changeMarks([Mn.a.Change.getRemoveAction({range:()=>k.b.getOrElse(e=>e)(e.range())},Mn.a.Change.RemoveType.full)(e.id)]),this._deregisterRange(e.id)},this.query=e=>(this._ded.flushChanges(),this._synonymsModel.query(e)),this.close=e=>{"closedByUser"===e&&Object(o.pipe)(this.viewState.get(),k.g.map(e=>e.synonymsState),k.g.filter(Object(v.p)(jn.a.isReady,jn.a.isEmpty)),k.g.tap(e=>{this._synonymsModel.ignore(e.synonyms.id),this._trackSynonymPopupDismiss(e.pname,e.stats,jn.c.getTimeToClose(e.readyAt))})),this._inlineManager.closeSynonyms.next()},this._withRegisteredWord=(e,t)=>O.a.Observable.create(n=>{const i=this._synonymsModel.positionManager.registerRange(Tn.a.SynonymMark.generateActiveWordRandomId(),e),a=t(i).subscribe(n);return()=>{a.unsubscribe(),this._deregisterRange(i.meta.id)}}),this._toRegisteredMark=e=>this._synonymsModel.positionManager.registerRange(e.meta.id,e),this._listenQuery=e=>O.a.Observable.create(t=>(this._request(e).then(n=>{var i;null!==(i=t.closed)&&void 0!==i&&i||Object(o.pipe)(n,k.g.fold(()=>this.close("error"),n=>t.next([e,n])))}),()=>{this._synonymsModel.abortQuery()})),this._createSynonymsState=([e,t])=>O.a.Observable.create(n=>{const i=this._canShowPopup(t);return Object(o.pipe)(this._createMark(e,i),a=>Object(o.pipe)(a.range(),k.b.fold(e=>{this._log.error("Error creating Synonym state",e)},a=>{const r=Tn.a.create({type:"visible",view:"full",color:Tn.a.Meta.Color.blue,underline:"solid",highlight:"none",order:0,animation:"none"})(Object.assign(Object.assign({},a),{meta:{id:Tn.a.SynonymMark.id}})),o=this._toRegisteredMark(r),s={synonymsState:t,activeWord:e,activeMark:o,popupVisible:i};return n.next(s),()=>{this._deregisterRange(s.activeMark.meta.id),setTimeout(()=>this._removeMark(s),10)}})))}),this._removeMark=e=>{try{this._ded.flushChanges(),Object(o.pipe)(this._ded.getMarkById(e.activeMark.meta.id),k.b.map(t=>{this._ded.changeMarks([Mn.a.Change.getRemoveAction({range:()=>Object(o.pipe)(t.range(),k.b.getOrElse(e=>e))},Mn.a.Change.RemoveType.full)(e.activeMark.meta.id)])}))}catch(e){this._log.error("Cannot remove synonym",e)}},this._createMark=(e,t)=>Object(o.pipe)(this._ded.changeMarks([Mn.a.Change.getCreateAction({range:()=>e,classes:t?[this._defaultClassName,this.style.synonym,this.style.markSelected]:[this._defaultClassName,this.style.markHidden],order:0})(Tn.a.SynonymMark.id)]),e=>e.created.get(Tn.a.SynonymMark.id),k.b.fold(()=>null,r.identity)),this._emitCloseWhen=O.b.listenWhenSome(()=>O.a.mergeStatic(this._ded.contentUpdated,this._state.view(_.e.getActiveAlert(this._getActiveItemWithAlert)).pipe(O.a.skip(1)),O.a.fromEvent(document,"keydown")).pipe(O.a.mapTo(T.b.voidValue),O.a.tap(()=>this.close("closedByUser")))),this._isOnline=()=>"offline"!==this._networkState.getOnlineStatus(),this.style=Object(In.a)(),this._handleState()}getFirstSynonymRect(){return this.getFirstSynonym().pipe(O.a.map(k.g.chain(e=>k.g.fromEither(e.getRect()))))}getSynonymMarkRect(e){return k.l.fromEither(this._ded.getMarkRect(e.meta.id))}scrollToMark(e,t,n){return this._ded.scrollToMark(e.meta.id,{animate:n,paddingTop:t})}onPopupOpen(){Object(o.pipe)(this.viewState.get(),k.g.map(e=>e.synonymsState),k.g.filter(Object(v.p)(jn.a.isReady,jn.a.isEmpty)),k.g.map(({stats:e,pname:t})=>({stats:e,pname:t})),k.g.getOrElse(()=>({stats:jn.c.emptySynonymsStats,pname:"unknown"})),({pname:e,stats:t})=>void this._trackSynonymPopupOpen(e,t))}getFirstSynonym(){return O.a.Observable.create(e=>{let t=k.g.none;const n=Nn(this._ded.getText()),i=n.length?k.g.some(Ut.b.create(n[0].start,n[n.length-1].end)):k.g.none,a=Object(o.pipe)(i,k.g.fold(()=>[],e=>this._positionManager.findRanges(t=>Pt.b.isVisible(t)&&Ut.b.isOverlap(t,e)))),s=O.a.from(Promise.all(Ln(n,a).map(this.query))).pipe(O.a.map(Object(r.flow)(Object(j.findFirst)(jn.a.isReady),k.g.chain(e=>{const t=Tn.a.SynonymMark.generateSynonymOnboardingId(e.synonyms.id),n=Ut.b.create(e.query.start,e.query.start+e.query.word.length),i=this._synonymsModel.positionManager.registerRange(t,n);return Object(o.pipe)(this._ded.changeMarks([Mn.a.Change.getCreateAction({range:()=>i,order:0,classes:[]})(t)]),e=>e.created.get(t),k.g.fromEither)}))),O.a.first()).subscribe(n=>{t=n,e.next(n)});return()=>{k.g.map(this.disposeFirstSynonym)(t),s.unsubscribe()}})}apply(e){const t=this.viewState.get();Object(o.pipe)(t,k.g.map(({synonymsState:t,activeWord:n})=>{if(!jn.a.isReady(t))throw new Ce.b("Synonym should exist.");this._trackSynonymAccept(t.pname,Object.assign(Object.assign({},t.stats),jn.c.getSynonymStats(e,t.synonyms.synonymsOrGroups)),jn.c.getTimeToClose(t.readyAt));const i=this._synonymsModel.applySynonym({id:t.synonyms.id,dispose:v.e,range:n},e);Object(_e.d)(()=>this._notificationsManager.enqueue("alertUndo",{params:Object(_e.e)([i])}),this._trackUndoCloseButton,()=>(this._ded.flushChanges(),this._ded.contentUpdated)).subscribe(e=>"commit"===e?i.commit():i.undo())})),this.close("apply")}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_request(e){return this.query({start:e.start,word:e.meta.value}).then(k.g.some).catch(e=>(this._log.error("Error querying synonyms",e),k.g.none))}_canShowPopup(e){return jn.a.isReady(e)||jn.a.isEmpty(e)}_deregisterRange(e){Object(o.pipe)(this._synonymsModel.positionManager.findById(e),k.g.fold(v.e,t=>{this._ded.flushChanges(),this._synonymsModel.positionManager.deregisterRange(e)}))}_handleState(){this._subs.push(this._inlineManager.doubleClickedWord.pipe(O.a.switchMap(this._emitCloseWhen),O.a.map(k.g.filter(this._isOnline)),O.b.chain(e=>(this._ded.flushChanges(),this._withRegisteredWord(e,Object(r.flow)(this._listenQuery,O.a.switchMap(this._createSynonymsState),O.a.map(k.g.some)))))).subscribe(T.b.toAtom(this.viewState),e=>this._log.error("can not change syns state",e)))}}const Nn=(e,t=10)=>{const n=/( |^)[a-z]{3,}\b/gim,i=[];let a;for(let r=0;(a=n.exec(e))&&r<t;r++){const e=a[0].replace(" ",""),t=n.lastIndex-e.length,r=t+e.length;i.push({start:t,word:e,end:r})}return i},Ln=(e,t)=>0===t.length||0===e.length?e:(()=>{const n=e[e.length-1].end,i=t.findIndex(e=>e.start>n),a=i>=0?t.slice(0,i):t;return e.filter(e=>a.every(t=>!(e.start<=t.end&&t.start<=e.end)))})();var Pn=n("wt7H"),Dn=n("i1Da");function Fn(e,t,n,i){return n.pipe(O.a.map(n=>a=>Object(r.pipe)(function(e,t,n,i){return a=>{const o=Ne.a.markAlertShouldBeVisible(e,t),{alertsToShow:s,alertsToRemove:l,alertsToHide:c}=Object(r.pipe)(n,h.a.reduce({alertsToShow:new Array,alertsToRemove:new Array,alertsToHide:new Array},(e,t)=>(o(t)?a.markAlerts.has(t.id)||e.alertsToShow.push(t):a.markAlerts.has(t.id)&&(t.alert.lensId!==u.a.SpecialId.Plagiarism?e.alertsToRemove.push(t):e.alertsToHide.push(t)),e)));if(0===s.length&&0===l.length&&0===c.length)return k.b.right([Tn.a.Collection.Diff.monoid.empty,Object.assign(Object.assign({},a),{markAlertShouldBeVisible:t})]);const d=Object.assign(Object.assign({},a),{markAlertShouldBeVisible:t,markAlertStates:It.a.State.Repository.copy(a.markAlertStates),markAlerts:new Map(a.markAlerts),marks:new Map(a.marks)}),p=new Map,m=ye.a.fromMutation(e=>{l.forEach(t=>{d.markAlertStates=It.a.State.Repository.removeFromAll(d.markAlertStates,t.id),Object(r.pipe)(Ne.a.getMarksForAlert(d,t),k.b.fold(e=>{p.set(t.id,e)},n=>{d.markAlerts.delete(t.id),n.forEach(t=>{d.marks.delete(t.meta.id),e.set(t.meta.id,k.m.left(t))})}))}),c.forEach(t=>{Object(r.pipe)(function(e,t){return Ne.a.getMarksForAlert(e,t,e=>Object.assign(Object.assign({},e),{type:"hidden"}))}(d,t),k.b.fold(e=>{p.set(t.id,e)},t=>{t.forEach(t=>{d.marks.set(t.meta.id,t),e.set(t.meta.id,k.m.both(t,t))})}))}),s.forEach(t=>Object(r.pipe)(Ne.a.createMarkAlert(i,d,t),k.b.fold(e=>{p.set(t.id,e)},({ma:n,marks:i})=>{d.markAlerts.set(t.id,n),i.forEach(Ne.a.setMarkTo(d.marks,e))})))});return p.size>0?k.b.left({recovered:[m,d],rejected:p}):k.b.right([m,d])}}(a.textState,n,e.get(),t),Ne.a.ChangeWithFailures.toChange(e=>i.error("marks filter was not applied properly on MarksState",e)),Pe.a.fromMSChange)(a)),Pe.a.withSource("marks_filter_changes_report"))}var Bn=n("O6HF"),Hn=n("+w1e");const Vn=w.Monitoring.Logging.getLogger("cardsTelemetry"),Un=w.Monitoring.TimeSeries.root.getMetric("card.fullChecking");class qn{constructor(e,t,n,i,a){this._telemetry=e,this._cardActions=t,this._lensState=n,this._mutingAlertsReader=i,this._activeAlertGetter=a,this._subs=new A.a.Keeper,this._focusedCardObservable=this._lensState.pipe(O.a.map(_.e.getActiveItem(this._activeAlertGetter)),O.b.compact,O.a.filter(e=>"focused"===e.visualState.transition.type)),this._cardFeedbackFormDismissed=this._lensState.pipe(O.a.map(_.e.getActiveItem(this._activeAlertGetter)),O.b.compact,O.a.pairwise(),O.a.filter(([e,t])=>"feedback_form"===e.visualState.transition.type&&e.id!==t.id),O.a.map(()=>O.a.from(this._telemetry.gnarSpec.feedbackFormCardFormSkipped((this._telemetry.pageId,this._telemetry.pageSessionId))))),this._subs.push(this._cardActions.pipe(O.a.map(e=>{switch(e.type){case Hn.b.Type.alertCardShow:const t=this._lensState.get();return O.a.from(this._telemetry.gnarSpec.alertCardShow(e.cardType,t.currentLens.id,this._telemetry.pageId,t.switchOrder,this._telemetry.pageSessionId));case Hn.b.Type.alertMinicardButtonClick:return O.a.from(this._telemetry.gnarSpec.alertMinicardButtonClick(this._telemetry.pageId,this._telemetry.pageSessionId));case Hn.b.Type.alertApply:return O.a.from(this._telemetry.gnarSpec.suggestedReplacementButtonClick(this._telemetry.pageId,e.cardType,"assistantOn",this._telemetry.pageSessionId));case Hn.b.Type.openSetGoals:return O.a.from(this._telemetry.gnarSpec.cardActionButtonClick(this._telemetry.pageId));case Hn.b.Type.alternativeReplacementRadioButtonClick:return O.a.from(this._telemetry.gnarSpec.alternativeReplacementRadioButtonClick(this._telemetry.pageId,e.index));case Hn.b.Type.cardMatchesNavigationButtonClick:return O.a.from(this._telemetry.gnarSpec.cardMatchesNavigationButtonClick(e.direction,this._telemetry.pageId,this._telemetry.pageSessionId));case Hn.b.Type.switchToClosestByViewport:return O.a.from(this._telemetry.gnarSpec.moreAlertsButtonClick(e.position,e.cardsAmount,this._telemetry.pageId));case Hn.b.Type.moreAlertsButtonShow:return O.a.from(this._telemetry.gnarSpec.moreAlertsButtonShow(e.position,e.cardsAmount,this._telemetry.pageId));case Hn.b.Type.fullSentenceHighlightChangesToggle:return O.a.from(this._telemetry.gnarSpec.fullSentenceCardHighlightChangesToggled(e.showChanges,this._telemetry.pageId,this._telemetry.pageSessionId));case Hn.b.Type.moreActionsButtonToggle:return"open"===e.mode?O.a.from(this._telemetry.gnarSpec.alertCardThreeDotsMenuClick(this._telemetry.pageId,this._telemetry.pageSessionId)):O.a.EMPTY;case Hn.b.Type.alertIgnore:return O.a.from(this._telemetry.gnarSpec.alertCardDismissClick(this._telemetry.pageId,Object(o.pipe)(this._mutingAlertsReader,k.g.chain(t=>t.getAlertMuteCategory(e.alertId)),k.g.map(e=>e.id),k.g.getOrElse(()=>void 0)),this._telemetry.pageSessionId));case Hn.b.Type.muteAlertCategory:return O.a.from(this._telemetry.gnarSpec.deactivatedSuggestionsCardTurnOffButtonClick(e.categoryId,this._telemetry.pageId,this._telemetry.pageSessionId));case Hn.b.Type.mutedAlertSuccessShow:return O.a.from(this._telemetry.gnarSpec.deactivatedSuggestionsCardCategoryDeactivatedShow(this._telemetry.pageId,this._telemetry.pageSessionId));case Hn.b.Type.undoMuteAlertCategory:return O.a.from(this._telemetry.gnarSpec.deactivatedSuggestionsTurnBackOnButtonClick(this._telemetry.pageId,this._telemetry.pageSessionId));case Hn.b.Type.mutedAlertSuggestionManagementClick:return O.a.from(this._telemetry.gnarSpec.deactivatedSuggestionsSuggestionManagementClick(this._telemetry.pageId,"undoPopup",this._telemetry.pageSessionId));case Hn.b.Type.muteQuotedAdviceShow:return O.a.from(this._telemetry.gnarSpec.muteQuotedAlertsNotificationShown(this._telemetry.pageId,this._telemetry.pageSessionId));case Hn.b.Type.dismissMuteQuotedAdvice:return O.a.from(this._telemetry.gnarSpec.muteQuotedAlertsNotificationDismissed(this._telemetry.pageId,this._telemetry.pageSessionId));case Hn.b.Type.openPreferences:return O.a.from(this._telemetry.gnarSpec.muteQuotedAlertsSettingsOpened((this._telemetry.pageId,this._telemetry.pageSessionId)));case Hn.b.Type.alertIgnoreFormSubmit:return Boolean(e.reason)?O.a.EMPTY:O.a.from(this._telemetry.gnarSpec.feedbackFormCardFormSkipped((this._telemetry.pageId,this._telemetry.pageSessionId)));case Hn.b.Type.alertIgnoreFeedbackFormShow:return O.a.from(this._telemetry.gnarSpec.feedbackFormCardFormOpened((this._telemetry.pageId,this._telemetry.pageSessionId)));default:return O.a.EMPTY}}),O.a.merge(this._cardFeedbackFormDismissed),O.a.switchMap(e=>e.pipe(O.a.catchError(e=>(Vn.warn("Card telemetry request failed",e),O.a.EMPTY))))).subscribe(),this._focusedCardObservable.pipe(O.a.distinctUntilChanged((e,t)=>e.id===t.id),O.a.switchMap(e=>{if(e.meta.checking===Bn.a.CheckingState.Full){const e=performance.now();let t=!1;return this._focusedCardObservable.pipe(O.a.first(e=>e.meta.checking!==Bn.a.CheckingState.Full),O.a.tap(()=>{Un.getTimer("finished").recordTime(performance.now()-e),t=!0}),O.a.finalize(()=>{t||Un.getTimer("interrupted").recordTime(performance.now()-e)}))}return O.a.EMPTY})).subscribe())}dispose(){this._subs.dispose()}}var Wn=n("24uI");class $n{constructor(e,t,n,i){this._uploadViewModel=e,this._denaliEditorModel=t,this._userAccount=n,this._environment=i,this.visible=this._denaliEditorModel.contentUpdated.pipe(O.a.startWith(void 0),O.a.map(()=>!zn(this._denaliEditorModel)),O.a.distinctUntilChanged()),this.size=this._userAccount.settings.editorPreferences.view("fontSize")}get uploadInputAccept(){return this._environment.has(ln.b.Flag.acceptUploadByMimeTypes)?cn.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):cn.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",")}upload(e){this._uploadViewModel.uploadModel.upload({files:e,notify:!1,allowMultiple:!1,isDragNDrop:!1})}}const zn=e=>{return e.getTextLength()>1||(()=>{const t=e.getContents().delta.ops[0];return Boolean(t)&&k.g.isSome(Wn.a.getAttrs(t))})()};var Gn,Kn=n("4pFY");class Yn{constructor(e,t){this._documentModel=e,this._notificationsManager=t,this._subs=new A.a.Keeper,this._log=w.Monitoring.Logging.getLogger("downloadViewModel"),this._handleDownloadError=e=>(this._log.error("downloadDocument failed",e),e instanceof Kn.a.UnauthorizedError?this._notificationsManager.enqueue("unauthorizedError"):e instanceof Kn.a.DocumentNotFoundError?this._notificationsManager.enqueue("downloadDocumentNotFoundError"):e instanceof Kn.a.TooManyRequestsError||e instanceof Kn.a.ConnectionError?this._notificationsManager.enqueue("isTemporaryDownloadError"):this._notificationsManager.enqueue("error"))}downloadOriginal(){this._subs.push(O.a.from(this._documentModel.downloadOriginal(this._documentModel.rtfMode===cn.d.DocumentFeatures.FormattingMode.on?k.g.some("docx"):k.g.none)).pipe(O.a.catchError(this._handleDownloadError)).subscribe())}downloadProofread(){this._subs.push(O.a.from(this._documentModel.downloadProofread()).pipe(O.a.catchError(this._handleDownloadError)).subscribe())}dispose(){this._subs.dispose()}}(Gn||(Gn={})).Mock=class{constructor(){this.dispose=v.e,this.downloadOriginal=v.e,this.downloadProofread=v.e}};var Xn=n("wI8h"),Zn=n("93Qa"),Qn=n("7Hnf"),Jn=n("WOlp");const ei=w.Monitoring.Logging.getLogger("ethicalAICardtelemetry");class ti{constructor(e,t,n,i,a,s,l,c){this._telemetry=e,this._cardActions=t,this._lensState=n,this._alertsReader=i,this._alertUserEvents=a,this._obsCapiClient=s,this._checkingDomain=l,this._alertsFilterService=c,this._subs=new A.a.Keeper,this._alertCardOrBundleTransitionedToRendered=this._lensState.view(e=>Object(o.pipe)(k.g.fromPredicate(_.e.hasItems)(e),k.g.map(e=>e.currentLens.items),k.g.map(e=>e.filter(Object(v.p)(bn.a.isAlertCard,bn.a.isAlertsBundle))),k.g.map(e=>e.filter(e=>"rendered"===e.visualState.transition.type)),k.g.map(e=>e.values()))).pipe(O.b.compact,O.a.startWith([]),O.a.pairwise(),O.a.map(([e,t])=>{const n=new Set(e.map(e=>e.id));return t.filter(e=>!n.has(e.id))}),O.a.mergeAll()),this._alertCardExpanded=this._cardActions.pipe(O.a.filter(Hn.a.isCardExpand),O.a.withLatestFrom(this._lensState),O.a.map(([e,t])=>Object(o.pipe)(k.g.fromPredicate(_.e.hasItems)(t),k.g.chain(t=>t.currentLens.items.get(e.id)))),O.b.compact,O.a.pluck("value")),this._activeAlert=this._lensState.pipe(O.a.map(Object(r.flow)(k.g.fromPredicate(Object(v.b)(_.e.hasCards,bn.a.hasItemUnion)),k.g.filter(e=>u.a.isMainLens(e.currentLens.id)),k.g.chain(e=>bn.a.getActiveItemWithAlert(e.currentLens)),k.g.map(e=>e.activeAlert)))),this._alertHighlightClicked=this._alertUserEvents.alertClicked.pipe(O.a.map(k.g.map(e=>e.alert)),O.a.withLatestFrom(this._activeAlert),O.a.map(Object(r.flow)(Object(r.tupled)(Object(Zn.sequenceT)(k.g.option)),k.g.filter(([e,t])=>e.id!==t.id),k.g.map(Ie.b))),O.b.compact),this._subs.push(O.a.mergeStatic(this._obsCapiClient.events.pipe(O.a.filter(Qn.b.is("alert_received")),O.a.map(e=>e.alert),O.a.filter(Jn.y.isEthicalAI),O.a.map(e=>O.a.from(this._telemetry.gnarSpec.ethicalAIAlertTriggered(this._telemetry.pageId,ti._getSensitivityType(e.pname),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._checkingDomain.state.pipe(O.a.pairwise(),O.a.map(([e,t])=>h.a.diff(e,t)),O.a.map(ye.a.foldMap(k.a.getMonoid())(Object(r.constant)(k.a.empty),Object(r.constant)(k.a.empty),e=>[e])),O.a.filter(k.a.isNonEmpty),O.a.mergeAll(),O.a.map(e=>e.alert),O.a.combineLatest(D.a.getAlertVisibleInTextFilter(this._alertsFilterService,this._lensState)),O.a.filter(([e,t])=>t(e)),O.a.map(([e])=>e.id))).pipe(O.a.map(e=>O.a.from(this._telemetry.gnarSpec.ethicalAIAlertUnderlineShow(this._telemetry.pageId,ti._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._alertHighlightClicked.pipe(O.a.filter(R.a.isEthicalAI),O.a.map(e=>e.id))).pipe(O.a.map(e=>O.a.from(this._telemetry.gnarSpec.ethicalAIAlertUnderlineClick(this._telemetry.pageId,ti._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._alertCardOrBundleTransitionedToRendered.pipe(O.a.filter(ie.a.isEthicalAIItem),O.a.map(e=>e.activeAlert.id))).pipe(O.a.map(e=>O.a.from(this._telemetry.gnarSpec.ethicalAIAssistantMiniCardShow(this._telemetry.pageId,ti._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._cardActions.pipe(O.a.filter(Hn.b.isAlertCardShow),O.a.map(e=>e.alertId))).pipe(O.a.debounceTime(300),O.a.map(e=>O.a.from(this._telemetry.gnarSpec.ethicalAIAssistantFullCardShow(this._telemetry.pageId,ti._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._cardActions.pipe(O.a.filter(Hn.b.isEthicalAIOpenExternalLinkAction),O.a.map(e=>e.alertId))).pipe(O.a.map(e=>O.a.from(this._telemetry.gnarSpec.ethicalAIAssistantFullCardExternalLinkButtonClick(e.externalLink,this._telemetry.pageId,ti._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._alertCardExpanded.pipe(O.a.filter(ie.a.isEthicalAIItem),O.a.map(e=>e.activeAlert.id))).pipe(O.a.map(e=>O.a.from(this._telemetry.gnarSpec.ethicalAIAssistantFullCardLearnMoreButtonClick(this._telemetry.pageId,ti._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._cardActions.pipe(O.a.filter(Hn.b.isAlertIgnoreAction),O.a.map(e=>e.alertId))).pipe(O.a.map(e=>O.a.from(this._telemetry.gnarSpec.ethicalAIAssistantFullCardDismissButtonClick(this._telemetry.pageId,ti._getSensitivityType(e.patternName),this._telemetry.pageSessionId))))).pipe(O.a.switchMap(e=>e.pipe(O.a.catchError(e=>(ei.warn("EthicalAI card telemetry request failed",e),O.a.EMPTY))))).subscribe())}dispose(){this._subs.dispose()}_getEthicalAIAlertObservable(e){return e.pipe(O.a.map(this._alertsReader.getById),O.b.compact,O.a.filter(p.a.isEthicalAI))}static _getSensitivityType(e){return e.split("/").slice(3).join("/")}}class ni{constructor(e,t){this._notificationsManager=e,this._sendFeedback=t,this.currentText=s.a.create({brief:"",detailed:""}),this.modalShown=new O.a.Subject,this.sendFeedback=()=>this.currentText.pipe(O.a.first(),O.a.switchMap(this._sendFeedback),O.a.switchMap(()=>this._notificationsManager.enqueue("feedbackSend").pipe(O.a.filter(e=>"shown"===e),O.a.tap(()=>this.currentText.set({brief:"",detailed:""})),O.a.takeUntil(this.modalShown))),O.a.catchError(()=>this._notificationsManager.enqueue("error"))).toPromise()}}var ii;(ii||(ii={})).Mock=class{constructor(){this.modalShown=new O.a.Subject,this.currentText=s.a.create({brief:"",detailed:""}),this.sendFeedback=()=>new Promise(v.e)}};const ai=e=>({onShow:t=>e.gnarSpec.gbPromptFormShow(e.pageId,t,e.pageSessionId),onAccept:t=>e.gnarSpec.gbPromptAcceptClick(e.pageId,t,e.pageSessionId),onDismiss:t=>e.gnarSpec.gbPromptDismissClick(e.pageId,t,e.pageSessionId)});var ri,oi=n("q9Ib"),si=n("8ZZk"),li=n("E/Yu");function ci(e){const[t,n]=O.a.partitionStatic(e.pipe(O.a.share()),k.g.isSome);return[t.pipe(O.a.map(k.g.unsafeGet)),n.pipe(O.a.mapTo(T.b.voidValue))]}!function(e){let t,n;!function(e){e.idle="idle",e.inlineCard="inline-card",e.synonymsCard="synonyms-card",e.formattingLink="formatting-link",e.upgradeHook="upgrade-hook"}(t=e.Type||(e.Type={})),e.idle={type:e.Type.idle},function(t){t.monoid=a.getStructMonoid({[e.Type.idle]:j.getMonoid(),[e.Type.formattingLink]:j.getMonoid(),[e.Type.upgradeHook]:j.getMonoid(),[e.Type.synonymsCard]:j.getMonoid(),[e.Type.inlineCard]:j.getMonoid()}),t.forCardState=function(t,n,i){const a=ci(t.alertHovered.pipe(O.a.map(k.g.filter(e=>n.isInteractable(e.id))))),r=a[0].pipe(O.a.map((t,n)=>()=>[`fromDed:markAlertHover:set(${n})`,{type:e.Type.inlineCard,alert:t}])),o=a[1].pipe(O.a.map(di(e.Type.inlineCard,"Ded"))),s=i.pipe(O.a.map(di(e.Type.inlineCard,"Ext")));return{[e.Type.idle]:[r],[e.Type.formattingLink]:[],[e.Type.upgradeHook]:[],[e.Type.synonymsCard]:[],[e.Type.inlineCard]:[r,o,s]}},t.forSynonymsState=function(t,n){const i=t.doubleClickedWord.pipe(O.a.map((t,n)=>()=>[`fromDed:synonyms:set(${n})`,{type:e.Type.synonymsCard,word:t}])),a=n.pipe(O.a.map(di(e.Type.synonymsCard,"Ext")));return{[e.Type.idle]:[i],[e.Type.formattingLink]:[i],[e.Type.upgradeHook]:[i],[e.Type.synonymsCard]:[i,a],[e.Type.inlineCard]:[i]}},t.forFormattingLink=function(t,n,i){const a=n.pipe(O.a.map((t,n)=>()=>[`fromUI:links:set(${n})`,{type:e.Type.formattingLink,link:t}])),r=ci(li.b.fromDenaliEditor(t.selectedFormatting)),o=r[0].pipe(O.a.map((t,n)=>()=>[`fromDed:links:set(${n})`,{type:e.Type.formattingLink,link:t}])),s=r[1].pipe(O.a.map(di(e.Type.formattingLink,"Ded"))),l=i.pipe(O.a.map(di(e.Type.formattingLink,"Ext")));return{[e.Type.idle]:[a,o],[e.Type.formattingLink]:[a,o,s,l],[e.Type.upgradeHook]:[a,o,s,l],[e.Type.synonymsCard]:[a],[e.Type.inlineCard]:[a]}},t.forUpgradeHook=function(t,n,i){const[a,r]=ci(t.alertClicked.pipe(O.a.map(k.g.filter(({alert:e})=>n.isRegistered(e.id)&&p.a.isInPremiumLens(e))))),o=a.pipe(O.a.map((t,n)=>()=>[`fromDed:markAlertClick:set(${n})`,{type:e.Type.upgradeHook,alert:t}])),s=r.pipe(O.a.map(di(e.Type.upgradeHook,"Ded"))),l=i.pipe(O.a.map(di(e.Type.upgradeHook,"Ext")));return{[e.Type.idle]:[o],[e.Type.formattingLink]:[o],[e.Type.upgradeHook]:[o,s,l],[e.Type.synonymsCard]:[o],[e.Type.inlineCard]:[o]}}}(n=e.Scheme||(e.Scheme={}))}(ri||(ri={}));const di=(e,t)=>(n,i)=>n=>n.type===e?[`from${t}:${e}:reset(${i})`,ri.idle]:[`from${t}:${e}:skipReset(${i})`,n];var ui;!function(e){let t;!function(e){e.highlightMarkByInlineUpgradeHook=(e,t,n)=>({id:"highlightMarkByInlineUpgradeHook",when:u.a.isPremiumId,what:_.e.Effect.Applicator.create(be.a.getHighlightSubscribtion(e,t,n).pipe(O.a.switchMapTo(O.a.NEVER)))})}(t=e.Effects||(e.Effects={}))}(ui||(ui={}));class pi{constructor(e,t,n,i,a,r,s){this._inlineManager=e,this._alertMarkRectGetter=t,this._closeEvent=n,this._checkingDomain=i,this._inlineUpgradeHookClicked=a,this._settings=r,this._upgradeViewModel=s,this._emitCloseWhen=O.b.listenWhenSome(({alert:e})=>this._checkingDomain.state.pipe(O.a.map(h.a.get(e.id)),O.a.filter(k.g.isNone),O.a.merge(this._closeEvent),O.a.tap(this._inlineManager.closeUpgradeHooks))),this._toMarkAndAlert=k.g.map(e=>({alert:e.alert,highlightIndex:e.highlightIndex,getMarkRect:this._alertMarkRectGetter(e)})),this.state=this._inlineManager.upgradeHookState.pipe(O.a.switchMap(this._emitCloseWhen)).pipe(O.a.switchMap(e=>Object(o.pipe)(e,k.g.fold(()=>(this._inlineUpgradeHookClicked.next(k.g.none),O.a.of(k.g.none)),e=>(this._inlineUpgradeHookClicked.next(k.g.some(e.alert)),O.a.of(k.g.some(e)))))),O.a.map(k.g.filter(()=>!this._settings.featuresOnboardingSeen.get().has(g.a.SeenPremiumPreviewUnderlines))),O.a.tap(k.g.tap(e=>{this._settings.markFeatureOnboarded(g.a.SeenPremiumPreviewUnderlines)})),O.a.distinctUntilChanged(k.g.getEq(qt.a.eq).equals),O.a.map(this._toMarkAndAlert),O.a.share())}upgrade(){this._upgradeViewModel.openUpgradeUrl(cn.i.Place.DenaliDocument.editorDenaliUpgradeInline)}}var hi=n("RZOd"),mi=n("fOOC"),gi=n("viRF"),fi=n("Hr9Y");class bi{constructor(e,t,n,i,a){this._lensesList=e,this._documentModel=t,this._features=n,this._alertsFilterService=i,this._lensViewMode=a,this._transform=vi(ki(this._voxInfo)),this.getLens=Object(v.l)((function(e){switch(e){case u.a.SpecialId.AllAlerts:return this._lensesList.view(yi(u.a.Info.allAlerts,u.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(u.a.SpecialId.AllAlerts)));case u.a.SpecialId.Priority:return this._lensesList.view(yi(u.a.Info.priority,u.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(u.a.SpecialId.Priority)));case u.a.SpecialId.PredictionTakeaways:return this._lensesList.view(yi(u.a.Info.predictionTakeaways,u.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(u.a.SpecialId.PredictionTakeaways)));case u.a.SpecialId.PredictionEmogenie:return this._lensesList.view(yi(u.a.Info.predictionEmogenie,u.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(u.a.SpecialId.PredictionEmogenie)));case u.a.SpecialId.Plagiarism:return this._lensesList.view(this.getPlagiarismLens);case u.a.SpecialId.Premium:return this._lensesList.view(yi(u.a.Info.premium,u.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(u.a.SpecialId.Premium)));case u.a.SpecialId.FreePremiumAlerts:return this._lensesList.view(yi(u.a.Info.freePremium,u.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(u.a.SpecialId.FreePremiumAlerts)));case u.a.SpecialId.Correctness:case u.a.SpecialId.Clarity:case u.a.SpecialId.Engagement:case u.a.SpecialId.Delivery:case u.a.SpecialId.Vox:return this._lensesList.view(yi(u.a.Info.createOutcome(e),u.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(e)));case u.a.SpecialId.CorrectnessPriority:case u.a.SpecialId.ClarityPriority:case u.a.SpecialId.EngagementPriority:case u.a.SpecialId.DeliveryPriority:case u.a.SpecialId.VoxPriority:return this._lensesList.view(t=>{const n=Object(o.pipe)(k.e.lookup(u.a.Id.ord)(u.a.OutcomeId.fromPriorityOutcomeId(e),t),k.g.getOrElse(()=>u.a.Meta.group.empty)),i=Object(o.pipe)(k.e.lookup(u.a.Id.ord)(e,t),k.g.getOrElse(()=>u.a.Meta.group.empty));return new u.a.LensImpl(u.a.Info.createOutcome(e),I.e.update(i,{percentile:n.percentile}),this._alertsFilterService.getLensesFilter(e))});case u.a.SpecialId.RealTimeProofit:return this._lensesList.view(yi(u.a.Info.realTimeProofit,u.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(e)));default:return Object(Ce.d)(e)}})),this._outcomes=[u.a.SpecialId.Correctness,u.a.SpecialId.Clarity,u.a.SpecialId.Engagement,u.a.SpecialId.Delivery,u.a.SpecialId.Vox,u.a.SpecialId.CorrectnessPriority,u.a.SpecialId.ClarityPriority,u.a.SpecialId.EngagementPriority,u.a.SpecialId.DeliveryPriority,u.a.SpecialId.VoxPriority],this._previews=Object(v.l)(()=>hi.u(Object(mi.getFirstSemigroup)(),j.array)(this._outcomes,e=>[e,this._getPreview(e)])),this._isDocumentEmpty=this._documentModel.documentLength.view("full").view(e=>0===e),this._outcomeStatusMask=s.a.combine(this._isDocumentEmpty,this._features.isFree,(e,t)=>{let n=0;return e&&(n|=fi.a.IsDocumentEmpty),t&&(n|=fi.a.IsFreeUser),n}),this.getPlagiarismLens=Object(r.flow)(yi(u.a.Info.plagiarism,Object.assign(Object.assign({},u.a.Meta.group.empty),{percentile:gi.b.MAX}),this._alertsFilterService.getLensesFilter(u.a.SpecialId.Plagiarism)),u.a.WithAlerts.modifyMeta(e=>Object.assign(Object.assign({},e),{percentile:gi.b.groupSum.concat(gi.b.MAX,gi.b.groupSum.inverse(e.percentile))})))}get _voxInfo(){return this._features.denali.voxInfo}_getPreview(e){return this._transform(Object.assign(Object.assign(Object.assign({},u.a.Info.base),{logo:k.g.none}),this._getOutcomeButtonData(e)))}get lensPreviews(){return this._previews()}_getOutcomeButtonData(e){const t=this.getLens(e),n=t.get().title,i=t.get().type,a=s.a.combine(this._features.isFree.view(t=>u.a.isVox(e)&&k.g.isNone(this._voxInfo)||(u.a.isEngagement(e)||u.a.isDelivery(e))&&t),t,(e,t)=>0===t.count&&e),l=s.a.combine(t.view("count").view(e=>0===e),a,(t,n)=>t&&!n||n&&u.a.isVox(e)),{description:c,stateMessage:d}=Object(fi.b)(e),p=s.a.combine(this._isDocumentEmpty,l,t.view("percentile"),(e,t,n)=>e?gi.b.MIN:t?gi.b.MAX:n).view(gi.a.fromRatio),h=s.a.combine(this._documentModel.scoreStatus.view(e=>Object(o.pipe)(e,k.g.map(e=>e===J.a.Message.ScoresStatus.SENSITIVE),k.g.getOrElse(r.constFalse))),t,p,this._outcomeStatusMask,this._lensViewMode.view(t=>t(e)===_.h.allAlerts),d);return{id:e,title:n,description:c,status:h,progress:p,isUnavailable:a,type:i}}}function yi(e,t,n){return i=>new u.a.LensImpl(e,function(e,t){return n=>Object(o.pipe)(k.e.lookup(u.a.Id.ord)(e,n),k.g.getOrElse(()=>t))}(e.id,t)(i),n)}const vi=e=>t=>u.a.isVox(t.id)?Object.assign(Object.assign({},t),{logo:e()}):t,ki=e=>()=>Object(o.pipe)(e,k.g.chain(e=>e.logoUrl));var wi,Si,_i=n("DLWy"),Ci=n("VfH/"),Ei=n("5RoT"),Oi=n("kCgn"),Ai=n("ihUS"),xi=n("ioJq"),Ti=n("JAs9"),Mi=n("9cbG");(Si=wi||(wi={})).NOTIFICATIONS_TIMEOUT=12096e5,Si.DOCUMENT_EDIT_MIN_AGE=12096e5,Si.DOCUMENT_EDIT_MAX_AGE=7776e6,Si.DOCUMENT_MIN_CHAR_COUNT=1800,Si.create=(e,t,n,i,a,r)=>t.isStudentsOFE?k.g.some(new ji(e.sessionModel.checkingState,n,i,a,r)):k.g.none,Si.noRecentNotifications=e=>{const t=Object(o.pipe)(e,k.a.map(e=>Object(o.pipe)(e.settings.extraSettings,k.g.chain(e=>e.outcomes),k.g.chain(e=>e.askedTimestamp))),k.a.compact,k.f.fromArray,k.g.map(k.f.max(k.h.ordNumber)),k.g.getOrElse(()=>0));return I.d.Local.Timestamp.now()-t>=Si.NOTIFICATIONS_TIMEOUT},Si.shouldShowForEssay=e=>Object(o.pipe)(e.settings.extraSettings,k.g.chain(e=>e.outcomes),k.g.chain(e=>e.askedTimestamp),k.g.isNone)&&e.size>=Si.DOCUMENT_MIN_CHAR_COUNT&&null!==e.updatedAt&&I.d.Local.Timestamp.now()-e.updatedAt.getTime()<Si.DOCUMENT_EDIT_MAX_AGE&&I.d.Local.Timestamp.now()-e.updatedAt.getTime()>Si.DOCUMENT_EDIT_MIN_AGE;class ji{constructor(e,t,n,i,a){this._checkingState=e,this._notificationsManager=t,this._telemetry=n,this._doxApi=i,this._doxWSApi=a,this._subs=new A.a.Keeper,this._log=w.Monitoring.Logging.getLogger("ObtainGradesManager"),this._subs.push(this._checkingState.pipe(O.a.debounceTime(1e3),O.a.filter(e=>"idle"===e),O.a.first()).subscribe(()=>{this._listEssays().then(e=>{Object(o.pipe)(e,k.g.fromPredicate(wi.noRecentNotifications),k.g.map(k.a.filter(wi.shouldShowForEssay)),k.g.chain(k.a.head),k.g.map(e=>this._openEssay(e).then(t=>this._subs.push(this._notificationsManager.enqueue("obtainGrades",{viewModel:new Mi.b(Mi.a.TEXT_GRADES,t,e,this._telemetry)}).subscribe()))))}).catch(e=>this._log.error("Couldn't retrieve the documents list",e))})),this._registerDdebugHelper()}_listEssays(){return this._doxApi.listDocuments(100,xi.a.OrderBy.Updated).then(e=>Object(o.pipe)(e,k.a.filter(e=>Object(o.pipe)(e.context,k.g.chain(e=>e.outcomeContext),k.g.filter(e=>"essay"===e.type),k.g.isSome))))}_openEssay(e){return this._doxWSApi.openDocumentById(e.id,{})}_registerDdebugHelper(){window.ddebug.resetStudentGrades=()=>{this._listEssays().then(e=>(console.info("Essays:",e),Promise.all(e.map(e=>this._openEssay(e).then(e=>Object(o.pipe)(e.remoteDocument.updateMetadata({settings:e.meta.settings.changeExtra(Ti.a.Extra.empty)}),k.l.toPromise)))))).then(()=>console.info("Essays extra cleared"))}}dispose(){this._subs.dispose()}}var Ii=n("xlCj"),Ri=n("hnW1");function Ni(){return O.a.of(!0)}function Li(){return O.a.of(!0)}function Pi(){return O.a.of(!0)}function Di(){return O.a.of(!0)}function Fi(e,t,n,i,a,s,l){if(fn.l.isHidden(s))return[];const c=Object(r.constant)(l.pipe(O.b.compact,O.a.first(),O.a.mapTo(!0))),d={id:ke.a.StepId.Step14,switch:c,gnarName:"Ideas card",skipDot:!0},u={id:ke.a.StepId.Step15,switch:c,gnarName:"Ideas phrase click",skipDot:!0},p={id:ke.a.StepId.Synfony,switch:()=>n.pipe(O.a.map(_.e.getActiveAlert(a)),O.a.filter(k.g.exists(R.a.isSynfony)),O.a.mapTo(!0)),gnarName:"Synfony drilldown",skipDot:!1};switch(s.content){case fn.l.Content.IdeasOnly:return[d,u];case fn.l.Content.SynfonyOnly:return[p];case fn.l.Content.Full:return[{id:ke.a.StepId.Step11,switch:()=>(function(e,t){return e.view(e=>_.e.isSidebarOpened(e)&&k.g.isNone(_.e.getActiveItem(t)(e))).pipe(O.a.first())})(n,a),gnarName:"Step 1: Select active card",skipDot:!1},{id:ke.a.StepId.Step4,switch:()=>(function(e,t,n){return e.view(e=>_.e.isLensview(e)&&e.currentLens.kind===_.f.persistent&&Object(o.pipe)(e,_.e.getActiveAlert(n),k.g.exists(e=>t.isRegistered(e.id)&&R.a.isDefault(e)&&k.g.isSome(e.getTransform()))))})(n,i,a),gnarName:"Step 2: Apply alert",skipDot:!1},{id:ke.a.StepId.Step1,switch:Ni,gnarName:"Step 3: Open Set Goals",skipDot:!1},{id:ke.a.StepId.Step8,switch:Li,gnarName:"Step 4: Open Performance",skipDot:!1},{id:ke.a.StepId.Step9,switch:()=>(function(e,t){return O.a.from(t.pipe(O.a.filter(e=>"idle"===e),O.a.first(),O.a.mapTo(!0))).pipe(O.a.merge(e.pipe(O.a.first(),O.a.mapTo(!1))))})(e.contentUpdated.pipe(O.a.mapTo(T.b.voidValue)),t.checkingState),gnarName:"Step 5: See synonyms",skipDot:!1},{id:ke.a.StepId.Step10,switch:Pi,gnarName:"Step 6: Open left sidebar",skipDot:!1},{id:ke.a.StepId.DocumentTitle,switch:Di,gnarName:"Step 7: Edit title",skipDot:!1},p];default:return Object(Ce.d)(s)}}const Bi=1;function Hi(e,t,n){e.modify(e=>{const i=e.slice(0);return i[t]=n,i})}class Vi{constructor(e,t,n,i,a,r,o,l,c,d){this._settings=e,this._state=t,this._ded=n,this._sessionChecksModel=i,this._alertsReader=a,this._mode=r,this._telemetry=o,this._draftAIEditorViewModel=l,this._getActiveItemWithAlert=c,this._getFirstTargetRect=d,this._log=w.Monitoring.Logging.getLogger("OnboardingViewModelImpl",w.Logging.LogLevel.TRACE),this._steps={},this._stepsByIdx=new Array,this._switches=s.a.create([]),this._states=s.a.create([]),this._subs=[],this._stepsSubscriptions=[],this._enableState=s.a.create(!0),this.getFirstTargetRect=this._getFirstTargetRect,this.completionTrigger=this._state.view(_.e.getActiveItem(this._getActiveItemWithAlert)).view(k.g.isSome),this._addStep=(e,t,n)=>{Hi(this._switches,t,!1);const i=this._states.lens(Ii.a.index(t).compose(Ii.a.withDefault("dummy")));Hi(this._states,t,n.has(e.id)?Ri.a.Passed:Ri.a.Hidden),this._steps[e.id]={state:i,idx:t,gnarName:e.gnarName},this._stepsByIdx[t]=e,this._stepsSubscriptions.push(e.switch().pipe(O.a.combineLatest(this._enableState,(e,t)=>e&&t)).subscribe(e=>Hi(this._switches,t,e),e=>{this._log.error("onboarding malfunction",e),Hi(this._states,t,Ri.a.Passed)}))};const u=fn.l.isForced(r)?new Set:new Set(this._settings.onboardingPassed.get());this._initSteps(u),this._subs.push(this._switches.subscribe(e=>this._updateStates(e))),this._subs.push(this._states.pipe(O.a.skip(1)).subscribe(e=>this._settings.updateOnboardingPassed(Object.keys(this._steps).filter(t=>e[this._steps[t].idx]===Ri.a.Passed)))),this._log.isEnabled(w.Logging.LogLevel.TRACE)&&this._subs.push(this._states.subscribe(e=>this._log.debug("Onboarding states updated: "+e.join(", ")))),Object(v.r)("fireOnboardingStep",(e,t)=>_n.f.of(this._steps[e]).fold(()=>console.info("No such step "+e),e=>e.state.set(t))),Object(v.r)("onboardingState",this)}_initSteps(e=new Set){this._stepsSubscriptions.forEach(e=>e.unsubscribe()),this._stepsSubscriptions=[],Fi(this._ded,this._sessionChecksModel,this._state,this._alertsReader,this._getActiveItemWithAlert,this._mode,this._draftAIEditorViewModel).forEach((t,n)=>this._addStep(t,n,e))}isStepEnabled(e){return void 0!==this._steps[e]}subscribeForStep(e){const{state:t,gnarName:n}=this._steps[e];if(void 0===t)throw new Error("Illegal onboarding step id "+e);return{id:e,state:t,dotShown:()=>{this._telemetry.gnarSpec.onboardingStepDotOnboardingShow(this._telemetry.pageId,n)},dotClicked:()=>{Object(Ce.g)(t.get()===Ri.a.Dot,"Should be in dot state"),this._log.info("Dot clicked for: "+e),t.set(Ri.a.Popup),this._telemetry.gnarSpec.onboardingStepOnboardingPass(this._telemetry.pageId,n)},popupIgnored:()=>{Object(Ce.g)(t.get()===Ri.a.Popup,"Should be in popup state"),this._log.info("Popup ignored for: "+e),t.set(Ri.a.Hidden),this._updateStates(this._switches.get())},popupClosed:()=>{Object(Ce.g)(t.get()===Ri.a.Popup,"Should be in popup state"),this._log.info("Popup closed for: "+e),t.set(Ri.a.Passed),this._updateStates(this._switches.get())},actionTaken:()=>{Object(Ce.g)(t.get()===Ri.a.Popup||t.get()===Ri.a.Dot,"Should be in popup or dot state"),this._log.info("Action taken for: "+e),t.set(Ri.a.Passed),this._updateStates(this._switches.get()),this._telemetry.gnarSpec.onboardingStepOnboardingPass(this._telemetry.pageId,n)}}}unsubscribe(){this._subs.forEach(e=>e.unsubscribe()),this._stepsSubscriptions.forEach(e=>e.unsubscribe())}getStepCompletionCallback(e){return()=>{if(this.isStepEnabled(e)){const t=this.subscribeForStep(e),n=t.state.get();n!==Ri.a.Dot&&n!==Ri.a.Popup||t.actionTaken()}}}changeState(e){this._enableState.set(e)}relaunchAllSteps(){this._initSteps()}_updateStates(e){this._log.debug("Onboarding switches updated "+e);const t=this._states.get().slice();e.forEach((e,n)=>{e||t[n]===Ri.a.Hidden||t[n]===Ri.a.Passed||(t[n]=Ri.a.Hidden)});const n=t.filter(e=>e===Ri.a.Popup||e===Ri.a.Dot).length;let i=Math.max(0,Bi-n);for(let n=0;n<t.length&&!(i<=0);++n)t[n]===Ri.a.Hidden&&e[n]&&(this._stepsByIdx[n].skipDot?t[n]=Ri.a.Popup:t[n]=Ri.a.Dot,i--);const a=t.filter(e=>e===Ri.a.Popup||e===Ri.a.Dot).length;Object(Ce.g)(a<=Bi,`Should be only ${Bi} popups and dots visible, now ${a}`),this._states.set(t)}}const Ui=w.Monitoring.Logging.getLogger("pageTelemetry");class qi{constructor(e,t){this._state=e,this._telemetry=t,this._subs=new A.a.Keeper,this._subs.push(O.a.mergeStatic(this._trackLensChange(),this._trackAdvancedLensOpen(),this._trackSidebarState()).pipe(O.a.catchError(e=>(Ui.warn("Page telemetry error",e),O.a.EMPTY))).subscribe())}dispose(){this._subs.dispose()}_trackLensChange(){return this._state.pipe(O.a.skip(1),O.a.filter(e=>{if(bn.a.isInGlobalSuccess(e))return!1;switch(e.currentLens.type){case _.i.lensview:case _.i.advanced:case _.i.plagiarism:case _.i.draftAI:return!0;case _.i.closed:return!1;default:return Object(Ce.d)(e.currentLens)}}),O.a.map(e=>I.f.camelize(e.currentLens.meta.title)),O.a.distinctUntilChanged(),O.a.switchMap(e=>O.a.from(this._telemetry.gnarSpec.lensSidebarShow(e,this._telemetry.pageId))))}_trackAdvancedLensOpen(){return this._state.pipe(O.a.distinctUntilChanged((e,t)=>e.currentLens.id===t.currentLens.id),O.a.filter(_.e.is(u.a.SpecialId.Premium)),O.a.switchMap(e=>O.a.from(this._telemetry.gnarSpec.advancedIssuesSidebarShow(e.currentLens.meta.count,this._telemetry.pageId))))}_trackSidebarState(){return this._state.view(_.e.isSidebarOpened).pipe(O.a.skip(1),O.a.switchMap(e=>e?O.a.from(this._telemetry.gnarSpec.assistantSidebarShow(this._telemetry.pageId)):O.a.from(this._telemetry.gnarSpec.assistantSidebarClose(this._telemetry.pageId))))}}var Wi=n("mOEe"),$i=n("fT1+"),zi=n("DMXH");const Gi=Object(v.l)(w.Monitoring.Logging.getLogger);function Ki(e,t,n,i){const a=e.pipe(O.a.filter(e=>"idle"===e),O.a.mapTo(e=>!_.e.hasItems(e)||k.g.isSome(bn.a.getActiveItemWithAlert(e.currentLens))?e:Object(o.pipe)(i.findNextAlert(e.currentLens),k.g.map(t=>e.patch({currentLens:i.selectItemByAlert(t,[])(e.currentLens)})),k.g.getOrElse(()=>e))));return{id:"plagiarismSideEffect",when:e=>e===u.a.SpecialId.Plagiarism,what:_.e.Effect.Applicator.create(O.a.Observable.create(()=>t.enable()).pipe(O.a.startWith(T.b.voidValue),O.a.switchMapTo(n.pipe(O.a.switchMap(Object(v.c)(a,a.pipe(O.a.first())))))))}}function Yi(e,t,n,i,a,s,l,c){return{id:"successSwitcher",when:u.a.isMainLens,what:_.e.Effect.SwitchLens.create(e.pipe(O.a.combineLatest(Object(o.pipe)(t.checkingState,O.a.map(e=>"full"!==e)),(e,t)=>bn.a.isInGlobalSuccess(e)&&"sidebar"!==e.alertSource&&t),O.a.distinctUntilChanged(),O.a.filter(r.identity),O.a.switchMapTo(t.counters.pipe(O.a.map(e=>e.critical+e.advanced>0),O.a.filter(Boolean),O.a.switchMap(T.b.Scheduler.rafScheduler),O.a.map(()=>{const e=c.get(),t=i.getLens(e).get(),a=i.getLens(u.a.SpecialId.Premium).get();return n(t)?k.g.some(e):n(a)?k.g.some(u.a.SpecialId.Premium):k.g.none}),O.b.compact,O.a.first(),O.a.filter(Object(r.not)(u.a.isMainLens)),O.a.filter(e=>!(e===u.a.SpecialId.Premium&&k.g.isSome(l.denali.gbUpHook.get()))),O.a.map(e=>{Gi("sideEffects.successSwitcher").debug("Switching from success to "+e);const t=k.g.isSome(a.state.get());return{lensId:e,alertSource:t?_.c.forceSidebar:_.c.forceText,options:{order:"lensOrder",toFocus:t||!u.a.isMainLens(e)||s.get()?_.e.Effect.FocusBehavior.focusFirst:_.e.Effect.FocusBehavior.noFocus}}})))))}}function Xi(e,t,n,i,a,s,l,c){return{id:"createFreePremiumSwitcherSideEffect",when:e=>e===u.a.SpecialId.FreePremiumAlerts,what:_.e.Effect.SwitchLens.create(e.pipe(O.a.combineLatest(Object(o.pipe)(t.checkingState,O.a.map(e=>"full"!==e)),(e,t)=>u.a.isFreePremiumId(e.currentLens.id)&&t),O.a.distinctUntilChanged(),O.a.filter(r.identity),O.a.switchMapTo(t.counters.pipe(O.a.map(e=>0===e.freePremium),O.a.filter(Boolean),O.a.switchMap(T.b.Scheduler.rafScheduler),O.a.map(()=>{const e=c.get(),t=i.getLens(u.a.SpecialId.Premium).get();return n(t)?k.g.some(u.a.SpecialId.Premium):k.g.some(e)}),O.b.compact,O.a.first(),O.a.filter(e=>!(e===u.a.SpecialId.Premium&&k.g.isSome(l.denali.gbUpHook.get()))),O.a.map(e=>{Gi("sideEffects.successSwitcher").debug("Switching from success to "+e);const t=k.g.isSome(a.state.get());return{lensId:e,alertSource:t?_.c.forceSidebar:_.c.forceText,options:{order:"lensOrder",toFocus:t||!u.a.isMainLens(e)||s.get()?_.e.Effect.FocusBehavior.focusFirst:_.e.Effect.FocusBehavior.noFocus}}})))))}}function Zi(e,t,n){return{id:"textPasteSideEffect",when:e,what:_.e.Effect.Applicator.create(t.pipe(O.a.tap(n),O.a.switchMapTo(O.a.NEVER)))}}const Qi=1e3,Ji=500;const ea=(e,t)=>({id:"textPasteSideEffect",when:r.constTrue,what:_.e.Effect.Applicator.create(e.changes.pipe(O.a.map(()=>e.getTextLength()),O.a.distinctUntilChanged(),O.a.throttleTime(t),O.a.tap(e=>{w.Monitoring.TimeSeries.root.getTimer("text_length").recordTime(e)}),O.a.switchMapTo(O.a.NEVER)))});const ta=1500;function na(e,{features:t,settings:n},i,a,s,l,c,d){const p=Object(o.pipe)(c,O.a.pairwise(),O.a.filter(([e,t])=>!u.a.isPremiumId(e)&&u.a.isPremiumId(t))),h=Object(o.pipe)(e.getLens(d.get()).pipe(O.a.map(e=>e.count),O.a.pairwise(),O.a.filter(([e,t])=>0===t&&e>0),O.a.delay(ta)),O.a.map(()=>t.denali.gbUpHook.get()),O.a.map(k.g.filter(Object(r.not)(e=>e.appearancesInLastThreeDays||e.dismissCount>=2||e.dismissedInLastSevenDays))),O.b.compact,O.a.switchMap(e=>Object(o.pipe)(i.enqueue("gbUpHook",Object.assign({},e)),O.a.map(t=>[t,e]),O.a.takeUntil(p),O.a.takeWhile(Object(r.not)(([e])=>gn.a.isCloseAction(e)||"shown"!==e),!0))),O.a.tap(([e,t])=>Object(Ve.__awaiter)(this,void 0,void 0,(function*(){switch(e){case"shown":a.gnarSpec.gbUphookNotificationShow(t.type,a.pageId),yield n.gbUpHookSeen(t.type);break;case"dismiss":a.gnarSpec.gbUphookDismissButtonClick(t.type,a.pageId),yield n.dismissGBUpHook(t.type);break;case"cta":a.gnarSpec.gbUphookCtaButtonClick(t.type,a.pageId),l.actions.openPopup(s.fromGbUpHookNotification(t.type));break;default:return}}))));return{id:"openGBUpHook",when:_.e.Effect.When.isSidebarOpen,what:_.e.Effect.Applicator.create(h.pipe(O.a.switchMapTo(O.a.NEVER)))}}var ia,aa;(aa=ia||(ia={})).defaultNextLensPredicate=e=>e.count>0,aa.priorityNextLensPredicate=e=>e.id===u.a.SpecialId.AllAlerts?e.priorityCount>0:e.count>0;var ra=n("wOnQ");const oa=w.Monitoring.Logging.getLogger("synfonyTelemetry"),sa=e=>e.map(e=>e.text).join();class la{constructor(e,t,n,i){this._telemetry=e,this._cardActions=t,this._lensState=n,this._activeAlertGetter=i,this._subs=new A.a.Keeper,this._subs.push(this._cardActions.pipe(O.a.map(e=>Object(o.pipe)(this._lensState.get(),t=>Object(o.pipe)(t,Hn.b.isAlertIgnoreAction(e)?Object(r.flow)(k.g.fromPredicate(_.e.hasItems),k.g.chain(t=>Y.a.get(t.currentLens.items,e.id,ie.a.isSynfonyItem)),k.g.map(e=>e.value)):_.e.getActiveItem(this._activeAlertGetter)),k.g.filter(q.a.isSynfonyView),k.g.chain(t=>Object(o.pipe)(t.transform,k.g.map(n=>Object.assign({transform:n,event:e,selection:k.g.getOrElse(()=>[])(t.synfonySelection)},ra.d.getSelectedItems(n,k.g.toUndefined(t.synfonySelection)))))))),O.b.compact,O.a.map(({event:e,selection:t,transform:n,activeLabels:i})=>{switch(e.type){case Hn.b.Type.alertApply:return this._telemetry.gnarSpec.synonymAcceptButtonClick(e.alternativeIndex,t.length+1,i.length,sa(n.original),this._telemetry.pageId,sa(Object(o.pipe)(i.filter(t=>t.alternativeId===e.alternativeIndex),k.a.head,k.g.map(e=>e.label),k.g.getOrElse(()=>[]))));case Hn.b.Type.alertIgnore:return this._telemetry.gnarSpec.synonymCardDismiss(i.length,sa(n.original),this._telemetry.pageId);case Hn.e.Kind.drilldown:return this._telemetry.gnarSpec.synonymDeepDiveClick(t.length+2,sa(n.original),this._telemetry.pageId,sa(i[e.wordIndex].label));default:return null}}),O.a.catchError(e=>(oa.warn("Card telemetry request failed",e),O.a.EMPTY))).subscribe())}dispose(){this._subs.dispose()}}var ca=n("OMiD"),da=n("zN6a"),ua=n("vLzu");const pa=e=>()=>e.getCursor().index;class ha{constructor(e,t,n,b,y,S,C,E,z,G,Y,X,J,ee,te,ie,re,ye,ke,xe,Te,Ie){this._connection=e,this._commandDispatcher=t,this._engine=n,this._denaliEditorModel=b,this._userAccount=y,this._upgradeHook=S,this._subscription=C,this._environment=E,this._platformEnvironment=z,this._telemetry=G,this._remSizeObs=Y,this._networkState=X,this._docId=J,this._uploadViewModel=ee,this._notificationsManager=te,this._dialectSettings=ie,this._documentLoader=re,this._textResources=ye,this._config=ke,this._router=xe,this._doxApi=Te,this._doxWSApi=Ie,this.formattingViewModel=k.g.none,this.emotionsViewModel=k.g.none,this._reportViewModel=k.g.none,this._openInlineAlert=new O.a.Subject,this._inlineAlertHovered=new O.a.Subject,this._inlineUpgradeHookClicked=new O.a.Subject,this.enableMpte=Object(o.pipe)(this._userAccount.features.denali.enableMPTE,k.g.fold(r.constFalse,e=>e.enabled)),this._textViewContentsReader=(e,t)=>Object(o.pipe)(this.enableMpte,k.g.fromPredicate(r.identity),k.g.map(n=>Object(o.pipe)(this._engine.checksBackendAPI.getContentsBySelection({index:e,length:t,meta:{source:c.g.Meta.Source.user,formatting:{}}}),k.b.chain(({delta:e})=>l.a.res(e)))),k.g.fold(()=>this._denaliEditorModel.getContents(e,t),Object(r.flow)(k.b.mapLeft(n=>this._log.warn("Could not get contents from ChecksBackend API, falling back to ded.getContents",{error:n,selection:{index:e,length:t},textLength:this._denaliEditorModel.getTextLength()})),k.b.getOrElse(()=>this._denaliEditorModel.getContents(e,t))))),this._hydrateTransforms=Object(U.c)(this._textViewContentsReader),this._getActiveItemWithAlert=bn.a.getActiveItemWithAlert,this._log=w.Monitoring.Logging.getLogger("view_models"),this._subs=new A.a.Keeper,this._editorWrapperViewport=s.a.create(this._denaliEditorModel.viewport.value.wrapper),this._remSize=s.a.create(16),this._focusFirstAlert=s.a.create(this._userAccount.features.denali.focusFirstCard),this._autoScrollToNextAlert=this._userAccount.settings.editorPreferences.view("autoScrollToNextAlert").view(x.b.O.unwrap(!this._userAccount.features.denali.autoJumpSettings.isDisabledByDefault)),this._openedAfterPaste=new O.a.Subject,this._shouldShowNewLabel=Object(r.flow)(e=>R.a.isFullSentence(e)?k.g.some(g.a.ClarityAICard):k.g.none,e=>this._userAccount.settings.featuresOnboardingSeen.view(t=>Object(o.pipe)(e,k.g.filter(e=>!t.has(e)))));const Re=Ee.a.Changes.create();this.focus=H.a.create({contentFocusChanges:this.enableMpte?pn.a.create(Re):pn.a.legacyCreate(this._denaliEditorModel),eq:pn.b.eq,ord:pn.b.ord,show:pn.b.show,contentSection:k.g.some(pn.b.create(pn.b.Id.editor))}),this._denaliEditorModel.dontFreezeWhen(this.focus.state.pipe(O.a.map(k.g.exists(e=>e.id!==pn.b.Id.editor))),"focus-manager"),this._subs.push(this._denaliEditorModel.viewport.pipe(O.a.distinctUntilChanged(),O.a.map(e=>e.wrapper)).subscribe(T.b.toAtom(this._editorWrapperViewport)),this._remSizeObs.subscribe(T.b.toAtom(this._remSize)),pn.b.initTracking(this.focus,this._telemetry));const Ne=this._engine.alertsReader,Le=s.a.create(m.a.defaultState),Pe=this._userAccount.features.denali.singleCardFeed,De=this._userAccount.features.denali.priorityListView&&!Pe,Fe=this._userAccount.features.denali.feedUpgradeHook||this._userAccount.features.denali.premiumUphookCardUI,Be=Object(o.pipe)(D.a.defaultTextFilters,e=>De?I.e.update(e,D.a.priorityTextFilters(e)):e,e=>D.a.create(D.a.defaultLensFilters,e)),He=Object(o.pipe)(this._userAccount.features.denali.mutedAlerts,k.g.fromPredicate(r.identity),k.g.map(()=>this._engine.mutedAlertsModel));this._engine.checkingDomain.state.pipe(e=>m.a.get(e,this._engine.checkingDomain.lensesScores,Be)).subscribe(T.b.toAtom(Le));const Ve=s.a.create(_.g.getDefault),Ue=this._userAccount.settings.editorPreferences.view(({suggestionsVisualMode:e})=>{switch(e){case dn.l.Default:return ce.a.CardVisualMode.RegularLightMode;case dn.l.Accessible:return ce.a.CardVisualMode.ContrastLightMode;default:return Object(Ce.d)(e)}});this.lensPreviewViewModel=new bi(Le.view("lenses"),this._engine.sessionModel,this._userAccount.features,Be,Ve);const qe=Object(K.c)(this._hydrateTransforms,Ne,this._userAccount.features.denali.cardsRenderOptions,this._shouldShowNewLabel,this._engine.mutingAlertsReader,e=>!this._denaliEditorModel.hasNotAppliedChanges&&q.a.canHydrate(e)),We=W.a.ItemFactory.create(this._hydrateTransforms,this._engine.mutingAlertsReader,this._userAccount.features.denali.cardsRenderOptions,this._shouldShowNewLabel),$e=me.a.ItemFactory.create(Ne,this._userAccount.features.denali.cardsRenderOptions),ze=bn.a.getCapabilities(qe,We,$e,Ne,this._hydrateTransforms,this._userAccount.features,this._userAccount.features.denali.cardsRenderOptions),Ge=bn.a.alertIterator(Ne),Ke=bn.a.isSelectableItem,Ye=this._userAccount.features.denali.cardBundles?Z.a.WithBundles.getHasAlerts(Ge,Ne,()=>Ke,ze):De?Z.a.WithPriority.getHasAlerts(Ge,Ne,()=>Ke,bn.a.draftAITest,ze):bn.a.hasAlerts(Ge,Ne,()=>Ke,ze);this.capabilities=Object.assign(Object.assign({},ze),Ye);const Xe=Pe?bn.a.getByActiveAlertPositionOrd(this.capabilities):bn.a.defaultOrd,Ze=new he.d(new he.a(bn.a.equatable.structEq,Xe),bn.a.equatable.structEq,Xe),Qe=Object(a.fold)(k.h.getMonoid())([Object(o.pipe)(k.h.ordBoolean,k.h.contramap(e=>bn.a.isAlertCard(e)&&!R.a.isPriority(e.activeAlert))),Z.a.WithPriority.ord]),Je=this._userAccount.features.denali.cardBundles?new he.c(e=>u.a.isAllAlerts(e.id),Ze,bn.a.equatable.structEq,bn.a.bundlesOrd):De?new he.b(Ze,bn.a.equatable.structEq,Qe):Ze,et=Object(he.g)(qe,$e,this.capabilities),tt=Object(he.e)(We,this._userAccount.features.denali.cardsRenderOptions,e=>u.a.isAllAlerts(e),et,this.capabilities),nt=Pe?()=>()=>r.identity:this._userAccount.features.denali.cardBundles?tt:et,it=this._userAccount.features.denali.bulkAccept&&!Pe,at=Object(o.pipe)(it,k.g.fromPredicate(r.identity),k.g.map(()=>P.getFocusFirstFilter(Ne,Be)),k.g.getOrElse(()=>_.e.FocusFirstFilter.defaultFilter));this.lensStateProvider=new pe.a(this._engine.checkingDomain.state,Ne,Le.view("lenses"),this._engine.positionManager,this.lensPreviewViewModel,Je,nt,this.capabilities,Be,at),this.searchViewModel=new $i.c(this._denaliEditorModel,this._engine.positionManager,this._editorWrapperViewport,this.enableMpte);const rt=ve.Changes.create(),ot=this._engine.checksBackendAPI.state.pipe(O.a.map(e=>e.selectionState.meta.formatting)),st=this._engine.sessionModel.rtfMode===cn.d.DocumentFeatures.FormattingMode.on?k.g.some(this.enableMpte?Object(li.c)(this._engine.checksBackendAPI.getSelection,e=>rt.selection.next(Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{formatting:Object.assign(Object.assign({},this._engine.checksBackendAPI.getSelection().meta.formatting),e.meta.formatting)})})),ot,this._denaliEditorModel.isEditorFocused,this._textResources,this._telemetry.gnarSpec,this._telemetry.pageId,this._environment):Object(li.c)(this._denaliEditorModel.getCursor.bind(this._denaliEditorModel),e=>{this._denaliEditorModel.setFormatting(Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{formatting:Object.assign({},e.meta.formatting)})}))},this._denaliEditorModel.selectedFormatting,this._denaliEditorModel.isEditorFocused,this._textResources,this._telemetry.gnarSpec,this._telemetry.pageId,this._environment)):k.g.none;this._getAlertClosestToCursor=Object($.c)(e=>{switch(e){case"cursor":return pa(this._denaliEditorModel)();case"middleOfTheViewport":return Object(o.pipe)(this._denaliEditorModel.getPossibleCursorPosition(k.b.left(c.c.X.middle),k.b.left(c.c.Y.middle)),k.b.getOrElse(pa(this._denaliEditorModel)));default:return Object(Ce.d)(e)}},this.lensStateProvider);const lt=Object(o.pipe)(this._userAccount.features.denali.prioritySwitcher,k.g.getOrElse(()=>fe.a.all)),ct=lt===fe.a.all?u.a.SpecialId.AllAlerts:u.a.SpecialId.Priority;this.lensState=s.a.create(Object(o.pipe)(this._router.locationState,k.g.exists(e=>!0===e.openSidebar))||this._userAccount.features.denali.sidebarOpenedByDefault?this.lensStateProvider.emptyState(ct):Object(pe.b)()),De&&this._subs.push(this.lensState.pipe(O.a.map(Z.a.WithPriority.LensViewMode.fromLensState)).subscribe(T.b.toAtom(Ve))),this.upgradeViewModel=new da.b(this._engine.checkingDomain,this.lensPreviewViewModel,this._docId,this._platformEnvironment,this._upgradeHook,this._config,this._userAccount.features.denali.uphookFormat),this.obtainGradesNotificationManager=wi.create(this._engine,this._userAccount.features.denali,this._notificationsManager,this._telemetry,this._doxApi,this._doxWSApi),this.feedbackViewModel=new ni(this._notificationsManager,e=>(w.Monitoring.Logging.getLogger("userFeedback").info("Submit form feedback",{briefDescription:e.brief,detailedFeedback:e.detailed}),this._telemetry.gnarSpec.feedbackFormSubmit(e.brief,e.detailed,this._telemetry.pageId))),this._reportViewModel=this._environment.has(ln.b.Flag.supportsDownloadPDF)?k.g.some(new Wi.a(this._engine,this._userAccount.profile,this._userAccount.features,this._notificationsManager,this._denaliEditorModel.contentUpdated.pipe(O.a.startWith(null),O.a.delay(0),O.a.map(this._denaliEditorModel.getHTML)),this._hydrateTransforms,()=>this.lensState,()=>this.marksViewModel,()=>this.navigationViewModel,Le.view("lenses"))):k.g.none,this.modalManager=new d.b(new Pn.b(this._userAccount,this._textResources,this._engine.sessionModel,this.upgradeViewModel,this._config,this._platformEnvironment,this.feedbackViewModel,this._notificationsManager,this._engine.sessionModel,this._reportViewModel,this._telemetry,this._engine.mutedAlertsModel,this._router,this._userAccount.logout)),this.marksViewModel=this.enableMpte?new Ei.a.Mock:new Ei.a(this._denaliEditorModel,this.lensState,this._engine.checkingDomain,Ne,this._engine.alertsService,this._engine.alertsService,this._environment.has(ln.b.Flag.highHighlights),new Ci.a(this.lensState,this._getActiveItemWithAlert),Be,this._getActiveItemWithAlert,this._userAccount.settings.editorPreferences.view("suggestionsVisualMode")),this.cardsListScrollManager=new oe.a(()=>k.b.right(void 0));const dt=F.d.getSuperScrollMapper(this.lensState,this.cardsListScrollManager,this._remSize),ut=Ae.a.Changes.create(),pt=this.enableMpte?Oe.getPositionManager(this._engine.checksBackendAPI.getMarkByAlert,this._engine.checksBackendAPI.getRect,ut,this._editorWrapperViewport,this._log.getLogger("MPTE.MarkPositionManager")):F.e.getMapper(this.marksViewModel,this._denaliEditorModel,this._log.getLogger("getMarkPosition")),ht=bn.a.alignMarkToGetter(pt,dt,this._remSize),mt=bn.a.alignItemToMarkGetter(pt,dt);this.alignmentViewModel=new F.c(dt,ht,mt);const gt=(ft=this._telemetry,{onShow:(e,t)=>ft.gnarSpec.bulkAcceptPanelShowed(e,t,ft.pageId,ft.pageSessionId),onAccept:e=>ft.gnarSpec.bulkAcceptAcceptAllClicked(e,ft.pageId,ft.pageSessionId),onDismiss:e=>ft.gnarSpec.bulkAcceptDismissClicked(e,ft.pageId,ft.pageSessionId),onBulkUndo:e=>ft.gnarSpec.bulkAcceptAllUndoClicked(e,ft.pageId,ft.pageSessionId),onRevert:e=>ft.gnarSpec.bulkAcceptRevertClicked(ft.pageId,e,ft.pageSessionId),onIgnore:e=>ft.gnarSpec.bulkAcceptIgnoreClicked(ft.pageId,e,ft.pageSessionId),onSuggestionClick:e=>ft.gnarSpec.bulkAcceptPanelAlertClicked(ft.pageId,e,ft.pageSessionId),onLooksGood:()=>ft.gnarSpec.bulkAcceptLooksGoodClicked(ft.pageId,ft.pageSessionId),onAllLooksGood:()=>ft.gnarSpec.bulkAcceptAllLooksGoodClicked(ft.pageId,ft.pageSessionId)});var ft;const bt=Object(U.b)(this._textViewContentsReader);this.navigationViewModel=new Ai.a(this.modalManager,this.lensState,this.lensPreviewViewModel,this._userAccount.features,this._getAlertClosestToCursor,this._engine.sessionModel,He,e=>e===fe.a.priority?Ai.b.priorityOutcomesList.filter(Ai.b.lensPreviewFilter(this._userAccount.features)):Ai.b.outcomesList.filter(Ai.b.lensPreviewFilter(this._userAccount.features)),lt,e=>{const t=this.lensState.get();this._telemetry.gnarSpec.priorityModeToggleButtonClick(t.currentLens.id,e,this._telemetry.pageId,bn.a.isInSuccessWithDraftAI(t)?"success":"lensview",this._telemetry.pageSessionId)},Ue),this.cardsViewModel=new B.c({flush:this.enableMpte?v.e:this._denaliEditorModel.flushChanges},this.navigationViewModel.events,qe,this._engine.alertsService,this._engine.sduiService,e=>this._userAccount.settings.markFeatureOnboarded(e).then(()=>this._telemetry.gnarSpec.featureOnboardingEventClose(this._telemetry.pageId)),()=>this._userAccount.settings.markFeatureOnboarded(g.a.MuteQuotedAdvice),Object(o.pipe)(He,k.g.map(e=>({model:e,openSuggestionsManagement:()=>this._platformEnvironment.actions.openPopup(new M.a(this._config.account.suggestions))}))),k.g.some({sendToSignIn:B.a.Experiments.sendToSignIn(this._platformEnvironment,this._config),handleGbPrompt:B.a.Experiments.handleGbPrompt(this._platformEnvironment,this._config,this._engine.alertsReader,this._log.getLogger("CardsViewModelExperiments.handleGbPrompt"),ai(this._telemetry))}),this._userAccount.features.denali.dismissFeedbackFormSuppressed,this._getActiveItemWithAlert,this.capabilities,this.lensState,this._platformEnvironment,{bufferTransitions:!Pe,showGbPrompt:this._userAccount.features.denali.gbPrompt},this._engine.sduiManager),this._cardsTelemetry=new qn(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._engine.mutingAlertsReader,this._getActiveItemWithAlert),this._synfonyTelemetry=new la(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._getActiveItemWithAlert);const yt=Me.create();this.alertUserEvents=this.enableMpte?new L(yt,this.lensState,this._engine.alertsReader,this._getActiveItemWithAlert):new N(this._denaliEditorModel,this.lensState,this.marksViewModel,Ne,this._getActiveItemWithAlert),this._ethicalAICardTelemetry=new ti(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._engine.alertsReader,this.alertUserEvents,this._engine.obsCapiClient,this._engine.checkingDomain,Be);const vt=je.create();this.enableMpte||this._subs.push(this._denaliEditorModel.clickedWord.pipe(O.a.map(k.g.filter(e=>2===e.meta.clicks)),O.a.withLatestFrom(this.alertUserEvents.alertClicked.pipe(O.a.startWith(k.g.none)),(e,t)=>k.g.isNone(t)?e:k.g.none),O.b.compact).subscribe(vt.doubleClickedWord)),this._inlineManager=function(e,t,n,i,a){const o=s.a.create(ri.idle),l=s.a.create(new Set([ri.Type.idle])),c=w.Monitoring.Logging.getLogger("inlineManager");c.isEnabled(w.Logging.LogLevel.DEBUG)&&o.subscribe(e=>c.debug("state change to",e));const d=new O.a.Subject,u=new O.a.Subject,h=new O.a.Subject,m=new O.a.Subject,g=Object(r.pipe)(i,k.g.fold(()=>O.a.EMPTY,e=>li.b.fromToolbar(e.linkEvents)),O.a.share()),f={[ri.Type.idle]:ri.Scheme.monoid.empty,[ri.Type.formattingLink]:ri.Scheme.forFormattingLink(e,g,h),[ri.Type.upgradeHook]:ri.Scheme.forUpgradeHook(t,n,m),[ri.Type.synonymsCard]:ri.Scheme.forSynonymsState(a,u),[ri.Type.inlineCard]:ri.Scheme.forCardState(t,n,d)},b=l.view(Array.from).view(j.foldMap(ri.Scheme.monoid)(e=>f[e])).pipe(O.a.combineLatest(o.view("type")),O.a.switchMap(([e,t])=>O.a.mergeStatic(...e[t])),O.a.scan((e,t)=>{const[n,i]=t(e);return c.debug("state change",{prevState:e,changeReason:n,nextState:i}),i},ri.idle),O.a.tap(T.b.toAtom(o)),O.a.startWith(ri.idle),O.a.share()),y=e=>O.a.Observable.create(()=>(l.modify(t=>new Set(t).add(e)),()=>l.modify(t=>{const n=new Set(t);return n.delete(e),n}))).pipe(O.a.startWith(T.b.voidValue));return{doubleClickedWord:y(ri.Type.synonymsCard).pipe(O.a.switchMapTo(b.pipe(O.a.map(e=>e.type===ri.Type.synonymsCard?k.g.some(e.word):k.g.none))),O.a.distinctUntilChanged(k.g.getEq(Ut.a.ord).equals),O.a.share()),closeSynonyms:u,hoveredMarkAlert:y(ri.Type.inlineCard).pipe(O.a.switchMapTo(b.pipe(O.a.map(e=>e.type===ri.Type.inlineCard?k.g.some(e.alert):k.g.none))),O.a.distinctUntilChanged(k.g.getEq(p.d.ord).equals),O.a.share()),closeCards:d,formattingLinkState:y(ri.Type.formattingLink).pipe(O.a.switchMapTo(b.pipe(O.a.map(e=>e.type===ri.Type.formattingLink?k.g.some(e.link):k.g.none))),O.a.distinctUntilChanged(k.g.getEq(si.a.LinkState.eq).equals),O.a.share()),closeLinks:h,upgradeHookState:y(ri.Type.upgradeHook).pipe(O.a.switchMapTo(b.pipe(O.a.map(e=>e.type===ri.Type.upgradeHook?k.g.some(e.alert):k.g.none))),O.a.distinctUntilChanged(k.g.getEq(qt.a.eq).equals),O.a.share()),closeUpgradeHooks:m}}(this._denaliEditorModel,this.alertUserEvents,Ne,st,vt);const kt=oi.a.ViewModel.getInlineHighlightFilter(this.lensState),wt=this.enableMpte?Object(r.flow)(this._engine.checksBackendAPI.getMarkByAlert,k.l.fromOption(()=>new Error("mark not found")),k.l.chain(e=>this._engine.checksBackendAPI.getRect(e.meta.id))):Object(r.flow)(this.marksViewModel.getMarkByAlert,k.b.fromOption(()=>new Error("mark not found")),k.b.chain(e=>e.getRect()),k.l.fromEither);this.inlineCardViewModel=new oi.b(this._inlineManager,wt,O.a.mergeStatic(this._denaliEditorModel.contentUpdated.pipe(O.a.mapTo(T.b.voidValue))),this._engine.checkingDomain,Ne,this._engine.alertsService,this._telemetry,this._openInlineAlert,this._inlineAlertHovered,this._hydrateTransforms,kt),this.inlineUpgradeHookViewModel=new pi(this._inlineManager,wt,this._denaliEditorModel.contentUpdated.pipe(O.a.mapTo(T.b.voidValue)),this._engine.checkingDomain,this._inlineUpgradeHookClicked,this._userAccount.settings,this.upgradeViewModel),this.feedUpgradeViewModel=new de.a.ViewModel.UpgradeHookItemViewModelImpl(this.cardsViewModel,this.upgradeViewModel,O.a.NEVER,cn.i.Place.DenaliDocument.editorDenaliChecksFeed,de.a.ViewModel.EventHandlers.empty),this.successLensViewModel=new Se.b(this.lensState,this._engine.sessionModel,e=>this._telemetry.gnarSpec.sidebarSuccessStateShow(this.lensState.get().currentLens.id,this._telemetry.pageId,e),this.capabilities,De?k.g.some({trackNonPriorityToggle:()=>this._telemetry.gnarSpec.toggleNonPriorityButtonClick("expanded",this._telemetry.pageId,"success",this._telemetry.pageSessionId)}):k.g.none,this._userAccount.features.denali.mutedAlertsOnSuccessView?k.g.some(void 0):k.g.none,e=>_.e.isWithPriorityList(e)&&Z.a.WithPriority.onlyNonPriorityAlertsLeft(e.currentLens,bn.a.draftAITest,this.capabilities),bn.a.isInSuccessWithDraftAI,this._userAccount.features.denali.showGrammarlyBDGift);const St=Object(o.pipe)(it,k.g.fromPredicate(r.identity),k.g.map(()=>ne.a.create(this.cardsViewModel.actionEvents,this.inlineCardViewModel.events))),_t=k.g.isSome(this._userAccount.features.denali.prioritySwitcher)?this.navigationViewModel.lensMode.view(fe.b.isPriorityMode).view(Object(v.c)(u.a.SpecialId.Priority,u.a.SpecialId.AllAlerts)):s.a.create(u.a.SpecialId.AllAlerts),Ct=De?ia.priorityNextLensPredicate:ia.defaultNextLensPredicate;this.priorityEvents=new O.a.Subject;const Et=[Ki(this._engine.sessionModel.asyncChecksState.view("plagiarism"),this._engine.plagiarismModel,this._autoScrollToNextAlert,this.capabilities),Yi(this.lensState,this._engine.sessionModel,Ct,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,this._userAccount.features,_t),Xi(this.lensState,this._engine.sessionModel,Ct,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,this._userAccount.features,_t),..._e.c.create(this._engine.checkingDomain,Ne,this.lensState,this._getActiveItemWithAlert,e=>Object(_e.d)(()=>this._notificationsManager.enqueue("alertUndo",{params:Object(_e.e)(e)}),()=>this._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",this._telemetry.pageId),()=>(this.enableMpte||this._denaliEditorModel.flushChanges(),this.enableMpte?this._engine.checksBackendAPI.state.lens("textState").pipe(O.a.skip(1)):this._denaliEditorModel.contentUpdated)),this._log.getLogger("sideEffects.undo")),Zi(_.e.Effect.When.always,this._denaliEditorModel.textChangedAfterPaste,({type:e,source:t,tags:n,len:i})=>{switch(e){case"initial":w.Monitoring.TimeSeries.root.getTimer("text_paste_initial").recordTime(i);break;case"reset":w.Monitoring.TimeSeries.root.getTimer("text_paste_reset").recordTime(i);break;case"partial":w.Monitoring.TimeSeries.root.getTimer("text_paste_partial").recordTime(i);break;default:Object(Ce.d)(e)}this._telemetry.gnarSpec.pasteEventFire(i,this._telemetry.pageId,t,n,e)}),Zi(_.e.Effect.When.isSidebarClosed,this._denaliEditorModel.textChangedAfterPaste,({type:e})=>{"initial"!==e&&"reset"!==e||(this.navigationViewModel.events.next({type:"toggleSidebar",actionSource:p.b.api}),this._openedAfterPaste.next())}),(Tt=this._denaliEditorModel,Mt=this._notificationsManager,jt=()=>this._telemetry.gnarSpec.undoTextRemovedNotificationShow(this._telemetry.pageId),It=()=>this._telemetry.gnarSpec.undoTextRemovedHotkeyPress(),Rt=()=>this._telemetry.gnarSpec.undoTextRemovedButtonClick(this._telemetry.pageId),{id:"textRemovedSideEffect",when:r.constTrue,what:_.e.Effect.Applicator.create(Tt.contentUpdated.pipe(O.a.filter(c.b.isTextMaybeWithFormatting),O.a.map(()=>Tt.getTextLength()),O.a.startWith(Tt.getTextLength()),O.a.pairwise(),O.a.filter(([e,t])=>e-t>Ji),O.a.exhaustMap(()=>O.a.timer(Qi).pipe(O.a.takeUntil(Tt.shortcutUsed),O.a.switchMapTo(Mt.enqueue("textRemoved").pipe(O.a.takeUntil(Tt.shortcutUsed.pipe(O.a.tap(It))),O.a.tap(e=>{"shown"===e?jt():"undo"===e&&(Tt.undo(),Rt())}),O.a.takeWhile(e=>"undo"!==e))),O.a.mapTo(_.e.Effect.Applicator.Source.identity)))))}),(At=this._openedAfterPaste,xt=this._documentLoader.state,{id:"afterPasteLoadingSideEffect",when:_.e.Effect.When.isSidebarOpen,what:_.e.Effect.Applicator.create(At.pipe(O.a.tap(()=>xt.set(zi.a.State.lensAndNavigationProcessing)),O.a.switchMapTo(O.a.NEVER)))}),ea(this._denaliEditorModel,5*I.d.MS_IN_MIN),...this.cardsViewModel.getApplicatorEffects(),B.b.changeAlertEffect(this.lensState,this.cardsViewModel,qe,this._getActiveItemWithAlert,Ne,k.g.none,this._getAlertClosestToCursor,this._log.getLogger("CardsViewModelEffects.changeAlertEffect")),se.b.freezeActiveCardOnCardsListUpdate(this.lensState,this.cardsListScrollManager,this.capabilities),se.b.manageCardsInert(this.lensState,this.cardsListScrollManager,this.capabilities),se.b.manageCardsVisibility(this.lensState,this.cardsListScrollManager,this.capabilities,Object(r.unsafeCoerce)(this.cardsViewModel.actionEvents)),F.a.createAlignmentSideEffect(this.lensState,this.cardsViewModel.actionEvents,$.a.getFirstApiAlignmentOverride(),bn.a.getActiveAlignableItem,this.capabilities,ht,mt),F.a.createAlignmentOnTypingEffect(this.lensState,this.alignmentViewModel,this.enableMpte?this._engine.checksBackendAPI.state.pipe(O.a.map(e=>e.textState.length),O.a.distinctUntilChanged(),O.a.skip(1)):this._denaliEditorModel.contentUpdated,this._getActiveItemWithAlert,this.capabilities),F.a.createAlignOnDisjointedAreasEffect(this.lensState,this.alignmentViewModel,this._denaliEditorModel,this.cardsListScrollManager),F.a.createAlignOnResizeSideEffect(this.lensState,this.alignmentViewModel,this._userAccount.settings.editorPreferences.view("fontSize").pipe(O.a.skip(1)),this._getActiveItemWithAlert,this.capabilities),this.navigationViewModel.lensChangeEffects,this.navigationViewModel.alertChangeEffects,be.a.focusAlertByClickedMark(this.alertUserEvents,this.lensState),(Ot=this._openInlineAlert,{id:"openInlineAlert",when:_.e.Effect.When.isSidebarClosed,what:_.e.Effect.SwitchAlert.create(Ot.pipe(O.a.map(e=>({alertHighlight:e,alertSource:p.b.text,options:{order:"textOrder"}}))))}),...this.enableMpte?[]:[be.a.focusMarkByActiveAlert(this.lensState,this.marksViewModel,Ne,bn.a.getActiveFocusableItem,this._log.getLogger("MarksEffects.focusMarkByActiveAlert")),be.a.highlightMarkByHighlightedCard(this.cardsViewModel,this.lensState,this.marksViewModel,Ne,this.capabilities,this._log.getLogger("MarksEffects.highlightMarkByHighlightedCard")),oi.a.Effects.highlightMarkByInlineAlert(this._inlineAlertHovered.pipe(O.a.filter(kt)),this.marksViewModel,this._log.getLogger("MarksEffects.highlightMarkByInlineAlert")),ui.Effects.highlightMarkByInlineUpgradeHook(this._inlineUpgradeHookClicked,this.marksViewModel,this._log.getLogger("MarksEffects.highlightMarkByInlineUpgradeHook"))],B.b.createSendActiveAlertFeedbacksEffect(this.lensState,this._getActiveItemWithAlert,this._engine.alertsService,Ne,this._log.getLogger("CardsViewModelEffects.createSendActiveAlertFeedbacksEffect")),be.a.createOnAlertApplySideEffect(this.marksViewModel.events,this.capabilities),na(this.lensPreviewViewModel,this._userAccount,this._notificationsManager,this._telemetry,this._upgradeHook,this._platformEnvironment,this.lensState.view("currentLens","id"),_t),this.successLensViewModel.applicatorEffects,we.a.SideEffects.toggleNonPriorityCards(this.priorityEvents,this.capabilities,e=>this._telemetry.gnarSpec.toggleNonPriorityButtonClick(e,this._telemetry.pageId,"lensview",this._telemetry.pageSessionId)),...Pe?[f.a.PrevNextNavigation.sideEffect(f.a.PrevNextNavigation.Events.fromCardActions(this.cardsViewModel.actionEvents),this.lensState,this.capabilities),le.a.SideEffects.createSDUIFeedSideEffect(Object(o.pipe)(this._engine.sduiManager,k.g.map(e=>e.state)))]:[],...Fe?[de.a.getSideEffect(de.a.getPremiumAlerts(this._engine.checkingDomain.state,this.lensState),this.lensState,this.feedUpgradeViewModel.upgradeHookDismissed,this.capabilities,this._userAccount.features.denali.cardsRenderOptions)]:[]];var Ot,At,xt,Tt,Mt,jt,It,Rt;Object(o.pipe)(this._engine.mutingAlertsReader,k.g.tap(e=>{Et.push(ge.showCardMuteOnboarding(this._userAccount.settings.featuresOnboardingSeen.view(e=>e.has(g.a.CardMute)&&!this._userAccount.features.denali.enforceFeaturesOnboarding.has(g.a.CardMute)),this._engine.checkingDomain,e,()=>this._notificationsManager.enqueue("cardMuteOnboarding"),()=>this._userAccount.settings.markFeatureOnboarded(g.a.CardMute),()=>this._telemetry.gnarSpec.deactivatedSuggestionsOnboardingNotificationShow(this._telemetry.pageId,this._telemetry.pageSessionId)))})),Object(o.pipe)(St,k.g.tap(e=>{Et.push(..._e.b.create(e,Ne,this._engine.checkingDomain,gt),..._e.a.create(e,Ne,this._engine.checkingDomain));const t=Q.createEffects({actions:e,alertService:this._engine.alertsService,tracking:gt,alertsReader:Ne,enableMPTE:this.enableMpte});Et.push(...t)}));const Nt=Object(o.pipe)(St,k.g.map(e=>[Q.selectNextCardOnBulkAcceptConfirmed(e,this._getActiveItemWithAlert,this.lensState,this._autoScrollToNextAlert)]),k.g.getOrElse(()=>[])),Lt=Object(o.pipe)(St,k.g.fold(()=>s.a.create(!1),()=>this.lensState.view(_.e.mapper(e=>Object(o.pipe)(e.currentLens,_.k.getActiveItemOfType(bn.a.isBulkAcceptItem)))).view(k.g.isSome))),Pt={bigPaste:this._denaliEditorModel.textChangedAfterPaste.pipe(O.a.filter(e=>"reset"===e.type||"initial"===e.type),O.a.map(()=>void 0))},Dt=Object(o.pipe)(O.a.mergeStatic(...Nt,$.a.focusFirstCardAfterBigCheck(this.lensState,this._engine.sessionModel.checkingState,this._focusFirstAlert,Pt,Lt)),e=>$.a.getSideEffect(e,this.capabilities));Et.push(Dt),this.autofocusListener=new $.b(this._engine.sessionModel.checkingState,this.lensState);const Ft=Pe?$.a.getAlwaysFocusBehavior(this._getActiveItemWithAlert,this.capabilities):$.a.getDefaultBehavior(this._getActiveItemWithAlert,this.capabilities),Bt=()=>k.g.isNone(this._userAccount.features.denali.gbUpHook.get())&&!Fe,Ht=Object($.e)(this.lensStateProvider,this._getAlertClosestToCursor,_t,this.capabilities,bn.a.isInGlobalSuccess,Bt),Vt=this._userAccount.features.denali.cardBundles?Object($.d)(e=>u.a.isMainLens(e.currentLens.id),Ht,this.capabilities):De?Object($.d)(_.e.isWithPriorityList,Ht,this.capabilities,e=>Bt()&&bn.a.isInGlobalSuccess(e)||u.a.isOutcomeId(e.currentLens.id)&&this.lensStateProvider.hasZeroFreeAlerts(_t)?Object(o.pipe)(this.lensStateProvider.findPremiumAlert(),k.g.map(ue.a.toLensAlert)):k.g.none):Ht,Wt=$.a.getStateTransformer(Ft,Vt,Ne,this.capabilities,Pe?r.constTrue:$.a.getShouldAutoFocus(this._autoScrollToNextAlert,Ne,this._getActiveItemWithAlert),e=>e.kind===_.e.Effect.FocusBehaviorType.focusFirst&&this._telemetry.gnarSpec.focusFirstCardShow(this._telemetry.pageId),_t,Pe?$.a.getSDUITransitions:()=>[]),$t=Pe?Z.a.Items.getSingleItemFeedPositionsUpdateTransformer(this.capabilities):Z.a.Items.getItemsPositionsUpdateTransformer(this.capabilities),zt=De?Object(o.pipe)(Z.a.WithPriority.getSyncVisibleCardsHandler(this.capabilities),ae.liftWithItemsState):ae.nothing,Gt=Pe?Z.a.Items.getRemoveDisposedItemsTransformer(this.capabilities):ae.nothing,Kt=Object(o.pipe)(St,k.g.map(()=>P.getStateTransformer(this._engine.checkingDomain.state,Be,bt,this.capabilities,gt,this._userAccount.features.denali.cardsRenderOptions)),k.g.getOrElse(()=>ae.nothing)),Yt=Pe?i.DisablePrevNextButtons.create(this.capabilities):ae.nothing,Xt=Object(r.flow)(Wt,k.b.chainLeft(Kt),k.b.chainLeft(zt),k.b.chainLeft(Gt),k.b.chainLeft(Yt),k.b.chainLeft($t));this._lensStateManager=new ue.a(this.lensState,this.lensStateProvider,Ne,this._engine.alertsService,Et,this._getActiveItemWithAlert,Xt),Object(v.r)("getLensStateSnapshot",()=>_.e.snapshot(K.a.snapshot,this._getActiveItemWithAlert)(this.lensState.get())),Object(v.r)("getLensState",()=>this.lensState.get()),Object(v.r)("getLensesCollection",()=>Le.view("lenses").get()),this._pageTelemetry=new qi(this.lensState,this._telemetry),this.enableMpte?this.synonymsViewModel=new ca.b(this._inlineManager,this._engine.positionManager,pt,this._engine.synonymsModel,this.lensState,this._networkState,this._notificationsManager,this._engine.checksBackendAPI.state.view("textState").pipe(O.a.map(e=>Object(o.pipe)(e.text,k.g.fromEither,k.g.toNullable)),O.a.distinctUntilChanged(),O.a.mapTo(T.b.voidValue)),this._engine.checksBackendAPI.getRect,this._engine.checksBackendAPI.getContents,this._getActiveItemWithAlert,()=>this._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",this._telemetry.pageId),(e,t)=>void this._telemetry.gnarSpec.synonymsPopupShow(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,this._telemetry.pageId,e),(e,t,n)=>void this._telemetry.gnarSpec.synonymsPopupClose(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,this._telemetry.pageId,e),(e,t,n)=>void this._telemetry.gnarSpec.synonymsAcceptButtonClick(t.meaningIndex,t.synonymIndexInGroup,t.synonymIndexAbs,t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,this._telemetry.pageId,e)):this.synonymsViewModel=new Rn(this._inlineManager,this._engine.positionManager,this._engine.synonymsModel,this.lensState,this._networkState,this._denaliEditorModel,this._notificationsManager,this._getActiveItemWithAlert,()=>this._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",this._telemetry.pageId),(e,t)=>void this._telemetry.gnarSpec.synonymsPopupShow(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,this._telemetry.pageId,e),(e,t,n)=>void this._telemetry.gnarSpec.synonymsPopupClose(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,this._telemetry.pageId,e),(e,t,n)=>void this._telemetry.gnarSpec.synonymsAcceptButtonClick(t.meaningIndex,t.synonymIndexInGroup,t.synonymIndexAbs,t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,this._telemetry.pageId,e)),this.proofitViewModel=new hn.b(this._subscription,this._engine.sessionModel,this._denaliEditorModel,this._userAccount,this._notificationsManager,this._router,this._config);this.onboardingViewModel=new Vi(this._userAccount.settings,this.lensState,this._denaliEditorModel,this._engine.sessionModel,Ne,this._userAccount.features.onboardingMode(this._engine.sessionModel),this._telemetry,s.a.create(k.g.none),this._getActiveItemWithAlert,()=>this.enableMpte?this._engine.checkingDomain.state.pipe(O.a.map(Object(r.flow)(h.a.find(e=>p.a.isCritical(e.alert)),k.g.chain(e=>this._engine.checksBackendAPI.getMarkByAlert({alert:R.a.fromModel(e.alert),highlightIndex:0})))),O.b.compact,O.a.switchMap(e=>O.a.defer(this._engine.checksBackendAPI.getRect(e.meta.id))),O.a.map(k.g.fromEither)):this.marksViewModel.getFirstMark().pipe(O.b.compact,O.a.map(e=>k.g.fromEither(e.getRect())))),this.downloadViewModel=new Yn(this._engine.sessionModel,this._notificationsManager),this.surveyManager=Object(o.pipe)(this._userAccount.features.denali.surveyType,k.g.map(e=>xn(e,this.lensState,this._engine.sessionModel,this._denaliEditorModel,this.proofitViewModel,this._uploadViewModel,this._userAccount,this.modalManager,this._notificationsManager,this._subscription,this._telemetry))),this.formattingViewModel=Object(o.pipe)(k.g.sequenceT(st,this._engine.formattingModel),k.g.map(([e,t])=>{const n=si.a.createManager(this._denaliEditorModel,t,this._inlineManager);return this._subs.push(e,n),{toolbarViewModel:e.viewModel,linksManager:n}})),this.documentSettingsViewModel=Object(Oi.b)(this._denaliEditorModel,this._router,this._textResources,this._userAccount,this._dialectSettings,this.downloadViewModel,this.upgradeViewModel,this.modalManager,this._uploadViewModel,this._environment,this._notificationsManager,this.searchViewModel,this._telemetry,this._docId,this._engine.sessionModel),this.documentPlaceholderViewModel=new $n(this._uploadViewModel,this._denaliEditorModel,this._userAccount,this._environment),this.emotionsViewModel=Object(o.pipe)(this._engine.emotionsModel,k.g.map(e=>Xn.a.ViewModel.create(e,this._engine.sessionModel,this._textResources)));const Zt=Object(o.pipe)(st,k.g.map(e=>[e.viewModel,this.searchViewModel,this.documentSettingsViewModel.viewModel]),k.g.getOrElse(()=>[this.searchViewModel,this.documentSettingsViewModel.viewModel]));this.hotkeyManager=new V.a(k.a.UniqueArray.from(Zt),this._environment.has(ln.b.Flag.isAppleSystem),this._environment.platform===ln.b.Platform.IPAD),this._subs.push(this._handleFocusUserInputInCards()),this._subs.push(B.a.Experiments.sendToIdeasGallery(this._platformEnvironment,this._config)(this.cardsViewModel.actionEvents).subscribe()),this._subs.push(this._engine.sessionModel.checkingState.pipe(O.a.first(e=>"idle"===e),O.a.withLatestFrom(this._engine.checkingDomain.state),O.a.map(([,e])=>Object(o.pipe)(e,h.a.size)),O.a.finalize(Dn.a.docLoad.cleanup)).subscribe(e=>Dn.a.docLoad.end({textLength:this._denaliEditorModel.getTextLength(),alertsCount:e}))),this.showConfetti=s.a.create(!1);const Qt=()=>{var e;const t=this.successLensViewModel.successState.get(),n=this.lensState.get();return bn.a.isInSuccessWithDraftAI(n)&&t.type===Se.a.SuccessType.zero&&!(null===(e=t.showBirthday)||void 0===e||!e)};if(this._subs.push(this.successLensViewModel.successState.pipe(O.a.debounceTime(2e3),O.a.filter(Qt)).subscribe(()=>{this._userAccount.settings.markBDayGiftSeen(),this._telemetry.gnarSpec.bdayGiftAnimationShow(this._telemetry.pageId),O.a.timer(4e3).subscribe(()=>{Qt()&&this.showConfetti.set(!0)})})),this.enableMpte){const e=Object(o.pipe)([this._inlineAlertHovered.pipe(O.a.startWith(k.g.none)),this._inlineUpgradeHookClicked.pipe(O.a.startWith(k.g.none))],k.a.map(be.a.getAlertHighlightSource(p.b.text)));this._setupMPTE(Be,ut,rt,yt,vt,Re,e,this._userAccount.features.denali.enableMPTEDebugger)}}dispose(){this._engine.shutdown(),this.searchViewModel.dispose(),this.successLensViewModel.dispose(),this._lensStateManager.dispose(),this.marksViewModel.dispose(),this.synonymsViewModel.dispose(),k.g.option.map(this._reportViewModel,e=>e.dispose()),this.downloadViewModel.dispose(),this.navigationViewModel.dispose(),Object(o.pipe)(this.surveyManager,k.g.map(e=>e.dispose())),this.documentSettingsViewModel.dispose(),Object(o.pipe)(this.obtainGradesNotificationManager,k.g.map(e=>e.dispose())),this.proofitViewModel.dispose(),this._pageTelemetry.dispose(),this._cardsTelemetry.dispose(),this._ethicalAICardTelemetry.dispose(),this._synfonyTelemetry.dispose(),this.inlineCardViewModel.dispose(),this.cardsViewModel.dispose(),this.autofocusListener.dispose(),this.hotkeyManager.dispose(),this._subs.dispose()}_setupMPTE(e,t,n,i,a,s,l,c){jt(this._connection,c);const d=new O.a.ReplaySubject,u=new O.a.ReplaySubject,h=w.Monitoring.Logging.getLogger("MPTE.stateDiffFlows"),m=be.a.getActiveHighlightSource(this.lensState,this._engine.alertsReader,bn.a.getActiveFocusableItem),g=be.a.getHoverAlertHightlightSource(this.lensState,this.capabilities,this._engine.alertsReader,this.cardsViewModel.hovered),f=e=>{const t=[];return this._focusFirstAlert.get()||t.push(!(0===e.index&&0===e.length)),_.e.Effect.When.isSidebarClosed(this.lensState.get().currentLens.id)&&t.push(!1),t.every(r.identity)},b=Xt.a.createDiffProducer(this._engine,this._engine.checksBackendAPI,this._connection.internalMessages,(e,r,o)=>[Rt(this._engine,this._engine.markAlertFactory,h,new O.a.Subject,un.b),De(this._engine,this._engine.markAlertFactory,e,i,a,s,o,f,e=>!p.a.isRemoved(e)&&!p.a.isBulkApplied(e.alert)),Dt(this._engine,h),Fe(r,i),Ft(this._engine,Object(v.m)(p.a.isRemoved),h),Bt(this._engine.checkingDomain.state,this._engine.markAlertFactory,d.pipe(O.a.filter(e=>e.kind===$t.Kind.marksFilterChanged),O.a.delay(1),O.a.map(({filter:e})=>Object(v.p)(e,e=>p.a.isBulkApplied(e.alert)))),h),Wt(m,[g,...l],this._engine.markAlertFactory,h),zt(t,h),Gt(this.synonymsViewModel.marksDiff),Kt(n,h),Vt(s,h),Fn(this._engine.checkingDomain.state,this._engine.markAlertFactory,u.pipe(O.a.filter(e=>e.kind===$t.Kind.marksFilterChanged),O.a.delay(1),O.a.map(({filter:e})=>e)),h)]),y=k.g.fold(()=>O.a.of(!1),e=>e.downloadStarted)(this._reportViewModel);this._subs.push(Object(o.pipe)(this._connection,Zt.a.ChecksBackend.connect()).subscribe(),Object(o.pipe)(this._connection.isReady,O.a.filter(Boolean),O.a.switchMap(()=>(function(e,t,n,i=requestAnimationFrame,a){let o=1;const s=w.Monitoring.Logging.getLogger("MPTE.multiplex",w.Logging.LogLevel.TRACE,w.Logging.LogColor.Manager.getColor("MPTE.multiplex")),l=Yt.create(Je.a.isAcceptableOnWaitForAck),c=new O.a.ReplaySubject(an,rn),d=e=>{s.log(w.Logging.LogLevel.fromString(e.severity),`ChecksBackend RESTART from ${e.from}`,`reason ${e.reason}`);const t=Qt.a.generateUUID();i(()=>c.next(Je.a.ChecksBackend.Start.create(t)))};i(()=>c.next(Je.a.ChecksBackend.Start.create(Qt.a.generateUUID()))),Object(v.r)("restart",()=>d({severity:"DEBUG",from:"initMultiplex",reason:"debug"}));const u=Object(r.pipe)(t,O.a.filter(Je.a.TextView.is),l.switchState,O.a.shareReplay({bufferSize:1,refCount:!0})),p=Object(r.pipe)(u,O.a.filter(Je.a.TextView.StateDiff.is)),h=Object(r.pipe)(u,O.a.filter(Je.a.TextView.Event.is)),m=Object(r.pipe)(n,l.switchState,O.a.switchMapTo(O.a.NEVER)),g=Object(r.pipe)(h,l.switchState,O.a.switchMapTo(O.a.NEVER)),f=en.create(l.state,u,n),b=tn.create(u,c,l.state,f,d),y=Object(r.pipe)(u,O.a.filter(Je.a.TextView.AckStart.is),O.a.map(e=>Le.a.InitialState.codec.decode(e.initialState)),O.a.switchMap(k.b.fold(e=>(s.error("can not process incoming state due to parsing error:",e),O.a.EMPTY),e=>O.a.of(e))),O.a.tap(e=>{o=1,s.debug("[REV] reset revision due to new init state",e)})),[S,_]=O.a.partitionStatic(p,({diff:e})=>k.b.isRight(Le.a.StateDiff.decodeAndValidate(e))),C=Object(r.pipe)(h,O.a.map(e=>Ht.a.MarkHovered.create(k.g.fromNullable(e.markId),e.id))),E=Object(r.pipe)(S,O.a.tap(e=>{o+=1,c.next(Je.a.ChecksBackend.Ack.create(e.id,o))}),O.a.map(e=>Le.a.StateDiff.codec.decode(e.diff)),O.a.switchMap(k.b.fold(e=>(s.error("can not process incoming state diff due to parsing error:",e),O.a.EMPTY),e=>O.a.of(e)))),A=a({externalStateDiffs:O.a.mergeStatic(E,b),initialState:y,textViewEvents:C,restart:d}),x=f.getStream(A,e.commands),T=Object(r.pipe)(x,O.a.map(e=>Object(r.pipe)(e,Ie.d,k.b.fold(e=>{switch(s.debug("Command from queue",Jt.a.toString(e)),e.kind){case Jt.a.Kind.GetViewportAndRangeRect:default:return Je.a.ChecksBackend.Command.GetViewportAndRangeRect.create(e.id,o,e.markId)}},({diff:t,source:n})=>{const i=Ie.b(e),a=Je.a.ChecksBackend.StateDiff.create(i,o+1,t,n);return s.debug("Sending StateDiff from queue",Je.a.toShortString(a)),a}))),O.a.tap(e=>{o=e.revision,s.debug("[REV] set revision from stateDiff/command message",o)})),M=_.pipe(O.a.tap(e=>{s.debug("Received an invalid diff in StateDiff. Restarting session. Diff: ",Le.a.StateDiff.JSON.show.show(e.diff)),c.next(Je.a.ChecksBackend.Ack.create(e.id,e.forRevision+1));const t=Object(r.pipe)(e.diff,Le.a.StateDiff.decodeAndValidate,k.b.fold(r.identity,()=>"no error"));d({severity:"WARN",from:"initMultiplex",reason:`Received an invalid diff in StateDiff: ${Le.a.StateDiff.JSON.show.show(e.diff)}; Error details: ${t}`})}),O.a.switchMapTo(O.a.NEVER));return O.a.mergeStatic(c,T,m,g,M).pipe(l.switchState)})(this._commandDispatcher,this._connection.incomingMessages,this._connection.internalMessages,requestAnimationFrame,b)),O.a.tap(this._connection.outgoingMessages)).subscribe(),O.a.combineLatestStatic([D.a.getAlertVisibleInTextFilter(e,this.lensState),y]).subscribe(([e,t])=>(t?u:d).next({kind:$t.Kind.marksFilterChanged,filter:t=>e(t.alert)})))}_handleFocusUserInputInCards(){return this._denaliEditorModel.dontFreezeWhen(this.lensState.pipe(O.a.map(Object(r.flow)(_.e.getActiveItem(this._getActiveItemWithAlert),k.g.filter(e=>bn.a.isAlertCard(e)),k.g.filter(Object(v.b)(ie.a.isDefaultItem,q.a.hasOneGapTransform)),k.g.fold(r.constFalse,r.constTrue))),O.a.startWith(!1),O.a.distinctUntilChanged()),"userInput")}createLoaderViewModel(e,t){return new _i.b(this._documentLoader.state,this.lensState,this._engine.sessionModel,e,this._denaliEditorModel,this._userAccount.features,t)}}},akIQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n("ERkP"),a=n("OA+g"),r=n("I7vG"),o=n("9NHN"),s=n("rk+4"),l=n("bO3R"),c=n("3rlE"),d=n("PyeZ"),u=n("aIes"),p=n("xEVj"),h=n("cVtq"),m=n("lrqh"),g=n("PrA7"),f=n("op3b");const b=({title:e,className:t})=>i.createElement("div",Object.assign({className:t},u.d.setInnerHTML(e.toLowerCase(),{allowedTags:["i","b"]}))),y=({title:e,explanation:t})=>i.createElement("div",null,i.createElement(b,{className:f.a.bigTitle,title:e}),i.createElement("div",Object.assign({className:f.a.explanation},u.d.setInnerHTML(t,{allowedTags:["i","b"]})))),v=({alert:e,hydrate:t,onApply:n,onAddToDictionary:o,onIgnore:d,onOpen:u})=>{const p=i.useContext(s.a.Context).inlineCard,v=e=>/Unknown/.test(e.patternName),k=(e,t)=>/Unknown/.test(e.patternName)?"Unknown word":/Misspelled\/General/.test(e.patternName)?"":t;return i.createElement("div",{className:f.a.card},Object(r.pipe)(e.getTransform(),m.g.chain(Object(a.flow)(t,m.b.fold(t=>(g.Monitoring.Logging.getLogger("InlineCard.hydration").error("Failed to hydrate an inline card",t,{alertId:e.id}),m.g.none),m.g.some))),m.g.fold(()=>!v(e)&&i.createElement(y,{title:e.title,explanation:e.explanation}),t=>i.createElement(h.d,{key:"replacementsLabels",replacementsLabels:t,onClick:n,header:k(e,t.tooltipText),customStyle:f.a,a11yContrast:!0}))),i.createElement(l.a.Group,{align:"vertical"},e.extraProperties.hasAddToDictionary&&i.createElement(l.a.Ghost,{name:"add-to-dictionary",textPosition:"right",className:v(e)?f.a.footerButtonBig:f.a.footerButtonShort,onClick:o},v(e)&&i.createElement(b,{className:f.a.unknownWordTitle,title:e.title}),i.createElement(c.d.Dict,null),p.addToDictionary),i.createElement(l.a.Ghost,{name:"dismiss",className:f.a.footerButtonShort,onClick:d},i.createElement(c.d.Ignore,null),p.dismiss),i.createElement(l.a.Ghost,{name:"see_more",className:f.a.footerButtonShort,onClick:u},i.createElement(c.d.Expand,null),p.seeMore)))},k=e=>{const t=i.useRef(null),[n,a]=i.useState(!1);p.a.useEffectOnDidMount(()=>{const e=t.current;e&&e.firstElementChild&&e.firstElementChild.clientWidth>=288&&a(!0)});const{alert:r,hydrate:s,onApply:l,onIgnore:c,onAddToDictionary:d,onOpen:u}=e;return i.createElement("div",Object.assign({role:"presentation",onClick:e=>e.stopPropagation(),key:r.id,ref:e=>t.current=e},Object(o.c)(n&&f.a.maxWidthReached)),i.createElement(v,{alert:r,hydrate:s,onApply:l,onIgnore:c,onAddToDictionary:d,onOpen:u}))},w=({alert:e,events:t,highlightIndex:n,hydrate:a})=>{const r=e=>()=>{t.next(e),(()=>t.next({type:d.b.Type.closed}))()};return i.createElement(k,{alert:e,hydrate:a,onAddToDictionary:r({type:d.b.Type.addedToDictionary,alertId:e.id}),onApply:t=>r({type:d.b.Type.applied,alertId:e.id,alternativeIndex:t}),onIgnore:r({type:d.b.Type.ignored,alertId:e.id}),onOpen:r({type:d.b.Type.opened,alert:{alert:e,highlightIndex:n}})})}},aq1X:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return S}));var i=n("U75S"),a=n("OA+g"),r=n("+JVj"),o=n("dE97"),s=n("v0pb"),l=n("UEGg"),c=n("7b34"),d=n("lrqh"),u=n("jlxt");const p=e=>({custom:(t,n)=>(function(e,t){return{"custom-visible-solid-solid-none-underline":[],"custom-visible-solid-solid-none-background":[],"custom-visible-solid-solid-none-full":[],"custom-visible-solid-solid-none-focus":[e,t.markHeightStandard,t.markSelected,t.markSelectedFocused,t.markVisible],"custom-visible-solid-solid-none-enclosing":[],"custom-visible-solid-solid-none-underline_start":[],"custom-visible-solid-solid-firstRender-underline":[],"custom-visible-solid-solid-firstRender-background":[],"custom-visible-solid-solid-firstRender-full":[],"custom-visible-solid-solid-firstRender-focus":[],"custom-visible-solid-solid-firstRender-enclosing":[],"custom-visible-solid-solid-firstRender-underline_start":[],"custom-visible-solid-solid-apply-underline":[],"custom-visible-solid-solid-apply-background":[],"custom-visible-solid-solid-apply-full":[],"custom-visible-solid-solid-apply-focus":[],"custom-visible-solid-solid-apply-enclosing":[],"custom-visible-solid-solid-apply-underline_start":[],"custom-visible-solid-solid-success-underline":[],"custom-visible-solid-solid-success-background":[],"custom-visible-solid-solid-success-full":[],"custom-visible-solid-solid-success-focus":[],"custom-visible-solid-solid-success-enclosing":[],"custom-visible-solid-solid-success-underline_start":[],"custom-visible-solid-solid-bulkApply-underline":[],"custom-visible-solid-solid-bulkApply-background":[],"custom-visible-solid-solid-bulkApply-full":[],"custom-visible-solid-solid-bulkApply-focus":[],"custom-visible-solid-solid-bulkApply-enclosing":[],"custom-visible-solid-solid-bulkApply-underline_start":[],"custom-visible-solid-solid-select-underline":[e,t.markHeightStandard,t.markSelectedFocused,t.markVisible,t.markSelected],"custom-visible-solid-solid-select-background":[],"custom-visible-solid-solid-select-full":[e,t.markHeightStandard,t.markSelected,t.markSelectedFocused,t.markVisible],"custom-visible-solid-solid-select-focus":[],"custom-visible-solid-solid-select-enclosing":[],"custom-visible-solid-solid-select-underline_start":[],"custom-visible-solid-none-none-underline":[e,t.markHeightStandard,t.markVisible],"custom-visible-solid-none-none-background":[e,t.markHeightStandard,t.markVisible],"custom-visible-solid-none-none-full":[e,t.markHeightStandard,t.markVisible],"custom-visible-solid-none-none-focus":[],"custom-visible-solid-none-none-enclosing":[],"custom-visible-solid-none-none-underline_start":[],"custom-visible-solid-none-firstRender-underline":[e,t.markHeightStandard,t.markVisible,t.markAnimated],"custom-visible-solid-none-firstRender-background":[e,t.markHeightStandard,t.markVisible,t.markAnimated],"custom-visible-solid-none-firstRender-full":[e,t.markHeightStandard,t.markVisible,t.markAnimated],"custom-visible-solid-none-firstRender-focus":[],"custom-visible-solid-none-firstRender-enclosing":[],"custom-visible-solid-none-firstRender-underline_start":[],"custom-visible-solid-none-apply-underline":[],"custom-visible-solid-none-apply-background":[],"custom-visible-solid-none-apply-full":[],"custom-visible-solid-none-apply-focus":[],"custom-visible-solid-none-apply-enclosing":[],"custom-visible-solid-none-apply-underline_start":[],"custom-visible-solid-none-success-underline":[],"custom-visible-solid-none-success-background":[],"custom-visible-solid-none-success-full":[],"custom-visible-solid-none-success-focus":[],"custom-visible-solid-none-success-enclosing":[],"custom-visible-solid-none-success-underline_start":[],"custom-visible-solid-none-bulkApply-underline":[],"custom-visible-solid-none-bulkApply-background":[],"custom-visible-solid-none-bulkApply-full":[],"custom-visible-solid-none-bulkApply-focus":[],"custom-visible-solid-none-bulkApply-enclosing":[],"custom-visible-solid-none-bulkApply-underline_start":[],"custom-visible-solid-none-select-underline":[],"custom-visible-solid-none-select-background":[],"custom-visible-solid-none-select-full":[],"custom-visible-solid-none-select-focus":[],"custom-visible-solid-none-select-enclosing":[],"custom-visible-solid-none-select-underline_start":[],"custom-visible-dotted-solid-none-underline":[],"custom-visible-dotted-solid-none-background":[],"custom-visible-dotted-solid-none-full":[],"custom-visible-dotted-solid-none-focus":[],"custom-visible-dotted-solid-none-enclosing":[],"custom-visible-dotted-solid-none-underline_start":[],"custom-visible-dotted-solid-firstRender-underline":[],"custom-visible-dotted-solid-firstRender-background":[],"custom-visible-dotted-solid-firstRender-full":[],"custom-visible-dotted-solid-firstRender-focus":[],"custom-visible-dotted-solid-firstRender-enclosing":[],"custom-visible-dotted-solid-firstRender-underline_start":[],"custom-visible-dotted-solid-apply-underline":[],"custom-visible-dotted-solid-apply-background":[],"custom-visible-dotted-solid-apply-full":[],"custom-visible-dotted-solid-apply-focus":[],"custom-visible-dotted-solid-apply-enclosing":[],"custom-visible-dotted-solid-apply-underline_start":[],"custom-visible-dotted-solid-success-underline":[],"custom-visible-dotted-solid-success-background":[],"custom-visible-dotted-solid-success-full":[],"custom-visible-dotted-solid-success-focus":[],"custom-visible-dotted-solid-success-enclosing":[],"custom-visible-dotted-solid-success-underline_start":[],"custom-visible-dotted-solid-bulkApply-underline":[],"custom-visible-dotted-solid-bulkApply-background":[],"custom-visible-dotted-solid-bulkApply-full":[],"custom-visible-dotted-solid-bulkApply-focus":[],"custom-visible-dotted-solid-bulkApply-enclosing":[],"custom-visible-dotted-solid-bulkApply-underline_start":[],"custom-visible-dotted-solid-select-underline":[],"custom-visible-dotted-solid-select-background":[],"custom-visible-dotted-solid-select-full":[],"custom-visible-dotted-solid-select-focus":[],"custom-visible-dotted-solid-select-enclosing":[],"custom-visible-dotted-solid-select-underline_start":[],"custom-visible-dotted-none-none-underline":[],"custom-visible-dotted-none-none-background":[],"custom-visible-dotted-none-none-full":[],"custom-visible-dotted-none-none-focus":[],"custom-visible-dotted-none-none-enclosing":[],"custom-visible-dotted-none-none-underline_start":[],"custom-visible-dotted-none-firstRender-underline":[],"custom-visible-dotted-none-firstRender-background":[],"custom-visible-dotted-none-firstRender-full":[],"custom-visible-dotted-none-firstRender-focus":[],"custom-visible-dotted-none-firstRender-enclosing":[],"custom-visible-dotted-none-firstRender-underline_start":[],"custom-visible-dotted-none-apply-underline":[],"custom-visible-dotted-none-apply-background":[],"custom-visible-dotted-none-apply-full":[],"custom-visible-dotted-none-apply-focus":[],"custom-visible-dotted-none-apply-enclosing":[],"custom-visible-dotted-none-apply-underline_start":[],"custom-visible-dotted-none-success-underline":[],"custom-visible-dotted-none-success-background":[],"custom-visible-dotted-none-success-full":[],"custom-visible-dotted-none-success-focus":[],"custom-visible-dotted-none-success-enclosing":[],"custom-visible-dotted-none-success-underline_start":[],"custom-visible-dotted-none-bulkApply-underline":[],"custom-visible-dotted-none-bulkApply-background":[],"custom-visible-dotted-none-bulkApply-full":[],"custom-visible-dotted-none-bulkApply-focus":[],"custom-visible-dotted-none-bulkApply-enclosing":[],"custom-visible-dotted-none-bulkApply-underline_start":[],"custom-visible-dotted-none-select-underline":[],"custom-visible-dotted-none-select-background":[],"custom-visible-dotted-none-select-full":[],"custom-visible-dotted-none-select-focus":[],"custom-visible-dotted-none-select-enclosing":[],"custom-visible-dotted-none-select-underline_start":[],"custom-visible-none-solid-none-underline":[],"custom-visible-none-solid-none-background":[],"custom-visible-none-solid-none-full":[],"custom-visible-none-solid-none-focus":[],"custom-visible-none-solid-none-enclosing":[e,t.markHeightStandard,t.markSelected,t.markVisible],"custom-visible-none-solid-none-underline_start":[],"custom-visible-none-solid-firstRender-underline":[],"custom-visible-none-solid-firstRender-background":[],"custom-visible-none-solid-firstRender-full":[],"custom-visible-none-solid-firstRender-focus":[],"custom-visible-none-solid-firstRender-enclosing":[],"custom-visible-none-solid-firstRender-underline_start":[],"custom-visible-none-solid-apply-underline":[],"custom-visible-none-solid-apply-background":[],"custom-visible-none-solid-apply-full":[],"custom-visible-none-solid-apply-focus":[],"custom-visible-none-solid-apply-enclosing":[],"custom-visible-none-solid-apply-underline_start":[],"custom-visible-none-solid-success-underline":[],"custom-visible-none-solid-success-background":[],"custom-visible-none-solid-success-full":[],"custom-visible-none-solid-success-focus":[],"custom-visible-none-solid-success-enclosing":[],"custom-visible-none-solid-success-underline_start":[],"custom-visible-none-solid-bulkApply-underline":[],"custom-visible-none-solid-bulkApply-background":[],"custom-visible-none-solid-bulkApply-full":[],"custom-visible-none-solid-bulkApply-focus":[],"custom-visible-none-solid-bulkApply-enclosing":[],"custom-visible-none-solid-bulkApply-underline_start":[],"custom-visible-none-solid-select-underline":[e,t.markHeightStandard,t.markSelectedFocused,t.markVisible],"custom-visible-none-solid-select-background":[e,t.markHeightStandard,t.markSelected,t.markVisible],"custom-visible-none-solid-select-full":[],"custom-visible-none-solid-select-focus":[],"custom-visible-none-solid-select-enclosing":[],"custom-visible-none-solid-select-underline_start":[],"custom-visible-none-none-none-underline":[],"custom-visible-none-none-none-background":[],"custom-visible-none-none-none-full":[],"custom-visible-none-none-none-focus":[],"custom-visible-none-none-none-enclosing":[],"custom-visible-none-none-none-underline_start":[],"custom-visible-none-none-firstRender-underline":[],"custom-visible-none-none-firstRender-background":[],"custom-visible-none-none-firstRender-full":[],"custom-visible-none-none-firstRender-focus":[],"custom-visible-none-none-firstRender-enclosing":[],"custom-visible-none-none-firstRender-underline_start":[],"custom-visible-none-none-apply-underline":[],"custom-visible-none-none-apply-background":[],"custom-visible-none-none-apply-full":[],"custom-visible-none-none-apply-focus":[],"custom-visible-none-none-apply-enclosing":[],"custom-visible-none-none-apply-underline_start":[],"custom-visible-none-none-success-underline":[],"custom-visible-none-none-success-background":[],"custom-visible-none-none-success-full":[],"custom-visible-none-none-success-focus":[],"custom-visible-none-none-success-enclosing":[],"custom-visible-none-none-success-underline_start":[],"custom-visible-none-none-bulkApply-underline":[],"custom-visible-none-none-bulkApply-background":[],"custom-visible-none-none-bulkApply-full":[],"custom-visible-none-none-bulkApply-focus":[],"custom-visible-none-none-bulkApply-enclosing":[],"custom-visible-none-none-bulkApply-underline_start":[],"custom-visible-none-none-select-underline":[],"custom-visible-none-none-select-background":[],"custom-visible-none-none-select-full":[],"custom-visible-none-none-select-focus":[],"custom-visible-none-none-select-enclosing":[],"custom-visible-none-none-select-underline_start":[],"custom-hidden-solid-solid-none-underline":[],"custom-hidden-solid-solid-none-background":[],"custom-hidden-solid-solid-none-full":[],"custom-hidden-solid-solid-none-focus":[e,t.markHeightStandard,t.markHidden],"custom-hidden-solid-solid-none-enclosing":[],"custom-hidden-solid-solid-none-underline_start":[],"custom-hidden-solid-solid-firstRender-underline":[],"custom-hidden-solid-solid-firstRender-background":[],"custom-hidden-solid-solid-firstRender-full":[],"custom-hidden-solid-solid-firstRender-focus":[e,t.markHeightStandard,t.markHidden],"custom-hidden-solid-solid-firstRender-enclosing":[],"custom-hidden-solid-solid-firstRender-underline_start":[],"custom-hidden-solid-solid-apply-underline":[],"custom-hidden-solid-solid-apply-background":[],"custom-hidden-solid-solid-apply-full":[],"custom-hidden-solid-solid-apply-focus":[],"custom-hidden-solid-solid-apply-enclosing":[],"custom-hidden-solid-solid-apply-underline_start":[],"custom-hidden-solid-solid-success-underline":[],"custom-hidden-solid-solid-success-background":[],"custom-hidden-solid-solid-success-full":[],"custom-hidden-solid-solid-success-focus":[],"custom-hidden-solid-solid-success-enclosing":[],"custom-hidden-solid-solid-success-underline_start":[],"custom-hidden-solid-solid-bulkApply-underline":[],"custom-hidden-solid-solid-bulkApply-background":[],"custom-hidden-solid-solid-bulkApply-full":[],"custom-hidden-solid-solid-bulkApply-focus":[],"custom-hidden-solid-solid-bulkApply-enclosing":[],"custom-hidden-solid-solid-bulkApply-underline_start":[],"custom-hidden-solid-solid-select-underline":[],"custom-hidden-solid-solid-select-background":[],"custom-hidden-solid-solid-select-full":[],"custom-hidden-solid-solid-select-focus":[],"custom-hidden-solid-solid-select-enclosing":[],"custom-hidden-solid-solid-select-underline_start":[],"custom-hidden-solid-none-none-underline":[],"custom-hidden-solid-none-none-background":[],"custom-hidden-solid-none-none-full":[],"custom-hidden-solid-none-none-focus":[],"custom-hidden-solid-none-none-enclosing":[],"custom-hidden-solid-none-none-underline_start":[],"custom-hidden-solid-none-firstRender-underline":[],"custom-hidden-solid-none-firstRender-background":[],"custom-hidden-solid-none-firstRender-full":[],"custom-hidden-solid-none-firstRender-focus":[],"custom-hidden-solid-none-firstRender-enclosing":[],"custom-hidden-solid-none-firstRender-underline_start":[],"custom-hidden-solid-none-apply-underline":[],"custom-hidden-solid-none-apply-background":[],"custom-hidden-solid-none-apply-full":[],"custom-hidden-solid-none-apply-focus":[],"custom-hidden-solid-none-apply-enclosing":[],"custom-hidden-solid-none-apply-underline_start":[],"custom-hidden-solid-none-success-underline":[],"custom-hidden-solid-none-success-background":[],"custom-hidden-solid-none-success-full":[],"custom-hidden-solid-none-success-focus":[],"custom-hidden-solid-none-success-enclosing":[],"custom-hidden-solid-none-success-underline_start":[],"custom-hidden-solid-none-bulkApply-underline":[],"custom-hidden-solid-none-bulkApply-background":[],"custom-hidden-solid-none-bulkApply-full":[],"custom-hidden-solid-none-bulkApply-focus":[],"custom-hidden-solid-none-bulkApply-enclosing":[],"custom-hidden-solid-none-bulkApply-underline_start":[],"custom-hidden-solid-none-select-underline":[],"custom-hidden-solid-none-select-background":[],"custom-hidden-solid-none-select-full":[],"custom-hidden-solid-none-select-focus":[],"custom-hidden-solid-none-select-enclosing":[],"custom-hidden-solid-none-select-underline_start":[],"custom-hidden-dotted-solid-none-underline":[],"custom-hidden-dotted-solid-none-background":[],"custom-hidden-dotted-solid-none-full":[],"custom-hidden-dotted-solid-none-focus":[],"custom-hidden-dotted-solid-none-enclosing":[],"custom-hidden-dotted-solid-none-underline_start":[],"custom-hidden-dotted-solid-firstRender-underline":[],"custom-hidden-dotted-solid-firstRender-background":[],"custom-hidden-dotted-solid-firstRender-full":[],"custom-hidden-dotted-solid-firstRender-focus":[],"custom-hidden-dotted-solid-firstRender-enclosing":[],"custom-hidden-dotted-solid-firstRender-underline_start":[],"custom-hidden-dotted-solid-apply-underline":[],"custom-hidden-dotted-solid-apply-background":[],"custom-hidden-dotted-solid-apply-full":[],"custom-hidden-dotted-solid-apply-focus":[],"custom-hidden-dotted-solid-apply-enclosing":[],"custom-hidden-dotted-solid-apply-underline_start":[],"custom-hidden-dotted-solid-success-underline":[],"custom-hidden-dotted-solid-success-background":[],"custom-hidden-dotted-solid-success-full":[],"custom-hidden-dotted-solid-success-focus":[],"custom-hidden-dotted-solid-success-enclosing":[],"custom-hidden-dotted-solid-success-underline_start":[],"custom-hidden-dotted-solid-bulkApply-underline":[],"custom-hidden-dotted-solid-bulkApply-background":[],"custom-hidden-dotted-solid-bulkApply-full":[],"custom-hidden-dotted-solid-bulkApply-focus":[],"custom-hidden-dotted-solid-bulkApply-enclosing":[],"custom-hidden-dotted-solid-bulkApply-underline_start":[],"custom-hidden-dotted-solid-select-underline":[],"custom-hidden-dotted-solid-select-background":[],"custom-hidden-dotted-solid-select-full":[],"custom-hidden-dotted-solid-select-focus":[],"custom-hidden-dotted-solid-select-enclosing":[],"custom-hidden-dotted-solid-select-underline_start":[],"custom-hidden-dotted-none-none-underline":[],"custom-hidden-dotted-none-none-background":[],"custom-hidden-dotted-none-none-full":[],"custom-hidden-dotted-none-none-focus":[],"custom-hidden-dotted-none-none-enclosing":[],"custom-hidden-dotted-none-none-underline_start":[],"custom-hidden-dotted-none-firstRender-underline":[],"custom-hidden-dotted-none-firstRender-background":[],"custom-hidden-dotted-none-firstRender-full":[],"custom-hidden-dotted-none-firstRender-focus":[],"custom-hidden-dotted-none-firstRender-enclosing":[],"custom-hidden-dotted-none-firstRender-underline_start":[],"custom-hidden-dotted-none-apply-underline":[],"custom-hidden-dotted-none-apply-background":[],"custom-hidden-dotted-none-apply-full":[],"custom-hidden-dotted-none-apply-focus":[],"custom-hidden-dotted-none-apply-enclosing":[],"custom-hidden-dotted-none-apply-underline_start":[],"custom-hidden-dotted-none-success-underline":[],"custom-hidden-dotted-none-success-background":[],"custom-hidden-dotted-none-success-full":[],"custom-hidden-dotted-none-success-focus":[],"custom-hidden-dotted-none-success-enclosing":[],"custom-hidden-dotted-none-success-underline_start":[],"custom-hidden-dotted-none-bulkApply-underline":[],"custom-hidden-dotted-none-bulkApply-background":[],"custom-hidden-dotted-none-bulkApply-full":[],"custom-hidden-dotted-none-bulkApply-focus":[],"custom-hidden-dotted-none-bulkApply-enclosing":[],"custom-hidden-dotted-none-bulkApply-underline_start":[],"custom-hidden-dotted-none-select-underline":[],"custom-hidden-dotted-none-select-background":[],"custom-hidden-dotted-none-select-full":[],"custom-hidden-dotted-none-select-focus":[],"custom-hidden-dotted-none-select-enclosing":[],"custom-hidden-dotted-none-select-underline_start":[],"custom-hidden-none-solid-none-underline":[],"custom-hidden-none-solid-none-background":[],"custom-hidden-none-solid-none-full":[],"custom-hidden-none-solid-none-focus":[],"custom-hidden-none-solid-none-enclosing":[e,t.markHeightStandard,t.markHidden],"custom-hidden-none-solid-none-underline_start":[],"custom-hidden-none-solid-firstRender-underline":[],"custom-hidden-none-solid-firstRender-background":[],"custom-hidden-none-solid-firstRender-full":[],"custom-hidden-none-solid-firstRender-focus":[],"custom-hidden-none-solid-firstRender-enclosing":[e,t.markHeightStandard,t.markHidden],"custom-hidden-none-solid-firstRender-underline_start":[],"custom-hidden-none-solid-apply-underline":[],"custom-hidden-none-solid-apply-background":[],"custom-hidden-none-solid-apply-full":[],"custom-hidden-none-solid-apply-focus":[],"custom-hidden-none-solid-apply-enclosing":[],"custom-hidden-none-solid-apply-underline_start":[],"custom-hidden-none-solid-success-underline":[],"custom-hidden-none-solid-success-background":[],"custom-hidden-none-solid-success-full":[],"custom-hidden-none-solid-success-focus":[],"custom-hidden-none-solid-success-enclosing":[],"custom-hidden-none-solid-success-underline_start":[],"custom-hidden-none-solid-bulkApply-underline":[],"custom-hidden-none-solid-bulkApply-background":[],"custom-hidden-none-solid-bulkApply-full":[],"custom-hidden-none-solid-bulkApply-focus":[],"custom-hidden-none-solid-bulkApply-enclosing":[],"custom-hidden-none-solid-bulkApply-underline_start":[],"custom-hidden-none-solid-select-underline":[],"custom-hidden-none-solid-select-background":[],"custom-hidden-none-solid-select-full":[],"custom-hidden-none-solid-select-focus":[],"custom-hidden-none-solid-select-enclosing":[],"custom-hidden-none-solid-select-underline_start":[],"custom-hidden-none-none-none-underline":[],"custom-hidden-none-none-none-background":[],"custom-hidden-none-none-none-full":[],"custom-hidden-none-none-none-focus":[],"custom-hidden-none-none-none-enclosing":[],"custom-hidden-none-none-none-underline_start":[],"custom-hidden-none-none-firstRender-underline":[],"custom-hidden-none-none-firstRender-background":[],"custom-hidden-none-none-firstRender-full":[],"custom-hidden-none-none-firstRender-focus":[],"custom-hidden-none-none-firstRender-enclosing":[],"custom-hidden-none-none-firstRender-underline_start":[],"custom-hidden-none-none-apply-underline":[],"custom-hidden-none-none-apply-background":[],"custom-hidden-none-none-apply-full":[],"custom-hidden-none-none-apply-focus":[],"custom-hidden-none-none-apply-enclosing":[],"custom-hidden-none-none-apply-underline_start":[],"custom-hidden-none-none-success-underline":[],"custom-hidden-none-none-success-background":[],"custom-hidden-none-none-success-full":[],"custom-hidden-none-none-success-focus":[],"custom-hidden-none-none-success-enclosing":[],"custom-hidden-none-none-success-underline_start":[],"custom-hidden-none-none-bulkApply-underline":[],"custom-hidden-none-none-bulkApply-background":[],"custom-hidden-none-none-bulkApply-full":[],"custom-hidden-none-none-bulkApply-focus":[],"custom-hidden-none-none-bulkApply-enclosing":[],"custom-hidden-none-none-bulkApply-underline_start":[],"custom-hidden-none-none-select-underline":[],"custom-hidden-none-none-select-background":[],"custom-hidden-none-none-select-full":[],"custom-hidden-none-none-select-focus":[],"custom-hidden-none-none-select-enclosing":[],"custom-hidden-none-none-select-underline_start":[]}})(e.custom(t,n),e),"blue-visible-solid-solid-none-underline":[],"blue-visible-solid-solid-none-background":[],"blue-visible-solid-solid-none-full":[],"blue-visible-solid-solid-none-focus":[e.clarity,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"blue-visible-solid-solid-none-enclosing":[],"blue-visible-solid-solid-none-underline_start":[],"blue-visible-solid-solid-firstRender-underline":[],"blue-visible-solid-solid-firstRender-background":[],"blue-visible-solid-solid-firstRender-full":[],"blue-visible-solid-solid-firstRender-focus":[],"blue-visible-solid-solid-firstRender-enclosing":[],"blue-visible-solid-solid-firstRender-underline_start":[],"blue-visible-solid-solid-apply-underline":[],"blue-visible-solid-solid-apply-background":[],"blue-visible-solid-solid-apply-full":[],"blue-visible-solid-solid-apply-focus":[],"blue-visible-solid-solid-apply-enclosing":[],"blue-visible-solid-solid-apply-underline_start":[],"blue-visible-solid-solid-success-underline":[],"blue-visible-solid-solid-success-background":[],"blue-visible-solid-solid-success-full":[],"blue-visible-solid-solid-success-focus":[],"blue-visible-solid-solid-success-enclosing":[],"blue-visible-solid-solid-success-underline_start":[],"blue-visible-solid-solid-bulkApply-underline":[],"blue-visible-solid-solid-bulkApply-background":[],"blue-visible-solid-solid-bulkApply-full":[],"blue-visible-solid-solid-bulkApply-focus":[],"blue-visible-solid-solid-bulkApply-enclosing":[],"blue-visible-solid-solid-bulkApply-underline_start":[],"blue-visible-solid-solid-select-underline":[e.clarity,e.markHeightStandard,e.markSelectedFocused,e.markVisible,e.markSelected],"blue-visible-solid-solid-select-background":[],"blue-visible-solid-solid-select-full":[e.clarity,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"blue-visible-solid-solid-select-focus":[],"blue-visible-solid-solid-select-enclosing":[],"blue-visible-solid-solid-select-underline_start":[],"blue-visible-solid-none-none-underline":[e.clarity,e.markHeightStandard,e.markVisible],"blue-visible-solid-none-none-background":[e.clarity,e.markHeightStandard,e.markVisible],"blue-visible-solid-none-none-full":[e.clarity,e.markHeightStandard,e.markVisible],"blue-visible-solid-none-none-focus":[],"blue-visible-solid-none-none-enclosing":[],"blue-visible-solid-none-none-underline_start":[],"blue-visible-solid-none-firstRender-underline":[e.clarity,e.markHeightStandard,e.markVisible,e.markAnimated],"blue-visible-solid-none-firstRender-background":[e.clarity,e.markHeightStandard,e.markVisible,e.markAnimated],"blue-visible-solid-none-firstRender-full":[e.clarity,e.markHeightStandard,e.markVisible,e.markAnimated],"blue-visible-solid-none-firstRender-focus":[],"blue-visible-solid-none-firstRender-enclosing":[],"blue-visible-solid-none-firstRender-underline_start":[],"blue-visible-solid-none-apply-underline":[],"blue-visible-solid-none-apply-background":[],"blue-visible-solid-none-apply-full":[],"blue-visible-solid-none-apply-focus":[],"blue-visible-solid-none-apply-enclosing":[],"blue-visible-solid-none-apply-underline_start":[],"blue-visible-solid-none-success-underline":[],"blue-visible-solid-none-success-background":[],"blue-visible-solid-none-success-full":[],"blue-visible-solid-none-success-focus":[],"blue-visible-solid-none-success-enclosing":[],"blue-visible-solid-none-success-underline_start":[],"blue-visible-solid-none-bulkApply-underline":[],"blue-visible-solid-none-bulkApply-background":[],"blue-visible-solid-none-bulkApply-full":[],"blue-visible-solid-none-bulkApply-focus":[],"blue-visible-solid-none-bulkApply-enclosing":[],"blue-visible-solid-none-bulkApply-underline_start":[],"blue-visible-solid-none-select-underline":[],"blue-visible-solid-none-select-background":[],"blue-visible-solid-none-select-full":[],"blue-visible-solid-none-select-focus":[],"blue-visible-solid-none-select-enclosing":[],"blue-visible-solid-none-select-underline_start":[],"blue-visible-dotted-solid-none-underline":[],"blue-visible-dotted-solid-none-background":[],"blue-visible-dotted-solid-none-full":[],"blue-visible-dotted-solid-none-focus":[],"blue-visible-dotted-solid-none-enclosing":[],"blue-visible-dotted-solid-none-underline_start":[],"blue-visible-dotted-solid-firstRender-underline":[],"blue-visible-dotted-solid-firstRender-background":[],"blue-visible-dotted-solid-firstRender-full":[],"blue-visible-dotted-solid-firstRender-focus":[],"blue-visible-dotted-solid-firstRender-enclosing":[],"blue-visible-dotted-solid-firstRender-underline_start":[],"blue-visible-dotted-solid-apply-underline":[],"blue-visible-dotted-solid-apply-background":[],"blue-visible-dotted-solid-apply-full":[],"blue-visible-dotted-solid-apply-focus":[],"blue-visible-dotted-solid-apply-enclosing":[],"blue-visible-dotted-solid-apply-underline_start":[],"blue-visible-dotted-solid-success-underline":[],"blue-visible-dotted-solid-success-background":[],"blue-visible-dotted-solid-success-full":[],"blue-visible-dotted-solid-success-focus":[],"blue-visible-dotted-solid-success-enclosing":[],"blue-visible-dotted-solid-success-underline_start":[],"blue-visible-dotted-solid-bulkApply-underline":[],"blue-visible-dotted-solid-bulkApply-background":[],"blue-visible-dotted-solid-bulkApply-full":[],"blue-visible-dotted-solid-bulkApply-focus":[],"blue-visible-dotted-solid-bulkApply-enclosing":[],"blue-visible-dotted-solid-bulkApply-underline_start":[],"blue-visible-dotted-solid-select-underline":[],"blue-visible-dotted-solid-select-background":[],"blue-visible-dotted-solid-select-full":[],"blue-visible-dotted-solid-select-focus":[],"blue-visible-dotted-solid-select-enclosing":[],"blue-visible-dotted-solid-select-underline_start":[],"blue-visible-dotted-none-none-underline":[],"blue-visible-dotted-none-none-background":[],"blue-visible-dotted-none-none-full":[],"blue-visible-dotted-none-none-focus":[],"blue-visible-dotted-none-none-enclosing":[],"blue-visible-dotted-none-none-underline_start":[],"blue-visible-dotted-none-firstRender-underline":[],"blue-visible-dotted-none-firstRender-background":[],"blue-visible-dotted-none-firstRender-full":[],"blue-visible-dotted-none-firstRender-focus":[],"blue-visible-dotted-none-firstRender-enclosing":[],"blue-visible-dotted-none-firstRender-underline_start":[],"blue-visible-dotted-none-apply-underline":[],"blue-visible-dotted-none-apply-background":[],"blue-visible-dotted-none-apply-full":[],"blue-visible-dotted-none-apply-focus":[],"blue-visible-dotted-none-apply-enclosing":[],"blue-visible-dotted-none-apply-underline_start":[],"blue-visible-dotted-none-success-underline":[],"blue-visible-dotted-none-success-background":[],"blue-visible-dotted-none-success-full":[],"blue-visible-dotted-none-success-focus":[],"blue-visible-dotted-none-success-enclosing":[],"blue-visible-dotted-none-success-underline_start":[],"blue-visible-dotted-none-bulkApply-underline":[],"blue-visible-dotted-none-bulkApply-background":[],"blue-visible-dotted-none-bulkApply-full":[],"blue-visible-dotted-none-bulkApply-focus":[],"blue-visible-dotted-none-bulkApply-enclosing":[],"blue-visible-dotted-none-bulkApply-underline_start":[],"blue-visible-dotted-none-select-underline":[],"blue-visible-dotted-none-select-background":[],"blue-visible-dotted-none-select-full":[],"blue-visible-dotted-none-select-focus":[],"blue-visible-dotted-none-select-enclosing":[],"blue-visible-dotted-none-select-underline_start":[],"blue-visible-none-solid-none-underline":[],"blue-visible-none-solid-none-background":[],"blue-visible-none-solid-none-full":[],"blue-visible-none-solid-none-focus":[],"blue-visible-none-solid-none-enclosing":[e.clarity,e.markHeightStandard,e.markSelected,e.markVisible],"blue-visible-none-solid-none-underline_start":[],"blue-visible-none-solid-firstRender-underline":[],"blue-visible-none-solid-firstRender-background":[],"blue-visible-none-solid-firstRender-full":[],"blue-visible-none-solid-firstRender-focus":[],"blue-visible-none-solid-firstRender-enclosing":[],"blue-visible-none-solid-firstRender-underline_start":[],"blue-visible-none-solid-apply-underline":[],"blue-visible-none-solid-apply-background":[],"blue-visible-none-solid-apply-full":[],"blue-visible-none-solid-apply-focus":[],"blue-visible-none-solid-apply-enclosing":[],"blue-visible-none-solid-apply-underline_start":[],"blue-visible-none-solid-success-underline":[],"blue-visible-none-solid-success-background":[],"blue-visible-none-solid-success-full":[],"blue-visible-none-solid-success-focus":[],"blue-visible-none-solid-success-enclosing":[],"blue-visible-none-solid-success-underline_start":[],"blue-visible-none-solid-bulkApply-underline":[],"blue-visible-none-solid-bulkApply-background":[],"blue-visible-none-solid-bulkApply-full":[],"blue-visible-none-solid-bulkApply-focus":[],"blue-visible-none-solid-bulkApply-enclosing":[],"blue-visible-none-solid-bulkApply-underline_start":[],"blue-visible-none-solid-select-underline":[e.clarity,e.markHeightStandard,e.markSelectedFocused,e.markVisible],"blue-visible-none-solid-select-background":[e.clarity,e.markHeightStandard,e.markSelected,e.markVisible],"blue-visible-none-solid-select-full":[],"blue-visible-none-solid-select-focus":[],"blue-visible-none-solid-select-enclosing":[],"blue-visible-none-solid-select-underline_start":[],"blue-visible-none-none-none-underline":[],"blue-visible-none-none-none-background":[],"blue-visible-none-none-none-full":[],"blue-visible-none-none-none-focus":[],"blue-visible-none-none-none-enclosing":[],"blue-visible-none-none-none-underline_start":[],"blue-visible-none-none-firstRender-underline":[],"blue-visible-none-none-firstRender-background":[],"blue-visible-none-none-firstRender-full":[],"blue-visible-none-none-firstRender-focus":[],"blue-visible-none-none-firstRender-enclosing":[],"blue-visible-none-none-firstRender-underline_start":[],"blue-visible-none-none-apply-underline":[],"blue-visible-none-none-apply-background":[],"blue-visible-none-none-apply-full":[],"blue-visible-none-none-apply-focus":[],"blue-visible-none-none-apply-enclosing":[],"blue-visible-none-none-apply-underline_start":[],"blue-visible-none-none-success-underline":[],"blue-visible-none-none-success-background":[],"blue-visible-none-none-success-full":[],"blue-visible-none-none-success-focus":[],"blue-visible-none-none-success-enclosing":[],"blue-visible-none-none-success-underline_start":[],"blue-visible-none-none-bulkApply-underline":[],"blue-visible-none-none-bulkApply-background":[],"blue-visible-none-none-bulkApply-full":[],"blue-visible-none-none-bulkApply-focus":[],"blue-visible-none-none-bulkApply-enclosing":[],"blue-visible-none-none-bulkApply-underline_start":[],"blue-visible-none-none-select-underline":[],"blue-visible-none-none-select-background":[],"blue-visible-none-none-select-full":[],"blue-visible-none-none-select-focus":[],"blue-visible-none-none-select-enclosing":[],"blue-visible-none-none-select-underline_start":[],"blue-hidden-solid-solid-none-underline":[],"blue-hidden-solid-solid-none-background":[],"blue-hidden-solid-solid-none-full":[],"blue-hidden-solid-solid-none-focus":[e.clarity,e.markHeightStandard,e.markHidden],"blue-hidden-solid-solid-none-enclosing":[],"blue-hidden-solid-solid-none-underline_start":[],"blue-hidden-solid-solid-firstRender-underline":[],"blue-hidden-solid-solid-firstRender-background":[],"blue-hidden-solid-solid-firstRender-full":[],"blue-hidden-solid-solid-firstRender-focus":[e.clarity,e.markHeightStandard,e.markHidden],"blue-hidden-solid-solid-firstRender-enclosing":[],"blue-hidden-solid-solid-firstRender-underline_start":[],"blue-hidden-solid-solid-apply-underline":[],"blue-hidden-solid-solid-apply-background":[],"blue-hidden-solid-solid-apply-full":[],"blue-hidden-solid-solid-apply-focus":[],"blue-hidden-solid-solid-apply-enclosing":[],"blue-hidden-solid-solid-apply-underline_start":[],"blue-hidden-solid-solid-success-underline":[],"blue-hidden-solid-solid-success-background":[],"blue-hidden-solid-solid-success-full":[],"blue-hidden-solid-solid-success-focus":[],"blue-hidden-solid-solid-success-enclosing":[],"blue-hidden-solid-solid-success-underline_start":[],"blue-hidden-solid-solid-bulkApply-underline":[],"blue-hidden-solid-solid-bulkApply-background":[],"blue-hidden-solid-solid-bulkApply-full":[],"blue-hidden-solid-solid-bulkApply-focus":[],"blue-hidden-solid-solid-bulkApply-enclosing":[],"blue-hidden-solid-solid-bulkApply-underline_start":[],"blue-hidden-solid-solid-select-underline":[],"blue-hidden-solid-solid-select-background":[],"blue-hidden-solid-solid-select-full":[],"blue-hidden-solid-solid-select-focus":[],"blue-hidden-solid-solid-select-enclosing":[],"blue-hidden-solid-solid-select-underline_start":[],"blue-hidden-solid-none-none-underline":[],"blue-hidden-solid-none-none-background":[],"blue-hidden-solid-none-none-full":[],"blue-hidden-solid-none-none-focus":[],"blue-hidden-solid-none-none-enclosing":[],"blue-hidden-solid-none-none-underline_start":[],"blue-hidden-solid-none-firstRender-underline":[],"blue-hidden-solid-none-firstRender-background":[],"blue-hidden-solid-none-firstRender-full":[],"blue-hidden-solid-none-firstRender-focus":[],"blue-hidden-solid-none-firstRender-enclosing":[],"blue-hidden-solid-none-firstRender-underline_start":[],"blue-hidden-solid-none-apply-underline":[],"blue-hidden-solid-none-apply-background":[],"blue-hidden-solid-none-apply-full":[],"blue-hidden-solid-none-apply-focus":[],"blue-hidden-solid-none-apply-enclosing":[],"blue-hidden-solid-none-apply-underline_start":[],"blue-hidden-solid-none-success-underline":[],"blue-hidden-solid-none-success-background":[],"blue-hidden-solid-none-success-full":[],"blue-hidden-solid-none-success-focus":[],"blue-hidden-solid-none-success-enclosing":[],"blue-hidden-solid-none-success-underline_start":[],"blue-hidden-solid-none-bulkApply-underline":[],"blue-hidden-solid-none-bulkApply-background":[],"blue-hidden-solid-none-bulkApply-full":[],"blue-hidden-solid-none-bulkApply-focus":[],"blue-hidden-solid-none-bulkApply-enclosing":[],"blue-hidden-solid-none-bulkApply-underline_start":[],"blue-hidden-solid-none-select-underline":[],"blue-hidden-solid-none-select-background":[],"blue-hidden-solid-none-select-full":[],"blue-hidden-solid-none-select-focus":[],"blue-hidden-solid-none-select-enclosing":[],"blue-hidden-solid-none-select-underline_start":[],"blue-hidden-dotted-solid-none-underline":[],"blue-hidden-dotted-solid-none-background":[],"blue-hidden-dotted-solid-none-full":[],"blue-hidden-dotted-solid-none-focus":[],"blue-hidden-dotted-solid-none-enclosing":[],"blue-hidden-dotted-solid-none-underline_start":[],"blue-hidden-dotted-solid-firstRender-underline":[],"blue-hidden-dotted-solid-firstRender-background":[],"blue-hidden-dotted-solid-firstRender-full":[],"blue-hidden-dotted-solid-firstRender-focus":[],"blue-hidden-dotted-solid-firstRender-enclosing":[],"blue-hidden-dotted-solid-firstRender-underline_start":[],"blue-hidden-dotted-solid-apply-underline":[],"blue-hidden-dotted-solid-apply-background":[],"blue-hidden-dotted-solid-apply-full":[],"blue-hidden-dotted-solid-apply-focus":[],"blue-hidden-dotted-solid-apply-enclosing":[],"blue-hidden-dotted-solid-apply-underline_start":[],"blue-hidden-dotted-solid-success-underline":[],"blue-hidden-dotted-solid-success-background":[],"blue-hidden-dotted-solid-success-full":[],"blue-hidden-dotted-solid-success-focus":[],"blue-hidden-dotted-solid-success-enclosing":[],"blue-hidden-dotted-solid-success-underline_start":[],"blue-hidden-dotted-solid-bulkApply-underline":[],"blue-hidden-dotted-solid-bulkApply-background":[],"blue-hidden-dotted-solid-bulkApply-full":[],"blue-hidden-dotted-solid-bulkApply-focus":[],"blue-hidden-dotted-solid-bulkApply-enclosing":[],"blue-hidden-dotted-solid-bulkApply-underline_start":[],"blue-hidden-dotted-solid-select-underline":[],"blue-hidden-dotted-solid-select-background":[],"blue-hidden-dotted-solid-select-full":[],"blue-hidden-dotted-solid-select-focus":[],"blue-hidden-dotted-solid-select-enclosing":[],"blue-hidden-dotted-solid-select-underline_start":[],"blue-hidden-dotted-none-none-underline":[],"blue-hidden-dotted-none-none-background":[],"blue-hidden-dotted-none-none-full":[],"blue-hidden-dotted-none-none-focus":[],"blue-hidden-dotted-none-none-enclosing":[],"blue-hidden-dotted-none-none-underline_start":[],"blue-hidden-dotted-none-firstRender-underline":[],"blue-hidden-dotted-none-firstRender-background":[],"blue-hidden-dotted-none-firstRender-full":[],"blue-hidden-dotted-none-firstRender-focus":[],"blue-hidden-dotted-none-firstRender-enclosing":[],"blue-hidden-dotted-none-firstRender-underline_start":[],"blue-hidden-dotted-none-apply-underline":[],"blue-hidden-dotted-none-apply-background":[],"blue-hidden-dotted-none-apply-full":[],"blue-hidden-dotted-none-apply-focus":[],"blue-hidden-dotted-none-apply-enclosing":[],"blue-hidden-dotted-none-apply-underline_start":[],"blue-hidden-dotted-none-success-underline":[],"blue-hidden-dotted-none-success-background":[],"blue-hidden-dotted-none-success-full":[],"blue-hidden-dotted-none-success-focus":[],"blue-hidden-dotted-none-success-enclosing":[],"blue-hidden-dotted-none-success-underline_start":[],"blue-hidden-dotted-none-bulkApply-underline":[],"blue-hidden-dotted-none-bulkApply-background":[],"blue-hidden-dotted-none-bulkApply-full":[],"blue-hidden-dotted-none-bulkApply-focus":[],"blue-hidden-dotted-none-bulkApply-enclosing":[],"blue-hidden-dotted-none-bulkApply-underline_start":[],"blue-hidden-dotted-none-select-underline":[],"blue-hidden-dotted-none-select-background":[],"blue-hidden-dotted-none-select-full":[],"blue-hidden-dotted-none-select-focus":[],"blue-hidden-dotted-none-select-enclosing":[],"blue-hidden-dotted-none-select-underline_start":[],"blue-hidden-none-solid-none-underline":[],"blue-hidden-none-solid-none-background":[],"blue-hidden-none-solid-none-full":[],"blue-hidden-none-solid-none-focus":[],"blue-hidden-none-solid-none-enclosing":[e.clarity,e.markHeightStandard,e.markHidden],"blue-hidden-none-solid-none-underline_start":[],"blue-hidden-none-solid-firstRender-underline":[],"blue-hidden-none-solid-firstRender-background":[],"blue-hidden-none-solid-firstRender-full":[],"blue-hidden-none-solid-firstRender-focus":[],"blue-hidden-none-solid-firstRender-enclosing":[e.clarity,e.markHeightStandard,e.markHidden],"blue-hidden-none-solid-firstRender-underline_start":[],"blue-hidden-none-solid-apply-underline":[],"blue-hidden-none-solid-apply-background":[],"blue-hidden-none-solid-apply-full":[],"blue-hidden-none-solid-apply-focus":[],"blue-hidden-none-solid-apply-enclosing":[],"blue-hidden-none-solid-apply-underline_start":[],"blue-hidden-none-solid-success-underline":[],"blue-hidden-none-solid-success-background":[],"blue-hidden-none-solid-success-full":[],"blue-hidden-none-solid-success-focus":[],"blue-hidden-none-solid-success-enclosing":[],"blue-hidden-none-solid-success-underline_start":[],"blue-hidden-none-solid-bulkApply-underline":[],"blue-hidden-none-solid-bulkApply-background":[],"blue-hidden-none-solid-bulkApply-full":[],"blue-hidden-none-solid-bulkApply-focus":[],"blue-hidden-none-solid-bulkApply-enclosing":[],"blue-hidden-none-solid-bulkApply-underline_start":[],"blue-hidden-none-solid-select-underline":[],"blue-hidden-none-solid-select-background":[],"blue-hidden-none-solid-select-full":[],"blue-hidden-none-solid-select-focus":[],"blue-hidden-none-solid-select-enclosing":[],"blue-hidden-none-solid-select-underline_start":[],"blue-hidden-none-none-none-underline":[],"blue-hidden-none-none-none-background":[],"blue-hidden-none-none-none-full":[],"blue-hidden-none-none-none-focus":[],"blue-hidden-none-none-none-enclosing":[],"blue-hidden-none-none-none-underline_start":[],"blue-hidden-none-none-firstRender-underline":[],"blue-hidden-none-none-firstRender-background":[],"blue-hidden-none-none-firstRender-full":[],"blue-hidden-none-none-firstRender-focus":[],"blue-hidden-none-none-firstRender-enclosing":[],"blue-hidden-none-none-firstRender-underline_start":[],"blue-hidden-none-none-apply-underline":[],"blue-hidden-none-none-apply-background":[],"blue-hidden-none-none-apply-full":[],"blue-hidden-none-none-apply-focus":[],"blue-hidden-none-none-apply-enclosing":[],"blue-hidden-none-none-apply-underline_start":[],"blue-hidden-none-none-success-underline":[],"blue-hidden-none-none-success-background":[],"blue-hidden-none-none-success-full":[],"blue-hidden-none-none-success-focus":[],"blue-hidden-none-none-success-enclosing":[],"blue-hidden-none-none-success-underline_start":[],"blue-hidden-none-none-bulkApply-underline":[],"blue-hidden-none-none-bulkApply-background":[],"blue-hidden-none-none-bulkApply-full":[],"blue-hidden-none-none-bulkApply-focus":[],"blue-hidden-none-none-bulkApply-enclosing":[],"blue-hidden-none-none-bulkApply-underline_start":[],"blue-hidden-none-none-select-underline":[],"blue-hidden-none-none-select-background":[],"blue-hidden-none-none-select-full":[],"blue-hidden-none-none-select-focus":[],"blue-hidden-none-none-select-enclosing":[],"blue-hidden-none-none-select-underline_start":[],"cyan-visible-solid-solid-none-underline":[],"cyan-visible-solid-solid-none-background":[],"cyan-visible-solid-solid-none-full":[],"cyan-visible-solid-solid-none-focus":[e.plagiarism,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"cyan-visible-solid-solid-none-enclosing":[],"cyan-visible-solid-solid-none-underline_start":[],"cyan-visible-solid-solid-firstRender-underline":[],"cyan-visible-solid-solid-firstRender-background":[],"cyan-visible-solid-solid-firstRender-full":[],"cyan-visible-solid-solid-firstRender-focus":[],"cyan-visible-solid-solid-firstRender-enclosing":[],"cyan-visible-solid-solid-firstRender-underline_start":[],"cyan-visible-solid-solid-apply-underline":[],"cyan-visible-solid-solid-apply-background":[],"cyan-visible-solid-solid-apply-full":[],"cyan-visible-solid-solid-apply-focus":[],"cyan-visible-solid-solid-apply-enclosing":[],"cyan-visible-solid-solid-apply-underline_start":[],"cyan-visible-solid-solid-success-underline":[],"cyan-visible-solid-solid-success-background":[],"cyan-visible-solid-solid-success-full":[],"cyan-visible-solid-solid-success-focus":[],"cyan-visible-solid-solid-success-enclosing":[],"cyan-visible-solid-solid-success-underline_start":[],"cyan-visible-solid-solid-bulkApply-underline":[],"cyan-visible-solid-solid-bulkApply-background":[],"cyan-visible-solid-solid-bulkApply-full":[],"cyan-visible-solid-solid-bulkApply-focus":[],"cyan-visible-solid-solid-bulkApply-enclosing":[],"cyan-visible-solid-solid-bulkApply-underline_start":[],"cyan-visible-solid-solid-select-underline":[e.plagiarism,e.markHeightStandard,e.markSelectedFocused,e.markVisible,e.markSelected],"cyan-visible-solid-solid-select-background":[],"cyan-visible-solid-solid-select-full":[e.plagiarism,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"cyan-visible-solid-solid-select-focus":[],"cyan-visible-solid-solid-select-enclosing":[],"cyan-visible-solid-solid-select-underline_start":[],"cyan-visible-solid-none-none-underline":[e.plagiarism,e.markHeightStandard,e.markVisible],"cyan-visible-solid-none-none-background":[e.plagiarism,e.markHeightStandard,e.markVisible],"cyan-visible-solid-none-none-full":[e.plagiarism,e.markHeightStandard,e.markVisible],"cyan-visible-solid-none-none-focus":[],"cyan-visible-solid-none-none-enclosing":[],"cyan-visible-solid-none-none-underline_start":[],"cyan-visible-solid-none-firstRender-underline":[e.plagiarism,e.markHeightStandard,e.markVisible,e.markAnimated],"cyan-visible-solid-none-firstRender-background":[e.plagiarism,e.markHeightStandard,e.markVisible,e.markAnimated],"cyan-visible-solid-none-firstRender-full":[e.plagiarism,e.markHeightStandard,e.markVisible,e.markAnimated],"cyan-visible-solid-none-firstRender-focus":[],"cyan-visible-solid-none-firstRender-enclosing":[],"cyan-visible-solid-none-firstRender-underline_start":[],"cyan-visible-solid-none-apply-underline":[],"cyan-visible-solid-none-apply-background":[],"cyan-visible-solid-none-apply-full":[],"cyan-visible-solid-none-apply-focus":[],"cyan-visible-solid-none-apply-enclosing":[],"cyan-visible-solid-none-apply-underline_start":[],"cyan-visible-solid-none-success-underline":[],"cyan-visible-solid-none-success-background":[],"cyan-visible-solid-none-success-full":[],"cyan-visible-solid-none-success-focus":[],"cyan-visible-solid-none-success-enclosing":[],"cyan-visible-solid-none-success-underline_start":[],"cyan-visible-solid-none-bulkApply-underline":[],"cyan-visible-solid-none-bulkApply-background":[],"cyan-visible-solid-none-bulkApply-full":[],"cyan-visible-solid-none-bulkApply-focus":[],"cyan-visible-solid-none-bulkApply-enclosing":[],"cyan-visible-solid-none-bulkApply-underline_start":[],"cyan-visible-solid-none-select-underline":[],"cyan-visible-solid-none-select-background":[],"cyan-visible-solid-none-select-full":[],"cyan-visible-solid-none-select-focus":[],"cyan-visible-solid-none-select-enclosing":[],"cyan-visible-solid-none-select-underline_start":[],"cyan-visible-dotted-solid-none-underline":[],"cyan-visible-dotted-solid-none-background":[],"cyan-visible-dotted-solid-none-full":[],"cyan-visible-dotted-solid-none-focus":[],"cyan-visible-dotted-solid-none-enclosing":[],"cyan-visible-dotted-solid-none-underline_start":[],"cyan-visible-dotted-solid-firstRender-underline":[],"cyan-visible-dotted-solid-firstRender-background":[],"cyan-visible-dotted-solid-firstRender-full":[],"cyan-visible-dotted-solid-firstRender-focus":[],"cyan-visible-dotted-solid-firstRender-enclosing":[],"cyan-visible-dotted-solid-firstRender-underline_start":[],"cyan-visible-dotted-solid-apply-underline":[],"cyan-visible-dotted-solid-apply-background":[],"cyan-visible-dotted-solid-apply-full":[],"cyan-visible-dotted-solid-apply-focus":[],"cyan-visible-dotted-solid-apply-enclosing":[],"cyan-visible-dotted-solid-apply-underline_start":[],"cyan-visible-dotted-solid-success-underline":[],"cyan-visible-dotted-solid-success-background":[],"cyan-visible-dotted-solid-success-full":[],"cyan-visible-dotted-solid-success-focus":[],"cyan-visible-dotted-solid-success-enclosing":[],"cyan-visible-dotted-solid-success-underline_start":[],"cyan-visible-dotted-solid-bulkApply-underline":[],"cyan-visible-dotted-solid-bulkApply-background":[],"cyan-visible-dotted-solid-bulkApply-full":[],"cyan-visible-dotted-solid-bulkApply-focus":[],"cyan-visible-dotted-solid-bulkApply-enclosing":[],"cyan-visible-dotted-solid-bulkApply-underline_start":[],"cyan-visible-dotted-solid-select-underline":[],"cyan-visible-dotted-solid-select-background":[],"cyan-visible-dotted-solid-select-full":[],"cyan-visible-dotted-solid-select-focus":[],"cyan-visible-dotted-solid-select-enclosing":[],"cyan-visible-dotted-solid-select-underline_start":[],"cyan-visible-dotted-none-none-underline":[],"cyan-visible-dotted-none-none-background":[],"cyan-visible-dotted-none-none-full":[],"cyan-visible-dotted-none-none-focus":[],"cyan-visible-dotted-none-none-enclosing":[],"cyan-visible-dotted-none-none-underline_start":[],"cyan-visible-dotted-none-firstRender-underline":[],"cyan-visible-dotted-none-firstRender-background":[],"cyan-visible-dotted-none-firstRender-full":[],"cyan-visible-dotted-none-firstRender-focus":[],"cyan-visible-dotted-none-firstRender-enclosing":[],"cyan-visible-dotted-none-firstRender-underline_start":[],"cyan-visible-dotted-none-apply-underline":[],"cyan-visible-dotted-none-apply-background":[],"cyan-visible-dotted-none-apply-full":[],"cyan-visible-dotted-none-apply-focus":[],"cyan-visible-dotted-none-apply-enclosing":[],"cyan-visible-dotted-none-apply-underline_start":[],"cyan-visible-dotted-none-success-underline":[],"cyan-visible-dotted-none-success-background":[],"cyan-visible-dotted-none-success-full":[],"cyan-visible-dotted-none-success-focus":[],"cyan-visible-dotted-none-success-enclosing":[],"cyan-visible-dotted-none-success-underline_start":[],"cyan-visible-dotted-none-bulkApply-underline":[],"cyan-visible-dotted-none-bulkApply-background":[],"cyan-visible-dotted-none-bulkApply-full":[],"cyan-visible-dotted-none-bulkApply-focus":[],"cyan-visible-dotted-none-bulkApply-enclosing":[],"cyan-visible-dotted-none-bulkApply-underline_start":[],"cyan-visible-dotted-none-select-underline":[],"cyan-visible-dotted-none-select-background":[],"cyan-visible-dotted-none-select-full":[],"cyan-visible-dotted-none-select-focus":[],"cyan-visible-dotted-none-select-enclosing":[],"cyan-visible-dotted-none-select-underline_start":[],"cyan-visible-none-solid-none-underline":[],"cyan-visible-none-solid-none-background":[],"cyan-visible-none-solid-none-full":[],"cyan-visible-none-solid-none-focus":[],"cyan-visible-none-solid-none-enclosing":[e.plagiarism,e.markHeightStandard,e.markSelected,e.markVisible],"cyan-visible-none-solid-none-underline_start":[],"cyan-visible-none-solid-firstRender-underline":[],"cyan-visible-none-solid-firstRender-background":[],"cyan-visible-none-solid-firstRender-full":[],"cyan-visible-none-solid-firstRender-focus":[],"cyan-visible-none-solid-firstRender-enclosing":[],"cyan-visible-none-solid-firstRender-underline_start":[],"cyan-visible-none-solid-apply-underline":[],"cyan-visible-none-solid-apply-background":[],"cyan-visible-none-solid-apply-full":[],"cyan-visible-none-solid-apply-focus":[],"cyan-visible-none-solid-apply-enclosing":[],"cyan-visible-none-solid-apply-underline_start":[],"cyan-visible-none-solid-success-underline":[],"cyan-visible-none-solid-success-background":[],"cyan-visible-none-solid-success-full":[],"cyan-visible-none-solid-success-focus":[],"cyan-visible-none-solid-success-enclosing":[],"cyan-visible-none-solid-success-underline_start":[],"cyan-visible-none-solid-bulkApply-underline":[],"cyan-visible-none-solid-bulkApply-background":[],"cyan-visible-none-solid-bulkApply-full":[],"cyan-visible-none-solid-bulkApply-focus":[],"cyan-visible-none-solid-bulkApply-enclosing":[],"cyan-visible-none-solid-bulkApply-underline_start":[],"cyan-visible-none-solid-select-underline":[e.plagiarism,e.markHeightStandard,e.markSelectedFocused,e.markVisible],"cyan-visible-none-solid-select-background":[e.plagiarism,e.markHeightStandard,e.markSelected,e.markVisible],"cyan-visible-none-solid-select-full":[],"cyan-visible-none-solid-select-focus":[],"cyan-visible-none-solid-select-enclosing":[],"cyan-visible-none-solid-select-underline_start":[],"cyan-visible-none-none-none-underline":[],"cyan-visible-none-none-none-background":[],"cyan-visible-none-none-none-full":[],"cyan-visible-none-none-none-focus":[],"cyan-visible-none-none-none-enclosing":[],"cyan-visible-none-none-none-underline_start":[],"cyan-visible-none-none-firstRender-underline":[],"cyan-visible-none-none-firstRender-background":[],"cyan-visible-none-none-firstRender-full":[],"cyan-visible-none-none-firstRender-focus":[],"cyan-visible-none-none-firstRender-enclosing":[],"cyan-visible-none-none-firstRender-underline_start":[],"cyan-visible-none-none-apply-underline":[],"cyan-visible-none-none-apply-background":[],"cyan-visible-none-none-apply-full":[],"cyan-visible-none-none-apply-focus":[],"cyan-visible-none-none-apply-enclosing":[],"cyan-visible-none-none-apply-underline_start":[],"cyan-visible-none-none-success-underline":[],"cyan-visible-none-none-success-background":[],"cyan-visible-none-none-success-full":[],"cyan-visible-none-none-success-focus":[],"cyan-visible-none-none-success-enclosing":[],"cyan-visible-none-none-success-underline_start":[],"cyan-visible-none-none-bulkApply-underline":[],"cyan-visible-none-none-bulkApply-background":[],"cyan-visible-none-none-bulkApply-full":[],"cyan-visible-none-none-bulkApply-focus":[],"cyan-visible-none-none-bulkApply-enclosing":[],"cyan-visible-none-none-bulkApply-underline_start":[],"cyan-visible-none-none-select-underline":[],"cyan-visible-none-none-select-background":[],"cyan-visible-none-none-select-full":[],"cyan-visible-none-none-select-focus":[],"cyan-visible-none-none-select-enclosing":[],"cyan-visible-none-none-select-underline_start":[],"cyan-hidden-solid-solid-none-underline":[],"cyan-hidden-solid-solid-none-background":[],"cyan-hidden-solid-solid-none-full":[],"cyan-hidden-solid-solid-none-focus":[e.plagiarism,e.markHeightStandard,e.markHidden],"cyan-hidden-solid-solid-none-enclosing":[],"cyan-hidden-solid-solid-none-underline_start":[],"cyan-hidden-solid-solid-firstRender-underline":[],"cyan-hidden-solid-solid-firstRender-background":[],"cyan-hidden-solid-solid-firstRender-full":[],"cyan-hidden-solid-solid-firstRender-focus":[e.plagiarism,e.markHeightStandard,e.markHidden],"cyan-hidden-solid-solid-firstRender-enclosing":[],"cyan-hidden-solid-solid-firstRender-underline_start":[],"cyan-hidden-solid-solid-apply-underline":[],"cyan-hidden-solid-solid-apply-background":[],"cyan-hidden-solid-solid-apply-full":[],"cyan-hidden-solid-solid-apply-focus":[],"cyan-hidden-solid-solid-apply-enclosing":[],"cyan-hidden-solid-solid-apply-underline_start":[],"cyan-hidden-solid-solid-success-underline":[],"cyan-hidden-solid-solid-success-background":[],"cyan-hidden-solid-solid-success-full":[],"cyan-hidden-solid-solid-success-focus":[],"cyan-hidden-solid-solid-success-enclosing":[],"cyan-hidden-solid-solid-success-underline_start":[],"cyan-hidden-solid-solid-bulkApply-underline":[],"cyan-hidden-solid-solid-bulkApply-background":[],"cyan-hidden-solid-solid-bulkApply-full":[],"cyan-hidden-solid-solid-bulkApply-focus":[],"cyan-hidden-solid-solid-bulkApply-enclosing":[],"cyan-hidden-solid-solid-bulkApply-underline_start":[],"cyan-hidden-solid-solid-select-underline":[],"cyan-hidden-solid-solid-select-background":[],"cyan-hidden-solid-solid-select-full":[],"cyan-hidden-solid-solid-select-focus":[],"cyan-hidden-solid-solid-select-enclosing":[],"cyan-hidden-solid-solid-select-underline_start":[],"cyan-hidden-solid-none-none-underline":[],"cyan-hidden-solid-none-none-background":[],"cyan-hidden-solid-none-none-full":[e.plagiarism,e.markHeightTall,e.markHidden],"cyan-hidden-solid-none-none-focus":[],"cyan-hidden-solid-none-none-enclosing":[],"cyan-hidden-solid-none-none-underline_start":[],"cyan-hidden-solid-none-firstRender-underline":[],"cyan-hidden-solid-none-firstRender-background":[],"cyan-hidden-solid-none-firstRender-full":[e.plagiarism,e.markHeightTall,e.markHidden],"cyan-hidden-solid-none-firstRender-focus":[],"cyan-hidden-solid-none-firstRender-enclosing":[],"cyan-hidden-solid-none-firstRender-underline_start":[],"cyan-hidden-solid-none-apply-underline":[],"cyan-hidden-solid-none-apply-background":[],"cyan-hidden-solid-none-apply-full":[],"cyan-hidden-solid-none-apply-focus":[],"cyan-hidden-solid-none-apply-enclosing":[],"cyan-hidden-solid-none-apply-underline_start":[],"cyan-hidden-solid-none-success-underline":[],"cyan-hidden-solid-none-success-background":[],"cyan-hidden-solid-none-success-full":[],"cyan-hidden-solid-none-success-focus":[],"cyan-hidden-solid-none-success-enclosing":[],"cyan-hidden-solid-none-success-underline_start":[],"cyan-hidden-solid-none-bulkApply-underline":[],"cyan-hidden-solid-none-bulkApply-background":[],"cyan-hidden-solid-none-bulkApply-full":[],"cyan-hidden-solid-none-bulkApply-focus":[],"cyan-hidden-solid-none-bulkApply-enclosing":[],"cyan-hidden-solid-none-bulkApply-underline_start":[],"cyan-hidden-solid-none-select-underline":[],"cyan-hidden-solid-none-select-background":[],"cyan-hidden-solid-none-select-full":[],"cyan-hidden-solid-none-select-focus":[],"cyan-hidden-solid-none-select-enclosing":[],"cyan-hidden-solid-none-select-underline_start":[],"cyan-hidden-dotted-solid-none-underline":[],"cyan-hidden-dotted-solid-none-background":[],"cyan-hidden-dotted-solid-none-full":[],"cyan-hidden-dotted-solid-none-focus":[],"cyan-hidden-dotted-solid-none-enclosing":[],"cyan-hidden-dotted-solid-none-underline_start":[],"cyan-hidden-dotted-solid-firstRender-underline":[],"cyan-hidden-dotted-solid-firstRender-background":[],"cyan-hidden-dotted-solid-firstRender-full":[],"cyan-hidden-dotted-solid-firstRender-focus":[],"cyan-hidden-dotted-solid-firstRender-enclosing":[],"cyan-hidden-dotted-solid-firstRender-underline_start":[],"cyan-hidden-dotted-solid-apply-underline":[],"cyan-hidden-dotted-solid-apply-background":[],"cyan-hidden-dotted-solid-apply-full":[],"cyan-hidden-dotted-solid-apply-focus":[],"cyan-hidden-dotted-solid-apply-enclosing":[],"cyan-hidden-dotted-solid-apply-underline_start":[],"cyan-hidden-dotted-solid-success-underline":[],"cyan-hidden-dotted-solid-success-background":[],"cyan-hidden-dotted-solid-success-full":[],"cyan-hidden-dotted-solid-success-focus":[],"cyan-hidden-dotted-solid-success-enclosing":[],"cyan-hidden-dotted-solid-success-underline_start":[],"cyan-hidden-dotted-solid-bulkApply-underline":[],"cyan-hidden-dotted-solid-bulkApply-background":[],"cyan-hidden-dotted-solid-bulkApply-full":[],"cyan-hidden-dotted-solid-bulkApply-focus":[],"cyan-hidden-dotted-solid-bulkApply-enclosing":[],"cyan-hidden-dotted-solid-bulkApply-underline_start":[],"cyan-hidden-dotted-solid-select-underline":[],"cyan-hidden-dotted-solid-select-background":[],"cyan-hidden-dotted-solid-select-full":[],"cyan-hidden-dotted-solid-select-focus":[],"cyan-hidden-dotted-solid-select-enclosing":[],"cyan-hidden-dotted-solid-select-underline_start":[],"cyan-hidden-dotted-none-none-underline":[],"cyan-hidden-dotted-none-none-background":[],"cyan-hidden-dotted-none-none-full":[],"cyan-hidden-dotted-none-none-focus":[],"cyan-hidden-dotted-none-none-enclosing":[],"cyan-hidden-dotted-none-none-underline_start":[],"cyan-hidden-dotted-none-firstRender-underline":[],"cyan-hidden-dotted-none-firstRender-background":[],"cyan-hidden-dotted-none-firstRender-full":[],"cyan-hidden-dotted-none-firstRender-focus":[],"cyan-hidden-dotted-none-firstRender-enclosing":[],"cyan-hidden-dotted-none-firstRender-underline_start":[],"cyan-hidden-dotted-none-apply-underline":[],"cyan-hidden-dotted-none-apply-background":[],"cyan-hidden-dotted-none-apply-full":[],"cyan-hidden-dotted-none-apply-focus":[],"cyan-hidden-dotted-none-apply-enclosing":[],"cyan-hidden-dotted-none-apply-underline_start":[],"cyan-hidden-dotted-none-success-underline":[],"cyan-hidden-dotted-none-success-background":[],"cyan-hidden-dotted-none-success-full":[],"cyan-hidden-dotted-none-success-focus":[],"cyan-hidden-dotted-none-success-enclosing":[],"cyan-hidden-dotted-none-success-underline_start":[],"cyan-hidden-dotted-none-bulkApply-underline":[],"cyan-hidden-dotted-none-bulkApply-background":[],"cyan-hidden-dotted-none-bulkApply-full":[],"cyan-hidden-dotted-none-bulkApply-focus":[],"cyan-hidden-dotted-none-bulkApply-enclosing":[],"cyan-hidden-dotted-none-bulkApply-underline_start":[],"cyan-hidden-dotted-none-select-underline":[],"cyan-hidden-dotted-none-select-background":[],"cyan-hidden-dotted-none-select-full":[],"cyan-hidden-dotted-none-select-focus":[],"cyan-hidden-dotted-none-select-enclosing":[],"cyan-hidden-dotted-none-select-underline_start":[],"cyan-hidden-none-solid-none-underline":[],"cyan-hidden-none-solid-none-background":[],"cyan-hidden-none-solid-none-full":[],"cyan-hidden-none-solid-none-focus":[],"cyan-hidden-none-solid-none-enclosing":[e.plagiarism,e.markHeightStandard,e.markHidden],"cyan-hidden-none-solid-none-underline_start":[],"cyan-hidden-none-solid-firstRender-underline":[],"cyan-hidden-none-solid-firstRender-background":[],"cyan-hidden-none-solid-firstRender-full":[],"cyan-hidden-none-solid-firstRender-focus":[],"cyan-hidden-none-solid-firstRender-enclosing":[e.plagiarism,e.markHeightStandard,e.markHidden],"cyan-hidden-none-solid-firstRender-underline_start":[],"cyan-hidden-none-solid-apply-underline":[],"cyan-hidden-none-solid-apply-background":[],"cyan-hidden-none-solid-apply-full":[],"cyan-hidden-none-solid-apply-focus":[],"cyan-hidden-none-solid-apply-enclosing":[],"cyan-hidden-none-solid-apply-underline_start":[],"cyan-hidden-none-solid-success-underline":[],"cyan-hidden-none-solid-success-background":[],"cyan-hidden-none-solid-success-full":[],"cyan-hidden-none-solid-success-focus":[],"cyan-hidden-none-solid-success-enclosing":[],"cyan-hidden-none-solid-success-underline_start":[],"cyan-hidden-none-solid-bulkApply-underline":[],"cyan-hidden-none-solid-bulkApply-background":[],"cyan-hidden-none-solid-bulkApply-full":[],"cyan-hidden-none-solid-bulkApply-focus":[],"cyan-hidden-none-solid-bulkApply-enclosing":[],"cyan-hidden-none-solid-bulkApply-underline_start":[],"cyan-hidden-none-solid-select-underline":[],"cyan-hidden-none-solid-select-background":[],"cyan-hidden-none-solid-select-full":[],"cyan-hidden-none-solid-select-focus":[],"cyan-hidden-none-solid-select-enclosing":[],"cyan-hidden-none-solid-select-underline_start":[],"cyan-hidden-none-none-none-underline":[],"cyan-hidden-none-none-none-background":[],"cyan-hidden-none-none-none-full":[],"cyan-hidden-none-none-none-focus":[],"cyan-hidden-none-none-none-enclosing":[],"cyan-hidden-none-none-none-underline_start":[],"cyan-hidden-none-none-firstRender-underline":[],"cyan-hidden-none-none-firstRender-background":[],"cyan-hidden-none-none-firstRender-full":[],"cyan-hidden-none-none-firstRender-focus":[],"cyan-hidden-none-none-firstRender-enclosing":[],"cyan-hidden-none-none-firstRender-underline_start":[],"cyan-hidden-none-none-apply-underline":[],"cyan-hidden-none-none-apply-background":[],"cyan-hidden-none-none-apply-full":[],"cyan-hidden-none-none-apply-focus":[],"cyan-hidden-none-none-apply-enclosing":[],"cyan-hidden-none-none-apply-underline_start":[],"cyan-hidden-none-none-success-underline":[],"cyan-hidden-none-none-success-background":[],"cyan-hidden-none-none-success-full":[],"cyan-hidden-none-none-success-focus":[],"cyan-hidden-none-none-success-enclosing":[],"cyan-hidden-none-none-success-underline_start":[],"cyan-hidden-none-none-bulkApply-underline":[],"cyan-hidden-none-none-bulkApply-background":[],"cyan-hidden-none-none-bulkApply-full":[],"cyan-hidden-none-none-bulkApply-focus":[],"cyan-hidden-none-none-bulkApply-enclosing":[],"cyan-hidden-none-none-bulkApply-underline_start":[],"cyan-hidden-none-none-select-underline":[],"cyan-hidden-none-none-select-background":[],"cyan-hidden-none-none-select-full":[],"cyan-hidden-none-none-select-focus":[],"cyan-hidden-none-none-select-enclosing":[],"cyan-hidden-none-none-select-underline_start":[],"green-visible-solid-solid-none-underline":[],"green-visible-solid-solid-none-background":[],"green-visible-solid-solid-none-full":[],"green-visible-solid-solid-none-focus":[e.engagement,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"green-visible-solid-solid-none-enclosing":[],"green-visible-solid-solid-none-underline_start":[],"green-visible-solid-solid-firstRender-underline":[],"green-visible-solid-solid-firstRender-background":[],"green-visible-solid-solid-firstRender-full":[],"green-visible-solid-solid-firstRender-focus":[],"green-visible-solid-solid-firstRender-enclosing":[],"green-visible-solid-solid-firstRender-underline_start":[],"green-visible-solid-solid-apply-underline":[],"green-visible-solid-solid-apply-background":[],"green-visible-solid-solid-apply-full":[],"green-visible-solid-solid-apply-focus":[],"green-visible-solid-solid-apply-enclosing":[],"green-visible-solid-solid-apply-underline_start":[],"green-visible-solid-solid-success-underline":[],"green-visible-solid-solid-success-background":[],"green-visible-solid-solid-success-full":[],"green-visible-solid-solid-success-focus":[],"green-visible-solid-solid-success-enclosing":[],"green-visible-solid-solid-success-underline_start":[],"green-visible-solid-solid-bulkApply-underline":[],"green-visible-solid-solid-bulkApply-background":[],"green-visible-solid-solid-bulkApply-full":[],"green-visible-solid-solid-bulkApply-focus":[],"green-visible-solid-solid-bulkApply-enclosing":[],"green-visible-solid-solid-bulkApply-underline_start":[],"green-visible-solid-solid-select-underline":[e.engagement,e.markHeightStandard,e.markSelectedFocused,e.markVisible,e.markSelected],"green-visible-solid-solid-select-background":[],"green-visible-solid-solid-select-full":[e.engagement,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"green-visible-solid-solid-select-focus":[],"green-visible-solid-solid-select-enclosing":[],"green-visible-solid-solid-select-underline_start":[],"green-visible-solid-none-none-underline":[e.engagement,e.markHeightStandard,e.markVisible],"green-visible-solid-none-none-background":[e.engagement,e.markHeightStandard,e.markVisible],"green-visible-solid-none-none-full":[e.engagement,e.markHeightStandard,e.markVisible],"green-visible-solid-none-none-focus":[],"green-visible-solid-none-none-enclosing":[],"green-visible-solid-none-none-underline_start":[],"green-visible-solid-none-firstRender-underline":[e.engagement,e.markHeightStandard,e.markVisible,e.markAnimated],"green-visible-solid-none-firstRender-background":[e.engagement,e.markHeightStandard,e.markVisible,e.markAnimated],"green-visible-solid-none-firstRender-full":[e.engagement,e.markHeightStandard,e.markVisible,e.markAnimated],"green-visible-solid-none-firstRender-focus":[],"green-visible-solid-none-firstRender-enclosing":[],"green-visible-solid-none-firstRender-underline_start":[],"green-visible-solid-none-apply-underline":[],"green-visible-solid-none-apply-background":[],"green-visible-solid-none-apply-full":[],"green-visible-solid-none-apply-focus":[],"green-visible-solid-none-apply-enclosing":[],"green-visible-solid-none-apply-underline_start":[],"green-visible-solid-none-success-underline":[],"green-visible-solid-none-success-background":[],"green-visible-solid-none-success-full":[],"green-visible-solid-none-success-focus":[],"green-visible-solid-none-success-enclosing":[],"green-visible-solid-none-success-underline_start":[],"green-visible-solid-none-bulkApply-underline":[],"green-visible-solid-none-bulkApply-background":[],"green-visible-solid-none-bulkApply-full":[],"green-visible-solid-none-bulkApply-focus":[],"green-visible-solid-none-bulkApply-enclosing":[],"green-visible-solid-none-bulkApply-underline_start":[],"green-visible-solid-none-select-underline":[],"green-visible-solid-none-select-background":[],"green-visible-solid-none-select-full":[],"green-visible-solid-none-select-focus":[],"green-visible-solid-none-select-enclosing":[],"green-visible-solid-none-select-underline_start":[],"green-visible-dotted-solid-none-underline":[],"green-visible-dotted-solid-none-background":[],"green-visible-dotted-solid-none-full":[],"green-visible-dotted-solid-none-focus":[],"green-visible-dotted-solid-none-enclosing":[],"green-visible-dotted-solid-none-underline_start":[],"green-visible-dotted-solid-firstRender-underline":[],"green-visible-dotted-solid-firstRender-background":[],"green-visible-dotted-solid-firstRender-full":[],"green-visible-dotted-solid-firstRender-focus":[],"green-visible-dotted-solid-firstRender-enclosing":[],"green-visible-dotted-solid-firstRender-underline_start":[],"green-visible-dotted-solid-apply-underline":[],"green-visible-dotted-solid-apply-background":[],"green-visible-dotted-solid-apply-full":[],"green-visible-dotted-solid-apply-focus":[],"green-visible-dotted-solid-apply-enclosing":[],"green-visible-dotted-solid-apply-underline_start":[],"green-visible-dotted-solid-success-underline":[],"green-visible-dotted-solid-success-background":[],"green-visible-dotted-solid-success-full":[],"green-visible-dotted-solid-success-focus":[],"green-visible-dotted-solid-success-enclosing":[],"green-visible-dotted-solid-success-underline_start":[],"green-visible-dotted-solid-bulkApply-underline":[],"green-visible-dotted-solid-bulkApply-background":[],"green-visible-dotted-solid-bulkApply-full":[],"green-visible-dotted-solid-bulkApply-focus":[],"green-visible-dotted-solid-bulkApply-enclosing":[],"green-visible-dotted-solid-bulkApply-underline_start":[],"green-visible-dotted-solid-select-underline":[],"green-visible-dotted-solid-select-background":[],"green-visible-dotted-solid-select-full":[],"green-visible-dotted-solid-select-focus":[],"green-visible-dotted-solid-select-enclosing":[],"green-visible-dotted-solid-select-underline_start":[],"green-visible-dotted-none-none-underline":[],"green-visible-dotted-none-none-background":[],"green-visible-dotted-none-none-full":[],"green-visible-dotted-none-none-focus":[],"green-visible-dotted-none-none-enclosing":[],"green-visible-dotted-none-none-underline_start":[],"green-visible-dotted-none-firstRender-underline":[],"green-visible-dotted-none-firstRender-background":[],"green-visible-dotted-none-firstRender-full":[],"green-visible-dotted-none-firstRender-focus":[],"green-visible-dotted-none-firstRender-enclosing":[],"green-visible-dotted-none-firstRender-underline_start":[],"green-visible-dotted-none-apply-underline":[],"green-visible-dotted-none-apply-background":[],"green-visible-dotted-none-apply-full":[],"green-visible-dotted-none-apply-focus":[],"green-visible-dotted-none-apply-enclosing":[],"green-visible-dotted-none-apply-underline_start":[],"green-visible-dotted-none-success-underline":[],"green-visible-dotted-none-success-background":[],"green-visible-dotted-none-success-full":[],"green-visible-dotted-none-success-focus":[],"green-visible-dotted-none-success-enclosing":[],"green-visible-dotted-none-success-underline_start":[],"green-visible-dotted-none-bulkApply-underline":[],"green-visible-dotted-none-bulkApply-background":[],"green-visible-dotted-none-bulkApply-full":[],"green-visible-dotted-none-bulkApply-focus":[],"green-visible-dotted-none-bulkApply-enclosing":[],"green-visible-dotted-none-bulkApply-underline_start":[],"green-visible-dotted-none-select-underline":[],"green-visible-dotted-none-select-background":[],"green-visible-dotted-none-select-full":[],"green-visible-dotted-none-select-focus":[],"green-visible-dotted-none-select-enclosing":[],"green-visible-dotted-none-select-underline_start":[],"green-visible-none-solid-none-underline":[],"green-visible-none-solid-none-background":[],"green-visible-none-solid-none-full":[],"green-visible-none-solid-none-focus":[],"green-visible-none-solid-none-enclosing":[e.engagement,e.markHeightStandard,e.markSelected,e.markVisible],"green-visible-none-solid-none-underline_start":[],"green-visible-none-solid-firstRender-underline":[],"green-visible-none-solid-firstRender-background":[],"green-visible-none-solid-firstRender-full":[],"green-visible-none-solid-firstRender-focus":[],"green-visible-none-solid-firstRender-enclosing":[],"green-visible-none-solid-firstRender-underline_start":[],"green-visible-none-solid-apply-underline":[e.markAppliedBase,e.markHeightStandard,e.markApplied],"green-visible-none-solid-apply-background":[e.markAppliedBase,e.markHeightStandard,e.markApplied],"green-visible-none-solid-apply-full":[e.markAppliedBase,e.markHeightStandard,e.markApplied],"green-visible-none-solid-apply-focus":[e.markAppliedBase,e.markHeightStandard,e.markApplied],"green-visible-none-solid-apply-enclosing":[e.markAppliedBase,e.markHeightStandard,e.markApplied],"green-visible-none-solid-apply-underline_start":[],"green-visible-none-solid-success-underline":[],"green-visible-none-solid-success-background":[e.markAppliedBase,e.markHeightStandard,e.markSuccess],"green-visible-none-solid-success-full":[],"green-visible-none-solid-success-focus":[],"green-visible-none-solid-success-enclosing":[],"green-visible-none-solid-success-underline_start":[],"green-visible-none-solid-bulkApply-underline":[],"green-visible-none-solid-bulkApply-background":[],"green-visible-none-solid-bulkApply-full":[],"green-visible-none-solid-bulkApply-focus":[],"green-visible-none-solid-bulkApply-enclosing":[],"green-visible-none-solid-bulkApply-underline_start":[],"green-visible-none-solid-select-underline":[e.engagement,e.markHeightStandard,e.markSelectedFocused,e.markVisible],"green-visible-none-solid-select-background":[e.engagement,e.markHeightStandard,e.markSelected,e.markVisible],"green-visible-none-solid-select-full":[],"green-visible-none-solid-select-focus":[],"green-visible-none-solid-select-enclosing":[],"green-visible-none-solid-select-underline_start":[],"green-visible-none-none-none-underline":[],"green-visible-none-none-none-background":[],"green-visible-none-none-none-full":[],"green-visible-none-none-none-focus":[],"green-visible-none-none-none-enclosing":[],"green-visible-none-none-none-underline_start":[],"green-visible-none-none-firstRender-underline":[],"green-visible-none-none-firstRender-background":[],"green-visible-none-none-firstRender-full":[],"green-visible-none-none-firstRender-focus":[],"green-visible-none-none-firstRender-enclosing":[],"green-visible-none-none-firstRender-underline_start":[],"green-visible-none-none-apply-underline":[],"green-visible-none-none-apply-background":[],"green-visible-none-none-apply-full":[],"green-visible-none-none-apply-focus":[],"green-visible-none-none-apply-enclosing":[],"green-visible-none-none-apply-underline_start":[],"green-visible-none-none-success-underline":[],"green-visible-none-none-success-background":[],"green-visible-none-none-success-full":[],"green-visible-none-none-success-focus":[],"green-visible-none-none-success-enclosing":[],"green-visible-none-none-success-underline_start":[],"green-visible-none-none-bulkApply-underline":[],"green-visible-none-none-bulkApply-background":[],"green-visible-none-none-bulkApply-full":[],"green-visible-none-none-bulkApply-focus":[],"green-visible-none-none-bulkApply-enclosing":[],"green-visible-none-none-bulkApply-underline_start":[],"green-visible-none-none-select-underline":[],"green-visible-none-none-select-background":[],"green-visible-none-none-select-full":[],"green-visible-none-none-select-focus":[],"green-visible-none-none-select-enclosing":[],"green-visible-none-none-select-underline_start":[],"green-hidden-solid-solid-none-underline":[],"green-hidden-solid-solid-none-background":[],"green-hidden-solid-solid-none-full":[],"green-hidden-solid-solid-none-focus":[e.engagement,e.markHeightStandard,e.markHidden],"green-hidden-solid-solid-none-enclosing":[],"green-hidden-solid-solid-none-underline_start":[],"green-hidden-solid-solid-firstRender-underline":[],"green-hidden-solid-solid-firstRender-background":[],"green-hidden-solid-solid-firstRender-full":[],"green-hidden-solid-solid-firstRender-focus":[e.engagement,e.markHeightStandard,e.markHidden],"green-hidden-solid-solid-firstRender-enclosing":[],"green-hidden-solid-solid-firstRender-underline_start":[],"green-hidden-solid-solid-apply-underline":[],"green-hidden-solid-solid-apply-background":[],"green-hidden-solid-solid-apply-full":[],"green-hidden-solid-solid-apply-focus":[],"green-hidden-solid-solid-apply-enclosing":[],"green-hidden-solid-solid-apply-underline_start":[],"green-hidden-solid-solid-success-underline":[],"green-hidden-solid-solid-success-background":[],"green-hidden-solid-solid-success-full":[],"green-hidden-solid-solid-success-focus":[],"green-hidden-solid-solid-success-enclosing":[],"green-hidden-solid-solid-success-underline_start":[],"green-hidden-solid-solid-bulkApply-underline":[],"green-hidden-solid-solid-bulkApply-background":[],"green-hidden-solid-solid-bulkApply-full":[],"green-hidden-solid-solid-bulkApply-focus":[],"green-hidden-solid-solid-bulkApply-enclosing":[],"green-hidden-solid-solid-bulkApply-underline_start":[],"green-hidden-solid-solid-select-underline":[],"green-hidden-solid-solid-select-background":[],"green-hidden-solid-solid-select-full":[],"green-hidden-solid-solid-select-focus":[],"green-hidden-solid-solid-select-enclosing":[],"green-hidden-solid-solid-select-underline_start":[],"green-hidden-solid-none-none-underline":[],"green-hidden-solid-none-none-background":[],"green-hidden-solid-none-none-full":[],"green-hidden-solid-none-none-focus":[],"green-hidden-solid-none-none-enclosing":[],"green-hidden-solid-none-none-underline_start":[],"green-hidden-solid-none-firstRender-underline":[],"green-hidden-solid-none-firstRender-background":[],"green-hidden-solid-none-firstRender-full":[],"green-hidden-solid-none-firstRender-focus":[],"green-hidden-solid-none-firstRender-enclosing":[],"green-hidden-solid-none-firstRender-underline_start":[],"green-hidden-solid-none-apply-underline":[],"green-hidden-solid-none-apply-background":[],"green-hidden-solid-none-apply-full":[],"green-hidden-solid-none-apply-focus":[],"green-hidden-solid-none-apply-enclosing":[],"green-hidden-solid-none-apply-underline_start":[],"green-hidden-solid-none-success-underline":[],"green-hidden-solid-none-success-background":[],"green-hidden-solid-none-success-full":[],"green-hidden-solid-none-success-focus":[],"green-hidden-solid-none-success-enclosing":[],"green-hidden-solid-none-success-underline_start":[],"green-hidden-solid-none-bulkApply-underline":[],"green-hidden-solid-none-bulkApply-background":[],"green-hidden-solid-none-bulkApply-full":[],"green-hidden-solid-none-bulkApply-focus":[],"green-hidden-solid-none-bulkApply-enclosing":[],"green-hidden-solid-none-bulkApply-underline_start":[],"green-hidden-solid-none-select-underline":[],"green-hidden-solid-none-select-background":[],"green-hidden-solid-none-select-full":[],"green-hidden-solid-none-select-focus":[],"green-hidden-solid-none-select-enclosing":[],"green-hidden-solid-none-select-underline_start":[],"green-hidden-dotted-solid-none-underline":[],"green-hidden-dotted-solid-none-background":[],"green-hidden-dotted-solid-none-full":[],"green-hidden-dotted-solid-none-focus":[],"green-hidden-dotted-solid-none-enclosing":[],"green-hidden-dotted-solid-none-underline_start":[],"green-hidden-dotted-solid-firstRender-underline":[],"green-hidden-dotted-solid-firstRender-background":[],"green-hidden-dotted-solid-firstRender-full":[],"green-hidden-dotted-solid-firstRender-focus":[],"green-hidden-dotted-solid-firstRender-enclosing":[],"green-hidden-dotted-solid-firstRender-underline_start":[],"green-hidden-dotted-solid-apply-underline":[],"green-hidden-dotted-solid-apply-background":[],"green-hidden-dotted-solid-apply-full":[],"green-hidden-dotted-solid-apply-focus":[],"green-hidden-dotted-solid-apply-enclosing":[],"green-hidden-dotted-solid-apply-underline_start":[],"green-hidden-dotted-solid-success-underline":[],"green-hidden-dotted-solid-success-background":[],"green-hidden-dotted-solid-success-full":[],"green-hidden-dotted-solid-success-focus":[],"green-hidden-dotted-solid-success-enclosing":[],"green-hidden-dotted-solid-success-underline_start":[],"green-hidden-dotted-solid-bulkApply-underline":[],"green-hidden-dotted-solid-bulkApply-background":[],"green-hidden-dotted-solid-bulkApply-full":[],"green-hidden-dotted-solid-bulkApply-focus":[],"green-hidden-dotted-solid-bulkApply-enclosing":[],"green-hidden-dotted-solid-bulkApply-underline_start":[],"green-hidden-dotted-solid-select-underline":[],"green-hidden-dotted-solid-select-background":[],"green-hidden-dotted-solid-select-full":[],"green-hidden-dotted-solid-select-focus":[],"green-hidden-dotted-solid-select-enclosing":[],"green-hidden-dotted-solid-select-underline_start":[],"green-hidden-dotted-none-none-underline":[],"green-hidden-dotted-none-none-background":[],"green-hidden-dotted-none-none-full":[],"green-hidden-dotted-none-none-focus":[],"green-hidden-dotted-none-none-enclosing":[],"green-hidden-dotted-none-none-underline_start":[],"green-hidden-dotted-none-firstRender-underline":[],"green-hidden-dotted-none-firstRender-background":[],"green-hidden-dotted-none-firstRender-full":[],"green-hidden-dotted-none-firstRender-focus":[],"green-hidden-dotted-none-firstRender-enclosing":[],"green-hidden-dotted-none-firstRender-underline_start":[],"green-hidden-dotted-none-apply-underline":[],"green-hidden-dotted-none-apply-background":[],"green-hidden-dotted-none-apply-full":[],"green-hidden-dotted-none-apply-focus":[],"green-hidden-dotted-none-apply-enclosing":[],"green-hidden-dotted-none-apply-underline_start":[],"green-hidden-dotted-none-success-underline":[],"green-hidden-dotted-none-success-background":[],"green-hidden-dotted-none-success-full":[],"green-hidden-dotted-none-success-focus":[],"green-hidden-dotted-none-success-enclosing":[],"green-hidden-dotted-none-success-underline_start":[],"green-hidden-dotted-none-bulkApply-underline":[],"green-hidden-dotted-none-bulkApply-background":[],"green-hidden-dotted-none-bulkApply-full":[],"green-hidden-dotted-none-bulkApply-focus":[],"green-hidden-dotted-none-bulkApply-enclosing":[],"green-hidden-dotted-none-bulkApply-underline_start":[],"green-hidden-dotted-none-select-underline":[],"green-hidden-dotted-none-select-background":[],"green-hidden-dotted-none-select-full":[],"green-hidden-dotted-none-select-focus":[],"green-hidden-dotted-none-select-enclosing":[],"green-hidden-dotted-none-select-underline_start":[],"green-hidden-none-solid-none-underline":[],"green-hidden-none-solid-none-background":[],"green-hidden-none-solid-none-full":[],"green-hidden-none-solid-none-focus":[],"green-hidden-none-solid-none-enclosing":[e.engagement,e.markHeightStandard,e.markHidden],"green-hidden-none-solid-none-underline_start":[],"green-hidden-none-solid-firstRender-underline":[],"green-hidden-none-solid-firstRender-background":[],"green-hidden-none-solid-firstRender-full":[],"green-hidden-none-solid-firstRender-focus":[],"green-hidden-none-solid-firstRender-enclosing":[e.engagement,e.markHeightStandard,e.markHidden],"green-hidden-none-solid-firstRender-underline_start":[],"green-hidden-none-solid-apply-underline":[],"green-hidden-none-solid-apply-background":[],"green-hidden-none-solid-apply-full":[],"green-hidden-none-solid-apply-focus":[],"green-hidden-none-solid-apply-enclosing":[],"green-hidden-none-solid-apply-underline_start":[],"green-hidden-none-solid-success-underline":[e.markAppliedBase,e.markHeightStandard,e.markHidden],"green-hidden-none-solid-success-background":[],"green-hidden-none-solid-success-full":[e.markAppliedBase,e.markHeightStandard,e.markHidden],"green-hidden-none-solid-success-focus":[e.markAppliedBase,e.markHeightStandard,e.markHidden],"green-hidden-none-solid-success-enclosing":[e.markAppliedBase,e.markHeightStandard,e.markHidden],"green-hidden-none-solid-success-underline_start":[],"green-hidden-none-solid-bulkApply-underline":[],"green-hidden-none-solid-bulkApply-background":[],"green-hidden-none-solid-bulkApply-full":[],"green-hidden-none-solid-bulkApply-focus":[],"green-hidden-none-solid-bulkApply-enclosing":[],"green-hidden-none-solid-bulkApply-underline_start":[],"green-hidden-none-solid-select-underline":[],"green-hidden-none-solid-select-background":[],"green-hidden-none-solid-select-full":[],"green-hidden-none-solid-select-focus":[],"green-hidden-none-solid-select-enclosing":[],"green-hidden-none-solid-select-underline_start":[],"green-hidden-none-none-none-underline":[],"green-hidden-none-none-none-background":[],"green-hidden-none-none-none-full":[],"green-hidden-none-none-none-focus":[],"green-hidden-none-none-none-enclosing":[],"green-hidden-none-none-none-underline_start":[],"green-hidden-none-none-firstRender-underline":[],"green-hidden-none-none-firstRender-background":[],"green-hidden-none-none-firstRender-full":[],"green-hidden-none-none-firstRender-focus":[],"green-hidden-none-none-firstRender-enclosing":[],"green-hidden-none-none-firstRender-underline_start":[],"green-hidden-none-none-apply-underline":[],"green-hidden-none-none-apply-background":[],"green-hidden-none-none-apply-full":[],"green-hidden-none-none-apply-focus":[],"green-hidden-none-none-apply-enclosing":[],"green-hidden-none-none-apply-underline_start":[],"green-hidden-none-none-success-underline":[],"green-hidden-none-none-success-background":[],"green-hidden-none-none-success-full":[],"green-hidden-none-none-success-focus":[],"green-hidden-none-none-success-enclosing":[],"green-hidden-none-none-success-underline_start":[],"green-hidden-none-none-bulkApply-underline":[],"green-hidden-none-none-bulkApply-background":[],"green-hidden-none-none-bulkApply-full":[],"green-hidden-none-none-bulkApply-focus":[],"green-hidden-none-none-bulkApply-enclosing":[],"green-hidden-none-none-bulkApply-underline_start":[],"green-hidden-none-none-select-underline":[],"green-hidden-none-none-select-background":[],"green-hidden-none-none-select-full":[],"green-hidden-none-none-select-focus":[],"green-hidden-none-none-select-enclosing":[],"green-hidden-none-none-select-underline_start":[],"grey-visible-solid-solid-none-underline":[],"grey-visible-solid-solid-none-background":[],"grey-visible-solid-solid-none-full":[],"grey-visible-solid-solid-none-focus":[e.vox,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"grey-visible-solid-solid-none-enclosing":[],"grey-visible-solid-solid-none-underline_start":[],"grey-visible-solid-solid-firstRender-underline":[],"grey-visible-solid-solid-firstRender-background":[],"grey-visible-solid-solid-firstRender-full":[],"grey-visible-solid-solid-firstRender-focus":[],"grey-visible-solid-solid-firstRender-enclosing":[],"grey-visible-solid-solid-firstRender-underline_start":[],"grey-visible-solid-solid-apply-underline":[],"grey-visible-solid-solid-apply-background":[],"grey-visible-solid-solid-apply-full":[],"grey-visible-solid-solid-apply-focus":[],"grey-visible-solid-solid-apply-enclosing":[],"grey-visible-solid-solid-apply-underline_start":[],"grey-visible-solid-solid-success-underline":[],"grey-visible-solid-solid-success-background":[],"grey-visible-solid-solid-success-full":[],"grey-visible-solid-solid-success-focus":[],"grey-visible-solid-solid-success-enclosing":[],"grey-visible-solid-solid-success-underline_start":[],"grey-visible-solid-solid-bulkApply-underline":[],"grey-visible-solid-solid-bulkApply-background":[],"grey-visible-solid-solid-bulkApply-full":[],"grey-visible-solid-solid-bulkApply-focus":[],"grey-visible-solid-solid-bulkApply-enclosing":[],"grey-visible-solid-solid-bulkApply-underline_start":[],"grey-visible-solid-solid-select-underline":[e.vox,e.markHeightStandard,e.markSelectedFocused,e.markVisible,e.markSelected],"grey-visible-solid-solid-select-background":[],"grey-visible-solid-solid-select-full":[e.vox,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"grey-visible-solid-solid-select-focus":[],"grey-visible-solid-solid-select-enclosing":[],"grey-visible-solid-solid-select-underline_start":[],"grey-visible-solid-none-none-underline":[e.vox,e.markHeightStandard,e.markVisible],"grey-visible-solid-none-none-background":[e.vox,e.markHeightStandard,e.markVisible],"grey-visible-solid-none-none-full":[e.vox,e.markHeightStandard,e.markVisible],"grey-visible-solid-none-none-focus":[],"grey-visible-solid-none-none-enclosing":[],"grey-visible-solid-none-none-underline_start":[],"grey-visible-solid-none-firstRender-underline":[e.vox,e.markHeightStandard,e.markVisible,e.markAnimated],"grey-visible-solid-none-firstRender-background":[e.vox,e.markHeightStandard,e.markVisible,e.markAnimated],"grey-visible-solid-none-firstRender-full":[e.vox,e.markHeightStandard,e.markVisible,e.markAnimated],"grey-visible-solid-none-firstRender-focus":[],"grey-visible-solid-none-firstRender-enclosing":[],"grey-visible-solid-none-firstRender-underline_start":[],"grey-visible-solid-none-apply-underline":[],"grey-visible-solid-none-apply-background":[],"grey-visible-solid-none-apply-full":[],"grey-visible-solid-none-apply-focus":[],"grey-visible-solid-none-apply-enclosing":[],"grey-visible-solid-none-apply-underline_start":[],"grey-visible-solid-none-success-underline":[],"grey-visible-solid-none-success-background":[],"grey-visible-solid-none-success-full":[],"grey-visible-solid-none-success-focus":[],"grey-visible-solid-none-success-enclosing":[],"grey-visible-solid-none-success-underline_start":[],"grey-visible-solid-none-bulkApply-underline":[],"grey-visible-solid-none-bulkApply-background":[],"grey-visible-solid-none-bulkApply-full":[],"grey-visible-solid-none-bulkApply-focus":[],"grey-visible-solid-none-bulkApply-enclosing":[],"grey-visible-solid-none-bulkApply-underline_start":[],"grey-visible-solid-none-select-underline":[],"grey-visible-solid-none-select-background":[],"grey-visible-solid-none-select-full":[],"grey-visible-solid-none-select-focus":[],"grey-visible-solid-none-select-enclosing":[],"grey-visible-solid-none-select-underline_start":[],"grey-visible-dotted-solid-none-underline":[],"grey-visible-dotted-solid-none-background":[],"grey-visible-dotted-solid-none-full":[],"grey-visible-dotted-solid-none-focus":[],"grey-visible-dotted-solid-none-enclosing":[],"grey-visible-dotted-solid-none-underline_start":[],"grey-visible-dotted-solid-firstRender-underline":[],"grey-visible-dotted-solid-firstRender-background":[],"grey-visible-dotted-solid-firstRender-full":[],"grey-visible-dotted-solid-firstRender-focus":[],"grey-visible-dotted-solid-firstRender-enclosing":[],"grey-visible-dotted-solid-firstRender-underline_start":[],"grey-visible-dotted-solid-apply-underline":[],"grey-visible-dotted-solid-apply-background":[],"grey-visible-dotted-solid-apply-full":[],"grey-visible-dotted-solid-apply-focus":[],"grey-visible-dotted-solid-apply-enclosing":[],"grey-visible-dotted-solid-apply-underline_start":[],"grey-visible-dotted-solid-success-underline":[],"grey-visible-dotted-solid-success-background":[],"grey-visible-dotted-solid-success-full":[],"grey-visible-dotted-solid-success-focus":[],"grey-visible-dotted-solid-success-enclosing":[],"grey-visible-dotted-solid-success-underline_start":[],"grey-visible-dotted-solid-bulkApply-underline":[],"grey-visible-dotted-solid-bulkApply-background":[],"grey-visible-dotted-solid-bulkApply-full":[],"grey-visible-dotted-solid-bulkApply-focus":[],"grey-visible-dotted-solid-bulkApply-enclosing":[],"grey-visible-dotted-solid-bulkApply-underline_start":[],"grey-visible-dotted-solid-select-underline":[],"grey-visible-dotted-solid-select-background":[],"grey-visible-dotted-solid-select-full":[],"grey-visible-dotted-solid-select-focus":[],"grey-visible-dotted-solid-select-enclosing":[],"grey-visible-dotted-solid-select-underline_start":[],"grey-visible-dotted-none-none-underline":[],"grey-visible-dotted-none-none-background":[],"grey-visible-dotted-none-none-full":[],"grey-visible-dotted-none-none-focus":[],"grey-visible-dotted-none-none-enclosing":[],"grey-visible-dotted-none-none-underline_start":[],"grey-visible-dotted-none-firstRender-underline":[],"grey-visible-dotted-none-firstRender-background":[],"grey-visible-dotted-none-firstRender-full":[],"grey-visible-dotted-none-firstRender-focus":[],"grey-visible-dotted-none-firstRender-enclosing":[],"grey-visible-dotted-none-firstRender-underline_start":[],"grey-visible-dotted-none-apply-underline":[],"grey-visible-dotted-none-apply-background":[],"grey-visible-dotted-none-apply-full":[],"grey-visible-dotted-none-apply-focus":[],"grey-visible-dotted-none-apply-enclosing":[],"grey-visible-dotted-none-apply-underline_start":[],"grey-visible-dotted-none-success-underline":[],"grey-visible-dotted-none-success-background":[],"grey-visible-dotted-none-success-full":[],"grey-visible-dotted-none-success-focus":[],"grey-visible-dotted-none-success-enclosing":[],"grey-visible-dotted-none-success-underline_start":[],"grey-visible-dotted-none-bulkApply-underline":[e.markAppliedBase,e.markHeightStandard,e.markBulkAppliedAnimation],"grey-visible-dotted-none-bulkApply-background":[e.markAppliedBase,e.markHeightStandard,e.markBulkAppliedAnimation],"grey-visible-dotted-none-bulkApply-full":[e.markAppliedBase,e.markHeightStandard,e.markBulkAppliedAnimation],"grey-visible-dotted-none-bulkApply-focus":[e.markAppliedBase,e.markHeightStandard,e.markBulkAppliedAnimation],"grey-visible-dotted-none-bulkApply-enclosing":[e.markAppliedBase,e.markHeightStandard,e.markBulkAppliedAnimation],"grey-visible-dotted-none-bulkApply-underline_start":[],"grey-visible-dotted-none-select-underline":[],"grey-visible-dotted-none-select-background":[],"grey-visible-dotted-none-select-full":[],"grey-visible-dotted-none-select-focus":[],"grey-visible-dotted-none-select-enclosing":[],"grey-visible-dotted-none-select-underline_start":[],"grey-visible-none-solid-none-underline":[],"grey-visible-none-solid-none-background":[],"grey-visible-none-solid-none-full":[],"grey-visible-none-solid-none-focus":[],"grey-visible-none-solid-none-enclosing":[e.vox,e.markHeightStandard,e.markSelected,e.markVisible],"grey-visible-none-solid-none-underline_start":[],"grey-visible-none-solid-firstRender-underline":[],"grey-visible-none-solid-firstRender-background":[],"grey-visible-none-solid-firstRender-full":[],"grey-visible-none-solid-firstRender-focus":[],"grey-visible-none-solid-firstRender-enclosing":[],"grey-visible-none-solid-firstRender-underline_start":[],"grey-visible-none-solid-apply-underline":[],"grey-visible-none-solid-apply-background":[],"grey-visible-none-solid-apply-full":[],"grey-visible-none-solid-apply-focus":[],"grey-visible-none-solid-apply-enclosing":[],"grey-visible-none-solid-apply-underline_start":[],"grey-visible-none-solid-success-underline":[],"grey-visible-none-solid-success-background":[],"grey-visible-none-solid-success-full":[],"grey-visible-none-solid-success-focus":[],"grey-visible-none-solid-success-enclosing":[],"grey-visible-none-solid-success-underline_start":[],"grey-visible-none-solid-bulkApply-underline":[],"grey-visible-none-solid-bulkApply-background":[],"grey-visible-none-solid-bulkApply-full":[],"grey-visible-none-solid-bulkApply-focus":[],"grey-visible-none-solid-bulkApply-enclosing":[],"grey-visible-none-solid-bulkApply-underline_start":[],"grey-visible-none-solid-select-underline":[e.vox,e.markHeightStandard,e.markSelectedFocused,e.markVisible],"grey-visible-none-solid-select-background":[e.vox,e.markHeightStandard,e.markSelected,e.markVisible],"grey-visible-none-solid-select-full":[],"grey-visible-none-solid-select-focus":[],"grey-visible-none-solid-select-enclosing":[],"grey-visible-none-solid-select-underline_start":[],"grey-visible-none-none-none-underline":[],"grey-visible-none-none-none-background":[],"grey-visible-none-none-none-full":[],"grey-visible-none-none-none-focus":[],"grey-visible-none-none-none-enclosing":[],"grey-visible-none-none-none-underline_start":[],"grey-visible-none-none-firstRender-underline":[],"grey-visible-none-none-firstRender-background":[],"grey-visible-none-none-firstRender-full":[],"grey-visible-none-none-firstRender-focus":[],"grey-visible-none-none-firstRender-enclosing":[],"grey-visible-none-none-firstRender-underline_start":[],"grey-visible-none-none-apply-underline":[],"grey-visible-none-none-apply-background":[],"grey-visible-none-none-apply-full":[],"grey-visible-none-none-apply-focus":[],"grey-visible-none-none-apply-enclosing":[],"grey-visible-none-none-apply-underline_start":[],"grey-visible-none-none-success-underline":[],"grey-visible-none-none-success-background":[],"grey-visible-none-none-success-full":[],"grey-visible-none-none-success-focus":[],"grey-visible-none-none-success-enclosing":[],"grey-visible-none-none-success-underline_start":[],"grey-visible-none-none-bulkApply-underline":[],"grey-visible-none-none-bulkApply-background":[],"grey-visible-none-none-bulkApply-full":[],"grey-visible-none-none-bulkApply-focus":[],"grey-visible-none-none-bulkApply-enclosing":[],"grey-visible-none-none-bulkApply-underline_start":[],"grey-visible-none-none-select-underline":[],"grey-visible-none-none-select-background":[],"grey-visible-none-none-select-full":[],"grey-visible-none-none-select-focus":[],"grey-visible-none-none-select-enclosing":[],"grey-visible-none-none-select-underline_start":[],"grey-hidden-solid-solid-none-underline":[],"grey-hidden-solid-solid-none-background":[],"grey-hidden-solid-solid-none-full":[],"grey-hidden-solid-solid-none-focus":[e.vox,e.markHeightStandard,e.markHidden],"grey-hidden-solid-solid-none-enclosing":[],"grey-hidden-solid-solid-none-underline_start":[],"grey-hidden-solid-solid-firstRender-underline":[],"grey-hidden-solid-solid-firstRender-background":[],"grey-hidden-solid-solid-firstRender-full":[],"grey-hidden-solid-solid-firstRender-focus":[e.vox,e.markHeightStandard,e.markHidden],"grey-hidden-solid-solid-firstRender-enclosing":[],"grey-hidden-solid-solid-firstRender-underline_start":[],"grey-hidden-solid-solid-apply-underline":[],"grey-hidden-solid-solid-apply-background":[],"grey-hidden-solid-solid-apply-full":[],"grey-hidden-solid-solid-apply-focus":[],"grey-hidden-solid-solid-apply-enclosing":[],"grey-hidden-solid-solid-apply-underline_start":[],"grey-hidden-solid-solid-success-underline":[],"grey-hidden-solid-solid-success-background":[],"grey-hidden-solid-solid-success-full":[],"grey-hidden-solid-solid-success-focus":[],"grey-hidden-solid-solid-success-enclosing":[],"grey-hidden-solid-solid-success-underline_start":[],"grey-hidden-solid-solid-bulkApply-underline":[],"grey-hidden-solid-solid-bulkApply-background":[],"grey-hidden-solid-solid-bulkApply-full":[],"grey-hidden-solid-solid-bulkApply-focus":[],"grey-hidden-solid-solid-bulkApply-enclosing":[],"grey-hidden-solid-solid-bulkApply-underline_start":[],"grey-hidden-solid-solid-select-underline":[],"grey-hidden-solid-solid-select-background":[],"grey-hidden-solid-solid-select-full":[],"grey-hidden-solid-solid-select-focus":[],"grey-hidden-solid-solid-select-enclosing":[],"grey-hidden-solid-solid-select-underline_start":[],"grey-hidden-solid-none-none-underline":[],"grey-hidden-solid-none-none-background":[],"grey-hidden-solid-none-none-full":[],"grey-hidden-solid-none-none-focus":[],"grey-hidden-solid-none-none-enclosing":[],"grey-hidden-solid-none-none-underline_start":[],"grey-hidden-solid-none-firstRender-underline":[],"grey-hidden-solid-none-firstRender-background":[],"grey-hidden-solid-none-firstRender-full":[],"grey-hidden-solid-none-firstRender-focus":[],"grey-hidden-solid-none-firstRender-enclosing":[],"grey-hidden-solid-none-firstRender-underline_start":[],"grey-hidden-solid-none-apply-underline":[],"grey-hidden-solid-none-apply-background":[],"grey-hidden-solid-none-apply-full":[],"grey-hidden-solid-none-apply-focus":[],"grey-hidden-solid-none-apply-enclosing":[],"grey-hidden-solid-none-apply-underline_start":[],"grey-hidden-solid-none-success-underline":[],"grey-hidden-solid-none-success-background":[],"grey-hidden-solid-none-success-full":[],"grey-hidden-solid-none-success-focus":[],"grey-hidden-solid-none-success-enclosing":[],"grey-hidden-solid-none-success-underline_start":[],"grey-hidden-solid-none-bulkApply-underline":[],"grey-hidden-solid-none-bulkApply-background":[],"grey-hidden-solid-none-bulkApply-full":[],"grey-hidden-solid-none-bulkApply-focus":[],"grey-hidden-solid-none-bulkApply-enclosing":[],"grey-hidden-solid-none-bulkApply-underline_start":[],"grey-hidden-solid-none-select-underline":[],"grey-hidden-solid-none-select-background":[],"grey-hidden-solid-none-select-full":[],"grey-hidden-solid-none-select-focus":[],"grey-hidden-solid-none-select-enclosing":[],"grey-hidden-solid-none-select-underline_start":[],"grey-hidden-dotted-solid-none-underline":[],"grey-hidden-dotted-solid-none-background":[],"grey-hidden-dotted-solid-none-full":[],"grey-hidden-dotted-solid-none-focus":[],"grey-hidden-dotted-solid-none-enclosing":[],"grey-hidden-dotted-solid-none-underline_start":[],"grey-hidden-dotted-solid-firstRender-underline":[],"grey-hidden-dotted-solid-firstRender-background":[],"grey-hidden-dotted-solid-firstRender-full":[],"grey-hidden-dotted-solid-firstRender-focus":[],"grey-hidden-dotted-solid-firstRender-enclosing":[],"grey-hidden-dotted-solid-firstRender-underline_start":[],"grey-hidden-dotted-solid-apply-underline":[],"grey-hidden-dotted-solid-apply-background":[],"grey-hidden-dotted-solid-apply-full":[],"grey-hidden-dotted-solid-apply-focus":[],"grey-hidden-dotted-solid-apply-enclosing":[],"grey-hidden-dotted-solid-apply-underline_start":[],"grey-hidden-dotted-solid-success-underline":[],"grey-hidden-dotted-solid-success-background":[],"grey-hidden-dotted-solid-success-full":[],"grey-hidden-dotted-solid-success-focus":[],"grey-hidden-dotted-solid-success-enclosing":[],"grey-hidden-dotted-solid-success-underline_start":[],"grey-hidden-dotted-solid-bulkApply-underline":[],"grey-hidden-dotted-solid-bulkApply-background":[],"grey-hidden-dotted-solid-bulkApply-full":[],"grey-hidden-dotted-solid-bulkApply-focus":[],"grey-hidden-dotted-solid-bulkApply-enclosing":[],"grey-hidden-dotted-solid-bulkApply-underline_start":[],"grey-hidden-dotted-solid-select-underline":[],"grey-hidden-dotted-solid-select-background":[],"grey-hidden-dotted-solid-select-full":[],"grey-hidden-dotted-solid-select-focus":[],"grey-hidden-dotted-solid-select-enclosing":[],"grey-hidden-dotted-solid-select-underline_start":[],"grey-hidden-dotted-none-none-underline":[],"grey-hidden-dotted-none-none-background":[],"grey-hidden-dotted-none-none-full":[],"grey-hidden-dotted-none-none-focus":[],"grey-hidden-dotted-none-none-enclosing":[],"grey-hidden-dotted-none-none-underline_start":[],"grey-hidden-dotted-none-firstRender-underline":[],"grey-hidden-dotted-none-firstRender-background":[],"grey-hidden-dotted-none-firstRender-full":[],"grey-hidden-dotted-none-firstRender-focus":[],"grey-hidden-dotted-none-firstRender-enclosing":[],"grey-hidden-dotted-none-firstRender-underline_start":[],"grey-hidden-dotted-none-apply-underline":[],"grey-hidden-dotted-none-apply-background":[],"grey-hidden-dotted-none-apply-full":[],"grey-hidden-dotted-none-apply-focus":[],"grey-hidden-dotted-none-apply-enclosing":[],"grey-hidden-dotted-none-apply-underline_start":[],"grey-hidden-dotted-none-success-underline":[],"grey-hidden-dotted-none-success-background":[],"grey-hidden-dotted-none-success-full":[],"grey-hidden-dotted-none-success-focus":[],"grey-hidden-dotted-none-success-enclosing":[],"grey-hidden-dotted-none-success-underline_start":[],"grey-hidden-dotted-none-bulkApply-underline":[],"grey-hidden-dotted-none-bulkApply-background":[],"grey-hidden-dotted-none-bulkApply-full":[],"grey-hidden-dotted-none-bulkApply-focus":[],"grey-hidden-dotted-none-bulkApply-enclosing":[],"grey-hidden-dotted-none-bulkApply-underline_start":[],"grey-hidden-dotted-none-select-underline":[],"grey-hidden-dotted-none-select-background":[],"grey-hidden-dotted-none-select-full":[],"grey-hidden-dotted-none-select-focus":[],"grey-hidden-dotted-none-select-enclosing":[],"grey-hidden-dotted-none-select-underline_start":[],"grey-hidden-none-solid-none-underline":[],"grey-hidden-none-solid-none-background":[],"grey-hidden-none-solid-none-full":[],"grey-hidden-none-solid-none-focus":[],"grey-hidden-none-solid-none-enclosing":[e.vox,e.markHeightStandard,e.markHidden],"grey-hidden-none-solid-none-underline_start":[],"grey-hidden-none-solid-firstRender-underline":[],"grey-hidden-none-solid-firstRender-background":[],"grey-hidden-none-solid-firstRender-full":[],"grey-hidden-none-solid-firstRender-focus":[],"grey-hidden-none-solid-firstRender-enclosing":[e.vox,e.markHeightStandard,e.markHidden],"grey-hidden-none-solid-firstRender-underline_start":[],"grey-hidden-none-solid-apply-underline":[],"grey-hidden-none-solid-apply-background":[],"grey-hidden-none-solid-apply-full":[],"grey-hidden-none-solid-apply-focus":[],"grey-hidden-none-solid-apply-enclosing":[],"grey-hidden-none-solid-apply-underline_start":[],"grey-hidden-none-solid-success-underline":[],"grey-hidden-none-solid-success-background":[],"grey-hidden-none-solid-success-full":[],"grey-hidden-none-solid-success-focus":[],"grey-hidden-none-solid-success-enclosing":[],"grey-hidden-none-solid-success-underline_start":[],"grey-hidden-none-solid-bulkApply-underline":[],"grey-hidden-none-solid-bulkApply-background":[],"grey-hidden-none-solid-bulkApply-full":[],"grey-hidden-none-solid-bulkApply-focus":[],"grey-hidden-none-solid-bulkApply-enclosing":[],"grey-hidden-none-solid-bulkApply-underline_start":[],"grey-hidden-none-solid-select-underline":[],"grey-hidden-none-solid-select-background":[],"grey-hidden-none-solid-select-full":[],"grey-hidden-none-solid-select-focus":[],"grey-hidden-none-solid-select-enclosing":[],"grey-hidden-none-solid-select-underline_start":[],"grey-hidden-none-none-none-underline":[],"grey-hidden-none-none-none-background":[],"grey-hidden-none-none-none-full":[],"grey-hidden-none-none-none-focus":[],"grey-hidden-none-none-none-enclosing":[],"grey-hidden-none-none-none-underline_start":[],"grey-hidden-none-none-firstRender-underline":[],"grey-hidden-none-none-firstRender-background":[],"grey-hidden-none-none-firstRender-full":[],"grey-hidden-none-none-firstRender-focus":[],"grey-hidden-none-none-firstRender-enclosing":[],"grey-hidden-none-none-firstRender-underline_start":[],"grey-hidden-none-none-apply-underline":[],"grey-hidden-none-none-apply-background":[],"grey-hidden-none-none-apply-full":[],"grey-hidden-none-none-apply-focus":[],"grey-hidden-none-none-apply-enclosing":[],"grey-hidden-none-none-apply-underline_start":[],"grey-hidden-none-none-success-underline":[],"grey-hidden-none-none-success-background":[],"grey-hidden-none-none-success-full":[],"grey-hidden-none-none-success-focus":[],"grey-hidden-none-none-success-enclosing":[],"grey-hidden-none-none-success-underline_start":[],"grey-hidden-none-none-bulkApply-underline":[],"grey-hidden-none-none-bulkApply-background":[],"grey-hidden-none-none-bulkApply-full":[],"grey-hidden-none-none-bulkApply-focus":[],"grey-hidden-none-none-bulkApply-enclosing":[],"grey-hidden-none-none-bulkApply-underline_start":[],"grey-hidden-none-none-select-underline":[],"grey-hidden-none-none-select-background":[],"grey-hidden-none-none-select-full":[],"grey-hidden-none-none-select-focus":[],"grey-hidden-none-none-select-enclosing":[],"grey-hidden-none-none-select-underline_start":[],"purple-visible-solid-solid-none-underline":[],"purple-visible-solid-solid-none-background":[],"purple-visible-solid-solid-none-full":[],"purple-visible-solid-solid-none-focus":[e.delivery,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"purple-visible-solid-solid-none-enclosing":[],"purple-visible-solid-solid-none-underline_start":[],"purple-visible-solid-solid-firstRender-underline":[],"purple-visible-solid-solid-firstRender-background":[],"purple-visible-solid-solid-firstRender-full":[],"purple-visible-solid-solid-firstRender-focus":[],"purple-visible-solid-solid-firstRender-enclosing":[],"purple-visible-solid-solid-firstRender-underline_start":[],"purple-visible-solid-solid-apply-underline":[],"purple-visible-solid-solid-apply-background":[],"purple-visible-solid-solid-apply-full":[],"purple-visible-solid-solid-apply-focus":[],"purple-visible-solid-solid-apply-enclosing":[],"purple-visible-solid-solid-apply-underline_start":[],"purple-visible-solid-solid-success-underline":[],"purple-visible-solid-solid-success-background":[],"purple-visible-solid-solid-success-full":[],"purple-visible-solid-solid-success-focus":[],"purple-visible-solid-solid-success-enclosing":[],"purple-visible-solid-solid-success-underline_start":[],"purple-visible-solid-solid-bulkApply-underline":[],"purple-visible-solid-solid-bulkApply-background":[],"purple-visible-solid-solid-bulkApply-full":[],"purple-visible-solid-solid-bulkApply-focus":[],"purple-visible-solid-solid-bulkApply-enclosing":[],"purple-visible-solid-solid-bulkApply-underline_start":[],"purple-visible-solid-solid-select-underline":[e.delivery,e.markHeightStandard,e.markSelectedFocused,e.markVisible,e.markSelected],"purple-visible-solid-solid-select-background":[],"purple-visible-solid-solid-select-full":[e.delivery,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"purple-visible-solid-solid-select-focus":[],"purple-visible-solid-solid-select-enclosing":[],"purple-visible-solid-solid-select-underline_start":[],"purple-visible-solid-none-none-underline":[e.delivery,e.markHeightStandard,e.markVisible],"purple-visible-solid-none-none-background":[e.delivery,e.markHeightStandard,e.markVisible],"purple-visible-solid-none-none-full":[e.delivery,e.markHeightStandard,e.markVisible],"purple-visible-solid-none-none-focus":[],"purple-visible-solid-none-none-enclosing":[],"purple-visible-solid-none-none-underline_start":[],"purple-visible-solid-none-firstRender-underline":[e.delivery,e.markHeightStandard,e.markVisible,e.markAnimated],"purple-visible-solid-none-firstRender-background":[e.delivery,e.markHeightStandard,e.markVisible,e.markAnimated],"purple-visible-solid-none-firstRender-full":[e.delivery,e.markHeightStandard,e.markVisible,e.markAnimated],"purple-visible-solid-none-firstRender-focus":[],"purple-visible-solid-none-firstRender-enclosing":[],"purple-visible-solid-none-firstRender-underline_start":[],"purple-visible-solid-none-apply-underline":[],"purple-visible-solid-none-apply-background":[],"purple-visible-solid-none-apply-full":[],"purple-visible-solid-none-apply-focus":[],"purple-visible-solid-none-apply-enclosing":[],"purple-visible-solid-none-apply-underline_start":[],"purple-visible-solid-none-success-underline":[],"purple-visible-solid-none-success-background":[],"purple-visible-solid-none-success-full":[],"purple-visible-solid-none-success-focus":[],"purple-visible-solid-none-success-enclosing":[],"purple-visible-solid-none-success-underline_start":[],"purple-visible-solid-none-bulkApply-underline":[],"purple-visible-solid-none-bulkApply-background":[],"purple-visible-solid-none-bulkApply-full":[],"purple-visible-solid-none-bulkApply-focus":[],"purple-visible-solid-none-bulkApply-enclosing":[],"purple-visible-solid-none-bulkApply-underline_start":[],"purple-visible-solid-none-select-underline":[],"purple-visible-solid-none-select-background":[],"purple-visible-solid-none-select-full":[],"purple-visible-solid-none-select-focus":[],"purple-visible-solid-none-select-enclosing":[],"purple-visible-solid-none-select-underline_start":[],"purple-visible-dotted-solid-none-underline":[],"purple-visible-dotted-solid-none-background":[],"purple-visible-dotted-solid-none-full":[],"purple-visible-dotted-solid-none-focus":[],"purple-visible-dotted-solid-none-enclosing":[],"purple-visible-dotted-solid-none-underline_start":[],"purple-visible-dotted-solid-firstRender-underline":[],"purple-visible-dotted-solid-firstRender-background":[],"purple-visible-dotted-solid-firstRender-full":[],"purple-visible-dotted-solid-firstRender-focus":[],"purple-visible-dotted-solid-firstRender-enclosing":[],"purple-visible-dotted-solid-firstRender-underline_start":[],"purple-visible-dotted-solid-apply-underline":[],"purple-visible-dotted-solid-apply-background":[],"purple-visible-dotted-solid-apply-full":[],"purple-visible-dotted-solid-apply-focus":[],"purple-visible-dotted-solid-apply-enclosing":[],"purple-visible-dotted-solid-apply-underline_start":[],"purple-visible-dotted-solid-success-underline":[],"purple-visible-dotted-solid-success-background":[],"purple-visible-dotted-solid-success-full":[],"purple-visible-dotted-solid-success-focus":[],"purple-visible-dotted-solid-success-enclosing":[],"purple-visible-dotted-solid-success-underline_start":[],"purple-visible-dotted-solid-bulkApply-underline":[],"purple-visible-dotted-solid-bulkApply-background":[],"purple-visible-dotted-solid-bulkApply-full":[],"purple-visible-dotted-solid-bulkApply-focus":[],"purple-visible-dotted-solid-bulkApply-enclosing":[],"purple-visible-dotted-solid-bulkApply-underline_start":[],"purple-visible-dotted-solid-select-underline":[],"purple-visible-dotted-solid-select-background":[],"purple-visible-dotted-solid-select-full":[],"purple-visible-dotted-solid-select-focus":[],"purple-visible-dotted-solid-select-enclosing":[],"purple-visible-dotted-solid-select-underline_start":[],"purple-visible-dotted-none-none-underline":[],"purple-visible-dotted-none-none-background":[],"purple-visible-dotted-none-none-full":[],"purple-visible-dotted-none-none-focus":[],"purple-visible-dotted-none-none-enclosing":[],"purple-visible-dotted-none-none-underline_start":[],"purple-visible-dotted-none-firstRender-underline":[],"purple-visible-dotted-none-firstRender-background":[],"purple-visible-dotted-none-firstRender-full":[],"purple-visible-dotted-none-firstRender-focus":[],"purple-visible-dotted-none-firstRender-enclosing":[],"purple-visible-dotted-none-firstRender-underline_start":[],"purple-visible-dotted-none-apply-underline":[],"purple-visible-dotted-none-apply-background":[],"purple-visible-dotted-none-apply-full":[],"purple-visible-dotted-none-apply-focus":[],"purple-visible-dotted-none-apply-enclosing":[],"purple-visible-dotted-none-apply-underline_start":[],"purple-visible-dotted-none-success-underline":[],"purple-visible-dotted-none-success-background":[],"purple-visible-dotted-none-success-full":[],"purple-visible-dotted-none-success-focus":[],"purple-visible-dotted-none-success-enclosing":[],"purple-visible-dotted-none-success-underline_start":[],"purple-visible-dotted-none-bulkApply-underline":[],"purple-visible-dotted-none-bulkApply-background":[],"purple-visible-dotted-none-bulkApply-full":[],"purple-visible-dotted-none-bulkApply-focus":[],"purple-visible-dotted-none-bulkApply-enclosing":[],"purple-visible-dotted-none-bulkApply-underline_start":[],"purple-visible-dotted-none-select-underline":[],"purple-visible-dotted-none-select-background":[],"purple-visible-dotted-none-select-full":[],"purple-visible-dotted-none-select-focus":[],"purple-visible-dotted-none-select-enclosing":[],"purple-visible-dotted-none-select-underline_start":[],"purple-visible-none-solid-none-underline":[],"purple-visible-none-solid-none-background":[],"purple-visible-none-solid-none-full":[],"purple-visible-none-solid-none-focus":[],"purple-visible-none-solid-none-enclosing":[e.delivery,e.markHeightStandard,e.markSelected,e.markVisible],"purple-visible-none-solid-none-underline_start":[],"purple-visible-none-solid-firstRender-underline":[],"purple-visible-none-solid-firstRender-background":[],"purple-visible-none-solid-firstRender-full":[],"purple-visible-none-solid-firstRender-focus":[],"purple-visible-none-solid-firstRender-enclosing":[],"purple-visible-none-solid-firstRender-underline_start":[],"purple-visible-none-solid-apply-underline":[],"purple-visible-none-solid-apply-background":[],"purple-visible-none-solid-apply-full":[],"purple-visible-none-solid-apply-focus":[],"purple-visible-none-solid-apply-enclosing":[],"purple-visible-none-solid-apply-underline_start":[],"purple-visible-none-solid-success-underline":[],"purple-visible-none-solid-success-background":[],"purple-visible-none-solid-success-full":[],"purple-visible-none-solid-success-focus":[],"purple-visible-none-solid-success-enclosing":[],"purple-visible-none-solid-success-underline_start":[],"purple-visible-none-solid-bulkApply-underline":[],"purple-visible-none-solid-bulkApply-background":[],"purple-visible-none-solid-bulkApply-full":[],"purple-visible-none-solid-bulkApply-focus":[],"purple-visible-none-solid-bulkApply-enclosing":[],"purple-visible-none-solid-bulkApply-underline_start":[],"purple-visible-none-solid-select-underline":[e.delivery,e.markHeightStandard,e.markSelectedFocused,e.markVisible],"purple-visible-none-solid-select-background":[e.delivery,e.markHeightStandard,e.markSelected,e.markVisible],"purple-visible-none-solid-select-full":[],"purple-visible-none-solid-select-focus":[],"purple-visible-none-solid-select-enclosing":[],"purple-visible-none-solid-select-underline_start":[],"purple-visible-none-none-none-underline":[],"purple-visible-none-none-none-background":[],"purple-visible-none-none-none-full":[],"purple-visible-none-none-none-focus":[],"purple-visible-none-none-none-enclosing":[],"purple-visible-none-none-none-underline_start":[],"purple-visible-none-none-firstRender-underline":[],"purple-visible-none-none-firstRender-background":[],"purple-visible-none-none-firstRender-full":[],"purple-visible-none-none-firstRender-focus":[],"purple-visible-none-none-firstRender-enclosing":[],"purple-visible-none-none-firstRender-underline_start":[],"purple-visible-none-none-apply-underline":[],"purple-visible-none-none-apply-background":[],"purple-visible-none-none-apply-full":[],"purple-visible-none-none-apply-focus":[],"purple-visible-none-none-apply-enclosing":[],"purple-visible-none-none-apply-underline_start":[],"purple-visible-none-none-success-underline":[],"purple-visible-none-none-success-background":[],"purple-visible-none-none-success-full":[],"purple-visible-none-none-success-focus":[],"purple-visible-none-none-success-enclosing":[],"purple-visible-none-none-success-underline_start":[],"purple-visible-none-none-bulkApply-underline":[],"purple-visible-none-none-bulkApply-background":[],"purple-visible-none-none-bulkApply-full":[],"purple-visible-none-none-bulkApply-focus":[],"purple-visible-none-none-bulkApply-enclosing":[],"purple-visible-none-none-bulkApply-underline_start":[],"purple-visible-none-none-select-underline":[],"purple-visible-none-none-select-background":[],"purple-visible-none-none-select-full":[],"purple-visible-none-none-select-focus":[],"purple-visible-none-none-select-enclosing":[],"purple-visible-none-none-select-underline_start":[],"purple-hidden-solid-solid-none-underline":[],"purple-hidden-solid-solid-none-background":[],"purple-hidden-solid-solid-none-full":[],"purple-hidden-solid-solid-none-focus":[e.delivery,e.markHeightStandard,e.markHidden],"purple-hidden-solid-solid-none-enclosing":[],"purple-hidden-solid-solid-none-underline_start":[],"purple-hidden-solid-solid-firstRender-underline":[],"purple-hidden-solid-solid-firstRender-background":[],"purple-hidden-solid-solid-firstRender-full":[],"purple-hidden-solid-solid-firstRender-focus":[e.delivery,e.markHeightStandard,e.markHidden],"purple-hidden-solid-solid-firstRender-enclosing":[],"purple-hidden-solid-solid-firstRender-underline_start":[],"purple-hidden-solid-solid-apply-underline":[],"purple-hidden-solid-solid-apply-background":[],"purple-hidden-solid-solid-apply-full":[],"purple-hidden-solid-solid-apply-focus":[],"purple-hidden-solid-solid-apply-enclosing":[],"purple-hidden-solid-solid-apply-underline_start":[],"purple-hidden-solid-solid-success-underline":[],"purple-hidden-solid-solid-success-background":[],"purple-hidden-solid-solid-success-full":[],"purple-hidden-solid-solid-success-focus":[],"purple-hidden-solid-solid-success-enclosing":[],"purple-hidden-solid-solid-success-underline_start":[],"purple-hidden-solid-solid-bulkApply-underline":[],"purple-hidden-solid-solid-bulkApply-background":[],"purple-hidden-solid-solid-bulkApply-full":[],"purple-hidden-solid-solid-bulkApply-focus":[],"purple-hidden-solid-solid-bulkApply-enclosing":[],"purple-hidden-solid-solid-bulkApply-underline_start":[],"purple-hidden-solid-solid-select-underline":[],"purple-hidden-solid-solid-select-background":[],"purple-hidden-solid-solid-select-full":[],"purple-hidden-solid-solid-select-focus":[],"purple-hidden-solid-solid-select-enclosing":[],"purple-hidden-solid-solid-select-underline_start":[],"purple-hidden-solid-none-none-underline":[],"purple-hidden-solid-none-none-background":[],"purple-hidden-solid-none-none-full":[],"purple-hidden-solid-none-none-focus":[],"purple-hidden-solid-none-none-enclosing":[],"purple-hidden-solid-none-none-underline_start":[],"purple-hidden-solid-none-firstRender-underline":[],"purple-hidden-solid-none-firstRender-background":[],"purple-hidden-solid-none-firstRender-full":[],"purple-hidden-solid-none-firstRender-focus":[],"purple-hidden-solid-none-firstRender-enclosing":[],"purple-hidden-solid-none-firstRender-underline_start":[],"purple-hidden-solid-none-apply-underline":[],"purple-hidden-solid-none-apply-background":[],"purple-hidden-solid-none-apply-full":[],"purple-hidden-solid-none-apply-focus":[],"purple-hidden-solid-none-apply-enclosing":[],"purple-hidden-solid-none-apply-underline_start":[],"purple-hidden-solid-none-success-underline":[],"purple-hidden-solid-none-success-background":[],"purple-hidden-solid-none-success-full":[],"purple-hidden-solid-none-success-focus":[],"purple-hidden-solid-none-success-enclosing":[],"purple-hidden-solid-none-success-underline_start":[],"purple-hidden-solid-none-bulkApply-underline":[],"purple-hidden-solid-none-bulkApply-background":[],"purple-hidden-solid-none-bulkApply-full":[],"purple-hidden-solid-none-bulkApply-focus":[],"purple-hidden-solid-none-bulkApply-enclosing":[],"purple-hidden-solid-none-bulkApply-underline_start":[],"purple-hidden-solid-none-select-underline":[],"purple-hidden-solid-none-select-background":[],"purple-hidden-solid-none-select-full":[],"purple-hidden-solid-none-select-focus":[],"purple-hidden-solid-none-select-enclosing":[],"purple-hidden-solid-none-select-underline_start":[],"purple-hidden-dotted-solid-none-underline":[],"purple-hidden-dotted-solid-none-background":[],"purple-hidden-dotted-solid-none-full":[],"purple-hidden-dotted-solid-none-focus":[],"purple-hidden-dotted-solid-none-enclosing":[],"purple-hidden-dotted-solid-none-underline_start":[],"purple-hidden-dotted-solid-firstRender-underline":[],"purple-hidden-dotted-solid-firstRender-background":[],"purple-hidden-dotted-solid-firstRender-full":[],"purple-hidden-dotted-solid-firstRender-focus":[],"purple-hidden-dotted-solid-firstRender-enclosing":[],"purple-hidden-dotted-solid-firstRender-underline_start":[],"purple-hidden-dotted-solid-apply-underline":[],"purple-hidden-dotted-solid-apply-background":[],"purple-hidden-dotted-solid-apply-full":[],"purple-hidden-dotted-solid-apply-focus":[],"purple-hidden-dotted-solid-apply-enclosing":[],"purple-hidden-dotted-solid-apply-underline_start":[],"purple-hidden-dotted-solid-success-underline":[],"purple-hidden-dotted-solid-success-background":[],"purple-hidden-dotted-solid-success-full":[],"purple-hidden-dotted-solid-success-focus":[],"purple-hidden-dotted-solid-success-enclosing":[],"purple-hidden-dotted-solid-success-underline_start":[],"purple-hidden-dotted-solid-bulkApply-underline":[],"purple-hidden-dotted-solid-bulkApply-background":[],"purple-hidden-dotted-solid-bulkApply-full":[],"purple-hidden-dotted-solid-bulkApply-focus":[],"purple-hidden-dotted-solid-bulkApply-enclosing":[],"purple-hidden-dotted-solid-bulkApply-underline_start":[],"purple-hidden-dotted-solid-select-underline":[],"purple-hidden-dotted-solid-select-background":[],"purple-hidden-dotted-solid-select-full":[],"purple-hidden-dotted-solid-select-focus":[],"purple-hidden-dotted-solid-select-enclosing":[],"purple-hidden-dotted-solid-select-underline_start":[],"purple-hidden-dotted-none-none-underline":[],"purple-hidden-dotted-none-none-background":[],"purple-hidden-dotted-none-none-full":[],"purple-hidden-dotted-none-none-focus":[],"purple-hidden-dotted-none-none-enclosing":[],"purple-hidden-dotted-none-none-underline_start":[],"purple-hidden-dotted-none-firstRender-underline":[],"purple-hidden-dotted-none-firstRender-background":[],"purple-hidden-dotted-none-firstRender-full":[],"purple-hidden-dotted-none-firstRender-focus":[],"purple-hidden-dotted-none-firstRender-enclosing":[],"purple-hidden-dotted-none-firstRender-underline_start":[],"purple-hidden-dotted-none-apply-underline":[],"purple-hidden-dotted-none-apply-background":[],"purple-hidden-dotted-none-apply-full":[],"purple-hidden-dotted-none-apply-focus":[],"purple-hidden-dotted-none-apply-enclosing":[],"purple-hidden-dotted-none-apply-underline_start":[],"purple-hidden-dotted-none-success-underline":[],"purple-hidden-dotted-none-success-background":[],"purple-hidden-dotted-none-success-full":[],"purple-hidden-dotted-none-success-focus":[],"purple-hidden-dotted-none-success-enclosing":[],"purple-hidden-dotted-none-success-underline_start":[],"purple-hidden-dotted-none-bulkApply-underline":[],"purple-hidden-dotted-none-bulkApply-background":[],"purple-hidden-dotted-none-bulkApply-full":[],"purple-hidden-dotted-none-bulkApply-focus":[],"purple-hidden-dotted-none-bulkApply-enclosing":[],"purple-hidden-dotted-none-bulkApply-underline_start":[],"purple-hidden-dotted-none-select-underline":[],"purple-hidden-dotted-none-select-background":[],"purple-hidden-dotted-none-select-full":[],"purple-hidden-dotted-none-select-focus":[],"purple-hidden-dotted-none-select-enclosing":[],"purple-hidden-dotted-none-select-underline_start":[],"purple-hidden-none-solid-none-underline":[],"purple-hidden-none-solid-none-background":[],"purple-hidden-none-solid-none-full":[],"purple-hidden-none-solid-none-focus":[],"purple-hidden-none-solid-none-enclosing":[e.delivery,e.markHeightStandard,e.markHidden],"purple-hidden-none-solid-none-underline_start":[],"purple-hidden-none-solid-firstRender-underline":[],"purple-hidden-none-solid-firstRender-background":[],"purple-hidden-none-solid-firstRender-full":[],"purple-hidden-none-solid-firstRender-focus":[],"purple-hidden-none-solid-firstRender-enclosing":[e.delivery,e.markHeightStandard,e.markHidden],"purple-hidden-none-solid-firstRender-underline_start":[],"purple-hidden-none-solid-apply-underline":[],"purple-hidden-none-solid-apply-background":[],"purple-hidden-none-solid-apply-full":[],"purple-hidden-none-solid-apply-focus":[],"purple-hidden-none-solid-apply-enclosing":[],"purple-hidden-none-solid-apply-underline_start":[],"purple-hidden-none-solid-success-underline":[],"purple-hidden-none-solid-success-background":[],"purple-hidden-none-solid-success-full":[],"purple-hidden-none-solid-success-focus":[],"purple-hidden-none-solid-success-enclosing":[],"purple-hidden-none-solid-success-underline_start":[],"purple-hidden-none-solid-bulkApply-underline":[],"purple-hidden-none-solid-bulkApply-background":[],"purple-hidden-none-solid-bulkApply-full":[],"purple-hidden-none-solid-bulkApply-focus":[],"purple-hidden-none-solid-bulkApply-enclosing":[],"purple-hidden-none-solid-bulkApply-underline_start":[],"purple-hidden-none-solid-select-underline":[],"purple-hidden-none-solid-select-background":[],"purple-hidden-none-solid-select-full":[],"purple-hidden-none-solid-select-focus":[],"purple-hidden-none-solid-select-enclosing":[],"purple-hidden-none-solid-select-underline_start":[],"purple-hidden-none-none-none-underline":[],"purple-hidden-none-none-none-background":[],"purple-hidden-none-none-none-full":[],"purple-hidden-none-none-none-focus":[],"purple-hidden-none-none-none-enclosing":[],"purple-hidden-none-none-none-underline_start":[],"purple-hidden-none-none-firstRender-underline":[],"purple-hidden-none-none-firstRender-background":[],"purple-hidden-none-none-firstRender-full":[],"purple-hidden-none-none-firstRender-focus":[],"purple-hidden-none-none-firstRender-enclosing":[],"purple-hidden-none-none-firstRender-underline_start":[],"purple-hidden-none-none-apply-underline":[],"purple-hidden-none-none-apply-background":[],"purple-hidden-none-none-apply-full":[],"purple-hidden-none-none-apply-focus":[],"purple-hidden-none-none-apply-enclosing":[],"purple-hidden-none-none-apply-underline_start":[],"purple-hidden-none-none-success-underline":[],"purple-hidden-none-none-success-background":[],"purple-hidden-none-none-success-full":[],"purple-hidden-none-none-success-focus":[],"purple-hidden-none-none-success-enclosing":[],"purple-hidden-none-none-success-underline_start":[],"purple-hidden-none-none-bulkApply-underline":[],"purple-hidden-none-none-bulkApply-background":[],"purple-hidden-none-none-bulkApply-full":[],"purple-hidden-none-none-bulkApply-focus":[],"purple-hidden-none-none-bulkApply-enclosing":[],"purple-hidden-none-none-bulkApply-underline_start":[],"purple-hidden-none-none-select-underline":[],"purple-hidden-none-none-select-background":[],"purple-hidden-none-none-select-full":[],"purple-hidden-none-none-select-focus":[],"purple-hidden-none-none-select-enclosing":[],"purple-hidden-none-none-select-underline_start":[],"red-visible-solid-solid-none-underline":[],"red-visible-solid-solid-none-background":[],"red-visible-solid-solid-none-full":[],"red-visible-solid-solid-none-focus":[e.correctness,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"red-visible-solid-solid-none-enclosing":[],"red-visible-solid-solid-none-underline_start":[],"red-visible-solid-solid-firstRender-underline":[],"red-visible-solid-solid-firstRender-background":[],"red-visible-solid-solid-firstRender-full":[],"red-visible-solid-solid-firstRender-focus":[],"red-visible-solid-solid-firstRender-enclosing":[],"red-visible-solid-solid-firstRender-underline_start":[],"red-visible-solid-solid-apply-underline":[],"red-visible-solid-solid-apply-background":[],"red-visible-solid-solid-apply-full":[],"red-visible-solid-solid-apply-focus":[],"red-visible-solid-solid-apply-enclosing":[],"red-visible-solid-solid-apply-underline_start":[],"red-visible-solid-solid-success-underline":[],"red-visible-solid-solid-success-background":[],"red-visible-solid-solid-success-full":[],"red-visible-solid-solid-success-focus":[],"red-visible-solid-solid-success-enclosing":[],"red-visible-solid-solid-success-underline_start":[],"red-visible-solid-solid-bulkApply-underline":[],"red-visible-solid-solid-bulkApply-background":[],"red-visible-solid-solid-bulkApply-full":[],"red-visible-solid-solid-bulkApply-focus":[],"red-visible-solid-solid-bulkApply-enclosing":[],"red-visible-solid-solid-bulkApply-underline_start":[],"red-visible-solid-solid-select-underline":[e.correctness,e.markHeightStandard,e.markSelectedFocused,e.markVisible,e.markSelected],"red-visible-solid-solid-select-background":[],"red-visible-solid-solid-select-full":[e.correctness,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"red-visible-solid-solid-select-focus":[],"red-visible-solid-solid-select-enclosing":[],"red-visible-solid-solid-select-underline_start":[],"red-visible-solid-none-none-underline":[e.correctness,e.markHeightStandard,e.markVisible],"red-visible-solid-none-none-background":[e.correctness,e.markHeightStandard,e.markVisible],"red-visible-solid-none-none-full":[e.correctness,e.markHeightStandard,e.markVisible],"red-visible-solid-none-none-focus":[],"red-visible-solid-none-none-enclosing":[],"red-visible-solid-none-none-underline_start":[],"red-visible-solid-none-firstRender-underline":[e.correctness,e.markHeightStandard,e.markVisible,e.markAnimated],"red-visible-solid-none-firstRender-background":[e.correctness,e.markHeightStandard,e.markVisible,e.markAnimated],"red-visible-solid-none-firstRender-full":[e.correctness,e.markHeightStandard,e.markVisible,e.markAnimated],"red-visible-solid-none-firstRender-focus":[],"red-visible-solid-none-firstRender-enclosing":[],"red-visible-solid-none-firstRender-underline_start":[],"red-visible-solid-none-apply-underline":[],"red-visible-solid-none-apply-background":[],"red-visible-solid-none-apply-full":[],"red-visible-solid-none-apply-focus":[],"red-visible-solid-none-apply-enclosing":[],"red-visible-solid-none-apply-underline_start":[],"red-visible-solid-none-success-underline":[],"red-visible-solid-none-success-background":[],"red-visible-solid-none-success-full":[],"red-visible-solid-none-success-focus":[],"red-visible-solid-none-success-enclosing":[],"red-visible-solid-none-success-underline_start":[],"red-visible-solid-none-bulkApply-underline":[],"red-visible-solid-none-bulkApply-background":[],"red-visible-solid-none-bulkApply-full":[],"red-visible-solid-none-bulkApply-focus":[],"red-visible-solid-none-bulkApply-enclosing":[],"red-visible-solid-none-bulkApply-underline_start":[],"red-visible-solid-none-select-underline":[],"red-visible-solid-none-select-background":[],"red-visible-solid-none-select-full":[],"red-visible-solid-none-select-focus":[],"red-visible-solid-none-select-enclosing":[],"red-visible-solid-none-select-underline_start":[],"red-visible-dotted-solid-none-underline":[],"red-visible-dotted-solid-none-background":[],"red-visible-dotted-solid-none-full":[],"red-visible-dotted-solid-none-focus":[],"red-visible-dotted-solid-none-enclosing":[],"red-visible-dotted-solid-none-underline_start":[],"red-visible-dotted-solid-firstRender-underline":[],"red-visible-dotted-solid-firstRender-background":[],"red-visible-dotted-solid-firstRender-full":[],"red-visible-dotted-solid-firstRender-focus":[],"red-visible-dotted-solid-firstRender-enclosing":[],"red-visible-dotted-solid-firstRender-underline_start":[],"red-visible-dotted-solid-apply-underline":[],"red-visible-dotted-solid-apply-background":[],"red-visible-dotted-solid-apply-full":[],"red-visible-dotted-solid-apply-focus":[],"red-visible-dotted-solid-apply-enclosing":[],"red-visible-dotted-solid-apply-underline_start":[],"red-visible-dotted-solid-success-underline":[],"red-visible-dotted-solid-success-background":[],"red-visible-dotted-solid-success-full":[],"red-visible-dotted-solid-success-focus":[],"red-visible-dotted-solid-success-enclosing":[],"red-visible-dotted-solid-success-underline_start":[],"red-visible-dotted-solid-bulkApply-underline":[],"red-visible-dotted-solid-bulkApply-background":[],"red-visible-dotted-solid-bulkApply-full":[],"red-visible-dotted-solid-bulkApply-focus":[],"red-visible-dotted-solid-bulkApply-enclosing":[],"red-visible-dotted-solid-bulkApply-underline_start":[],"red-visible-dotted-solid-select-underline":[],"red-visible-dotted-solid-select-background":[],"red-visible-dotted-solid-select-full":[],"red-visible-dotted-solid-select-focus":[],"red-visible-dotted-solid-select-enclosing":[],"red-visible-dotted-solid-select-underline_start":[],"red-visible-dotted-none-none-underline":[],"red-visible-dotted-none-none-background":[],"red-visible-dotted-none-none-full":[],"red-visible-dotted-none-none-focus":[],"red-visible-dotted-none-none-enclosing":[],"red-visible-dotted-none-none-underline_start":[],"red-visible-dotted-none-firstRender-underline":[],"red-visible-dotted-none-firstRender-background":[],"red-visible-dotted-none-firstRender-full":[],"red-visible-dotted-none-firstRender-focus":[],"red-visible-dotted-none-firstRender-enclosing":[],"red-visible-dotted-none-firstRender-underline_start":[],"red-visible-dotted-none-apply-underline":[],"red-visible-dotted-none-apply-background":[],"red-visible-dotted-none-apply-full":[],"red-visible-dotted-none-apply-focus":[],"red-visible-dotted-none-apply-enclosing":[],"red-visible-dotted-none-apply-underline_start":[],"red-visible-dotted-none-success-underline":[],"red-visible-dotted-none-success-background":[],"red-visible-dotted-none-success-full":[],"red-visible-dotted-none-success-focus":[],"red-visible-dotted-none-success-enclosing":[],"red-visible-dotted-none-success-underline_start":[],"red-visible-dotted-none-bulkApply-underline":[],"red-visible-dotted-none-bulkApply-background":[],"red-visible-dotted-none-bulkApply-full":[],"red-visible-dotted-none-bulkApply-focus":[],"red-visible-dotted-none-bulkApply-enclosing":[],"red-visible-dotted-none-bulkApply-underline_start":[],"red-visible-dotted-none-select-underline":[],"red-visible-dotted-none-select-background":[],"red-visible-dotted-none-select-full":[],"red-visible-dotted-none-select-focus":[],"red-visible-dotted-none-select-enclosing":[],"red-visible-dotted-none-select-underline_start":[],"red-visible-none-solid-none-underline":[],"red-visible-none-solid-none-background":[],"red-visible-none-solid-none-full":[],"red-visible-none-solid-none-focus":[],"red-visible-none-solid-none-enclosing":[e.correctness,e.markHeightStandard,e.markSelected,e.markVisible],"red-visible-none-solid-none-underline_start":[],"red-visible-none-solid-firstRender-underline":[],"red-visible-none-solid-firstRender-background":[],"red-visible-none-solid-firstRender-full":[],"red-visible-none-solid-firstRender-focus":[],"red-visible-none-solid-firstRender-enclosing":[],"red-visible-none-solid-firstRender-underline_start":[],"red-visible-none-solid-apply-underline":[],"red-visible-none-solid-apply-background":[],"red-visible-none-solid-apply-full":[],"red-visible-none-solid-apply-focus":[],"red-visible-none-solid-apply-enclosing":[],"red-visible-none-solid-apply-underline_start":[],"red-visible-none-solid-success-underline":[],"red-visible-none-solid-success-background":[],"red-visible-none-solid-success-full":[],"red-visible-none-solid-success-focus":[],"red-visible-none-solid-success-enclosing":[],"red-visible-none-solid-success-underline_start":[],"red-visible-none-solid-bulkApply-underline":[],"red-visible-none-solid-bulkApply-background":[],"red-visible-none-solid-bulkApply-full":[],"red-visible-none-solid-bulkApply-focus":[],"red-visible-none-solid-bulkApply-enclosing":[],"red-visible-none-solid-bulkApply-underline_start":[],"red-visible-none-solid-select-underline":[e.correctness,e.markHeightStandard,e.markSelectedFocused,e.markVisible],"red-visible-none-solid-select-background":[e.correctness,e.markHeightStandard,e.markSelected,e.markVisible],"red-visible-none-solid-select-full":[],"red-visible-none-solid-select-focus":[],"red-visible-none-solid-select-enclosing":[],"red-visible-none-solid-select-underline_start":[],"red-visible-none-none-none-underline":[],"red-visible-none-none-none-background":[],"red-visible-none-none-none-full":[],"red-visible-none-none-none-focus":[],"red-visible-none-none-none-enclosing":[],"red-visible-none-none-none-underline_start":[],"red-visible-none-none-firstRender-underline":[],"red-visible-none-none-firstRender-background":[],"red-visible-none-none-firstRender-full":[],"red-visible-none-none-firstRender-focus":[],"red-visible-none-none-firstRender-enclosing":[],"red-visible-none-none-firstRender-underline_start":[],"red-visible-none-none-apply-underline":[],"red-visible-none-none-apply-background":[],"red-visible-none-none-apply-full":[],"red-visible-none-none-apply-focus":[],"red-visible-none-none-apply-enclosing":[],"red-visible-none-none-apply-underline_start":[],"red-visible-none-none-success-underline":[],"red-visible-none-none-success-background":[],"red-visible-none-none-success-full":[],"red-visible-none-none-success-focus":[],"red-visible-none-none-success-enclosing":[],"red-visible-none-none-success-underline_start":[],"red-visible-none-none-bulkApply-underline":[],"red-visible-none-none-bulkApply-background":[],"red-visible-none-none-bulkApply-full":[],"red-visible-none-none-bulkApply-focus":[],"red-visible-none-none-bulkApply-enclosing":[],"red-visible-none-none-bulkApply-underline_start":[],"red-visible-none-none-select-underline":[],"red-visible-none-none-select-background":[],"red-visible-none-none-select-full":[],"red-visible-none-none-select-focus":[],"red-visible-none-none-select-enclosing":[],"red-visible-none-none-select-underline_start":[],"red-hidden-solid-solid-none-underline":[],"red-hidden-solid-solid-none-background":[],"red-hidden-solid-solid-none-full":[],"red-hidden-solid-solid-none-focus":[e.correctness,e.markHeightStandard,e.markHidden],"red-hidden-solid-solid-none-enclosing":[],"red-hidden-solid-solid-none-underline_start":[],"red-hidden-solid-solid-firstRender-underline":[],"red-hidden-solid-solid-firstRender-background":[],"red-hidden-solid-solid-firstRender-full":[],"red-hidden-solid-solid-firstRender-focus":[e.correctness,e.markHeightStandard,e.markHidden],"red-hidden-solid-solid-firstRender-enclosing":[],"red-hidden-solid-solid-firstRender-underline_start":[],"red-hidden-solid-solid-apply-underline":[],"red-hidden-solid-solid-apply-background":[],"red-hidden-solid-solid-apply-full":[],"red-hidden-solid-solid-apply-focus":[],"red-hidden-solid-solid-apply-enclosing":[],"red-hidden-solid-solid-apply-underline_start":[],"red-hidden-solid-solid-success-underline":[],"red-hidden-solid-solid-success-background":[],"red-hidden-solid-solid-success-full":[],"red-hidden-solid-solid-success-focus":[],"red-hidden-solid-solid-success-enclosing":[],"red-hidden-solid-solid-success-underline_start":[],"red-hidden-solid-solid-bulkApply-underline":[],"red-hidden-solid-solid-bulkApply-background":[],"red-hidden-solid-solid-bulkApply-full":[],"red-hidden-solid-solid-bulkApply-focus":[],"red-hidden-solid-solid-bulkApply-enclosing":[],"red-hidden-solid-solid-bulkApply-underline_start":[],"red-hidden-solid-solid-select-underline":[],"red-hidden-solid-solid-select-background":[],"red-hidden-solid-solid-select-full":[],"red-hidden-solid-solid-select-focus":[],"red-hidden-solid-solid-select-enclosing":[],"red-hidden-solid-solid-select-underline_start":[],"red-hidden-solid-none-none-underline":[],"red-hidden-solid-none-none-background":[],"red-hidden-solid-none-none-full":[],"red-hidden-solid-none-none-focus":[],"red-hidden-solid-none-none-enclosing":[],"red-hidden-solid-none-none-underline_start":[],"red-hidden-solid-none-firstRender-underline":[],"red-hidden-solid-none-firstRender-background":[],"red-hidden-solid-none-firstRender-full":[],"red-hidden-solid-none-firstRender-focus":[],"red-hidden-solid-none-firstRender-enclosing":[],"red-hidden-solid-none-firstRender-underline_start":[],"red-hidden-solid-none-apply-underline":[],"red-hidden-solid-none-apply-background":[],"red-hidden-solid-none-apply-full":[],"red-hidden-solid-none-apply-focus":[],"red-hidden-solid-none-apply-enclosing":[],"red-hidden-solid-none-apply-underline_start":[],"red-hidden-solid-none-success-underline":[],"red-hidden-solid-none-success-background":[],"red-hidden-solid-none-success-full":[],"red-hidden-solid-none-success-focus":[],"red-hidden-solid-none-success-enclosing":[],"red-hidden-solid-none-success-underline_start":[],"red-hidden-solid-none-bulkApply-underline":[],"red-hidden-solid-none-bulkApply-background":[],"red-hidden-solid-none-bulkApply-full":[],"red-hidden-solid-none-bulkApply-focus":[],"red-hidden-solid-none-bulkApply-enclosing":[],"red-hidden-solid-none-bulkApply-underline_start":[],"red-hidden-solid-none-select-underline":[],"red-hidden-solid-none-select-background":[],"red-hidden-solid-none-select-full":[],"red-hidden-solid-none-select-focus":[],"red-hidden-solid-none-select-enclosing":[],"red-hidden-solid-none-select-underline_start":[],"red-hidden-dotted-solid-none-underline":[],"red-hidden-dotted-solid-none-background":[],"red-hidden-dotted-solid-none-full":[],"red-hidden-dotted-solid-none-focus":[],"red-hidden-dotted-solid-none-enclosing":[],"red-hidden-dotted-solid-none-underline_start":[],"red-hidden-dotted-solid-firstRender-underline":[],"red-hidden-dotted-solid-firstRender-background":[],"red-hidden-dotted-solid-firstRender-full":[],"red-hidden-dotted-solid-firstRender-focus":[],"red-hidden-dotted-solid-firstRender-enclosing":[],"red-hidden-dotted-solid-firstRender-underline_start":[],"red-hidden-dotted-solid-apply-underline":[],"red-hidden-dotted-solid-apply-background":[],"red-hidden-dotted-solid-apply-full":[],"red-hidden-dotted-solid-apply-focus":[],"red-hidden-dotted-solid-apply-enclosing":[],"red-hidden-dotted-solid-apply-underline_start":[],"red-hidden-dotted-solid-success-underline":[],"red-hidden-dotted-solid-success-background":[],"red-hidden-dotted-solid-success-full":[],"red-hidden-dotted-solid-success-focus":[],"red-hidden-dotted-solid-success-enclosing":[],"red-hidden-dotted-solid-success-underline_start":[],"red-hidden-dotted-solid-bulkApply-underline":[],"red-hidden-dotted-solid-bulkApply-background":[],"red-hidden-dotted-solid-bulkApply-full":[],"red-hidden-dotted-solid-bulkApply-focus":[],"red-hidden-dotted-solid-bulkApply-enclosing":[],"red-hidden-dotted-solid-bulkApply-underline_start":[],"red-hidden-dotted-solid-select-underline":[],"red-hidden-dotted-solid-select-background":[],"red-hidden-dotted-solid-select-full":[],"red-hidden-dotted-solid-select-focus":[],"red-hidden-dotted-solid-select-enclosing":[],"red-hidden-dotted-solid-select-underline_start":[],"red-hidden-dotted-none-none-underline":[],"red-hidden-dotted-none-none-background":[],"red-hidden-dotted-none-none-full":[],"red-hidden-dotted-none-none-focus":[],"red-hidden-dotted-none-none-enclosing":[],"red-hidden-dotted-none-none-underline_start":[],"red-hidden-dotted-none-firstRender-underline":[],"red-hidden-dotted-none-firstRender-background":[],"red-hidden-dotted-none-firstRender-full":[],"red-hidden-dotted-none-firstRender-focus":[],"red-hidden-dotted-none-firstRender-enclosing":[],"red-hidden-dotted-none-firstRender-underline_start":[],"red-hidden-dotted-none-apply-underline":[],"red-hidden-dotted-none-apply-background":[],"red-hidden-dotted-none-apply-full":[],"red-hidden-dotted-none-apply-focus":[],"red-hidden-dotted-none-apply-enclosing":[],"red-hidden-dotted-none-apply-underline_start":[],"red-hidden-dotted-none-success-underline":[],"red-hidden-dotted-none-success-background":[],"red-hidden-dotted-none-success-full":[],"red-hidden-dotted-none-success-focus":[],"red-hidden-dotted-none-success-enclosing":[],"red-hidden-dotted-none-success-underline_start":[],"red-hidden-dotted-none-bulkApply-underline":[],"red-hidden-dotted-none-bulkApply-background":[],"red-hidden-dotted-none-bulkApply-full":[],"red-hidden-dotted-none-bulkApply-focus":[],"red-hidden-dotted-none-bulkApply-enclosing":[],"red-hidden-dotted-none-bulkApply-underline_start":[],"red-hidden-dotted-none-select-underline":[],"red-hidden-dotted-none-select-background":[],"red-hidden-dotted-none-select-full":[],"red-hidden-dotted-none-select-focus":[],"red-hidden-dotted-none-select-enclosing":[],"red-hidden-dotted-none-select-underline_start":[],"red-hidden-none-solid-none-underline":[],"red-hidden-none-solid-none-background":[],"red-hidden-none-solid-none-full":[],"red-hidden-none-solid-none-focus":[],"red-hidden-none-solid-none-enclosing":[e.correctness,e.markHeightStandard,e.markHidden],"red-hidden-none-solid-none-underline_start":[],"red-hidden-none-solid-firstRender-underline":[],"red-hidden-none-solid-firstRender-background":[],"red-hidden-none-solid-firstRender-full":[],"red-hidden-none-solid-firstRender-focus":[],"red-hidden-none-solid-firstRender-enclosing":[e.correctness,e.markHeightStandard,e.markHidden],"red-hidden-none-solid-firstRender-underline_start":[],"red-hidden-none-solid-apply-underline":[],"red-hidden-none-solid-apply-background":[],"red-hidden-none-solid-apply-full":[],"red-hidden-none-solid-apply-focus":[],"red-hidden-none-solid-apply-enclosing":[],"red-hidden-none-solid-apply-underline_start":[],"red-hidden-none-solid-success-underline":[],"red-hidden-none-solid-success-background":[],"red-hidden-none-solid-success-full":[],"red-hidden-none-solid-success-focus":[],"red-hidden-none-solid-success-enclosing":[],"red-hidden-none-solid-success-underline_start":[],"red-hidden-none-solid-bulkApply-underline":[],"red-hidden-none-solid-bulkApply-background":[],"red-hidden-none-solid-bulkApply-full":[],"red-hidden-none-solid-bulkApply-focus":[],"red-hidden-none-solid-bulkApply-enclosing":[],"red-hidden-none-solid-bulkApply-underline_start":[],"red-hidden-none-solid-select-underline":[],"red-hidden-none-solid-select-background":[],"red-hidden-none-solid-select-full":[],"red-hidden-none-solid-select-focus":[],"red-hidden-none-solid-select-enclosing":[],"red-hidden-none-solid-select-underline_start":[],"red-hidden-none-none-none-underline":[],"red-hidden-none-none-none-background":[],"red-hidden-none-none-none-full":[],"red-hidden-none-none-none-focus":[],"red-hidden-none-none-none-enclosing":[],"red-hidden-none-none-none-underline_start":[],"red-hidden-none-none-firstRender-underline":[],"red-hidden-none-none-firstRender-background":[],"red-hidden-none-none-firstRender-full":[],"red-hidden-none-none-firstRender-focus":[],"red-hidden-none-none-firstRender-enclosing":[],"red-hidden-none-none-firstRender-underline_start":[],"red-hidden-none-none-apply-underline":[],"red-hidden-none-none-apply-background":[],"red-hidden-none-none-apply-full":[],"red-hidden-none-none-apply-focus":[],"red-hidden-none-none-apply-enclosing":[],"red-hidden-none-none-apply-underline_start":[],"red-hidden-none-none-success-underline":[],"red-hidden-none-none-success-background":[],"red-hidden-none-none-success-full":[],"red-hidden-none-none-success-focus":[],"red-hidden-none-none-success-enclosing":[],"red-hidden-none-none-success-underline_start":[],"red-hidden-none-none-bulkApply-underline":[],"red-hidden-none-none-bulkApply-background":[],"red-hidden-none-none-bulkApply-full":[],"red-hidden-none-none-bulkApply-focus":[],"red-hidden-none-none-bulkApply-enclosing":[],"red-hidden-none-none-bulkApply-underline_start":[],"red-hidden-none-none-select-underline":[],"red-hidden-none-none-select-background":[],"red-hidden-none-none-select-full":[],"red-hidden-none-none-select-focus":[],"red-hidden-none-none-select-enclosing":[],"red-hidden-none-none-select-underline_start":[],"yellow-visible-solid-solid-none-underline":[],"yellow-visible-solid-solid-none-background":[],"yellow-visible-solid-solid-none-full":[],"yellow-visible-solid-solid-none-focus":[e.premium,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"yellow-visible-solid-solid-none-enclosing":[],"yellow-visible-solid-solid-none-underline_start":[],"yellow-visible-solid-solid-firstRender-underline":[],"yellow-visible-solid-solid-firstRender-background":[],"yellow-visible-solid-solid-firstRender-full":[],"yellow-visible-solid-solid-firstRender-focus":[],"yellow-visible-solid-solid-firstRender-enclosing":[],"yellow-visible-solid-solid-firstRender-underline_start":[],"yellow-visible-solid-solid-apply-underline":[],"yellow-visible-solid-solid-apply-background":[],"yellow-visible-solid-solid-apply-full":[],"yellow-visible-solid-solid-apply-focus":[],"yellow-visible-solid-solid-apply-enclosing":[],"yellow-visible-solid-solid-apply-underline_start":[],"yellow-visible-solid-solid-success-underline":[],"yellow-visible-solid-solid-success-background":[],"yellow-visible-solid-solid-success-full":[],"yellow-visible-solid-solid-success-focus":[],"yellow-visible-solid-solid-success-enclosing":[],"yellow-visible-solid-solid-success-underline_start":[],"yellow-visible-solid-solid-bulkApply-underline":[],"yellow-visible-solid-solid-bulkApply-background":[],"yellow-visible-solid-solid-bulkApply-full":[],"yellow-visible-solid-solid-bulkApply-focus":[],"yellow-visible-solid-solid-bulkApply-enclosing":[],"yellow-visible-solid-solid-bulkApply-underline_start":[],"yellow-visible-solid-solid-select-underline":[e.premium,e.markHeightStandard,e.markSelectedFocused,e.markVisible,e.markSelected],"yellow-visible-solid-solid-select-background":[],"yellow-visible-solid-solid-select-full":[e.premium,e.markHeightStandard,e.markSelected,e.markSelectedFocused,e.markVisible],"yellow-visible-solid-solid-select-focus":[],"yellow-visible-solid-solid-select-enclosing":[],"yellow-visible-solid-solid-select-underline_start":[],"yellow-visible-solid-none-none-underline":[e.premium,e.markHeightStandard,e.markVisible],"yellow-visible-solid-none-none-background":[e.premium,e.markHeightStandard,e.markVisible],"yellow-visible-solid-none-none-full":[e.premium,e.markHeightStandard,e.markVisible],"yellow-visible-solid-none-none-focus":[],"yellow-visible-solid-none-none-enclosing":[],"yellow-visible-solid-none-none-underline_start":[],"yellow-visible-solid-none-firstRender-underline":[e.premium,e.markHeightStandard,e.markVisible,e.markAnimated],"yellow-visible-solid-none-firstRender-background":[e.premium,e.markHeightStandard,e.markVisible,e.markAnimated],"yellow-visible-solid-none-firstRender-full":[e.premium,e.markHeightStandard,e.markVisible,e.markAnimated],"yellow-visible-solid-none-firstRender-focus":[],"yellow-visible-solid-none-firstRender-enclosing":[],"yellow-visible-solid-none-firstRender-underline_start":[],"yellow-visible-solid-none-apply-underline":[],"yellow-visible-solid-none-apply-background":[],"yellow-visible-solid-none-apply-full":[],"yellow-visible-solid-none-apply-focus":[],"yellow-visible-solid-none-apply-enclosing":[],"yellow-visible-solid-none-apply-underline_start":[],"yellow-visible-solid-none-success-underline":[],"yellow-visible-solid-none-success-background":[],"yellow-visible-solid-none-success-full":[],"yellow-visible-solid-none-success-focus":[],"yellow-visible-solid-none-success-enclosing":[],"yellow-visible-solid-none-success-underline_start":[],"yellow-visible-solid-none-bulkApply-underline":[],"yellow-visible-solid-none-bulkApply-background":[],"yellow-visible-solid-none-bulkApply-full":[],"yellow-visible-solid-none-bulkApply-focus":[],"yellow-visible-solid-none-bulkApply-enclosing":[],"yellow-visible-solid-none-bulkApply-underline_start":[],"yellow-visible-solid-none-select-underline":[],"yellow-visible-solid-none-select-background":[],"yellow-visible-solid-none-select-full":[],"yellow-visible-solid-none-select-focus":[],"yellow-visible-solid-none-select-enclosing":[],"yellow-visible-solid-none-select-underline_start":[],"yellow-visible-dotted-solid-none-underline":[],"yellow-visible-dotted-solid-none-background":[],"yellow-visible-dotted-solid-none-full":[],"yellow-visible-dotted-solid-none-focus":[],"yellow-visible-dotted-solid-none-enclosing":[],"yellow-visible-dotted-solid-none-underline_start":[],"yellow-visible-dotted-solid-firstRender-underline":[],"yellow-visible-dotted-solid-firstRender-background":[],"yellow-visible-dotted-solid-firstRender-full":[],"yellow-visible-dotted-solid-firstRender-focus":[],"yellow-visible-dotted-solid-firstRender-enclosing":[],"yellow-visible-dotted-solid-firstRender-underline_start":[],"yellow-visible-dotted-solid-apply-underline":[],"yellow-visible-dotted-solid-apply-background":[],"yellow-visible-dotted-solid-apply-full":[],"yellow-visible-dotted-solid-apply-focus":[],"yellow-visible-dotted-solid-apply-enclosing":[],"yellow-visible-dotted-solid-apply-underline_start":[],"yellow-visible-dotted-solid-success-underline":[],"yellow-visible-dotted-solid-success-background":[],"yellow-visible-dotted-solid-success-full":[],"yellow-visible-dotted-solid-success-focus":[],"yellow-visible-dotted-solid-success-enclosing":[],"yellow-visible-dotted-solid-success-underline_start":[],"yellow-visible-dotted-solid-bulkApply-underline":[],"yellow-visible-dotted-solid-bulkApply-background":[],"yellow-visible-dotted-solid-bulkApply-full":[],"yellow-visible-dotted-solid-bulkApply-focus":[],"yellow-visible-dotted-solid-bulkApply-enclosing":[],"yellow-visible-dotted-solid-bulkApply-underline_start":[],"yellow-visible-dotted-solid-select-underline":[],"yellow-visible-dotted-solid-select-background":[],"yellow-visible-dotted-solid-select-full":[],"yellow-visible-dotted-solid-select-focus":[],"yellow-visible-dotted-solid-select-enclosing":[],"yellow-visible-dotted-solid-select-underline_start":[],"yellow-visible-dotted-none-none-underline":[],"yellow-visible-dotted-none-none-background":[],"yellow-visible-dotted-none-none-full":[],"yellow-visible-dotted-none-none-focus":[],"yellow-visible-dotted-none-none-enclosing":[],"yellow-visible-dotted-none-none-underline_start":[],"yellow-visible-dotted-none-firstRender-underline":[],"yellow-visible-dotted-none-firstRender-background":[],"yellow-visible-dotted-none-firstRender-full":[],"yellow-visible-dotted-none-firstRender-focus":[],"yellow-visible-dotted-none-firstRender-enclosing":[],"yellow-visible-dotted-none-firstRender-underline_start":[],"yellow-visible-dotted-none-apply-underline":[],"yellow-visible-dotted-none-apply-background":[],"yellow-visible-dotted-none-apply-full":[],"yellow-visible-dotted-none-apply-focus":[],"yellow-visible-dotted-none-apply-enclosing":[],"yellow-visible-dotted-none-apply-underline_start":[],"yellow-visible-dotted-none-success-underline":[],"yellow-visible-dotted-none-success-background":[],"yellow-visible-dotted-none-success-full":[],"yellow-visible-dotted-none-success-focus":[],"yellow-visible-dotted-none-success-enclosing":[],"yellow-visible-dotted-none-success-underline_start":[],"yellow-visible-dotted-none-bulkApply-underline":[],"yellow-visible-dotted-none-bulkApply-background":[],"yellow-visible-dotted-none-bulkApply-full":[],"yellow-visible-dotted-none-bulkApply-focus":[],"yellow-visible-dotted-none-bulkApply-enclosing":[],"yellow-visible-dotted-none-bulkApply-underline_start":[],"yellow-visible-dotted-none-select-underline":[],"yellow-visible-dotted-none-select-background":[],"yellow-visible-dotted-none-select-full":[],"yellow-visible-dotted-none-select-focus":[],"yellow-visible-dotted-none-select-enclosing":[],"yellow-visible-dotted-none-select-underline_start":[],"yellow-visible-none-solid-none-underline":[],"yellow-visible-none-solid-none-background":[],"yellow-visible-none-solid-none-full":[],"yellow-visible-none-solid-none-focus":[],"yellow-visible-none-solid-none-enclosing":[e.premium,e.markHeightStandard,e.markSelected,e.markVisible],"yellow-visible-none-solid-none-underline_start":[],"yellow-visible-none-solid-firstRender-underline":[],"yellow-visible-none-solid-firstRender-background":[],"yellow-visible-none-solid-firstRender-full":[],"yellow-visible-none-solid-firstRender-focus":[],"yellow-visible-none-solid-firstRender-enclosing":[],"yellow-visible-none-solid-firstRender-underline_start":[],"yellow-visible-none-solid-apply-underline":[],"yellow-visible-none-solid-apply-background":[],"yellow-visible-none-solid-apply-full":[],"yellow-visible-none-solid-apply-focus":[],"yellow-visible-none-solid-apply-enclosing":[],"yellow-visible-none-solid-apply-underline_start":[],"yellow-visible-none-solid-success-underline":[],"yellow-visible-none-solid-success-background":[],"yellow-visible-none-solid-success-full":[],"yellow-visible-none-solid-success-focus":[],"yellow-visible-none-solid-success-enclosing":[],"yellow-visible-none-solid-success-underline_start":[],"yellow-visible-none-solid-bulkApply-underline":[],"yellow-visible-none-solid-bulkApply-background":[],"yellow-visible-none-solid-bulkApply-full":[],"yellow-visible-none-solid-bulkApply-focus":[],"yellow-visible-none-solid-bulkApply-enclosing":[],"yellow-visible-none-solid-bulkApply-underline_start":[],"yellow-visible-none-solid-select-underline":[e.premium,e.markHeightStandard,e.markSelectedFocused,e.markVisible],"yellow-visible-none-solid-select-background":[e.premium,e.markHeightStandard,e.markSelected,e.markVisible],"yellow-visible-none-solid-select-full":[],"yellow-visible-none-solid-select-focus":[],"yellow-visible-none-solid-select-enclosing":[],"yellow-visible-none-solid-select-underline_start":[],"yellow-visible-none-none-none-underline":[],"yellow-visible-none-none-none-background":[],"yellow-visible-none-none-none-full":[],"yellow-visible-none-none-none-focus":[],"yellow-visible-none-none-none-enclosing":[],"yellow-visible-none-none-none-underline_start":[],"yellow-visible-none-none-firstRender-underline":[],"yellow-visible-none-none-firstRender-background":[],"yellow-visible-none-none-firstRender-full":[],"yellow-visible-none-none-firstRender-focus":[],"yellow-visible-none-none-firstRender-enclosing":[],"yellow-visible-none-none-firstRender-underline_start":[],"yellow-visible-none-none-apply-underline":[],"yellow-visible-none-none-apply-background":[],"yellow-visible-none-none-apply-full":[],"yellow-visible-none-none-apply-focus":[],"yellow-visible-none-none-apply-enclosing":[],"yellow-visible-none-none-apply-underline_start":[],"yellow-visible-none-none-success-underline":[],"yellow-visible-none-none-success-background":[],"yellow-visible-none-none-success-full":[],"yellow-visible-none-none-success-focus":[],"yellow-visible-none-none-success-enclosing":[],"yellow-visible-none-none-success-underline_start":[],"yellow-visible-none-none-bulkApply-underline":[],"yellow-visible-none-none-bulkApply-background":[],"yellow-visible-none-none-bulkApply-full":[],"yellow-visible-none-none-bulkApply-focus":[],"yellow-visible-none-none-bulkApply-enclosing":[],"yellow-visible-none-none-bulkApply-underline_start":[],"yellow-visible-none-none-select-underline":[],"yellow-visible-none-none-select-background":[],"yellow-visible-none-none-select-full":[],"yellow-visible-none-none-select-focus":[],"yellow-visible-none-none-select-enclosing":[],"yellow-visible-none-none-select-underline_start":[],"yellow-hidden-solid-solid-none-underline":[],"yellow-hidden-solid-solid-none-background":[],"yellow-hidden-solid-solid-none-full":[],"yellow-hidden-solid-solid-none-focus":[e.premium,e.markHeightStandard,e.markHidden],"yellow-hidden-solid-solid-none-enclosing":[],"yellow-hidden-solid-solid-none-underline_start":[],"yellow-hidden-solid-solid-firstRender-underline":[],"yellow-hidden-solid-solid-firstRender-background":[],"yellow-hidden-solid-solid-firstRender-full":[],"yellow-hidden-solid-solid-firstRender-focus":[e.premium,e.markHeightStandard,e.markHidden],"yellow-hidden-solid-solid-firstRender-enclosing":[],"yellow-hidden-solid-solid-firstRender-underline_start":[],"yellow-hidden-solid-solid-apply-underline":[],"yellow-hidden-solid-solid-apply-background":[],"yellow-hidden-solid-solid-apply-full":[],"yellow-hidden-solid-solid-apply-focus":[],"yellow-hidden-solid-solid-apply-enclosing":[],"yellow-hidden-solid-solid-apply-underline_start":[],"yellow-hidden-solid-solid-success-underline":[],"yellow-hidden-solid-solid-success-background":[],"yellow-hidden-solid-solid-success-full":[],"yellow-hidden-solid-solid-success-focus":[],"yellow-hidden-solid-solid-success-enclosing":[],"yellow-hidden-solid-solid-success-underline_start":[],"yellow-hidden-solid-solid-bulkApply-underline":[],"yellow-hidden-solid-solid-bulkApply-background":[],"yellow-hidden-solid-solid-bulkApply-full":[],"yellow-hidden-solid-solid-bulkApply-focus":[],"yellow-hidden-solid-solid-bulkApply-enclosing":[],"yellow-hidden-solid-solid-bulkApply-underline_start":[],"yellow-hidden-solid-solid-select-underline":[],"yellow-hidden-solid-solid-select-background":[],"yellow-hidden-solid-solid-select-full":[],"yellow-hidden-solid-solid-select-focus":[],"yellow-hidden-solid-solid-select-enclosing":[],"yellow-hidden-solid-solid-select-underline_start":[],"yellow-hidden-solid-none-none-underline":[],"yellow-hidden-solid-none-none-background":[],"yellow-hidden-solid-none-none-full":[],"yellow-hidden-solid-none-none-focus":[],"yellow-hidden-solid-none-none-enclosing":[],"yellow-hidden-solid-none-none-underline_start":[],"yellow-hidden-solid-none-firstRender-underline":[],"yellow-hidden-solid-none-firstRender-background":[],"yellow-hidden-solid-none-firstRender-full":[],"yellow-hidden-solid-none-firstRender-focus":[],"yellow-hidden-solid-none-firstRender-enclosing":[],"yellow-hidden-solid-none-firstRender-underline_start":[],"yellow-hidden-solid-none-apply-underline":[],"yellow-hidden-solid-none-apply-background":[],"yellow-hidden-solid-none-apply-full":[],"yellow-hidden-solid-none-apply-focus":[],"yellow-hidden-solid-none-apply-enclosing":[],"yellow-hidden-solid-none-apply-underline_start":[],"yellow-hidden-solid-none-success-underline":[],"yellow-hidden-solid-none-success-background":[],"yellow-hidden-solid-none-success-full":[],"yellow-hidden-solid-none-success-focus":[],"yellow-hidden-solid-none-success-enclosing":[],"yellow-hidden-solid-none-success-underline_start":[],"yellow-hidden-solid-none-bulkApply-underline":[],"yellow-hidden-solid-none-bulkApply-background":[],"yellow-hidden-solid-none-bulkApply-full":[],"yellow-hidden-solid-none-bulkApply-focus":[],"yellow-hidden-solid-none-bulkApply-enclosing":[],"yellow-hidden-solid-none-bulkApply-underline_start":[],"yellow-hidden-solid-none-select-underline":[],"yellow-hidden-solid-none-select-background":[],"yellow-hidden-solid-none-select-full":[],"yellow-hidden-solid-none-select-focus":[],"yellow-hidden-solid-none-select-enclosing":[],"yellow-hidden-solid-none-select-underline_start":[],"yellow-hidden-dotted-solid-none-underline":[],"yellow-hidden-dotted-solid-none-background":[],"yellow-hidden-dotted-solid-none-full":[],"yellow-hidden-dotted-solid-none-focus":[],"yellow-hidden-dotted-solid-none-enclosing":[],"yellow-hidden-dotted-solid-none-underline_start":[],"yellow-hidden-dotted-solid-firstRender-underline":[],"yellow-hidden-dotted-solid-firstRender-background":[],"yellow-hidden-dotted-solid-firstRender-full":[],"yellow-hidden-dotted-solid-firstRender-focus":[],"yellow-hidden-dotted-solid-firstRender-enclosing":[],"yellow-hidden-dotted-solid-firstRender-underline_start":[],"yellow-hidden-dotted-solid-apply-underline":[],"yellow-hidden-dotted-solid-apply-background":[],"yellow-hidden-dotted-solid-apply-full":[],"yellow-hidden-dotted-solid-apply-focus":[],"yellow-hidden-dotted-solid-apply-enclosing":[],"yellow-hidden-dotted-solid-apply-underline_start":[],"yellow-hidden-dotted-solid-success-underline":[],"yellow-hidden-dotted-solid-success-background":[],"yellow-hidden-dotted-solid-success-full":[],"yellow-hidden-dotted-solid-success-focus":[],"yellow-hidden-dotted-solid-success-enclosing":[],"yellow-hidden-dotted-solid-success-underline_start":[],"yellow-hidden-dotted-solid-bulkApply-underline":[],"yellow-hidden-dotted-solid-bulkApply-background":[],"yellow-hidden-dotted-solid-bulkApply-full":[],"yellow-hidden-dotted-solid-bulkApply-focus":[],"yellow-hidden-dotted-solid-bulkApply-enclosing":[],"yellow-hidden-dotted-solid-bulkApply-underline_start":[],"yellow-hidden-dotted-solid-select-underline":[],"yellow-hidden-dotted-solid-select-background":[],"yellow-hidden-dotted-solid-select-full":[],"yellow-hidden-dotted-solid-select-focus":[],"yellow-hidden-dotted-solid-select-enclosing":[],"yellow-hidden-dotted-solid-select-underline_start":[],"yellow-hidden-dotted-none-none-underline":[],"yellow-hidden-dotted-none-none-background":[],"yellow-hidden-dotted-none-none-full":[],"yellow-hidden-dotted-none-none-focus":[],"yellow-hidden-dotted-none-none-enclosing":[],"yellow-hidden-dotted-none-none-underline_start":[],"yellow-hidden-dotted-none-firstRender-underline":[],"yellow-hidden-dotted-none-firstRender-background":[],"yellow-hidden-dotted-none-firstRender-full":[],"yellow-hidden-dotted-none-firstRender-focus":[],"yellow-hidden-dotted-none-firstRender-enclosing":[],"yellow-hidden-dotted-none-firstRender-underline_start":[],"yellow-hidden-dotted-none-apply-underline":[],"yellow-hidden-dotted-none-apply-background":[],"yellow-hidden-dotted-none-apply-full":[],"yellow-hidden-dotted-none-apply-focus":[],"yellow-hidden-dotted-none-apply-enclosing":[],"yellow-hidden-dotted-none-apply-underline_start":[],"yellow-hidden-dotted-none-success-underline":[],"yellow-hidden-dotted-none-success-background":[],"yellow-hidden-dotted-none-success-full":[],"yellow-hidden-dotted-none-success-focus":[],"yellow-hidden-dotted-none-success-enclosing":[],"yellow-hidden-dotted-none-success-underline_start":[],"yellow-hidden-dotted-none-bulkApply-underline":[],"yellow-hidden-dotted-none-bulkApply-background":[],"yellow-hidden-dotted-none-bulkApply-full":[],"yellow-hidden-dotted-none-bulkApply-focus":[],"yellow-hidden-dotted-none-bulkApply-enclosing":[],"yellow-hidden-dotted-none-bulkApply-underline_start":[],"yellow-hidden-dotted-none-select-underline":[],"yellow-hidden-dotted-none-select-background":[],"yellow-hidden-dotted-none-select-full":[],"yellow-hidden-dotted-none-select-focus":[],"yellow-hidden-dotted-none-select-enclosing":[],"yellow-hidden-dotted-none-select-underline_start":[],"yellow-hidden-none-solid-none-underline":[],"yellow-hidden-none-solid-none-background":[],"yellow-hidden-none-solid-none-full":[],"yellow-hidden-none-solid-none-focus":[],"yellow-hidden-none-solid-none-enclosing":[e.premium,e.markHeightStandard,e.markHidden],"yellow-hidden-none-solid-none-underline_start":[],"yellow-hidden-none-solid-firstRender-underline":[],"yellow-hidden-none-solid-firstRender-background":[],"yellow-hidden-none-solid-firstRender-full":[],"yellow-hidden-none-solid-firstRender-focus":[],"yellow-hidden-none-solid-firstRender-enclosing":[e.premium,e.markHeightStandard,e.markHidden],"yellow-hidden-none-solid-firstRender-underline_start":[],"yellow-hidden-none-solid-apply-underline":[],"yellow-hidden-none-solid-apply-background":[],"yellow-hidden-none-solid-apply-full":[],"yellow-hidden-none-solid-apply-focus":[],"yellow-hidden-none-solid-apply-enclosing":[],"yellow-hidden-none-solid-apply-underline_start":[],"yellow-hidden-none-solid-success-underline":[],"yellow-hidden-none-solid-success-background":[],"yellow-hidden-none-solid-success-full":[],"yellow-hidden-none-solid-success-focus":[],"yellow-hidden-none-solid-success-enclosing":[],"yellow-hidden-none-solid-success-underline_start":[],"yellow-hidden-none-solid-bulkApply-underline":[],"yellow-hidden-none-solid-bulkApply-background":[],"yellow-hidden-none-solid-bulkApply-full":[],"yellow-hidden-none-solid-bulkApply-focus":[],"yellow-hidden-none-solid-bulkApply-enclosing":[],"yellow-hidden-none-solid-bulkApply-underline_start":[],"yellow-hidden-none-solid-select-underline":[],"yellow-hidden-none-solid-select-background":[],"yellow-hidden-none-solid-select-full":[],"yellow-hidden-none-solid-select-focus":[],"yellow-hidden-none-solid-select-enclosing":[],"yellow-hidden-none-solid-select-underline_start":[],"yellow-hidden-none-none-none-underline":[],"yellow-hidden-none-none-none-background":[],"yellow-hidden-none-none-none-full":[],"yellow-hidden-none-none-none-focus":[],"yellow-hidden-none-none-none-enclosing":[],"yellow-hidden-none-none-none-underline_start":[],"yellow-hidden-none-none-firstRender-underline":[],"yellow-hidden-none-none-firstRender-background":[],"yellow-hidden-none-none-firstRender-full":[],"yellow-hidden-none-none-firstRender-focus":[],"yellow-hidden-none-none-firstRender-enclosing":[],"yellow-hidden-none-none-firstRender-underline_start":[],"yellow-hidden-none-none-apply-underline":[],"yellow-hidden-none-none-apply-background":[],"yellow-hidden-none-none-apply-full":[],"yellow-hidden-none-none-apply-focus":[],"yellow-hidden-none-none-apply-enclosing":[],"yellow-hidden-none-none-apply-underline_start":[],"yellow-hidden-none-none-success-underline":[],"yellow-hidden-none-none-success-background":[],"yellow-hidden-none-none-success-full":[],"yellow-hidden-none-none-success-focus":[],"yellow-hidden-none-none-success-enclosing":[],"yellow-hidden-none-none-success-underline_start":[],"yellow-hidden-none-none-bulkApply-underline":[],"yellow-hidden-none-none-bulkApply-background":[],"yellow-hidden-none-none-bulkApply-full":[],"yellow-hidden-none-none-bulkApply-focus":[],"yellow-hidden-none-none-bulkApply-enclosing":[],"yellow-hidden-none-none-bulkApply-underline_start":[],"yellow-hidden-none-none-select-underline":[],"yellow-hidden-none-none-select-background":[],"yellow-hidden-none-none-select-full":[],"yellow-hidden-none-none-select-focus":[],"yellow-hidden-none-none-select-enclosing":[],"yellow-hidden-none-none-select-underline_start":[]}),h=e=>`${e.color}-${e.type}-${e.underline}-${e.highlight}-${e.animation}-${e.view}`,m=e=>t=>{let n;return 0===(n=void 0!==t.customColor?e.custom(t.customColor.backgroundColor,t.customColor.underlineColor)[(e=>`custom-${e.type}-${e.underline}-${e.highlight}-${e.animation}-${e.view}`)(t)]:e[h(t)]).length?d.b.left(new Error(`The mapping did not contain classes for meta: ${h(t)}`)):d.b.right(n)};var g=n("QKlB"),f=n("bUJM"),b=n("Wcgi"),y=n("OMiD");function v(e,t,n=[],i){return Object(a.pipe)(e,c.a.reduce(new Array,(e,t)=>(e.push(b.a.Change.getRemoveAction({range:w(t)},b.a.Change.RemoveType.full)(t.meta.id)),e),(e,r,o)=>(Object(a.pipe)(k(o,n,i),d.b.fold(e=>t.error(e.message),t=>e.push(b.a.Change.getUpdateAction({classes:t,range:w(o),order:o.meta.order})(o.meta.id)))),e),(e,r)=>(Object(a.pipe)(k(r,n,i),d.b.fold(e=>t.error(e.message),t=>e.push(b.a.Change.getCreateAction({classes:t,range:w(r),order:r.meta.order})(r.meta.id)))),e)))}function k(e,t,n){return u.a.SynonymMark.is(e)?d.b.right(y.a.getMarkClasses(e,n)):Object(a.pipe)(e.meta,Object(a.pipe)(n,p,m),d.b.map(e=>e.concat(t)))}function w(e){const t=r.b.create(e.start,e.end,e.meta);return()=>t}function S(e,t,n){return r=>{const p=g.a.markAlertShouldBeVisible(t,r.markAlertShouldBeVisible),h=new Map,m=Object.assign(Object.assign({},r),{markAlertStates:f.a.State.Repository.copy(r.markAlertStates),markAlerts:new Map(r.markAlerts),marks:new Map(r.marks)}),b=t=>(n,c)=>{const p=o.a.isBulkApplied(n.alert)?f.a.State.Type.bulkAccepted:f.a.State.Type.applied;m.markAlertStates[p]=f.a.State.Repository.add(m.markAlertStates,p,n);const g=r.markAlerts.get(n.id);if(void 0===g)h.set(c,`can not update mark on alert ${s.a.show.show(n)})`);else{const o=Object(a.pipe)(g.marks,i.P(e=>{const t=r.marks.get(e);return void 0===t?(h.set(c,`mark not found for alert ${s.a.show.show(n)}`),d.g.none):d.g.some(t)})),p=n.alert.getAppliedRanges().map(e=>e());t.push(Object(a.pipe)(d.b.right(e.fromRanges(p,l.a.fromModel(n.alert),f.a.State.Repository.getPrimaryState(m.markAlertStates,n.id))),d.b.map(({ma:e,marks:t})=>({ma:e,marks:u.a.Collection.Diff.fromArray(o,t)}))))}},y=c.a.fromMutation(t=>{Object(a.pipe)(n,c.a.forEach((e,n)=>{r.markAlerts.has(n)?(m.markAlertStates=f.a.State.Repository.removeFromAll(m.markAlertStates,e.id),Object(a.pipe)(g.a.getMarksForAlert(m,e),d.b.fold(e=>{h.set(n,e)},e=>{m.markAlerts.delete(n),e.forEach(e=>{m.marks.delete(e.meta.id),t.set(e.meta.id,d.m.left(e))})}))):p(e)&&h.set(n,`can not remove unknown AlertModel(\n            ${s.a.show.show(e)})`)},(n,l,y)=>{const v=`inState(${r.markAlerts.has(y)})-wasDisplayed(${p(n)})-shouldDisplayed(${p(l)})`,k=new Array;switch(v){case"inState(false)-wasDisplayed(false)-shouldDisplayed(false)":break;case"inState(false)-wasDisplayed(true)-shouldDisplayed(false)":h.set(y,`got unexpected state, can not update from AlertModel(\n            ${s.a.show.show(n)}) to AlertModel(\n              ${s.a.show.show(l)}) because we can not find corresponding markAlert`);break;case"inState(false)-wasDisplayed(true)-shouldDisplayed(true)":case"inState(false)-wasDisplayed(false)-shouldDisplayed(true)":m.markAlertStates[f.a.State.Type.selected]=f.a.State.Repository.remove(m.markAlertStates,f.a.State.Type.selected,l.id),Object(a.pipe)(g.a.createMarkAlert(e,m,l),d.b.fold(e=>{h.set(y,e)},({ma:e,marks:n})=>{m.markAlerts.set(y,e),n.forEach(g.a.setMarkTo(m.marks,t))}));break;case"inState(true)-wasDisplayed(true)-shouldDisplayed(false)":h.set(y,`can not update update from AlertModel(\n        ${s.a.show.show(n)}) to AlertModel(\n          ${s.a.show.show(l)}) because MarkAlert remove during alert update NYI`);break;case"inState(true)-wasDisplayed(false)-shouldDisplayed(false)":if(m.markAlertStates[f.a.State.Type.selected]=f.a.State.Repository.remove(m.markAlertStates,f.a.State.Type.selected,l.id),o.a.isApplied(l.alert)&&!o.a.isBulkApplied(l.alert))o.a.isAccepted(l.alert)?b(k)(l,y):Object(a.pipe)(g.a.getMarksForAlert(m,l),d.b.fold(e=>{h.set(y,e)},e=>{m.markAlerts.delete(y),e.forEach(e=>{m.marks.delete(e.meta.id),t.set(e.meta.id,d.m.left(e))})}));else if(l.alert.allowUpdate&&o.a.isCapiDone(l)&&o.a.isRated(l.alert))m.markAlertStates[f.a.State.Type.inSuccess]=f.a.State.Repository.add(m.markAlertStates,f.a.State.Type.inSuccess,l),k.push(g.a.updateMarkAlert(e,m,l));else if(o.a.isRemoved(l)){m.markAlertStates[f.a.State.Type.bulkAccepted]=f.a.State.Repository.remove(m.markAlertStates,f.a.State.Type.bulkAccepted,l.id);const e=r.markAlerts.get(l.id);if(void 0===e)h.set(y,`can not remove mark on alert ${s.a.show.show(l)})`);else{const n=Object(a.pipe)(e.marks,i.P(e=>{const t=r.marks.get(e);return void 0===t?(h.set(y,`mark not found for alert ${s.a.show.show(l)}`),d.g.none):d.g.some(t)})),o=Object(a.pipe)(l.alert.getAppliedRanges().map(e=>e()),e=>0===e.length?l.alert.getHighlightRanges():e);m.markAlerts.delete(y),n.map(e=>Object(a.pipe)(o,i.S(t=>t.meta.id===e.meta.id),d.g.map(u.a.create(e.meta)),d.g.getOrElse(()=>e))).forEach(e=>{m.marks.delete(e.meta.id),t.set(e.meta.id,d.m.left(e))})}}else(o.a.isMuted(l.alert)&&!o.a.isPlagiarism(l.alert)||o.a.isOneGap(l.alert))&&Object(a.pipe)(g.a.getMarksForAlert(m,l),d.b.fold(e=>{h.set(y,e)},e=>{m.markAlerts.delete(y),e.forEach(e=>{m.marks.delete(e.meta.id),t.set(e.meta.id,d.m.left(e))})}));break;case"inState(true)-wasDisplayed(false)-shouldDisplayed(true)":case"inState(true)-wasDisplayed(true)-shouldDisplayed(true)":if(o.a.isBulkApplied(l.alert))b(k)(l,y);else{const t=f.a.State.Repository.getPrimaryState(m.markAlertStates,l.id),n="inState(true)-wasDisplayed(false)-shouldDisplayed(true)"===v&&d.g.isNone(t)?d.g.some("firstRender"):d.g.none;k.push(g.a.updateMarkAlert(e,m,l,n))}break;default:const c=v;h.set(y,`can not update update from AlertModel(\n            ${s.a.show.show(n)}) to AlertModel(\n              ${s.a.show.show(l)}) because enter unexpected logic branch: ${c}`)}k.forEach(d.b.fold(e=>{h.set(y,`can not update MarkAlert on AlertModel(\n                  ${s.a.show.show(l)}) due to: ${e.toString()}`)},({ma:e,marks:n})=>{Object(a.pipe)(n,c.a.forEach((e,n)=>{m.marks.delete(n),t.set(n,d.m.left(e))},(e,n,i)=>{const a=m.marks.get(i);m.marks.set(i,n),t.set(i,d.m.both(a,n))},(e,n)=>{m.marks.set(n,e),t.set(n,d.m.right(e))})),m.markAlerts.set(y,e)}))},(n,i)=>{r.markAlerts.has(i)?h.set(i,`can not add existing MarkAlert(${JSON.stringify(r.markAlerts.get(i))}) by AlertModel(\n              ${s.a.show.show(n)})`):p(n)&&Object(a.pipe)(g.a.createMarkAlert(e,m,n),d.b.fold(e=>{h.set(i,e)},({ma:e,marks:n})=>{m.markAlerts.set(i,e),n.forEach(g.a.setMarkTo(m.marks,t))}))}))});return h.size>0?d.b.left({recovered:[y,m],rejected:h}):d.b.right([y,m])}}},"b/mo":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("OA+g"),a=n("I7vG"),r=n("zR/0"),o=n("D9EC"),s=n("lrqh"),l=n("dE97"),c=n("GUi3"),d=n("bFfh");const u=Object(o.b)(l.a.isRegistered,Object(i.not)(l.a.isMuted)),p=e=>t=>Object(o.b)(u,e(t));var h;!function(e){e.create=function(e,t){const n=p(t=>e[t]);return{lensFilters:new Map(Object.entries(e)),alertVisibleInText:(e,n)=>Object(o.b)(p(e=>t[e])(e),(e=>t=>e||l.a.isPriority(t))(n)),alertVisibleInSidebar:n,getLensesFilter:t=>e[t],alertCanBeDisplayed:u,alertIsBulkAcceptable:e=>Object(o.b)(n(e),l.a.isBulkAcceptable)}};const t=e=>t=>e===t.lensId,n=e=>Object(o.b)(t(c.a.OutcomeId.fromPriorityOutcomeId(e)),l.a.isPriority);e.getAlertVisibleInTextFilter=function(e,t){return t.pipe(r.a.map(e=>({id:e.currentLens.id,nonPriorityAlertsVisible:d.a.WithPriority.nonPriorityAlertsVisible(e)})),r.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.nonPriorityAlertsVisible===t.nonPriorityAlertsVisible),r.a.map(({id:t,nonPriorityAlertsVisible:n})=>e.alertVisibleInText(t,n)))},e.defaultLensFilters={[c.a.SpecialId.Clarity]:t(c.a.SpecialId.Clarity),[c.a.SpecialId.Correctness]:t(c.a.SpecialId.Correctness),[c.a.SpecialId.Delivery]:t(c.a.SpecialId.Delivery),[c.a.SpecialId.Engagement]:t(c.a.SpecialId.Engagement),[c.a.SpecialId.Vox]:t(c.a.SpecialId.Vox),[c.a.SpecialId.FreePremiumAlerts]:(()=>e=>Object(a.pipe)(e.extraProperties.freePremium,s.g.contains("unlocked")))(),[c.a.SpecialId.ClarityPriority]:n(c.a.SpecialId.ClarityPriority),[c.a.SpecialId.CorrectnessPriority]:n(c.a.SpecialId.CorrectnessPriority),[c.a.SpecialId.DeliveryPriority]:n(c.a.SpecialId.DeliveryPriority),[c.a.SpecialId.EngagementPriority]:n(c.a.SpecialId.EngagementPriority),[c.a.SpecialId.VoxPriority]:n(c.a.SpecialId.VoxPriority),[c.a.SpecialId.Plagiarism]:t(c.a.SpecialId.Plagiarism),[c.a.SpecialId.DraftAI]:i.constFalse,[c.a.SpecialId.Premium]:t(c.a.SpecialId.Premium),[c.a.SpecialId.AllAlerts]:l.a.belongsToAllAlerts,[c.a.SpecialId.Closed]:i.constFalse,[c.a.SpecialId.Priority]:l.a.belongsToPriorityLens,[c.a.SpecialId.PredictionTakeaways]:l.a.belongsToPredictionTakeaways,[c.a.SpecialId.PredictionEmogenie]:l.a.belongsToPredictionEmogenie,[c.a.SpecialId.RealTimeProofit]:t(c.a.SpecialId.RealTimeProofit)},e.defaultTextFilters=Object.assign(Object.assign({},e.defaultLensFilters),{[c.a.SpecialId.Closed]:l.a.isCriticalImpact,[c.a.SpecialId.Premium]:Object(o.p)(e.defaultLensFilters[c.a.SpecialId.Premium],l.a.belongsToAllAlerts)}),e.priorityTextFilters=e=>({[c.a.SpecialId.Premium]:Object(o.b)(e[c.a.SpecialId.Premium],l.a.isPriority)})}(h||(h={}))},b0nb:function(e,t,n){"use strict";n.d(t,"a",(function(){return ce})),n.d(t,"b",(function(){return de.a}));var i,a,r,o,s=n("a5W6"),l=n("m6JR"),c=n("8Js9"),d=n("OA+g"),u=n("I7vG"),p=n("1aGC"),h=n("LNSM"),m=n("FiSa"),g=n("24uI"),f=n("4ae2"),b=n("bYZB"),y=n("+JVj"),v=n("Ni70"),k=n("gT+5"),w=n("hjw9"),S=n("GGUR"),_=n("zR/0"),C=n("CXK/"),E=n("gy42"),O=n("Bew4"),A=n("hoSD"),x=n("lrqh"),T=n("6fbX"),M=n("D9EC"),j=n("7b34"),I=n("YXP7"),R=n("7qGb"),N=n("66iv"),L=n("SDjP"),P=n("5VIZ");!function(e){e.internal="internal",e.external="external"}(i||(i={})),function(e){let t,n,a;!function(e){e.is=e=>e.source===i.internal,e.create=e=>({source:i.internal,value:e}),e.empty={source:i.internal,value:P.a.StateDiff.getEmpty()}}(t=e.Internal||(e.Internal={})),function(e){e.is=e=>e.source===i.external,e.create=e=>({source:i.external,value:e})}(n=e.External||(e.External={})),function(e){const t=N.c.fromProp(),n=N.c.fromProp();e.source=t("source"),e.value=t("value"),e.change=e.value.compose(n("change")),e.selection=e.value.compose(n("selection")),e.marks=e.value.compose(n("marks")),e.scroll=e.value.compose(n("scroll")),e.focus=e.value.compose(n("focus"))}(a=e.Lens||(e.Lens={}))}(a||(a={})),(o=r||(r={})).empty=function(e="unknown"){return{revision:1,contentLength:0,waitingAckForRev:x.g.none,marks:{},selection:b.g.empty,scroll:I.a.empty,viewport:A.c.Rect.empty,focus:L.a.empty,_diff:x.g.none,source:e}},o.getInternalStateDiff=e=>Object(d.pipe)(e._diff,x.g.filter(a.Internal.is)),o.hasStagedChanges=e=>Object(d.pipe)(e._diff,x.g.exists(a.Internal.is)),o.modify=e=>t=>{const n=e=>Object(d.pipe)(e._diff,x.g.filter(Object(d.flow)(A.e.pick("value"),Object(d.not)(P.a.StateDiff.isEmpty))));return Object(d.pipe)(t,e,e=>Object.assign(Object.assign({},e),{_diff:n(e)}))},o.set=e=>t=>o.modify(R.of(e))(t),o.applyStateDiff=(e,t)=>{const n=Object(d.pipe)(t.change,x.g.fromNullable,x.g.map(e=>m.a.delta(new f.a(e.ops),e.prevLen||void 0)),x.g.map(t=>e.contentLength+t.length),x.g.getOrElse(()=>e.contentLength)),i=Object.entries(t.marks).reduce((e,[t,n])=>("right"in n?e[t]=n.right:"left"in n&&delete e[t],e),Object.assign({},e.marks));return x.b.right({contentLength:n,marks:i,selection:t.selection?t.selection[1]:e.selection,scroll:t.scroll?t.scroll[1]:e.scroll,viewport:e.viewport,focus:null!=t.focus?{inFocus:t.focus,meta:{source:L.a.Meta.FocusSource.ChecksBackend}}:e.focus})};var D,F=n("PrA7"),B=n("skHh"),H=n("TRam"),V=n("tMFp");(D||(D={})).create=({messageProcessor:e,stateHolder:t,getContent:n,getFormatting:i,getContentLength:o,viewportRect:s,contentChange:l,editorEvents:c,scrollPosition:u,selection:p,textFocus:h,scrollAuditTime:g=300})=>{const f=F.Monitoring.Logging.getLogger("mpte.TextView",F.Logging.LogLevel.TRACE,F.Logging.LogColor.Model.getColor("mpte.TextView")),y=new S.a.Keeper,v=t,k=new _.a.Subject,w=k.pipe(_.a.filter(e=>e.kind===H.a.TextView.Kind.AckStart),_.a.first()),C=_.a.mergeStatic(k,w.pipe(_.a.switchMap(()=>v.pipe(_.a.audit(()=>v.pipe(_.a.filter(e=>x.g.isNone(e.waitingAckForRev)),_.a.first())),_.a.map(e=>Object(d.pipe)(e,r.getInternalStateDiff,x.g.map(({value:t})=>H.a.TextView.StateDiff.create(V.a.generateUUID(),e.revision,P.a.StateDiff.codec.encode(t),e.source)))),_.b.compact)))).pipe(_.a.withLatestFrom(v),_.a.switchMap(([e,t])=>{switch(e.kind){case H.a.TextView.Kind.StateDiff:return v.set(Object.assign(Object.assign({},t),{waitingAckForRev:x.g.some(e),_diff:x.g.none})),_.a.of(e);case H.a.TextView.Kind.Reject:const a=e.reason;switch(a){case H.a.TextView.Reject.Reason.HAS_DIRTY_STATE:return Object(d.pipe)(t,r.getInternalStateDiff,x.g.fold(()=>_.a.EMPTY,({value:n})=>{const i=H.a.TextView.Reject.create(e.id,e.forRevision,a,P.a.StateDiff.codec.encode(n));return v.set(Object.assign(Object.assign({},t),{waitingAckForRev:x.g.some(i),_diff:x.g.none})),_.a.of(i)}));case H.a.TextView.Reject.Reason.WAITING_FOR_ACK:return Object(d.pipe)(t.waitingAckForRev,x.g.map(e=>e.diff),x.g.fold(()=>_.a.EMPTY,n=>{const i=H.a.TextView.Reject.create(e.id,e.forRevision,a,n);return v.set(Object.assign(Object.assign({},t),{waitingAckForRev:x.g.some(i),_diff:x.g.none})),_.a.of(i)}));case H.a.TextView.Reject.Reason.INVALID_STATE_DIFF:case H.a.TextView.Reject.Reason.WRONG_REVISION:return _.a.of(H.a.TextView.Reject.create(e.id,e.forRevision,a));default:return Object(T.d)(a)}case H.a.TextView.Kind.Ack:return _.a.of(e);case H.a.TextView.Kind.AckStart:return Object(d.pipe)(t.waitingAckForRev,x.g.tap(e=>{f.error("Got Start message while waiting for ACK, dropping",{waitingAckForRev:e})})),v.set(Object.assign(Object.assign({},t),{revision:1,waitingAckForRev:x.g.none,_diff:x.g.none})),_.a.of(H.a.TextView.AckStart.create(e.id,P.a.InitialState.codec.encode({text:n(),scroll:I.a.empty,selection:Object.assign(Object.assign({},t.selection),{meta:Object.assign(Object.assign({},t.selection.meta),{formatting:i()})})})));case H.a.TextView.Kind.RejectCommand:return _.a.of(H.a.TextView.RejectCommand.GetViewportAndRangeRect.create(e.id,e.forRevision,e.reason));case H.a.TextView.Kind.AckCommand:return _.a.of(H.a.TextView.AckCommand.GetViewportAndRangeRect.create(e.id,e.forRevision,e.rangeRect));default:return Object(T.d)(e)}})),E=e=>v.modify(r.modify(e));y.push(l.pipe(_.a.startWith(m.a.delta(n().delta))).subscribe(e=>{const t=o();E(n=>Object.assign(Object.assign({},n),{contentLength:t,_diff:Object(d.pipe)(n,r.getInternalStateDiff,x.g.getOrElse(()=>a.Internal.empty),a.Lens.change.modify(Object(d.flow)(x.g.map(t=>m.a.delta(t.compose(e).delta,t.prevLen)),x.g.alt(()=>x.g.some(m.a.delta(e.delta,n.contentLength))))),x.g.some)}))}),p.subscribe(e=>{E(t=>{if(b.g.eq.equals(e,t.selection))return t;const n=Object(d.pipe)(t,r.getInternalStateDiff,x.g.getOrElse(()=>a.Internal.empty),a.Lens.selection.set(x.g.some([t.selection,e])));return Object.assign(Object.assign({},t),{selection:e,_diff:x.g.some(n)})})}),u.pipe(_.a.auditTime(g)).subscribe(e=>{E(t=>{if(I.a.eqY.equals(e,t.scroll))return t;const n=Object(d.pipe)(t,r.getInternalStateDiff,x.g.getOrElse(()=>a.Internal.empty),a.Lens.scroll.set(x.g.some([t.scroll,e])));return Object.assign(Object.assign({},t),{scroll:e,_diff:x.g.some(n)})})}),s.pipe(_.a.tap(e=>E(t=>Object.assign(Object.assign({},t),{viewport:e})))).subscribe(),h.pipe(_.a.map(L.a.create(L.a.Meta.FocusSource.TextView)),_.a.tap(e=>E(t=>{if(t.focus.inFocus===e.inFocus)return t;const n=Object(d.pipe)(t,r.getInternalStateDiff,x.g.getOrElse(()=>a.Internal.empty),a.Lens.focus.set(x.g.some(e.inFocus)));return Object.assign(Object.assign({},t),{focus:e,_diff:x.g.some(n)})}))).subscribe());const O=w.pipe(_.a.switchMap(()=>c),_.a.map(e=>H.a.TextView.Event.MarkHovered.create(e.id,x.g.toUndefined(e.markId))));return{events:_.a.mergeStatic(C,O),pushCommand:t=>Object(d.pipe)(v.get(),(e=>t=>{switch(e.kind){case H.a.ChecksBackend.Kind.Ack:return Object(d.pipe)(t.waitingAckForRev,x.g.exists(({id:n})=>t.revision+1===e.revision&&n===e.id))?[x.m.right(x.g.none),Object(d.pipe)(t,r.modify(t=>Object.assign(Object.assign({},t),{revision:e.revision,waitingAckForRev:x.g.none})))]:[x.m.left(`reject. expected ACK for ${t.revision+1}, got ${e.revision}`),t];case H.a.ChecksBackend.Kind.StateDiff:if(r.hasStagedChanges(t))return[x.m.both("reject. has staged changes",x.g.some({kind:H.a.TextView.Kind.Reject,reason:H.a.TextView.Reject.Reason.HAS_DIRTY_STATE,id:e.id,forRevision:e.revision})),t];if(x.g.isSome(t.waitingAckForRev))return Object(d.pipe)(t.waitingAckForRev,x.g.exists(({forRevision:t})=>t+1===e.revision))?[x.m.both(`reject. Got stateDiff for next revision. Rejecting with diff. msgId: ${e.id}`,x.g.some({kind:H.a.TextView.Kind.Reject,reason:H.a.TextView.Reject.Reason.WAITING_FOR_ACK,id:e.id,forRevision:e.revision})),t]:[x.m.both(`reject. state diff for wrong revision.\n                 expected: ${x.g.unsafeGet(t.waitingAckForRev).forRevision}\n                 got: ${e.revision}`,x.g.some({kind:H.a.TextView.Kind.Reject,reason:H.a.TextView.Reject.Reason.WRONG_REVISION,id:e.id,forRevision:e.revision})),t];if(t.revision+1!==e.revision)return[x.m.both(`reject. state diff for wrong revision\n            expected: ${t.revision}\n            got: ${e.revision}`,x.g.some({kind:H.a.TextView.Kind.Reject,reason:H.a.TextView.Reject.Reason.WRONG_REVISION,id:e.id,forRevision:e.revision})),t];{const n=P.a.StateDiff.decodeAndValidate(e.diff,t.contentLength);if(x.b.isLeft(n)){const i=P.a.StateDiff.JSON.show.show(e.diff);return[x.m.both(`reject. invalid diff, error details: ${n.left}, diff: ${i}`,x.g.some({kind:H.a.TextView.Kind.Reject,reason:H.a.TextView.Reject.Reason.INVALID_STATE_DIFF,id:e.id,forRevision:e.revision})),t]}{const n=x.b.unsafeGet(r.applyStateDiff(t,e.diff));return[x.m.right(x.g.some(H.a.TextView.Ack.create(e.id,e.revision))),Object(d.pipe)(t,r.set(Object.assign(Object.assign({revision:e.revision,waitingAckForRev:x.g.none},n),{_diff:x.g.some(a.External.create(x.b.unsafeGet(P.a.StateDiff.codec.decode(e.diff)))),source:t.source})))]}}case H.a.ChecksBackend.Kind.Start:return[x.m.right(x.g.some({kind:H.a.TextView.Kind.AckStart,id:e.id})),t];case H.a.ChecksBackend.Kind.Command:switch(e.command){case B.a.Kind.GetViewportAndRangeRect:return e.revision!==t.revision?[x.m.both(`reject. wrong revision: ${e.revision}, expected: ${t.revision}`,x.g.some(H.a.TextView.RejectCommand.GetViewportAndRangeRect.create(e.id,e.revision,H.a.TextView.RejectCommand.GetViewportAndRangeRect.Reason.WRONG_REVISION))),t]:[x.m.right(x.g.none),t];default:return Object(T.d)(e.command)}default:Object(T.d)(e)}})(t),([n,i])=>{E(r.set(i)),Object(d.pipe)(n,x.m.bimap(e=>f.info(e),e=>Object(d.pipe)(e,x.g.tap(e=>k.next(e)))),x.m.fold(()=>x.g.none,()=>e(t,i),()=>x.g.none),x.g.tap(e=>k.next(e)))}),dispose:()=>{y.dispose()}}};var U,q,W=n("fzZ3"),$=n("aq1X"),z=n("gw+C");(q=U||(U={})).getPossibleCaretPosition=(e,t)=>x.b.tryCatchError(()=>{if("caretPositionFromPoint"in document){const n=document.caretPositionFromPoint(e,t);return{node:n.offsetNode,offset:n.offset}}if("caretRangeFromPoint"in document){const n=document.caretRangeFromPoint(e,t);return null!=n?{node:n.startContainer,offset:n.startOffset}:{node:document.elementFromPoint(e,t),offset:0}}throw new Error("Browser doesn't support range API")}),q.fitPositionInViewport=(e,t,n)=>({x:Math.floor(e>=n.right?n.right-1:e<=n.left?n.left+1:e),y:Math.floor(t<=n.top?n.top+1:t>=n.bottom?n.bottom-1:t)}),q.getPositionByNativeCursor=e=>t=>p.find(t.node).offset(e)+t.offset,q.getNativeCursorByPosition=(e,t,n,i,a=!1)=>{const{x:r,y:o}=q.fitPositionInViewport(e,t,n);return a&&A.c.renderDot(r,o,"top"),Object(u.pipe)(q.getPossibleCaretPosition(r,o),x.b.map(({node:e,offset:t})=>{var a;if(A.c.isParent(i,e))return{node:e,offset:t};if(o<=n.top+1)return{node:A.c.getFirstChild(i),offset:0};{const e=A.c.getLastChild(i);return{node:e,offset:(null!==(a=e.textContent)&&void 0!==a?a:"").length}}}))};var G=n("PPsJ"),K=n("Wcgi"),Y=n("hJSx"),X=n("hY4K"),Z=n("lg/X"),Q=n("2yqQ"),J=n("o5+S"),ee=n("GZ3w");const te=1500,ne=150,ie=250,ae=(e,t)=>{const n=Boolean(p.imports[e])?p.import(e):null;return p.register(e,t,!0),()=>{p.imports[e]===n&&(Boolean(n)?p.register(e,n,!0):delete p.imports[e])}};var re,oe,se,le;(oe=re||(re={})).withDefaultThemeClasses=(e={})=>{var t,n,i,a;return{editor:A.c.classes(ee.editor,e.editor),containerClass:null!==(t=e.containerClass)&&void 0!==t?t:"",scrollWrap:null!==(n=e.scrollWrap)&&void 0!==n?n:"",markExtraClass:null!==(i=e.markExtraClass)&&void 0!==i?i:"",markClassesTheme:null!==(a=e.markClassesTheme)&&void 0!==a?a:Object(k.b)()}},oe.getDefaultThemeClasses=()=>oe.withDefaultThemeClasses({}),function(e){e.api="api",e.dox="dox",e.mpte="mpte",e.user="user"}(se||(se={})),function(e){e.toQuillSources=t=>{switch(t){case e.dox:return"user";case e.mpte:return"silent";default:return t}}}(se||(se={})),(le||(le={})).isLocalDelta=e=>"dox"!==e.source&&m.a.isDelta(e.change);class ce{constructor(e,t,n,i,a,r=!1){this._allowedAttrs=n,this._allowedEmbeds=i,this._options=a,this._enableMPTE=r,this._log=F.Monitoring.Logging.getLogger("DEd",F.Logging.LogLevel.DEBUG,F.Logging.LogColor.Model.getColor("DEd")),this._freezeFocus=new w.a.Impl("freezeFocus",!0===this._options.freezeFocusFeature?w.a.everyTrue:()=>!1),this._subs=new S.a.Keeper,this._editorEl=document.createElement("div"),this._scrollEl=new _.a.BehaviorSubject(x.g.none),this._scrollTo=new _.a.Subject,this._textLength=0,this._outgoingChanges=void 0,this.__forcePushChangesToTextView=new _.a.ReplaySubject,this._forceSelection=new _.a.Subject,this._doxReset=new _.a.Subject,this.hasNotAppliedChanges=!1,this._isFlushBlocked=!1,this.shortcutUsed=new _.a.Subject,this._deltaFilter=g.a.cleanDelta(this._allowedEmbeds,this._allowedAttrs),this._userClasses=this._options.classes?this._options.classes.view(re.withDefaultThemeClasses):h.a.create(re.getDefaultThemeClasses()),this._flushChangesMPTE=()=>{if(!this._isFlushBlocked&&void 0!==this._outgoingChanges){this._log.trace("flushChanges");const e=this._outgoingChanges;this._outgoingChanges=void 0,void 0!==this._changesSyncTimer&&(clearTimeout(this._changesSyncTimer),this._changesSyncTimer=void 0),e.isEmpty||(this._log.debug("emit changes",{textLength:this.getTextLength(),deltaLength:e.length,deltaAmount:e.amount,deltaTargetLen:e.prevLen}),this._changes.next({change:e,source:se.api}),this.__forcePushChangesToTextView.next({delta:e.delta,name:"text-change",source:"user",oldDelta:e.delta}),this._contentUpdatedInternal.next({type:b.b.Type.textMaybeWithFormatting,source:p.sources.USER,delta:e.delta}),this._forceSelection.next(this.getCursor()))}},this.flushChanges=(e=se.api)=>{if(!this._isFlushBlocked&&void 0!==this._outgoingChanges){this._log.trace("flushChanges");const t=this._outgoingChanges;this._outgoingChanges=void 0,void 0!==this._changesSyncTimer&&(clearTimeout(this._changesSyncTimer),this._changesSyncTimer=void 0),t.isEmpty||(this._log.debug("emit changes",{textLength:this.getTextLength(),deltaLength:t.length,deltaAmount:t.amount,deltaTargetLen:t.prevLen}),this._changes.next({change:t,source:e}))}},this._flush=()=>{this.flushChanges(),this._changes.next({change:m.a.flush(),source:se.api})},this._changes=new _.a.ReplaySubject,this.changes=this._changes.pipe(_.a.pluck("change")),this._contentUpdatedInternal=new _.a.Subject,this.contentUpdated=this._contentUpdatedInternal.pipe(_.a.delay(1)),this.selection=new _.a.BehaviorSubject(b.g.empty),this.selectedFormatting=_.a.mergeStatic(this._contentUpdatedInternal.pipe(_.a.filter(e=>e.type===b.b.Type.onlyFormatting),_.a.withLatestFrom(this.selection,(e,t)=>t)),this.selection,this._forceSelection).pipe(_.a.map(e=>this.getFormatting(b.g.toTextRange(e))),_.a.shareReplay({bufferSize:1,refCount:!0})),this.clickedWord=new _.a.Subject,this.scrollPosition=new _.a.BehaviorSubject(0),this.ongoingSelection=new _.a.BehaviorSubject(!1),this.viewport=new _.a.BehaviorSubject({text:A.c.Rect.empty,wrapper:A.c.Rect.empty}),this.isEditorFocused=new _.a.BehaviorSubject(!0),this._execCommandAfterFocus=new _.a.Subject,this._validateSelection=({index:e,length:t})=>x.b.tryCatchError(()=>(Object(T.g)(e+t>=0,"Selection is less than zero",()=>`index: ${e}, length: ${t}`),Object(T.g)(e+t<this._textLength,"Selection is greater than text length",()=>`index: ${e}, length: ${t}, text length: ${this._textLength}`),{index:e,length:t})),this._documentRangeCache=O.DocumentRange.createCache(5),this._getDocumentRange=Object(d.flow)(this._validateSelection,x.b.chain(e=>Object(u.pipe)(this._documentRangeCache.get(e),x.g.fold(()=>Object(u.pipe)(e,O.DocumentRange.BoundaryPoint.getPoints(e=>Object(J.p)(this.quill.getLeaf(e))),x.b.chain(O.DocumentRange.BoundaryPoint.toNativeRange)),x.b.right),x.b.map(t=>(this._documentRangeCache.set(e,t),t))))),this._setNativeSelection=Object(d.flow)(this._getDocumentRange,x.b.map(e=>{const t=window.getSelection()||document.selection;t.removeAllRanges(),t.addRange(e),this.quill.focus()})),this._restoreFocus=()=>Object(u.pipe)(this.getCursor(),this._setNativeSelection,x.b.getOrElse(e=>this._log.error(`Cannot reset focus ${e}`))),this.restoreFocus=this._restoreFocus,this._getAnimation=(e,t)=>{switch(e.animate){case I.a.Meta.AnimateMode.none:return _.a.of(e.scrollTop);case I.a.Meta.AnimateMode.fast:return C.a.createAnimationObservable(t,e.scrollTop,100);case I.a.Meta.AnimateMode.initial:return C.a.createAnimationObservable(t,e.scrollTop,200);case I.a.Meta.AnimateMode.fake:return function(e,t,n){return _.a.Observable.create(i=>{const a=Math.abs(e-t)<ie?0:e-t>0?Math.min(e-t,ie):Math.max(e-t,-ie);n.style.transform=`translateY(${a}px)`,n.style.transition="",i.next(e);const r=requestAnimationFrame(()=>{n.style.transition=`transform ${ne}ms linear`,n.style.transform=""});return()=>{cancelAnimationFrame(r),n.style.transition="",n.style.transform=""}})}(e.scrollTop,t,this._wrapper);default:return Object(T.d)(e.animate)}},this._applyingExternalChanges=!1,this._pushChanges=(e,t)=>{this._log.trace("pushChanges",e),m.a.isFlush(e)?this.flushChanges(t):m.a.isReset(e)?(this._log.debug("get reset",{source:t,textLength:this.getTextLength(),deltaLength:e.length}),this._outgoingChanges=void 0,this.setContents(e,t)):(this._log.debug("get changes",{source:t,textLength:this.getTextLength(),deltaLength:e.length,deltaAmount:e.amount,deltaTargetLen:e.prevLen,change:e}),Object(T.g)(void 0===this._outgoingChanges||t===se.mpte,"There should be no outgoing changes in the editor when pushChanges() is called. Use flush()"),e.prevLen!==this._textLength&&this._log.error("Incoming change for a wrong text len",{expected:this._textLength,incoming:e.prevLen}),this._ensureSelection(()=>{this._history.commit(()=>{this._applyingExternalChanges=!0,g.a.splitToDeleteThenInsert(e.delta).filter(g.a.nonEmpty).forEach(e=>{this.quill.updateContents(Object(J.s)(e),se.toQuillSources(t))}),this._applyingExternalChanges=!1,this.flushChanges(t)})}))},this.pushChanges=(e,t)=>{this._pushChanges(e,"api"===t?se.api:se.user)},this._text=null,this.getText=()=>(null===this._text&&(this._text=this.quill.getText()),this._text),this.getHTML=()=>(this.flushChanges(),this._editorEl.outerHTML),this.getTextLength=()=>this._textLength,this.getContents=(e,t)=>m.a.unsafeRes(this._deltaFilter(Object(J.r)(this.quill.getContents(e,t)))),this.setCursor=(e,t=0,n="api")=>x.b.map(()=>this.quill.setSelection(e,t,n))(this._setNativeSelection({index:e,length:t,meta:{source:"api"===n?b.g.Meta.Source.api:b.g.Meta.Source.user,formatting:this.getFormatting(y.b.create(e,t))}})),this.scrollToTitle=()=>{this._scrollTo.next(this._getAnimation({scrollTop:0,animate:I.a.Meta.AnimateMode.initial},this._getScroll()))},this._getScroll=()=>(Object(T.g)(x.g.isSome(this._scrollEl.getValue()),"DEd should be attached"),x.g.unsafeGet(this._scrollEl.getValue()).scrollTop),this._normalizeScrollOffset=e=>{Object(T.g)(x.g.isSome(this._scrollEl.getValue()),"DEd should be attached");const t=x.g.unsafeGet(this._scrollEl.getValue()),n=t.scrollTop,i=t.scrollHeight-t.offsetHeight;return e+n<i?e+n>0?e:-n:i-n},this._setScroll=e=>(Object(T.g)(x.g.isSome(this._scrollEl.getValue()),"DEd should be attached"),x.g.unsafeGet(this._scrollEl.getValue()).scrollTop=e),this._calculateViewport=e=>{const t=this.quill.root.getBoundingClientRect();return{text:Object(u.pipe)(A.c.Rect.intersection(e,t),x.g.getOrElse(()=>t)),wrapper:e}},this.containsElement=e=>A.c.isParent(this.quill.root,e),this.getPossibleCursorPosition=(e,t,n=!1)=>{const i=this.viewport.value.text,a=Object(u.pipe)(e,x.b.fold(b.c.X.toViewport(i),d.identity)),r=Object(u.pipe)(t,x.b.fold(b.c.Y.toViewport(i),d.identity));return Object(u.pipe)(U.getNativeCursorByPosition(a,r,i,this.quill.root,this._log.isEnabled(F.Logging.LogLevel.TRACE)||n),x.b.map(U.getPositionByNativeCursor(this.quill.root)))},this.setFormatting=e=>{const t=Array.from(Object.entries(e.meta.formatting));0!==t.length&&(t.length===b.e.asList.length&&t.every(([e,t])=>!1===t||void 0===t)?this.clearFormatting(b.g.toTextRange(e)):Object(u.pipe)(t,x.a.partition(([e,t])=>t),({left:t,right:n})=>{t.forEach(([t])=>this.removeFormatting(b.g.toTextRange(e),t)),n.forEach(([t])=>this.addFormatting(b.g.toTextRange(e),t))}))},this._getFormattingFn=e=>(J.b.isBlockFormat(e)?this.quill.formatLine:this.quill.formatText).bind(this.quill),this._allowNavigationTo=a.allowNavigationTo||(()=>!1),this.quill=this._initQuill(this._userClasses,e),this._marker=this.quill.getModule("marks"),this._history=this.quill.getModule("history"),this._clipboard=this.quill.getModule("clipboard"),this.textChangedAfterPaste=this._clipboard.textChangedAfterPaste,this.activeMarks=this._marker.activeMarks,this.hoveredMarks=this._marker.hoveredMarks,this._quillEditorChange=Object(J.t)(this.quill).pipe(_.a.share()),this._contentChange=this._quillEditorChange.pipe(_.a.filter(Object(J.e)(this._allowedAttrs)),_.a.share()),this._log.isEnabled(F.Logging.LogLevel.DEBUG)&&function(e,t,n,i=x.g.some){const a=e[t].bind(e);e[t]=(...e)=>(Object(u.pipe)(i(...e),x.g.tap(e=>n.debug(`trace call of ${t}`,{args:e,stack:(new Error).stack}))),a(...e))}(this.quill,"updateContents",this._log.getLogger("quill.core"),(e,t)=>"user"!==t&&g.a.calcDiffLength(e)<0?x.g.some({delta:g.a.anonymizeTextAndStringAttrs(e),source:t}):x.g.none),this.scrollPercentage=this.scrollPosition.pipe(_.a.combineLatest(this._scrollEl.pipe(_.a.combineLatest(_.a.mergeStatic(_.a.fromEvent(window,"resize"),this._contentChange).pipe(_.a.debounceTime(500),_.a.startWith(E.b.voidValue)),e=>e),_.a.map(e=>Object(u.pipe)(e,x.g.chain(e=>{const t=e.scrollHeight-e.clientHeight;return t>0?x.g.some(t):x.g.none}))),_.a.distinctUntilChanged(x.g.getEq(l.eqNumber).equals))),_.a.map(([e,t])=>Object(u.pipe)(t,x.g.map(t=>e/t))),_.a.distinctUntilChanged(x.g.getEq(l.eqNumber).equals),_.a.shareReplay({bufferSize:1,refCount:!0}));const o=this._quillEditorChange.pipe(_.a.filter(J.g),_.a.map(e=>e.range));this._subs.push(this._contentChange.subscribe(({delta:e,source:t})=>{void 0!==e.ops&&(this._text=null,t===p.sources.USER||t===p.sources.SILENT?this._pushDelta(e):this._log.debug("skip emit",{source:t,textLength:this.getTextLength(),deltaLength:g.a.calcDiffLength(e),delta:g.a.anonymizeTextAndStringAttrs(e)}),this._setTextLength(this._textLength+g.a.calcDiffLength(e),t))}),_.a.mergeStatic(this._history.changed.pipe(_.a.filter(({source:e})=>"keyboard"===e)),this._clipboard.clipboardShortcutUsed).pipe(_.a.mapTo(void 0)).subscribe(this.shortcutUsed),this._contentChange.pipe(_.a.map(e=>({type:e.delta.ops.some(e=>!g.a.isRetain(e))?b.b.Type.textMaybeWithFormatting:b.b.Type.onlyFormatting,source:e.source,delta:e.delta}))).subscribe(this._contentUpdatedInternal),o.pipe(_.a.map(Object(d.flow)(x.g.fromNullable,x.g.map(({index:e,length:t})=>({index:e,length:t,meta:{source:b.g.Meta.Source.user,formatting:this.getFormatting(y.b.create(e,e+t))}})))),_.b.compact,_.a.distinctUntilChanged(b.g.eq.equals)).subscribe(this.selection),_.a.mergeStatic(_.a.fromEvent(this.quill.root,"mousedown",{passive:!0}).pipe(_.a.mapTo(!0)),_.a.fromEvent(document,"mouseup",{passive:!0}).pipe(_.a.mapTo(!1)),_.a.fromEvent(document,"dragend",{passive:!0}).pipe(_.a.mapTo(!1)),_.a.fromEvent(document,"click",{passive:!0}).pipe(_.a.mapTo(!1))).pipe(_.a.switchMap(Object(M.c)(_.a.fromEvent(document,"mousemove",{passive:!0}).pipe(_.a.auditTime(50),_.a.filter(()=>!window.getSelection().isCollapsed),_.a.first(),_.a.mapTo(!0)),_.a.of(!1)))).subscribe(this.ongoingSelection),t.changes.subscribe(e=>this._pushChanges(e,se.dox)),this._changes.pipe(_.a.filter(le.isLocalDelta),_.a.pluck("change")).subscribe(t.pushChanges)),this.viewportRange=this.viewport.pipe(_.a.distinctUntilChanged(),_.a.combineLatest(this.scrollPosition),_.a.debounceTime(300),_.a.map(([{text:e}])=>Object(u.pipe)(Object(d.tuple)(Object(u.pipe)(U.getNativeCursorByPosition(e.left,e.top,this.viewport.value.text,this.quill.root),x.b.map(U.getPositionByNativeCursor(this.quill.root))),Object(u.pipe)(U.getNativeCursorByPosition(e.right,e.bottom,this.viewport.value.text,this.quill.root),x.b.map(U.getPositionByNativeCursor(this.quill.root)))),x.b.map2(y.b.create),x.b.fold(e=>(this._log.error("Cannot calculate viewportRange",e),y.b.empty),d.identity))),_.a.shareReplay({bufferSize:1,refCount:!0}))}_initQuill(e,t){const n=[...Object.entries(t.modules).map(([e,t])=>ae(`modules/${e}`,t)),...t.formats.map(e=>ae(`formats/${e.blotName}`,e)),ae("themes/denali",t.theme)],i=Object.assign(Object.assign({},Object.keys(t.modules).reduce((e,t)=>(e[t]=!0,e),{})),{toolbar:!1,keyboard:!0,clipboard:{className:ee.editorClipboard,maxAllowedTextLength:1e5,lengthExceededCallback:()=>alert("Oops, Document size exceeded!"),flush:this._enableMPTE?d.constVoid:this._flush,deltaFilter:this._deltaFilter},history:{userOnly:!0,delay:1e3,maxStack:100,flush:this._enableMPTE?d.constVoid:this._flush},marks:{scrollPositionChanged:this.scrollPosition.pipe(_.a.distinctUntilChanged(),_.a.mapTo(E.b.voidValue),_.a.skip(1)),contentUpdated:this.contentUpdated,scrollContainer:this._scrollEl,ongoingSelection:this.ongoingSelection.pipe(_.a.distinctUntilChanged()),getOpsHistory:()=>this._history.getAnonymizedOperationsHistory()}}),a=new p(this._editorEl,{modules:i,theme:"denali",classes:e});return n.forEach(e=>e()),a}_pushDelta(e){void 0===this._outgoingChanges?this._outgoingChanges=m.a.delta(this._deltaFilter(e),this._textLength):this._outgoingChanges.delta=this._outgoingChanges.delta.compose(this._deltaFilter(e));const t=g.a.calcAmountLength(e);!this._outgoingChanges.isEmpty&&(t>100||this._textLength-t<=1||void 0!==e.ops.find(e=>Object(J.j)(e)||Object(J.k)(e))||x.g.isSome(this.activeMarks.getValue()))?this._applyingExternalChanges||this.flushChanges():(void 0!==this._changesSyncTimer&&clearTimeout(this._changesSyncTimer),this._changesSyncTimer=setTimeout(this.flushChanges,te))}_setTextLength(e,t){const n=this._textLength-e;this._textLength=e;const i="api"===t?b.g.Meta.Source.api:b.g.Meta.Source.user,a="api"===t?{}:this.getFormatting(y.b.create(e-1,0)),{index:r,length:o}=this.getCursor();r>=e?this.selection.next({index:e-1,length:0,meta:{source:i,formatting:a}}):r+o>=e&&this.selection.next({index:r,length:o-n,meta:{source:i,formatting:a}})}_handleFreezeFocus(){const e=(e,t)=>e===t||this._allowNavigationTo(e),t=_.a.fromEvent(document,"click").pipe(_.a.filter(t=>!e(t.target,this.quill.root)),_.a.observeOn(_.a.asapScheduler),_.a.filter(()=>!e(document.activeElement,this.quill.root)),_.a.tap(this._restoreFocus));return this._freezeFocus.state.pipe(_.a.switchMap(E.b.Scheduler.rafScheduler),_.a.tap(e=>e?this._restoreFocus():this.quill.blur()),_.a.switchMap(E.b.orEmpty(t)),_.a.catchError(e=>(this._log.warn("unexpected exception in freezeFocus",e),_.a.EMPTY))).subscribe()}_handleMarksStyleUpdate(e){return this._userClasses.view(({markClassesTheme:e,markExtraClass:t})=>({markClassesTheme:e,markExtraClass:t})).pipe(_.a.skip(1)).subscribe(({markClassesTheme:t,markExtraClass:n})=>{const i=j.a.fromMutation(t=>(Object.values(e.view("marks").get()).forEach(e=>{t.set(e.meta.id,x.m.both(e,e))}),t));this._marker.changeMarksMPTE(Object($.a)(i,this._log,[n],t))})}attach(e,t,n){if(Boolean(this._wrapper))throw new Error("Editor already attached");this._wrapper=e,this._scrollEl.next(x.g.some(t)),this._viewportRect=n,e.appendChild(this._editorEl),this._textLength?x.b.getOrElse(e=>this._log.error(`Failed to reset cursor on ded attach ${e}`))(this.setCursor(0,0)):this.quill.root.focus(),Object(M.r)("dedBlockFlush",()=>this._isFlushBlocked=!0),Object(M.r)("dedAllowFlush",()=>this._isFlushBlocked=!1),Object(M.r)("dedForceFlush",()=>this.flushChanges()),Object(M.r)("dedForceFlushMPTE",this._flushChangesMPTE),Object(M.r)("dedGetText",this.getText),Object(M.r)("dedSetCursor",(e,t)=>x.b.getOrElse(e=>this._log.error(e))(this.setCursor(e,t,p.sources.USER))),Object(M.r)("dedType",e=>{this.flushChanges(),this._pushChanges(m.a.ins(this.getCursor().index,e,this.getText().length),se.user)}),Object(M.r)("dedQuill",this.quill),Object(M.r)("ded",this),Object(M.r)("getPossibleCursorPosition",(e,t,n)=>this.getPossibleCursorPosition("string"==typeof e?x.b.left(e):x.b.right(e),"string"==typeof t?x.b.left(t):x.b.right(t),n));const i=h.a.create(r.empty("DEd"));this._textView=D.create({stateHolder:i,getContent:()=>this.getContents(),getFormatting:()=>this.getCursor().meta.formatting,getContentLength:()=>this.getTextLength(),messageProcessor:(e,t)=>{switch(e.kind){case H.a.ChecksBackend.Kind.StateDiff:Object(u.pipe)(t._diff,x.g.tap(e=>{if(P.a.StateDiff.isChangeEmpty(e.value)||Object(u.pipe)(e.value.change,x.g.tap(e=>this._pushChanges(e,se.mpte))),!j.a.isEmpty(e.value.marks)){const{markExtraClass:t,markClassesTheme:n}=this._userClasses.get();this._marker.changeMarksMPTE(Object($.a)(e.value.marks,this._log,[t],n))}Object(u.pipe)(e.value.scroll,x.g.tap(([e,t])=>{this._log.debug("incoming StateDiff.scroll -> new scroll position",t),this._scrollToPosition(t)})),Object(u.pipe)(e.value.selection,x.g.map(c.d),x.g.filter(e=>!b.g.eq.equals(this.getCursor(),e)),x.g.tap(this.setFormatting),x.g.filter(()=>!this._isFlushBlocked),x.g.map(e=>this.setCursor(e.index,e.length,e.meta.source===b.g.Meta.Source.api?b.g.Meta.Source.api:b.g.Meta.Source.user))),Object(u.pipe)(e.value.focus,x.g.filter(d.identity),x.g.tap(this._restoreFocus))}));break;case H.a.ChecksBackend.Kind.Command:switch(e.command){case B.a.Kind.GetViewportAndRangeRect:return Object(u.pipe)(this._marker.getMarkById(e.markId),x.b.chain(e=>e.getRect()),x.b.fold(t=>(this._log.debug("Could not get rect for given mark id",t),x.g.some(H.a.TextView.RejectCommand.GetViewportAndRangeRect.create(e.id,e.revision,H.a.TextView.RejectCommand.GetViewportAndRangeRect.Reason.MARK_NOT_EXIST))),t=>x.g.some({kind:H.a.TextView.Kind.AckCommand,id:e.id,command:e.command,forRevision:e.revision,rangeRect:t})));default:return Object(T.d)(e.command)}default:return x.g.none}return x.g.none},viewportRect:this._viewportRect,contentChange:Object(u.pipe)(_.a.mergeStatic(_.a.mergeStatic(this._contentChange,this.__forcePushChangesToTextView).pipe(_.a.filter(({source:e})=>e===p.sources.USER),_.a.map(({delta:e})=>m.a.delta(e,this._textLength))),this._doxReset).pipe(_.a.filter(()=>!this._isFlushBlocked))),editorEvents:Object(u.pipe)(this.hoveredMarks,_.a.map(x.g.map(e=>e.map(e=>e.id))),_.a.map(e=>W.a.MarkHovered.create(e))),selection:_.a.mergeStatic(Object(u.pipe)(this.clickedWord,_.a.map(Object(d.flow)(x.g.filter(e=>2===e.meta.clicks),x.g.map(e=>({index:e.start,length:e.end-e.start,meta:{source:b.g.Meta.Source.doubleClick,selectedWord:e.meta.value,formatting:this.getFormatting(y.b.create(e.start,e.end-e.start))}})))),_.b.compact),_.a.mergeStatic(this.selection,this._forceSelection).pipe(E.b.Scheduler.inRaf)).pipe(_.a.filter(()=>!this._isFlushBlocked),_.a.skipBy(b.g.eq)),scrollPosition:this.scrollPosition.pipe(_.a.filter(()=>!this._isFlushBlocked),_.a.map(e=>({x:0,y:e,meta:{animateMode:I.a.Meta.AnimateMode.none}}))),textFocus:this.isEditorFocused.pipe(_.a.filter(()=>!this._isFlushBlocked))}),this.events=this._textView.events,this.pushCommand=this._textView.pushCommand,this._subs.push(this._handleFreezeFocus(),this._handleMarksStyleUpdate(i),_.a.fromEvent(this.quill.root,"mouseup").pipe(_.a.map(e=>({clicks:e.detail,range:x.g.fromNullable(this.quill.getSelection())})),_.a.map(({clicks:e,range:t})=>Object(u.pipe)(t,x.g.chain(e=>Object(J.i)(this.quill.getText(),e.index)),x.g.filter(e=>""!==e.meta.value),x.g.map(y.a.create(e))))).subscribe(this.clickedWord),this._scrollTo.pipe(_.a.switchAll()).subscribe(e=>this._setScroll(e)),this._scrollEl.pipe(_.b.compact,_.a.switchMap(e=>_.a.fromEvent(e,"scroll").pipe(_.a.map(()=>this._getScroll())))).subscribe(this.scrollPosition),_.a.combineLatestStatic(this._contentChange.pipe(_.a.filter(({source:e})=>e===p.sources.USER||e===p.sources.SILENT)),this._viewportRect).subscribe(([,e])=>{requestAnimationFrame(()=>{Object(u.pipe)(this._getCursorRect(),x.b.fold(e=>(this._log.warn("Typing enhancer: Cannot get cursor rect",e),x.g.none),d.identity),x.g.tap(t=>{const n=Math.ceil(t.top+t.height),i=Math.ceil(.7*Math.max(e.top+e.height));n>i&&this._scrollTo.next(this._getAnimation({scrollTop:this._getScroll()+Math.round(n-i),animate:I.a.Meta.AnimateMode.initial},this._getScroll()))}))})}),_.a.combineLatestStatic(this._scrollEl.pipe(_.b.compact),this._history.changed,(e,t)=>e).subscribe(e=>requestAnimationFrame(()=>{Object(u.pipe)(this._getCursorRect(),x.b.fold(e=>(this._log.warn("Undo/Redo: Cannot get cursor rect",e),x.g.none),d.identity),x.g.tap(t=>{const n=e.getBoundingClientRect();(t.top<n.top||t.top>n.bottom)&&this._scrollTo.next(this._getAnimation({scrollTop:this._getScroll()+Math.round(t.top-n.top-n.height/2),animate:I.a.Meta.AnimateMode.none},this._getScroll()))}))})),_.a.combineLatestStatic(this._viewportRect,this.scrollPosition.pipe(_.a.debounceTime(150))).pipe(_.a.map(s.head),_.b.compactMap(Object(d.flow)(this._calculateViewport,_.a.of))).subscribe(this.viewport),_.a.mergeStatic(_.a.fromEvent(this.quill.root,"blur").pipe(_.a.mapTo(!1)),_.a.fromEvent(this.quill.root,"focus").pipe(_.a.mapTo(!0))).subscribe(this.isEditorFocused),this._execCommandAfterFocus.pipe(_.a.withLatestFrom(this.isEditorFocused)).subscribe(([e,t])=>{t||this._restoreFocus(),document.execCommand(e)}))}dispose(){this._subs.dispose(),this._marker.dispose(),this._history.dispose(),this._textView.dispose(),this.quill.emitter.removeAllListeners()}setContents(e,t=se.api){this.hasNotAppliedChanges=!0;const n=Object(J.o)(e),i=void 0!==this._outgoingChanges,a=e.delta.compose(n.delta),r=g.a.calcDiffLength(a),o=this._deltaFilter(a),s=g.a.calcDiffLength(o);if(this._log.debug("reset content",{shouldNormalizeCRLF:!n.isEmpty,hasOutgoingChanges:i,deltaLength:r,deltaWithoutAttrsLength:s,deltaLengthMismatch:r!==s}),this._enableMPTE&&"dox"===t){const e=this.getContents().delta.diff(a);g.a.nonEmpty(e)&&(this._setTextLength(r,t),this._doxReset.next(m.a.delta(e,this._textLength)))}this.quill.setContents(Object(J.s)(o),"api"),this._setTextLength(r,t),"api"!==t?this._changes.next({change:m.a.unsafeRes(a),source:t}):n.isEmpty||this._changes.next({change:n,source:t}),this.hasNotAppliedChanges=!1}getCursor(){const e=this.selection.getValue();return Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{formatting:this.getFormatting(b.g.toTextRange(e))})})}getLastPossibleCursorPosition(){return this._textLength-1}getSelectionRect(e){return Object(u.pipe)(this._getDocumentRange(e||this.getCursor()),x.b.map(e=>new J.a(e,()=>this.quill.container.getBoundingClientRect())))}changeMarks(e){this.flushChanges(),this._log.debug("change marks",e.map(K.a.Change.addRange));const t=this._marker.changeMarks(e);return this.isEditorFocused.getValue()&&this._restoreFocus(),t}_scrollToPosition(e){const t=this._getScroll(),n=this._normalizeScrollOffset(e.y-this._getScrollTop());this._scrollTo.next(this._getAnimation({scrollTop:t+n,animate:e.meta.animateMode},t).pipe(_.a.finalize(()=>{const e=this._getScroll();this._scrollTo.next(this._getAnimation({scrollTop:e,animate:I.a.Meta.AnimateMode.none},e))})))}getMarkRect(e){return Object(u.pipe)(this._marker.getMarkById(e),x.b.chain(e=>e.getRect()))}getMarkById(e){return this._marker.getMarkById(e)}scrollToMark(e,t={animate:I.a.Meta.AnimateMode.none,paddingTop:0}){return Object(u.pipe)(this._marker.getMarkById(e),x.b.chain(e=>this._getMarkRect(e)),x.b.fold(e=>(this._log.error("Cannot scroll to given mark",e),_.a.throwError(e)),e=>{const n=t.animate||I.a.Meta.AnimateMode.none,i=this._getScrollTop(),a=this._normalizeScrollOffset(e.top-(t.paddingTop?t.paddingTop:i));return new _.a.Observable(e=>(e.next(void 0),this._scrollTo.next(this._getAnimation({scrollTop:this._getScroll()+a,animate:n},this._getScroll()).pipe(_.a.finalize(()=>{e.complete()}))),()=>{this._scrollTo.next(this._getAnimation({scrollTop:this._getScroll(),animate:I.a.Meta.AnimateMode.none},this._getScroll()))}))}))}undo(e="user"){this._history.undo(e)}canUndo(){return this._history.canUndo()}clearHistory(){this._history.clear()}redo(e="user"){this._history.redo(e)}canRedo(){return this._history.canRedo()}cut(){this._execCommandAfterFocus.next("cut")}copy(){this._execCommandAfterFocus.next("copy")}dontFreezeWhen(e,t){return!0===this._options.freezeFocusFeature?this._freezeFocus.watch(E.b.invert(e),t):S.a.EMPTY}_getScrollTop(){return Object(u.pipe)(this._scrollEl.getValue(),x.g.fold(()=>0,e=>e.getBoundingClientRect().top))}_getMarkRect(e){return Object(u.pipe)(e.getRect(),x.b.map(v.b.relativeToViewport),x.b.map(e=>({top:e.top,bottom:e.bottom})))}_getCursorRect(){return x.b.tryCatch(()=>{const e=this.quill.getSelection();if(Boolean(e)&&0===e.length){const t=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(e.index,1);return x.g.some({bottom:n.bottom+t.top,height:n.height,left:n.left+t.left,right:n.right+t.left,top:n.top+t.top,width:n.width})}return x.g.none},e=>e)}_ensureSelection(e){const t=this.quill.getSelection();e(),Boolean(t)&&t.length>0&&this._clearSelection(()=>{this.quill.setSelection(t.index,t.length,p.sources.API)})}_clearSelection(e){const t=Boolean(window.getSelection)?window.getSelection():document.selection;Boolean(t)&&(Boolean(t.removeAllRanges)?t.removeAllRanges():Boolean(t.empty)&&t.empty()),e&&requestAnimationFrame(e)}addFormatting(e,t,n){t===b.e.Type.link?this._applyFormatting(b.e.Type.link,e,n):this._applyFormatting(t,e)}removeFormatting(e,t){t===b.e.Type.link?this._applyFormatting(b.e.Type.link,e,!1):this._applyFormatting(t,e,!1)}clearFormatting(e){y.b.isEmpty(e)&&(b.e.asList.forEach(e=>{const{key:t}=J.b.mapEditorFormatToQuill(e);this.quill.format(t,!1,"user")}),this._contentUpdatedInternal.next({type:b.b.Type.onlyFormatting,source:"user",delta:new f.a})),this.quill.removeFormat(e.start,y.b.size(e),"user")}_applyFormatting(e,t,n){const{key:i,value:a}=J.b.mapEditorFormatToQuill(e),r=void 0!==n?n:a;if(y.b.isEmpty(t)){if(e===b.e.Type.link)return;this.quill.format(i,r,"user"),this._contentUpdatedInternal.next({type:b.b.Type.onlyFormatting,source:"user",delta:new f.a})}else{this._getFormattingFn(e)(t.start,y.b.size(t),i,r,"user")}}getFormatting(e){return J.b.mapQuillFormatsToDenali(this.quill,e)}}!function(e){class t extends e{constructor(e=t.DEFAULT_MODULES,n=g.a.skipAny,i=g.a.skipAny,a={},r=z.a.Mock()){Object(J.q)(),super(e,r,n,i,a),this.markChangeApplied=this._marker.markChangeApplied,this.selectedFormatting=new _.a.Subject,this._envSupportsSelection=Boolean(window.getSelection),this._envSupportsSelection||Object.assign(this.quill,{setSelection:(e,t)=>{if(null===e)return;const n="object"==typeof e?e.index:e;Object(T.g)(n>=0,"range selection can not accept negative values")}})}fakeAttach(){this.attach(document.createElement("div"),document.createElement("div"),_.a.of(A.c.Rect.empty))}get mutationObserverPeriod(){return Boolean(MutationObserver._period)?MutationObserver._period:t.defaultMutationObserverPeriod}get container(){return this.quill.root}setContents(e,t=se.api){super.setContents(e,t)}getCursor(){return this._envSupportsSelection?super.getCursor():b.g.empty}static create({modules:e,allowedAttrs:n,allowedEmbeds:i,options:a,dox:r}){return new t(e,n,i,a,r?z.a.Mock(r):void 0)}}t.defaultMutationObserverPeriod=100,t.DEFAULT_MODULES={theme:Q.a,modules:{history:Y.a,clipboard:Object(G.b)(!1,[]),keyboard:X.a.getKeyboardWithBindings(X.a.Bindings.plainTextBindings),marks:Z.a},formats:[]},e.Mock=t}(ce||(ce={}));var de=n("pKPl")},bQye:function(e,t,n){"use strict";n.r(t),n.d(t,"premiumDemoDocument",(function(){return i})),n.d(t,"fullSentenceDemoText",(function(){return a})),n.d(t,"fusionDemoText",(function(){return r})),n.d(t,"mutedAlertsDemoText",(function(){return o})),n.d(t,"bulkAcceptDemoText",(function(){return s})),n.d(t,"priorityListViewDemoText",(function(){return l})),n.d(t,"listTransformDemoText",(function(){return c})),n.d(t,"annotatorEmptyDocument",(function(){return d}));const i={title:"Welcome to Grammarly Premium!",text:""},a={title:"",text:"As many people in the Lima region wait with much hopeful anticipation for all of the impact Rhodes State College will have on our downtown area, many others have concerns due to the lack of activity after the demolition of most of the buildings downtown earlier this year.\n\nAs a business man with local interests, I have always tried to be as supportive as it is possible for me to be of our entire community. I can become passionte about all of the positive opportunities that arise. I could also become frustrated with all of the negative comments and roadblocks that stand in the way of the progress of our community.\n\nI feel it is time the public realizes and supports the impact this facility would have on the community and the reason the project has been slowed down.\n\nThe vision of the doctor and board to build a new medical school in the heart of our county and city is a model of community spirit and partnership for the betterment of so many aspects of our region. The 500 to 700 students and faculty that will be in our Town Square on a daily basis will bring foot traffic and youth, talent and opportunity. Many of the young people will fill many job openings and remain in our community for many years to come.\n\nAs a community full of positive thinkers and optimists, let’s not just be passive and ask ourselves five years from now what could we have done! Let us all gather together and demand answers, demand progress and let our voices ring through city hall."},r={title:"Email",text:"Hi Robyn,\n\nIts was great connect with you earlier, and learn more with your role Fast Co.\n\nI now understand the issues you're encounterin with cross-team collaboration and how can make it harder to ship features on time.\n\nAs disscused, I've attach some more information about our solution and how can we help you maintain more transparent project plans and prevent miscommunications turning into missed deadlines. I'm a very happy to cooperate you on this matter. According to my opinion, you can improve the actual situation relocating in a new bigger office space. It's good thing you already thinking about that.\n\nTell me if you have any question! If not, I look forward to meeting again at Thursday to discuss all the different options that are available.\n\nBest,\nAlex"},o={title:"",text:"Regarding our vaction policy, a decision was made to give everyone an extra day off. The decision was based on the fact that lots people are extra stressed now and not taking time off. We really hope that this will give everyone a good rest. If you have any comments or questions please send them to us promptly. The feedback has always been appreciated.\nAdditionally, please review the latest changes in our work from home police that have been updated this month. The new page was added to our Wiki. It includes a number of new recommendations on how to stay productive remotely."},s={title:"",text:"Welcome to the Grammarly Editor, the best place to write what’s important.\n\nRed underlines mean that Grammarly has spotted a mistake in your writing. You’ll sea one if you mispell something. (See what we did there?) You’ll also see an underline, if you misuse a punctuation mark.If you’re worry about typos or grammatical errors that could effect your credibility, Grammarly will helps you fix those to. Click any of Grammarly’s suggested corrections to apply them to your text, or open a brief explanation to learn more about error and how to fix it.\n\nBut there’s more to good writing than speling, punctuation and grammar. (Sorry, couldn’t resist.)\n\nBrilliant sentences are clear and concise. Underlines that are blue indicate that Grammarly has spotted a sentence that is unnecessarily wordy. Grammarly scores each text based on how clear it will be to your readers and gives you guidance in order to do a revision of it in an effortless manner. Afterall, there are some sentences that are gramatically correct but still awkward and hard to follow. It goes without saying that sometimes you can actually improve a sentence by completely eliminating words that are basically unnecessary."},l={title:"",text:"Hey Susan,\n\nI hope you’re doing well! How was your recent vacation?\n\nAnyway, I just wanted to touchbase quickly about the upcoming presentation we’ll be giving jointly together to the board together. In case you don’t remember, we need to talk about each and every project from this quarter as well as what big plans we have in the works moving forward. It is imperative that we be prepared for questions as well.\n\nUnfortunately I have a couple of concerns about this presentation that I thought I’d chat with you about such as this quarter’s sales numbers are down from last quarter, and I’m eager for your thoughts on how you think we can present that in a way that doesn’t seem overtly negative. Secondly, I think that the presentation might be a little bit stronger if we flipped the order from what it is right now.\n\nCurious to here what you think about this. It is my objective that we get everyone in agreement in a timely manner.\n\nThanks,\nKat"},c={title:"",text:"The last few day have been full of a lot of thinking about what our goals should be for the development of great new features for our users. While there is a ton we could be doing, there's a few areas where I see us helping our users next year: making sure their message is clear and is able to get through to their readers, helping them sound friendlier and develop stronger and more authentic connections with their coworkers, appearing reputable with correct grammar and proper formatting, and feeling more confident about their writing. I hope you're all as excited by these opportunity as I am. The workmanship in our products will be evident to all of our users.  Send me your thoughts and any additional ideas by October 1st."},d={title:"",text:""}},bSlT:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var i,a,r=n("LNSM");!function(e){let t,n,i;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={})),function(e){e.PlagiarismChecker="PlagiarismChecker",e.ClaritySuggestions="ClaritySuggestions",e.EngagementSuggestions="EngagementSuggestions",e.ToneSuggestions="ToneSuggestions",e.UsingMultipleDevices="UsingMultipleDevices"}(n=e.SatisfactionReason||(e.SatisfactionReason={})),function(e){e.LowQualitySuggestions="LowQualitySuggestions",e.PoorPlagiarismSuggestions="PoorPlagiarismSuggestions",e.NoSupportForDesirableApp="NoSupportForDesirableApp",e.AggressivePremiumPromotion="AggressivePremiumPromotion",e.NoPremiumSuggestions="NoPremiumSuggestions",e.PremiumAndFreeAreIdentical="PremiumAndFreeAreIdentical"}(i=e.DissatisfactionReason||(e.DissatisfactionReason={}))}(i||(i={})),function(e){e.isCompleted=e=>"answer1"in e&&"answer2"in e,e.isFirstQuestion=e=>!("answer1"in e||"answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e);const t=[i.Experience.Neutral,i.Experience.SomewhatDissatisfied,i.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&t.includes(e.answer1),e.isSecondAnswerAboutDissatisfaction=t=>e.isCompleted(t)&&Object.keys(i.DissatisfactionReason).includes(t.answer2)}(a||(a={}));class o{constructor(e){this._tracking=e,this.state=r.a.create({})}answer(e){const t=this.state.view(a.isFirstQuestion).get(),n=t?"answer1":"answer2";this.state.modify(t=>Object.assign(Object.assign({},t),{[n]:e})),t?this._tracking.onFirstAnswer(e):this._tracking.onSecondAnswer(e)}}},bUJM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("U75S"),r=n("5p8x"),o=n("OA+g"),s=n("9yh5"),l=n("GUi3"),c=n("kMag"),d=n("dE97"),u=n("UEGg"),p=n("lrqh"),h=n("6fbX"),m=n("jlxt");function g(e,t,n){const i=t.map(e=>m.a.create(n(e))(e));return{ma:{alert:e,marks:i.map(e=>e.meta.id)},marks:i}}function f(e,t,n){return Object(o.pipe)(e.getHighlightRanges(t.id),p.b.map(e=>g(t,e,n)))}!function(e){let t,n;!function(e){let t,n;!function(e){e.hovered="hovered",e.applied="applied",e.inSuccess="inSuccess",e.bulkAccepted="bulkAccepted",e.selected="selected"}(t=e.Type||(e.Type={})),e.eq=p.c.getStructEq({type:p.c.eqString,highlightIndex:p.c.eqNumber}),function(e){e.empty={hovered:[],applied:[],inSuccess:[],bulkAccepted:[],selected:[]},e.copy=function(e){return Object.assign({},e)},e.getPrimaryState=function(e,n){const i=Object.keys(t);return Object(o.pipe)(i,a.T(t=>Object(o.pipe)(e[t],a.S(e=>e.alert.id===n),p.g.map(e=>({type:t,highlightIndex:e.highlightIndex})))))},e.add=function(e,t,n){return e[t].concat([{alert:u.a.fromModel(n.alert),highlightIndex:0}])},e.remove=function(e,t,n){return Object(o.pipe)(e[t],a.O(e=>e.alert.id!==n))},e.removeFromAll=function(e,t){return Object(o.pipe)(e,r.j(a.O(e=>e.alert.id!==t)))}}(n=e.Repository||(e.Repository={}))}(t=e.State||(e.State={})),function(e){e.create=function(e,t,n){const i=(e,t)=>Object(o.pipe)(e,p.g.getOrElse(()=>n(t)));return{fromAlert:(n,a,r)=>f(e,n,t(n,a,i(r,a))),fromRanges:(e,i,a)=>g(i,e,t(i,a,n(a))),updateOn:(n,a,r,s)=>Object(o.pipe)(e.hasNewRangesForUpdate(a.id),p.b.chain(t=>t?e.applyPendingRangesUpdate(a.id):p.b.right(p.g.none)),p.b.chain(p.g.fold(()=>p.b.right(g(a,n,t(a,r,i(s,r)))),n=>(n.removedHighlightedRanges[1](),f(e,a,t(a,r,i(s,r)))))))}}}(n=e.Factory||(e.Factory={})),e.defaultMetaGenerator=function(e,n,i){const a=l.a.outcomeFullTypeMatch(e.lensId===l.a.SpecialId.Premium?l.a.Type.Advanced:e.lensType)({correctness:m.a.Meta.Color.red,premium:m.a.Meta.Color.yellow,clarity:m.a.Meta.Color.blue,engagement:m.a.Meta.Color.green,delivery:m.a.Meta.Color.purple,vox:m.a.Meta.Color.grey,plagiarism:m.a.Meta.Color.cyan}),r=l.a.getSortOrder(e.lensType),g=u.a.isSuper(e);let f;return u.a.isEthicalAI(e)&&(f=void 0!==e.highlightBackgroundColor&&void 0!==e.highlightUnderlineColor?{backgroundColor:e.highlightBackgroundColor,underlineColor:e.highlightUnderlineColor}:void 0),l=>{const u=c.b.isFocusView(l),b=c.b.isEnclosingView(l),y=g?Object(o.pipe)(n,p.g.map(e=>e.highlightIndex),p.g.chain(t=>p.g.fromNullable(e.getHighlightRanges()[t])),p.g.forAll(e=>l.meta.id===e.meta.id))?"full":"background":s.a.byRangeType(e)(l);return u&&!g&&Object(o.pipe)(n,p.g.exists(e=>e.type!==t.Type.bulkAccepted&&e.type!==t.Type.applied&&e.type!==t.Type.inSuccess))?{type:"visible",view:y,color:a,customColor:f,underline:"solid",highlight:"solid",animation:"none",order:r}:b&&!g&&Object(o.pipe)(n,p.g.exists(e=>e.type!==t.Type.bulkAccepted&&e.type!==t.Type.applied&&e.type!==t.Type.inSuccess))?{type:"visible",view:y,color:a,customColor:f,underline:"none",highlight:"solid",animation:"none",order:r+1}:Object(o.pipe)(n,p.g.fold(()=>u&&!g?{type:"hidden",view:y,color:a,customColor:f,underline:"solid",highlight:"solid",animation:i,order:r}:b&&!g?{type:"hidden",view:y,color:a,customColor:f,underline:"none",highlight:"solid",animation:i,order:r+1}:{type:"visible",view:y,color:a,customColor:f,underline:"solid",highlight:"none",animation:i,order:r},({type:n,highlightIndex:s})=>{switch(n){case t.Type.applied:return{type:"visible",view:y,color:m.a.Meta.Color.green,customColor:f,underline:"none",highlight:"solid",animation:"apply",order:r};case t.Type.inSuccess:const v=d.a.isCapiDone(e)&&!(u||b);if(g){return{type:Object(o.pipe)(p.g.fromNullable(e.getHighlightRanges()[s]),p.g.forAll(e=>l.meta.id===e.meta.id))&&v?"visible":"hidden",view:y,color:m.a.Meta.Color.green,customColor:f,underline:"none",highlight:"solid",animation:i,order:r}}return{type:v?"visible":"hidden",view:y,color:m.a.Meta.Color.green,customColor:f,underline:"none",highlight:"solid",animation:i,order:r};case t.Type.bulkAccepted:return{type:"visible",view:y,color:m.a.Meta.Color.grey,customColor:f,underline:"dotted",highlight:"none",animation:i,order:r};case t.Type.hovered:case t.Type.selected:const k=e.getHighlightRanges();if(g){const e=Object(o.pipe)(p.g.fromNullable(k[s]),p.g.forAll(e=>l.meta.id===e.meta.id))?"solid":"none";return{type:"visible",view:y,color:a,customColor:f,underline:e,highlight:"solid",animation:i,order:r}}const w=d.a.isCapiDone(e)?"none":e.hasNestedHighlights?k.some(c.b.isEnclosingView)?"solid":"none":"solid";return{type:"visible",view:y,color:a,customColor:f,underline:w,highlight:"solid",animation:i,order:r};default:return Object(h.d)(n)}}))}},e.getDefaultMarkAnimation=function(e){return Object(o.pipe)(e,p.g.fold(()=>"none",e=>{switch(e.type){case t.Type.applied:return"apply";case t.Type.inSuccess:return"success";case t.Type.bulkAccepted:return"bulkApply";case t.Type.hovered:case t.Type.selected:return"select";default:Object(h.d)(e.type)}}))}}(i||(i={}))},bZeK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("D9EC"),s=n("1w6p"),l=n("ax6a"),c=n("e12y"),d=n("GUi3"),u=n("yB2L"),p=n("3rlE"),h=n("zR/0");!function(e){e.DefaultCounter=s.b.Node.make(({state:e})=>a.createElement(r.a.Fragment,null,e.pipe(h.a.map(({count:e,fontSize:t,lensId:n})=>a.createElement(u.a.OutcomeCounter,{count:e,theme:{counterWrapper:S.get(n),counterContent:w.counterContent},type:"gray",fontSize:t}))))),e.ZeroCounter=s.b.Node.make(()=>a.createElement(p.d.CheckmarkOutcomes,{className:w.zeroCounter})),e.PlagiarismCounter=s.b.Node.make(({state:e})=>a.createElement(r.a.Fragment,null,e.pipe(h.a.map(({count:e,fontSize:t})=>a.createElement(u.a.OutcomeCounter,{count:e,theme:{counterWrapper:w.plagiarismCounterWrapper,counterContent:w.plagiarismCounterContent},suffix:"%",type:"gray",fontSize:t}))))),e.Component=s.b.Union.make("kind",{plagiarism:e.PlagiarismCounter,default:e.DefaultCounter,zero:e.ZeroCounter});const t=e=>!d.a.isPlagiarismId(e);e.createLensCounterFlow=(e,n,i)=>s.a.composeUnion({plagiarism:s.a.fromSideEffect(o.e,n.pipe(h.a.map(e=>({count:e,fontSize:i})))),default:s.a.fromSideEffect(o.e,n.pipe(h.a.combineLatest(e.pipe(h.a.filter(t))),h.a.map(([e,t])=>({count:e,lensId:t,fontSize:i})))),zero:s.a.fromSideEffect(o.e,null)},()=>e.pipe(h.a.combineLatest(n),h.a.map(([e,t])=>({kind:0===t?"zero":e===d.a.SpecialId.Plagiarism?"plagiarism":"default"}))));const n={fill:c.a.important(l.a.CoreNeutral0)},i={fill:c.a.important(l.a.CoreNeutral50)},m={fill:c.a.important(l.a.CoreRed50)},g={fill:c.a.important(l.a.CoreBlue50)},f={fill:c.a.important(l.a.CoreGreen50)},b={fill:c.a.important(l.a.CorePurple50)},y={fill:c.a.important(l.a.CoreNeutral50)},v={fill:c.a.important(l.a.CoreCyan50)},k={fill:l.a.CoreGreen50,minHeight:0,minWidth:c.a.rem(1)},w=c.a.stylesheet({counterWrapper:[],counterContent:[n],zeroCounter:[k],allAlertsCounter:[i],priorityAlertsCounter:[i],correctnessCounter:[m],clarityCounter:[g],engagementCounter:[f],deliveryCounter:[b],voxCounter:[y],plagiarismCounterWrapper:[v],plagiarismCounterContent:[n,{}]}),S=new Map([[d.a.SpecialId.AllAlerts,w.allAlertsCounter],[d.a.SpecialId.Priority,w.priorityAlertsCounter],[d.a.SpecialId.Correctness,w.correctnessCounter],[d.a.SpecialId.Clarity,w.clarityCounter],[d.a.SpecialId.Engagement,w.engagementCounter],[d.a.SpecialId.Delivery,w.deliveryCounter],[d.a.SpecialId.Vox,w.voxCounter],[d.a.SpecialId.CorrectnessPriority,w.correctnessCounter],[d.a.SpecialId.ClarityPriority,w.clarityCounter],[d.a.SpecialId.EngagementPriority,w.engagementCounter],[d.a.SpecialId.DeliveryPriority,w.deliveryCounter],[d.a.SpecialId.VoxPriority,w.voxCounter]])}(i||(i={}))},bZiY:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var i=n("Fgeo"),a=n("9xM8"),r=n("e12y"),o=n("0Hf4"),s=n("D9EC"),l=n("ax6a");const c=l.a.CoreGreen10;var d;!function(e){e.markHeightStandard="alerts1-markHeightStandard",e.markHeightTall="alerts1-markHeightTall",e.markSelected="alerts1-markSelected",e.markSelectedFocused="alerts1-markSelectedFocused",e.markBase="alerts1-markBase",e.markAppliedBase="alerts1-markAppliedBase",e.markVisible="alerts1-markVisible",e.markStart="alerts1-markStart",e.correctness="alerts1-correctness",e.premium="alerts1-premium",e.clarity="alerts1-clarity",e.engagement="alerts1-engagement",e.delivery="alerts1-delivery",e.critical="alerts1-critical",e.advanced="alerts1-advanced",e.plagiarism="alerts1-plagiarism",e.originality="alerts1-originality",e.vox="alerts1-vox",e.synonym="alerts1-synonym",e.markAnimated="alerts1-markAnimated",e.markHidden="alerts1-markHidden",e.markApplied="alerts1-markApplied",e.markBulkApplied="alerts1-markBulkApplied",e.markBulkAppliedAnimation="alerts1-markBulkAppliedAnimation",e.markSuccess="alerts1-markSuccess",e.noAnimation="alerts1-noAnimation"}(d||(d={}));const u="alerts1-custom",p={backgroundPosition:"center calc(100% + 2px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},h={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},m=r.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),g={standard:`calc(${r.a.rem(.45)} - 3px)`,tall:`calc(${r.a.rem(.425)} + 1px)`},f=e=>({to:{backgroundColor:e}}),b=(e,t,n,i,a)=>Object.assign(Object.assign({$unique:!0},p),{paddingBottom:"1px",borderBottom:`2px ${a} ${t}`,transition:"border-bottom-color .5s linear",$nest:Object.assign(Object.assign({},p.$nest),{"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${d.markSelected}.${d.markHeightStandard}`]:{paddingTop:g.standard},[`&.${d.markSelected}.${d.markHeightTall}`]:{paddingTop:g.tall},[`&.${d.markSelected}`]:{$unique:!0,borderBottomColor:i,animation:`${e} 1s ease forwards`},[`&.${d.markSelectedFocused}`]:{$unique:!0,borderBottomColor:n},[`&.${d.markSelected} .${d.markBase}:not(.${d.markSelected})`]:{paddingBottom:"calc(2px + 1px)",borderBottomStyle:"hidden"},[`&.${d.markSelectedFocused} .${d.markBase}:not(.${d.markSelected})`]:{paddingBottom:"calc(2px + 1px)",borderBottomStyle:"hidden"}}}})}),y=r.a.keyframes(f(l.a.CoreRed10)),v=r.a.keyframes(f(l.a.CoreYellow10)),k=r.a.keyframes(f(l.a.CoreCyan10)),w=r.a.keyframes(f(l.a.CorePurple10)),S=r.a.keyframes(f(l.a.CoreNeutral10)),_=r.a.keyframes(f(l.a.CoreBlue10)),C=r.a.keyframes(f(l.a.CoreRed10)),E=r.a.keyframes(f(l.a.CoreYellow10)),O=r.a.keyframes(f(l.a.CoreBlue10)),A=r.a.keyframes(f(l.a.CoreGreen10)),x=r.a.keyframes(f(l.a.CorePurple10)),T=r.a.keyframes(f(l.a.CoreGreen10)),M=e=>{const t=r.a.color(c).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{[`&.${d.markHeightStandard}`]:{paddingTop:g.standard},[`&.${d.markHeightTall}`]:{paddingTop:g.tall}}}},j=e=>{return{borderBottomColor:"transparent",backgroundColor:r.a.color(c).fade(e).toRGBA().toString()}},I=r.a.keyframes({from:M("100%"),to:M("50%")}),R={borderBottomWidth:"2px",borderBottomColor:`${l.a.CoreNeutral40}`,borderBottomStyle:"dotted",backgroundColor:"transparent"},N=r.a.keyframes({to:Object.assign(Object.assign({},M("0%")),R)}),L=r.a.keyframes({from:j("100%"),to:j("50%")}),P={$nest:{[`&.${d.markHeightStandard}`]:{paddingTop:g.standard},[`&.${d.markHeightTall}`]:{paddingTop:g.tall},[`&:not(.${d.markSelected}):not(.${d.markSelectedFocused})`]:{$nest:{[`&.${d.clarity} &.${d.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:l.a.CoreBlue50}}},[`&.${d.correctness}, &.${d.markSelected}, &.${d.markSelectedFocused}`]:{$nest:{[`.${d.markVisible}:not(.${d.markSelected}):not(.${d.markSelectedFocused}).${d.clarity} .${d.markVisible}:not(.${d.markSelected}):not(.${d.markSelectedFocused}).${d.clarity}`]:{}}},[`&.${d.clarity}`]:{$nest:{[`& & &:not(.${d.markSelected}):not(.${d.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},D={borderBottom:"0 solid transparent !important",background:"none",animation:"none"},F=Object(s.l)(()=>({custom(e,t){const n=r.a.color(e).fade(.25).toRGBA().toString(),i=r.a.keyframes(f(n));return[u,d.markBase,r.a.style(b(i,t,t,n,"solid")),o.a.style(b(i,t,t,n,"solid"),h)].join(" ")},markBase:[d.markBase,r.a.style(p),o.a.style(p,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[d.markAppliedBase,d.markBase,r.a.style({paddingBottom:"1px",borderBottom:`2px solid ${c}`})].join(" "),correctness:[d.correctness,d.markBase,r.a.style(b(C,l.a.CoreRed50,l.a.CoreRed50,l.a.CoreRed10,"solid")),o.a.style(b(C,l.a.CoreRed50,l.a.CoreRed50,l.a.CoreRed10,"solid"),h)].join(" "),premium:[d.premium,d.markBase,r.a.style(b(E,l.a.CoreYellow40,l.a.CoreYellow40,l.a.CoreYellow10,"dashed")),o.a.style(b(E,l.a.CoreYellow40,l.a.CoreYellow40,l.a.CoreYellow10,"dashed"),h)].join(" "),clarity:[d.clarity,d.markBase,r.a.style(b(O,l.a.CoreBlue50,l.a.CoreBlue50,l.a.CoreBlue10,"dashed")),o.a.style(b(O,l.a.CoreBlue50,l.a.CoreBlue50,l.a.CoreBlue10,"dashed"),h)].join(" "),markVisible:[d.markVisible,r.a.style(P),o.a.style(P)].join(" "),engagement:[d.engagement,d.markBase,r.a.style(b(A,l.a.CoreGreen50,l.a.CoreGreen50,l.a.CoreGreen10,"dashed")),o.a.style(b(A,l.a.CoreGreen50,l.a.CoreGreen50,l.a.CoreGreen10,"dashed"),h)].join(" "),delivery:[d.delivery,d.markBase,r.a.style(b(x,l.a.CorePurple50,l.a.CorePurple50,l.a.CorePurple10,"dashed")),o.a.style(b(x,l.a.CorePurple50,l.a.CorePurple50,l.a.CorePurple10,"dashed"),h)].join(" "),critical:[d.critical,d.markBase,r.a.style(b(y,l.a.CoreRed50,l.a.CoreRed50,l.a.CoreRed10,"solid")),o.a.style(b(y,l.a.CoreRed50,l.a.CoreRed50,l.a.CoreRed10,"solid"),h)].join(" "),advanced:[d.advanced,d.markBase,r.a.style(b(v,l.a.CoreYellow40,l.a.CoreYellow40,l.a.CoreYellow10,"dashed")),o.a.style(b(v,l.a.CoreYellow40,l.a.CoreYellow40,l.a.CoreYellow10,"dashed"),h)].join(" "),plagiarism:[d.plagiarism,d.markBase,r.a.style(b(k,l.a.CoreCyan50,l.a.CoreCyan50,l.a.CoreCyan10,"solid")),o.a.style(b(v,l.a.CoreCyan50,l.a.CoreCyan50,l.a.CoreCyan10,"solid"),h)].join(" "),originality:[d.originality,d.markBase,r.a.style(b(w,l.a.CorePurple50,l.a.CorePurple50,l.a.CorePurple10,"dashed")),o.a.style(b(x,l.a.CorePurple50,l.a.CorePurple50,l.a.CorePurple10,"dashed"),h)].join(" "),vox:[d.vox,d.markBase,r.a.style(b(S,l.a.CoreNeutral50,l.a.CoreNeutral50,l.a.CoreNeutral10,"dashed")),o.a.style(b(S,l.a.CoreNeutral50,l.a.CoreNeutral50,l.a.CoreNeutral10,"dashed"),h)].join(" "),synonym:[d.synonym,d.markBase,r.a.style(b(_,l.a.CoreBlue50,"transparent",l.a.CoreBlue50,"solid")),o.a.style(b(_,l.a.CoreBlue50,"transparent",l.a.CoreBlue50,"solid"),h)].join(" "),markAnimated:[d.markAnimated,r.a.style({animation:`${m} .075s ease`})].join(" "),markHidden:[d.markHidden,r.a.style(D),o.a.style(D)].join(" "),markBulkAppliedAnimation:[d.markBulkAppliedAnimation,d.markBase,r.a.style(M("100%"),R,{animation:`${I} 2s linear forwards, ${N} .25s linear 2s forwards`})].join(" "),markBulkApplied:[d.markBulkApplied,d.markBase,r.a.style(b(T,l.a.CoreNeutral40,l.a.CoreGreen10,l.a.CoreGreen10,"solid"),R)].join(" "),markApplied:[d.markApplied,r.a.style(M("100%"),{animation:`${I} .25s linear forwards`})].join(" "),markSuccess:[d.markSuccess,r.a.style(j("100%"),{animation:`${L} .25s linear forwards`})].join(" "),noAnimation:[d.noAnimation,r.a.style({animationDuration:"0s !important"})].join(" "),markSelected:d.markSelected,markSelectedFocused:d.markSelectedFocused,markHeightStandard:d.markHeightStandard,markHeightTall:d.markHeightTall,markStart:d.markStart})),B=e=>e===i.l.Default?Object(a.a)():F()},boxh:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("ERkP"),a=n("I7vG"),r=n("vOOZ"),o=n("1w6p"),s=n("rk+4"),l=n("yB2L"),c=n("zR/0"),d=n("RCgc"),u=n("95Qz");const p=o.b.Node.make(({state:e})=>{const t=i.useContext(s.a.Context);return i.createElement(r.a.div,{className:d.a.minimizedContent},i.createElement("div",{className:d.a.minimizedText},t.premiumSuggestions),e.pipe(c.a.map(({alertsCount:e})=>e>0&&i.createElement(l.a.Counter,{type:"yellowPremium",key:"advancedCounter-counter",count:e}))))}),h=o.b.Grid.make(({slots:e,notify:t})=>i.createElement("div",{className:d.a.shadowWrapper,onClick:t("onClick")},e.body)),m=o.b.Knot.make(h,{body:o.b.Composite.make(Object(u.a)(d.a.minimizedWrapper),p)}),g=Object(a.pipe)(o.b.squash(m),o.b.contramapState(e=>({body:e})))},cA63:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("I7vG"),r=n("lrqh"),o=n("yA7V"),s=n("dE97");!function(e){e.create=function(e){const t=t=>Object(a.pipe)(e.get(),o.a.get(t),r.g.map(s.a.fromAlertModel)),n=e=>Object(a.pipe)(t(e),r.g.filter(s.a.isInteractable)),i=e=>Object(a.pipe)(t(e),r.g.filter(s.a.isRegistered));return{getById:t,getRegistered:i,getInteractable:n,isRegistered:e=>Object(a.pipe)(i(e),r.g.isSome),isInteractable:e=>Object(a.pipe)(n(e),r.g.isSome)}}}(i||(i={}))},cQVk:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ERkP"),a=n("vOOZ"),r=n("9NHN"),o=n("rk+4"),s=n("e12y"),l=n("ax6a");const c=({checked:e,id:t,className:n})=>{const s=i.useContext(o.a.Context);return i.createElement("div",{role:"checkbox","data-name":t},i.createElement(a.a.input,{type:"checkbox",id:t,className:d.switchInput,checked:e,onChange:()=>e.modify(e=>!e)}),i.createElement(a.a.label,Object.assign({htmlFor:t},Object(r.c)(d.switchButton,n)),i.createElement("span",{className:d.on},s.on),i.createElement("span",{className:d.off},s.off)))};var d;!function(e){const t=s.a.rem(1.25),n=e=>({"&:hover":{backgroundColor:e},"&:hover::before":{borderColor:e}}),i=s.a.rem(.15);e.switchButton=s.a.style({$debugName:"switchButton",position:"relative",display:"inline-flex",width:s.a.rem(3),height:s.a.rem(1.25),borderRadius:t,backgroundColor:l.a.CoreNeutral50,color:l.a.CoreNeutral0,letterSpacing:s.a.rem(.04625),fontSize:s.a.rem(.625),cursor:"pointer",transition:s.a.seconds(.4),alignItems:"center",userSelect:"none",$nest:Object.assign({"&::before":{position:"absolute",left:0,width:t,height:t,borderWidth:i,borderStyle:"solid",borderColor:l.a.CoreNeutral50,borderRadius:s.a.percent(50),backgroundColor:l.a.CoreNeutral0,content:"''",transition:s.a.seconds(.4),boxSizing:"border-box"}},n(l.a.CoreNeutral40))});const a={position:"relative",textAlign:"center",textTransform:"uppercase",fontWeight:"bold"};e.on=s.a.style(a,{width:s.a.rem(2.125)}),e.off=s.a.style(a,{width:s.a.rem(1.5),marginLeft:t});const r=(t,n)=>({[`& .${e.on}`]:t,[`& .${e.off}`]:n}),o={display:"none"},c={display:"inline-block"};e.switchInput=s.a.style({position:"absolute",opacity:0,$nest:{[`&:checked + .${e.switchButton}`]:{backgroundColor:l.a.CoreBlue50,$nest:Object.assign(Object.assign(Object.assign({},r(c,o)),{"&::before":{transform:`translateX(${s.a.rem(1.75)})`,borderColor:l.a.CoreBlue50}}),n(l.a.CoreBlue40))},[`&:not(:checked) + .${e.switchButton}`]:{$nest:r(o,c)}}})}(d||(d={}))},cppq:function(e,t,n){e.exports=n.p+"files/6a838499830b0c29490541ffdb6154b7/bg.jpg"},cqAx:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m}));var i=n("ERkP"),a=n("I7vG"),r=n("2Jhg"),o=n("lrqh"),s=n("hoSD"),l=n("yAW8"),c=n("Ars8"),d=n("lG5l");const u=e=>i.createElement("div",{className:Object(l.classes)(c.a.akkuratWrapper,e.className),style:e.style},e.children),p=({model:e})=>i.createElement(u,{className:c.a.content},i.createElement("div",{className:c.a.separatorRemover}),i.createElement(d.e,{title:e.title,author:Object(r.h)(e.author)}),i.createElement(d.b,{stats:e.stats}),i.createElement(d.d,{score:e.score,critical:e.criticalIssues,advanced:e.advancedIssues}),Object(a.pipe)(e.plagiarism,o.g.map(e=>i.createElement(d.c,{plagiarismData:e})),o.g.toNullable),!s.e.isEmptyObject(e.issues)&&i.createElement(d.f,{issues:e.issues}),i.createElement(d.a,{stats:e.stats})),h=({title:e})=>i.createElement(u,{style:{width:"100%",marginLeft:"17.4857px",marginRight:"38.4686px",fontFamily:"Akkurat Std",color:"#becafa",letterSpacing:"0.1px",position:"absolute",top:0}},i.createElement("div",{style:{width:"144px",position:"absolute",top:"15.7351px",left:0}},i.createElement("svg",{width:"83.5px",viewBox:"0 0 93 23"},i.createElement("path",{d:"M32.1137999,10.3020362 L32.1137999,10.2761929 C32.1137999,9.3346607 31.3716092,8.67717134 30.4082654,8.67717134 C29.4453916,8.67717134 28.7163619,9.3346607 28.7163619,10.2761929 L28.7163619,10.3020362 C28.7163619,11.2561408 29.4453916,11.9010577 30.4082654,11.9010577 C31.3716092,11.9010577 32.1137999,11.2433355 32.1137999,10.3020362 Z M27.6230525,15.7046709 C27.2846248,15.5761532 27.0632367,15.3053812 27.0632367,14.9440414 C27.0632367,14.5056376 27.4275165,14.1447634 27.8702927,14.1447634 C28.0004933,14.1447634 28.1046069,14.170141 28.1955593,14.2092551 C28.7683012,14.4669891 29.3802912,14.6215829 30.1222469,14.6215829 C31.4757227,14.6215829 32.1137999,13.9771316 32.1137999,12.7389841 L32.1137999,12.4037204 C31.527897,13.1003239 30.8902898,13.5256897 29.8357585,13.5256897 C28.2087204,13.5256897 26.7375,12.352034 26.7375,10.3020362 L26.7375,10.2761929 C26.7375,8.21315707 28.2345725,7.05253935 29.8357585,7.05253935 C30.9159069,7.05253935 31.5539841,7.50398123 32.0874778,8.08394085 L32.0874778,8.07113564 C32.0874778,7.54239686 32.530019,7.10399301 33.0766737,7.10399301 C33.6233284,7.10399301 34.0658696,7.54239686 34.0658696,8.08394085 L34.0658696,12.5327038 C34.0658696,13.7708513 33.7666901,14.6732694 33.1807872,15.2536947 C32.530019,15.8983788 31.527897,16.1821889 30.1744212,16.1821889 C29.2498556,16.1821889 28.4430346,16.0273622 27.6230525,15.7046709 Z M35.5315436,8.05210654 C35.5315436,7.49972039 35.9859169,7.05253935 36.5476701,7.05253935 C37.1089407,7.05253935 37.5633141,7.49972039 37.5633141,8.05210654 L37.5633141,8.36772184 C37.8574624,7.68400743 38.3383791,7.05253935 38.9399473,7.05253935 C39.5680588,7.05253935 39.9285653,7.46053565 39.9285653,8.02574589 C39.9285653,8.55200888 39.5810891,8.8673867 39.1670133,8.9597677 C38.1380977,9.19677603 37.5633141,9.97263396 37.5633141,11.3927841 L37.5633141,13.2608277 C37.5633141,13.8129763 37.1089407,14.2601574 36.5476701,14.2601574 C35.9859169,14.2601574 35.5315436,13.8129763 35.5315436,13.2608277 L35.5315436,8.05210654 Z M39.9285653,12.118996 L39.9285653,12.092591 C39.9285653,10.5651097 41.0750287,9.85971938 42.7113383,9.85971938 C43.406799,9.85971938 43.9094379,9.97736302 44.3988189,10.1471094 L44.3988189,10.0294657 C44.3988189,9.20690326 43.8964126,8.75000271 42.917418,8.75000271 C42.3764007,8.75000271 41.9384233,8.82827463 41.5648749,8.94591827 C41.4488097,8.98505423 41.3713554,8.99825672 41.281341,8.99825672 C40.8303382,8.99825672 40.4695825,8.64556156 40.4695825,8.18842524 C40.4695825,7.8362016 40.6884549,7.53560913 40.997807,7.41796549 C41.6162785,7.18291396 42.2859211,7.05253935 43.2009519,7.05253935 C44.269961,7.05253935 45.042876,7.33992932 45.532257,7.8362016 C46.0476887,8.35817158 46.279819,9.1288671 46.279819,10.0690732 L46.279819,13.2546461 C46.279819,13.7902901 45.8546344,14.2078189 45.3264099,14.2078189 C44.759342,14.2078189 44.3857936,13.8034926 44.3857936,13.3854922 L44.3857936,13.3722897 C43.9094379,13.9079337 43.2523555,14.2601574 42.2989464,14.2601574 C40.997807,14.2601574 39.9285653,13.5029001 39.9285653,12.118996 Z M47.256935,8.09698499 C47.256935,7.54859209 47.7036529,7.10464375 48.2557042,7.10464375 C48.8075183,7.10464375 49.2542362,7.54859209 49.2542362,8.09698499 L49.2542362,8.17549524 C49.713765,7.58772933 50.318483,7.05253935 51.3303003,7.05253935 C52.2498323,7.05253935 52.9463611,7.45711468 53.314079,8.16252808 C53.9316078,7.44414752 54.6675181,7.05253935 55.626906,7.05253935 C57.1117745,7.05253935 58.0052104,7.94043603 58.0052104,9.62498776 L58.0052104,13.2680519 C58.0052104,13.816209 57.5584925,14.2601574 57.0062039,14.2601574 C56.4543898,14.2601574 56.0076719,13.816209 56.0076719,13.2680519 L56.0076719,10.2778252 C56.0076719,9.33758838 55.5875246,8.85426703 54.838329,8.85426703 C54.0893707,8.85426703 53.6298419,9.33758838 53.6298419,10.2778252 L53.6298419,13.2680519 C53.6298419,13.816209 53.183124,14.2601574 52.6308354,14.2601574 C52.0790214,14.2601574 51.6323034,13.816209 51.6323034,13.2680519 L51.6323034,10.2778252 C51.6323034,9.33758838 51.2119188,8.85426703 50.4629605,8.85426703 C49.713765,8.85426703 49.2542362,9.33758838 49.2542362,10.2778252 L49.2542362,13.2680519 C49.2542362,13.816209 48.8075183,14.2601574 48.2557042,14.2601574 C47.7036529,14.2601574 47.256935,13.816209 47.256935,13.2680519 L47.256935,8.09698499 Z M59.4708843,8.09698499 C59.4708843,7.54859209 59.9176023,7.10464375 60.4696536,7.10464375 C61.0214677,7.10464375 61.4681856,7.54859209 61.4681856,8.09698499 L61.4681856,8.17549524 C61.9277144,7.58772933 62.5326696,7.05253935 63.5442497,7.05253935 C64.4637816,7.05253935 65.1603105,7.45711468 65.5280284,8.16252808 C66.1457945,7.44414752 66.8814675,7.05253935 67.8408553,7.05253935 C69.3257239,7.05253935 70.2191598,7.94043603 70.2191598,9.62498776 L70.2191598,13.2680519 C70.2191598,13.816209 69.7724419,14.2601574 69.2201533,14.2601574 C68.6685765,14.2601574 68.2218585,13.816209 68.2218585,13.2680519 L68.2218585,10.2778252 C68.2218585,9.33758838 67.8014739,8.85426703 67.0522784,8.85426703 C66.3033201,8.85426703 65.8437913,9.33758838 65.8437913,10.2778252 L65.8437913,13.2680519 C65.8437913,13.816209 65.3970734,14.2601574 64.8447848,14.2601574 C64.2929707,14.2601574 63.8462528,13.816209 63.8462528,13.2680519 L63.8462528,10.2778252 C63.8462528,9.33758838 63.4261055,8.85426703 62.6769099,8.85426703 C61.9277144,8.85426703 61.4681856,9.33758838 61.4681856,10.2778252 L61.4681856,13.2680519 C61.4681856,13.816209 61.0214677,14.2601574 60.4696536,14.2601574 C59.9176023,14.2601574 59.4708843,13.816209 59.4708843,13.2680519 L59.4708843,8.09698499 Z M70.7077178,12.118996 L70.7077178,12.092591 C70.7077178,10.5651097 71.8542231,9.85971938 73.4903601,9.85971938 C74.1863114,9.85971938 74.6882709,9.97736302 75.1779025,10.1471094 L75.1779025,10.0294657 C75.1779025,9.20690326 74.6757103,8.75000271 73.6964472,8.75000271 C73.1554102,8.75000271 72.7174168,8.82827463 72.3438547,8.94591827 C72.2277853,8.98505423 72.1507933,8.99825672 72.0603103,8.99825672 C71.6092911,8.99825672 71.2487548,8.64556156 71.2487548,8.18842524 C71.2487548,7.8362016 71.4678678,7.53560913 71.776766,7.41796549 C72.3952602,7.18291396 73.0653925,7.05253935 73.979759,7.05253935 C75.0492724,7.05253935 75.8222157,7.33992932 76.3118472,7.8362016 C76.8268326,8.35817158 77.0589714,9.1288671 77.0589714,10.0690732 L77.0589714,13.2546461 C77.0589714,13.7902901 76.6337712,14.2078189 76.10576,14.2078189 C75.538904,14.2078189 75.1653418,13.8034926 75.1653418,13.3854922 L75.1653418,13.3722897 C74.6882709,13.9079337 74.0313971,14.2601574 73.0781857,14.2601574 C71.776766,14.2601574 70.7077178,13.5029001 70.7077178,12.118996 Z M78.5246454,8.05210654 C78.5246454,7.49972039 78.9792601,7.05253935 79.540772,7.05253935 C80.1020425,7.05253935 80.5564159,7.49972039 80.5564159,8.05210654 L80.5564159,8.36772184 C80.8505642,7.68400743 81.3314809,7.05253935 81.9330491,7.05253935 C82.5611606,7.05253935 82.9216671,7.46053565 82.9216671,8.02574589 C82.9216671,8.55200888 82.5741909,8.8673867 82.1603564,8.9597677 C81.1311995,9.19677603 80.5564159,9.97263396 80.5564159,11.3927841 L80.5564159,13.2608277 C80.5564159,13.8129763 80.1020425,14.2601574 79.540772,14.2601574 C78.9792601,14.2601574 78.5246454,13.8129763 78.5246454,13.2608277 L78.5246454,8.05210654 Z M86.930076,16.0926159 C86.6386162,15.9887322 86.293794,15.7541713 86.293794,15.2728277 C86.293794,14.7907791 86.6780997,14.4654962 87.0892063,14.4654962 C87.2480973,14.4654962 87.3407039,14.4915846 87.4203887,14.517438 C87.5926802,14.5696149 87.6986873,14.5957033 87.8446565,14.5957033 C88.2024006,14.5957033 88.374692,14.5305997 88.5601447,14.1789933 L88.6266683,14.0229327 L86.2011873,8.50346419 C86.1483034,8.37349204 86.0951802,8.17794623 86.0951802,8.0482091 C86.0951802,7.48836521 86.5326091,7.09774365 87.0892063,7.09774365 C87.5926802,7.09774365 87.8843792,7.37108473 88.0566707,7.83950155 L89.5941327,11.9010727 L91.0782323,7.85266329 C91.2376019,7.43618832 91.5288223,7.09774365 92.0456967,7.09774365 C92.5628104,7.09774365 93,7.48836521 93,8.00872389 C93,8.16525455 92.9468768,8.38665378 92.9073933,8.47761078 L90.4290285,14.3223623 C89.8324693,15.7412445 89.2361494,16.275 88.0298698,16.275 C87.5792798,16.275 87.2614977,16.2098964 86.930076,16.0926159 Z M83.4102251,5.63428404 C83.4102251,5.09034375 83.8474903,4.65 84.387109,4.65 C84.9274239,4.65 85.364457,5.09034375 85.364457,5.63428404 L85.364457,13.2761072 C85.364457,13.8198136 84.9274239,14.2601574 84.387109,14.2601574 C83.8474903,14.2601574 83.4102251,13.8198136 83.4102251,13.2761072 L83.4102251,5.63428404 Z M44.4248696,11.6618596 L44.4248696,11.3091645 C44.0896995,11.1526206 43.6517221,11.0481795 43.1749012,11.0481795 C42.3373247,11.0481795 41.8223582,11.3876722 41.8223582,12.0145548 L41.8223582,12.0404883 C41.8223582,12.5761323 42.2603356,12.88922 42.8913673,12.88922 C43.8063981,12.88922 44.4248696,12.379981 44.4248696,11.6618596 Z M75.2037215,11.6618596 L75.2037215,11.3091645 C74.8687717,11.1526206 74.4307782,11.0481795 73.9544051,11.0481795 C73.1167979,11.0481795 72.6013474,11.3876722 72.6013474,12.0145548 L72.6013474,12.0404883 C72.6013474,12.5761323 73.0393408,12.88922 73.6708608,12.88922 C74.5854599,12.88922 75.2037215,12.379981 75.2037215,11.6618596 Z",fill:"#2B2D38"}),i.createElement("path",{d:"M22.0875,11.04375 C22.0875,17.1430211 17.1430211,22.0875 11.04375,22.0875 C4.94447894,22.0875 0,17.1430211 0,11.04375 C0,4.94447894 4.94447894,0 11.04375,0 C17.1430211,0 22.0875,4.94447894 22.0875,11.04375 Z M13.08629,12.2595253 C12.6265316,12.2595253 12.2634378,12.6652216 12.3492818,13.1315014 C12.4146868,13.4862794 12.7551774,13.72932 13.1230803,13.72932 L14.2820947,13.72932 L14.9536979,13.6369127 C13.8790847,15.1833207 12.0128791,15.8947626 9.9720999,15.5805306 C8.31100614,15.3247604 6.88387942,14.2231805 6.28200946,12.684316 C4.91523805,9.19122567 7.51749002,5.8563121 10.9086894,5.8563121 C12.6758257,5.8563121 14.2253463,6.86996364 15.1140844,8.09483187 L15.1143248,8.09483187 C15.1145653,8.09483187 15.1148058,8.12076249 15.1152867,8.12123396 C15.3509369,8.45479604 15.8181496,8.55026787 16.1583997,8.31924961 C16.4820581,8.0993108 16.5710281,7.68206354 16.3764964,7.35392332 L16.381546,7.35392332 C15.1523174,5.47301038 12.9436975,4.26912238 10.4599921,4.43224956 C7.22581273,4.64488065 4.60817136,7.23959285 4.42253668,10.4120864 C4.20636365,14.1034282 7.19335071,17.1175092 10.9086894,17.1175092 C12.8600177,17.1175092 14.6069554,16.2844291 15.7974701,14.9365083 L15.6565609,15.7094765 L15.6565609,16.4081889 C15.6565609,16.7688602 15.9044745,17.1026581 16.266366,17.1667774 C16.7419947,17.2509341 17.1558254,16.8949774 17.1558254,16.444256 L17.1558254,12.2595253 L13.08629,12.2595253 Z",fill:"#15C39A"}))),i.createElement("p",{style:{position:"absolute",left:"111.05px",width:"823px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"2px solid #e4e6f2",transform:"scale(0.563)",transformOrigin:"top left",paddingBottom:"21px",top:0,fontSize:"19px"}},"Report: ",e)),m=()=>i.createElement(u,{style:{marginLeft:"128.8807px",marginRight:"25.4686px",width:"100%",fontFamily:"Akkurat Std",fontSize:"19px",color:"#becafa",letterSpacing:"0.1px",lineHeight:"90px"}},i.createElement("div",{style:{position:"relative",top:"-19px",transform:"scale(0.563)",transformOrigin:"top left",width:"180%",borderTop:"1px solid #e4e6f2"}},i.createElement("div",{style:{position:"absolute",top:0,width:"100%",zIndex:1e3}},"Report was generated on ",(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),i.createElement("span",{style:{float:"right"}},"Page ",i.createElement("span",{className:"pageNumber"})," of ",i.createElement("span",{className:"totalPages"})))))},czBP:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var i=n("ERkP"),a=n("vOOZ"),r=n("D9EC"),o=n("rmZI"),s=n("6lhv"),l=n("bO3R"),c=n("3rlE"),d=n("rk+4"),u=n("BugA"),p=n("ax6a"),h=n("e12y"),m=n("ps/9");const g={position:"fixed",bottom:h.a.rem(1),right:h.a.rem(1),zIndex:m.j,width:h.a.rem(20),padding:h.a.rem(2),background:p.a.CoreNeutral0,transition:`transform ${h.a.seconds(.1)} linear ${h.a.seconds(.1)}`,transform:"perspective(100)",borderRadius:h.a.rem(m.s),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},f={transitionDelay:h.a.seconds(0),transform:"perspective(100) rotateY(90deg)"},b={transform:"perspective(100) rotateY(-90deg)"},y={paddingBottom:h.a.rem(1)},v={marginBottom:h.a.rem(1)},k={width:h.a.percent(100),borderRadius:h.a.rem(m.t),padding:`${h.a.rem(.5)} 0 ${h.a.rem(.5)} ${h.a.rem(.5)}`,lineHeight:h.a.rem(1.3125),margin:"0 2px"},w={width:h.a.rem(1),height:h.a.rem(1),minHeight:h.a.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:h.a.rem(.25)},S={color:p.a.CoreBlue50,textDecoration:"none"},_={paddingTop:h.a.rem(2),height:h.a.rem(15),flexGrow:1},C={marginBottom:h.a.rem(.5)},E={$nest:{"& p":{marginTop:h.a.rem(1),marginBottom:h.a.rem(1)},"& p:last-child":{marginBottom:0},"& ul":{paddingLeft:h.a.rem(2)},"& a":{color:p.a.CoreBlue50,textDecoration:"none"}}},O={marginTop:h.a.rem(1),marginBottom:h.a.rem(1)},A={marginTop:h.a.rem(1)},x=h.a.stylesheet({notification:[g],rotateHide:[g,f],rotateShow:[g,b],closeIcon:[{position:"absolute",top:0,right:0}],question:[y],questionText:[v],answerBtn:[k],answer:[{whiteSpace:"normal"}],outcomeIcon:[w],learnMoreLink:[S],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[_],completionHeader:[C],badExperience:[E],openQuestion:[O],contactSupport:[A]}),T=({onComplete:e})=>{const t=i.useContext(d.a.Context).gbSatisfactionSurvey.thankYou;return i.createElement(a.a.div,{className:x.completionScreen},i.createElement(c.d.NotificationInfo,{width:40}),i.createElement("div",{className:x.completionContent},i.createElement(u.e,{className:x.completionHeader},t)," "),i.createElement(l.a.Primary,{name:"survey.done",onClick:e},"done"))};var M=n("H37f");const j=({answerType:e,viewModel:t,children:n})=>i.createElement(l.a.Flat,{className:x.answerBtn,name:`answer.${e}`,onClick:()=>t.answer(e)},i.createElement("span",{className:x.answer},n));var I=o.b.Experience;const R=({viewModel:e})=>{const t=i.useContext(d.a.Context).premiumOnboardingSurvey.firstQuestion;return i.createElement("div",{className:x.question},i.createElement(u.e,{className:x.questionText},t.question),i.createElement(j,{answerType:I.VerySatisfied,viewModel:e},i.createElement(M.b,null,"😄")," ",t.answers.verySatisfied),i.createElement(j,{answerType:I.SomewhatSatisfied,viewModel:e},i.createElement(M.b,null,"🙂")," ",t.answers.somewhatSatisfied),i.createElement(j,{answerType:I.Neutral,viewModel:e},i.createElement(M.b,null,"😐")," ",t.answers.neutral),i.createElement(j,{answerType:I.SomewhatDissatisfied,viewModel:e},i.createElement(M.b,null,"🙁")," ",t.answers.somewhatDissatisfied),i.createElement(j,{answerType:I.VeryDissatisfied,viewModel:e},i.createElement(M.b,null,"😞")," ",t.answers.veryDissatisfied))};var N=o.b.dissatisfactionReasons,L=o.b.adminSatisfactionReasons,P=o.b.teamMemberSatisfactionReasons;const D=({viewModel:e})=>i.createElement(a.a.div,{className:x.question},e.state.view(o.a.isSecondQuestionAboutDissatisfaction).view(Object(r.c)(i.createElement(F,{viewModel:e}),i.createElement(B,{viewModel:e})))),F=({viewModel:e})=>{const t=i.useContext(d.a.Context).gbSatisfactionSurvey.secondDissatisfactionQuestion,n=t.answers[e.isAdmin?"admin":"teamMember"];return i.createElement(i.Fragment,null,i.createElement(u.e,{className:x.questionText},t.question),N.map(t=>i.createElement(j,{key:t,answerType:t,viewModel:e},n[t])))},B=({viewModel:e})=>{const t=i.useContext(d.a.Context).gbSatisfactionSurvey.secondSatisfactionQuestion,n=e.isAdmin?L.map(n=>i.createElement(j,{key:n,answerType:n,viewModel:e},t.answers.admin[n])):P.map(n=>i.createElement(j,{key:n,answerType:n,viewModel:e},t.answers.teamMember[n]));return i.createElement(i.Fragment,null,i.createElement(u.e,{className:x.questionText},t.question),n)};var H=n("LNSM"),V=n("rmLU"),U=n("zI3C"),q=n("wsrD"),W=n("rXcq");const $=({viewModel:e,onComplete:t})=>i.createElement(a.a.div,{className:x.question},e.state.view(o.a.isSecondQuestionAboutDissatisfaction).view(Object(r.c)(i.createElement(K,{viewModel:e,onComplete:t}),i.createElement(Y,{viewModel:e})))),z=({onComplete:e})=>{const t=i.useContext(V.a.Context),n=i.useContext(U.a.Context),a=i.useContext(d.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion;return i.createElement(i.Fragment,null,i.createElement(u.a,{className:x.badExperience},a.admin.TechnicalDifficulties),i.createElement(l.a.Primary,{className:x.contactSupport,name:"survey.done",onClick:()=>{e(),n.actions.openPopup(new W.a(t.support.newRequest))}},"Contact support"))},G=({viewModel:e})=>{const t=i.useContext(d.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion[e.isAdmin?"admin":"teamMember"].DidntFindItValuable,{title:n,answers:a}=t;return i.createElement(i.Fragment,null,i.createElement(u.e,{className:x.questionText},n),Object.keys(a).map(t=>{const n=a[t];return i.createElement(j,{key:t,answerType:t,viewModel:e},n)}))},K=({viewModel:e,onComplete:t})=>{const n=i.useContext(V.a.Context),a=[n.extension.chrome.installURL,n.extension.edge.infoURL,n.extension.firefox.installURL,n.extension.safari.installURL,n.funnel.keyboardInstall,n.funnel.desktopAppInstall],r=i.useContext(d.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion,s=H.a.create(""),c=e.state.view(o.a.getSecondQuestionAnswer).get();return e.isAdmin&&"TechnicalDifficulties"===c?i.createElement(z,{onComplete:t}):"DidntFindItValuable"===c?i.createElement(G,{viewModel:e}):i.createElement(i.Fragment,null,i.createElement(u.a,{className:x.badExperience},(()=>{if(e.isAdmin){if("DoesntIntegrateWithAnAppIUse"===c)return r.admin.DoesntIntegrateWithAnAppIUse(...a)}else{if("DoesntIntegrateWithAnAppIUse"===c)return r.teamMember.DoesntIntegrateWithAnAppIUse(...a);if("NotSureWhatGrammarlyBusinessDoes"===c)return r.teamMember.NotSureWhatGrammarlyBusinessDoes(...a)}return r[e.isAdmin?"admin":"teamMember"][c]})()),i.createElement(q.d,{name:"survey-feedback-disliked",className:x.openQuestion,autofocus:!0,value:s}),i.createElement(l.a.Primary,{name:"survey.done",disabled:s.view(e=>!e),onClick:()=>e.answer(s.get())},"Share feedback"))},Y=({viewModel:e})=>{const t=i.useContext(d.a.Context).gbSatisfactionSurvey.thirdSatisfactionQuestion,n=H.a.create("");return i.createElement(i.Fragment,null,i.createElement(u.e,{className:x.questionText},t.title),i.createElement(u.a,null,t.question),i.createElement(q.d,{name:"survey-feedback-liked",className:x.openQuestion,autofocus:!0,value:n}),i.createElement(l.a.Primary,{name:"survey.done",disabled:n.view(e=>!e),onClick:()=>e.answer(n.get())},"Share feedback"))},X=({viewModel:e,onClose:t,onComplete:n})=>i.createElement(Z,{viewModel:e},a=>i.createElement(i.Fragment,null,o.a.isFirstQuestion(a)?i.createElement(R,{viewModel:e}):o.a.isSecondQuestion(a)?i.createElement(D,{viewModel:e}):o.a.isThirdQuestion(a)?i.createElement($,{viewModel:e,onComplete:n}):i.createElement(T,{onComplete:n}),i.createElement(l.a,{name:"survey-close",className:x.closeIcon,onClick:o.a.isThirdQuestion(a)?n:t},i.createElement(c.d.Close,null)))),Z=({viewModel:e,children:t})=>i.createElement(s.a,{state:e.state,stateToClassMapper:(e,t)=>{const[n,i]=e&&o.a.isFirstQuestion(e)&&o.a.isSecondQuestion(t)||e&&o.a.isSecondQuestion(e)&&o.a.isThirdQuestion(t)||e&&o.a.isThirdQuestion(e)&&o.a.isCompleted(t)?[x.rotateHide,x.rotateShow]:[x.notification,x.notification];return{prev:{start:x.notification,end:n},next:{start:i,end:x.notification}}}},e=>i.createElement(a.a.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:r.e},t(e.state)))},dCuA:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ERkP"),a=n("vOOZ"),r=n("LNSM"),o=n("lrqh"),s=n("hoSD"),l=n("PrA7"),c=n("NW9S"),d=n("GGUR"),u=n("zR/0"),p=n("gy42");class h extends i.Component{constructor(){super(...arguments),this._log=l.Monitoring.Logging.getLogger("CardsListConnectorView",l.Logging.LogLevel.DEBUG),this._subs=new d.a.Keeper}componentDidMount(){!0===this.props.isMaster&&this._setMaster()}componentDidUpdate(e){const t=this.props.name;this._log.debug("lensview did update",{wasMaster:e.isMaster,nowMaster:this.props.isMaster,name:t}),!0===this.props.isMaster?!1===e.isMaster?(this._log.info("reuse released view",t),this.forceUpdate(()=>{this._setMaster(),this._log.trace("view force update complete",t)})):(this._log.trace("set master view",t),this._setMaster()):(this._log.trace("release master view",t),this._clearSubs())}componentWillUnmount(){this._clearSubs()}render(){const{className:e,children:t,height:n}=this.props;return i.createElement(a.a.div,{"data-purpose":"card-list-connector",style:n.pipe(u.a.map(e=>({height:e}))),className:e},t)}_setMaster(){this._setSubs()}_setSubs(){this._clearSubs(),this._subs.push(this.props.stateSyncListener.subscribe())}_clearSubs(){this._subs.dispose()}}!function(e){let t;!function(e){e.create=()=>r.a.create({scrollProvider:o.g.none,scrollConsumer:o.g.none,viewport:o.g.none,title:o.g.none})}(t=e.Elements||(e.Elements={})),e.boundedScrollListener=(e,t)=>u.a.mergeStatic(u.a.defer(()=>{e.paddingTop.set(0)}),t.view("viewport").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,e=>p.a.getResizeObservable(e).pipe(u.a.map(t=>Object.assign(Object.assign({},t),{top:e.offsetTop,height:e.offsetHeight}))))),u.a.tap(t=>e.viewport.set({top:c.b.FromWindowTop.ISO.wrap(t.top),height:t.height}))),t.view("scrollProvider").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,t=>u.a.fromEvent(t,"scroll").pipe(u.a.map(()=>t.scrollTop),u.a.startWith(t.scrollTop),u.a.tap(t=>e.scrollTop.set(t)),u.a.mapTo(p.b.voidValue))))),t.view("title").pipe(u.a.switchMap(o.g.fold(()=>u.a.of(s.c.Rect.empty),e=>p.a.getResizeObservable(e))),u.a.map(e=>e.height),u.a.shareReplay({bufferSize:1,refCount:!0}),u.a.tap(t=>e.paddingTop.set(t))),t.view("scrollConsumer").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,t=>e.scrollOffset.pipe(u.a.tap(e=>{t.scrollTop+=e})))))).pipe(u.a.mapTo(void 0)),e.superScrollListener=(e,t)=>{const n=t.view("title").pipe(u.a.switchMap(o.g.fold(()=>u.a.of(s.c.Rect.empty),e=>p.a.getResizeObservable(e))),u.a.map(e=>e.height),u.a.shareReplay({bufferSize:1,refCount:!0}));return u.a.mergeStatic(u.a.defer(()=>{e.paddingTop.set(0)}),t.view("viewport").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,e=>p.a.getResizeObservable(e).pipe(u.a.map(t=>Object.assign(Object.assign({},t),{top:e.offsetTop,height:e.offsetHeight}))))),u.a.tap(t=>e.viewport.set({top:c.b.FromWindowTop.ISO.wrap(t.top),height:t.height}))),t.view("scrollProvider").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,t=>u.a.fromEvent(t,"scroll").pipe(u.a.map(()=>t.scrollTop),u.a.startWith(t.scrollTop),u.a.tap(t=>e.scrollTop.set(t)),u.a.mapTo(p.b.voidValue))))),t.view("scrollConsumer").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,t=>e.scrollOffset.pipe(u.a.scan((e,t)=>e-t,0),u.a.tap(e=>{t.style.transform=`translateY(${e}px)`})))),u.a.combineLatest(n),u.a.tap(([t,n])=>e.paddingTop.set(t+n)))).pipe(u.a.mapTo(void 0))}}(h||(h={}))},dOkW:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("OA+g"),a=n("lrqh"),r=n("1w6p"),o=n("BeBM"),s=n("bFfh"),l=n("zR/0");function c(e,t){return r.a.composeKnot({content:r.a.fromSideEffect(i.constVoid,u(e,t)),root:d()})}const d=()=>()=>l.a.of({});function u(e,t){const n=e.view(t.getActiveAlertsCount).view(e=>0===e),r=e.view(s.a.Prism.getFeedItems());return e.pipe(l.a.map(o.k.getActiveItem),l.a.map(e=>{if(a.g.isNone(e))return{root:"empty",card:{kind:"empty"}};const o=a.g.unsafeGet(e),s=r.get(),l=Object(i.pipe)(s.getAt(s.size-1),a.g.exists(e=>e.id===o.id));return{root:o.id,card:t.viewState(n.get(),l)(o)}}))}},dS2Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i,a,r=n("OA+g"),o=n("I7vG"),s=n("LNSM"),l=n("zR/0"),c=n("kFFO"),d=n("W39u"),u=n("XxrX"),p=n("lrqh"),h=n("6fbX");!function(e){e.id="DraftAIItemId",e.Kind="DraftAIItem",e.eq=p.c.fromEquals((e,t)=>d.a.PositionState.eq.equals(e.positionState,t.positionState)&&e.visibilityState===t.visibilityState),e.isDraftAIItem=function(t){return t.id===e.id},e.changePosition=e=>t=>new m(e.visibilityState,t),e.clone=e=>new m(e.visibilityState,e.positionState),e.createCard=e=>()=>Object(o.pipe)(e,p.g.fold(()=>new m("visible",d.a.PositionState.changeWatched(d.a.PositionState.empty,!0)),e=>new m(e.visibilityState,e.positionState)))}(i||(i={}));class m{constructor(e,t){this.visibilityState=e,this.positionState=t,this.kind=i.Kind,this.id=i.id,this.renderOptions=u.a.defaultOptions}equals(e){return i.eq.equals(this,e)}hashCode(){return Object(c.a)({positionState:JSON.stringify(this.positionState),visibilityState:this.visibilityState})}}!function(e){let t;!function(e){let t,n;!function(e){e.draftAIMiniCardClick="draftAIMiniCardClick",e.draftAIMiniCardMount="draftAIMiniCardMount"}(t=e.Kind||(e.Kind={})),function(e){let t;!function(e){e.collapsed="collapsed",e.expanded="expanded"}(t=e.NextState||(e.NextState={}))}(n=e.ToggleNonPriorityCards||(e.ToggleNonPriorityCards={})),e.match=e=>n=>{switch(n.kind){case t.draftAIMiniCardMount:return e.onMount(n);case t.draftAIMiniCardClick:return e.onCardClick(n);default:return Object(h.d)(n)}},e.isMiniCardClick=function(t){return t.kind===e.Kind.draftAIMiniCardClick}}(t=e.Event||(e.Event={})),e.create=e=>{const i=new l.a.Subject,a=s.a.create({node:p.g.none,title:e});return i.subscribe(Object(r.flow)(t.match({onMount:n,onCardClick:()=>r.identity}),a.modify.bind(a))),{state:a,events:i}};const n=e=>t=>({node:e.node,title:t.title})}(a||(a={}))},eZux:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("LNSM"),r=n("prnJ"),o=n("lrqh"),s=n("aIes"),l=n("gy42");!function(e){e.create=function(e,t,n,i){const c=s.b.O.unwrap(t.style),d=s.b.O.unwrap(t.audience),u=s.b.O.unwrap(r.a.OutcomeContext.defaultAcademic),p=s.b.O.unwrap(t.domain),h=a.a.create(e),m=h.lens("style").lens(c),g=h.lens("domain").lens(p),f=h.lens("outcomeContext").lens(u).lens("type"),b=h.lens("outcomeContext").lens(u).lens("citation"),y=n.isStudentsOFE?g.view(e=>"academic"!==e):a.a.create(!0),v=l.b.invert(y),k={audience:{items:r.a.audiences,current:h.lens("audience").lens(d),default:o.g.some(t.audience),isVisible:y},formality:{items:r.a.formalityLevels,current:m,default:o.g.some(t.style),isVisible:y,shouldDisable:e=>g.view(t=>!r.a.isStyleValidWithDomain(t,e))},domain:{items:r.a.domains,current:g,default:o.g.some(t.domain),isVisible:a.a.create(!0),shouldDisable:e=>m.view(t=>n.isFree?"general"!==e:!r.a.isStyleValidWithDomain(e,t))},intent:{items:r.a.goals.filter(e=>"sell"!==e),isVisible:y,current:h.lens("goals")},type:{items:r.a.academicTypes,default:o.g.some("essay"),isVisible:v,current:f},format:{items:r.a.citation,default:o.g.some("apa"),isVisible:v,current:b}};return{localContext:h,blocks:k,showSetGoalsLoader:a.a.create(!n.demoMode&&i)}}}(i||(i={}))},ev6t:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("e12y"),a=n("SGQG"),r=n("ax6a");const o=i.a.rem(1),s={paddingLeft:i.a.rem(2),paddingRight:o},l={$nest:{["& ."+a.a.header]:{marginBottom:i.a.important(0),marginTop:i.a.rem(.25)}}},c=i.a.prefixedStylesheet("draft_ai_card",{onboardingNotification:[l],blue:[{background:r.a.CoreNeutral10}],titleIcon:[{display:"block",position:"absolute",left:i.a.rem(-1.625),top:i.a.rem(.375),width:i.a.rem(1.25),height:i.a.rem(1.25)}],cardWrapper:[{background:r.a.CoreNeutral0,borderRadius:i.a.rem(.5),paddingBottom:i.a.rem(.5)},s],cardHeader:[{position:"relative",paddingTop:i.a.rem(.5),paddingBottom:i.a.rem(.5),paddingLeft:i.a.rem(2),paddingRight:i.a.rem(.5)},s],cardHeaderSpan:[{lineHeight:i.a.rem(2)}],cardSectionsRow:[{position:"relative"}],cardActionsRow:[{display:"flex",height:i.a.rem(2.5),marginTop:i.a.rem(.25),marginBottom:i.a.rem(.5)}],cardActionsSeparator:[{flex:1}],cornerButton:[{position:"absolute",top:i.a.rem(.5),right:o}]})},fHRq:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i={};n.r(i),n.d(i,"FloatingContainer",(function(){return f})),n.d(i,"CardBase",(function(){return b})),n.d(i,"fromNode",(function(){return y})),n.d(i,"cardTransition",(function(){return x}));var a={};n.r(a),n.d(a,"create",(function(){return P}));var r=n("ERkP"),o=n("vOOZ"),s=n("9NHN"),l=n("lrqh"),c=n("1w6p"),d=n("ax6a"),u=n("e12y"),p=n("WIwS"),h=n("ps/9"),m=n("zR/0"),g=n("PyeZ");const f=c.b.Grid.make(({view:e,notify:t,slots:n})=>r.createElement(o.a.div,Object.assign({tabIndex:-1,"data-name":"inline-card",mount:e=>t({type:g.b.Type.mounted,element:l.g.fromNullable(e)})(),style:e("position")},Object(s.c)(A.container,e("direction").pipe(m.a.map(e=>e===g.a.Direction.Up&&A.directionUp))),{onMouseEnter:t({type:g.b.Type.hovered}),onMouseLeave:t({type:g.b.Type.unhovered})}),n.body)),b=c.b.Grid.make(({slots:e})=>r.createElement("div",{tabIndex:-1,"data-name":"inline-card",className:A.card},e.card)),y=e=>c.b.Animated.make(x,c.b.Union.asOption(c.b.Knot.make(f,{body:c.b.Composite.make(b,e)}))),v=u.a.keyframes({from:{opacity:0,transform:"scale(1, .8)"}}),k=u.a.keyframes({to:{opacity:0,transform:"scale(1, .8)"}}),w={position:"absolute",zIndex:h.l,minWidth:"fit-content",outline:"none",transformOrigin:"top",willChange:"opacity, transform",$nest:{"@media print":{visibility:"hidden"}}},S={marginTop:u.a.rem(.5),transformOrigin:"bottom"},_={$nest:{"& > div[data-name=inline-card]":{animation:`${k} ${u.a.seconds(.1)} linear forwards`,pointerEvents:"none"}}},C={$nest:{"& > div[data-name=inline-card]":{animation:`${v} ${u.a.seconds(.1)} linear forwards`}}},E={display:"flex",flexDirection:"column",overflow:"hidden",marginLeft:u.a.rem(-1),paddingBottom:u.a.rem(.5),minWidth:u.a.rem(12),maxWidth:u.a.rem(20),width:"fit-content",outline:"none",borderRadius:u.a.rem(h.s),background:d.a.CoreNeutral0,boxShadow:d.b.Z300,color:p.k,fontSize:u.a.rem(.8),"-webkit-font-smoothing":"antialiased",$nest:{"&:before":{position:"absolute",marginTop:u.a.px(-2),width:u.a.percent(100),height:u.a.px(2),border:"1px solid transparent",content:"''"}}},O={$nest:{"& .itemInsert, .itemRemove":{paddingBottom:u.a.rem(.3),whiteSpace:"normal",lineHeight:u.a.rem(1.5)}}},A=u.a.prefixedStylesheet("inline-card",{container:[w],directionUp:[S],invisible:[_],visible:[C],card:[E],maxWidthReached:[O]}),x=c.b.Transition.make({visible:A.visible},{invisible:A.invisible});var T=n("OA+g"),M=n("I7vG"),j=n("LNSM"),I=n("Ni70"),R=n("PrA7"),N=n("dE97");const L=8;function P(e,t,n,i,a=(()=>"left")){return c.a.animatingFlow(function(e,t,n,i,a){const r=j.a.create(l.g.none);return c.a.fromSideEffect(e=>{Object(M.pipe)(e.action.action.action,l.g.fromPredicate(g.b.isMountAction),l.g.tap(e=>r.set(e.element))),t.next(e.action.action.action)},e.pipe(m.a.map(l.g.chain(e=>N.a.State.isBulkApplied(e.alert.state)?l.g.some(e):l.g.none)),m.a.withLatestFrom(n,r),m.a.switchMap(function(e,t){return([n,i,a])=>Object(M.pipe)(n,l.l.fromOption(()=>new Error("Entry is none")),l.l.chain(e=>Object(M.pipe)(e.getMarkRect,l.l.map(t=>({alert:e.alert,rect:Object(M.pipe)(t,I.b.relativeAndAbs,l.g.fromNullable)})))),l.l.map(({alert:n,rect:r})=>Object(M.pipe)(r,l.g.map(({abs:r,relative:o})=>{const s=Object(M.pipe)(a,l.g.fold(()=>0,e=>e.offsetHeight)),c=r.height+r.top+s>i.height+i.top&&o.height<i.height?g.a.Direction.Up:g.a.Direction.Down,d=c===g.a.Direction.Up?o.top-s-L:o.top+o.height;return{root:{position:"right"===t(r,i)?{top:d,right:0}:{top:d,left:o.left},direction:c},body:{alert:n,replacementLabels:D(e,n)}}}))),l.l.getOrElse(e=>()=>Promise.resolve(l.g.none)),e=>e())}(i,a)),m.a.startWith(l.g.none)))}(e,t,n,i,a),(e,t)=>Object(M.pipe)(t,l.g.chain(()=>Object(M.pipe)(e,l.g.map(()=>l.m.both("invisible","visible")),l.g.alt(()=>l.g.some(l.m.right("visible"))))),l.g.alt(()=>Object(M.pipe)(e,l.g.map(()=>l.m.left("invisible"))))))}function D(e,t){return Object(M.pipe)(t.getTransform(),l.g.chain(Object(T.flow)(e,l.b.fold(e=>(R.Monitoring.Logging.getLogger("InlineCard.hydration").error("Failed to hydrate an inline card",e,{alertId:t.id}),l.g.none),l.g.some))))}var F,B;(B=F||(F={})).UI=i,B.Flow=a},fIii:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("uDCn"),o=n("KeH5"),s=n("U75S"),l=n("OA+g"),c=n("vOOZ"),d=n("zR/0"),u=n("1w6p"),p=n("+w1e");!function(e){e.ListCard=u.b.Node.make(()=>u.b.mount(u.b.Node.empty,()=>d.a.EMPTY)),e.SingleCard=u.b.Node.make(({view:e,notify:t})=>{const n=e("view");return a.createElement(c.a.Fragment,null,n.pipe(d.a.distinctUntilChanged((e,t)=>e.equals(t)),d.a.map(e=>a.createElement(r.a,{content:e.cardDSL.value,designSystem:o.a,notify:(n,i)=>t({type:p.b.Type.sduiCardAction,sourceId:n,cardId:e.id,actions:i})(),transitions:s.bc(e.transitions),prevContent:e.prevCardDSL,onAnimationEnd:t({type:p.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onMount:l.constVoid}))))})}(i||(i={}))},"fT1+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return x}));var i,a,r,o=n("a5W6"),s=n("OA+g"),l=n("I7vG"),c=n("2Jhg"),d=n("LNSM"),u=n("+JVj"),p=n("Ni70"),h=n("bYZB"),m=n("D6Vf"),g=n("3s0z"),f=n("zR/0"),b=n("gy42"),y=n("Sk6A"),v=n("D9EC"),k=n("lrqh"),w=n("PrA7"),S=n("Wcgi"),_=n("0lfv"),C=n("SfQc");!function(e){e.focus="searchFocus",e.next="searchNext",e.previous="searchPrevious"}(i||(i={})),function(e){e.SEARCH_INPUT_NAME="search-input",e.isSearchInput=function(t){return Boolean(t)&&t.name===e.SEARCH_INPUT_NAME};e.Mock=class{constructor(e){this.getBindings=()=>{throw new Error("Method not implemented.")},this.visible=d.a.create(!1),this.term=d.a.create(""),this.hotkeysActions=new f.a.Subject,this.dispose=v.e,this.result=d.a.create(c.f.of(e).map(e=>Object.assign(Object.assign({},e),{next:v.e,prev:v.e})))}select(){throw new Error("Method not implemented.")}}}(a||(a={}));class E{constructor(e,t,n){this._ops=e,this._term=t,this.count=n.ranges.length,this.current=n.selected.getOrElse(0)+1,this._ops._highlightSelectedRange()}next(){this._ops._forceSearch(),this._ops._selectedPos.modify(e=>e.map(e=>e+1).map(e=>e>this.count-1?0:e).orElse(Object(c.h)(0))),this._ops._highlightSelectedRange(1===this.count)}prev(){this._ops._forceSearch(),this._ops._selectedPos.modify(e=>e.map(e=>e-1).map(e=>e<0?this.count-1:e).orElse(Object(c.h)(this.count-1))),this._ops._highlightSelectedRange()}equals(e){return null!=e&&this.count===e.count&&this.current===e.current&&this._term===e._term}hashCode(){return Object(c.k)(this._term)+this.count+(this.current<<4)}}!function(e){const t="searchRange";e.create=(e,n)=>u.b.create(e,n,{type:t}),e.is=function(e){return typeof e.meta.type===t}}(r||(r={}));const O=500,A=50;class x{constructor(e,t,n,a){this._ded=e,this._rangeManager=t,this._editorViewport=n,this._enableMPTE=a,this._log=w.Monitoring.Logging.getLogger("SearchViewModel"),this._subs=[],this._forceSearchSubject=new f.a.Subject,this._rangesState=d.a.create({ranges:[],selected:c.f.empty()}),this._selectedRange=this._rangesState.view(e=>e.selected.map(t=>e.ranges[t])),this._activeMark=d.a.create(c.f.empty()),this.visible=d.a.create(!1),this.term=d.a.create(""),this.result=d.a.create(c.f.empty()),this.hotkeysActions=new f.a.Subject,this.select=()=>{this._forceSearch(),this._rangesState.modify(({ranges:e,selected:t})=>({ranges:e,selected:t.orElse(Object(c.h)(0)).filter(()=>Object(v.n)(e))})),this._highlightSelectedRange()},this.dispose=()=>{this.term.set(""),this._subs.forEach(e=>e.unsubscribe()),this._subs=[]},this._selectedPos=this._rangesState.lens("selected"),this._forceSearch=()=>this._forceSearchSubject.next(),this._highlightSelectedRange=(e=!1)=>{const t=this._selectedRange.get();e&&_.a.compare(this._activeMark.get(),t,(e,t)=>e.meta.id===t.meta.id)&&this._ensureMarkInViewport(this._currentMark).subscribe({error:e=>this._log.error("Cannot scroll to mark",e)}),this._activeMark.set(t)},this.getBindings=e=>{const t=new Set([g.a.short]),n=f.a.of(!0);return[{action:i.focus,hotkey:e({modifiers:t,key:"f"}),bind:this._bindHotkey,isActive:n},{action:i.next,hotkey:e({modifiers:t,key:"g"}),bind:this._bindHotkey,isActive:n},{action:i.previous,hotkey:e({modifiers:new Set([g.a.short,g.a.shift]),key:"g"}),bind:this._bindHotkey,isActive:n}]},this._bindHotkey=f.a.tap(this.hotkeysActions),this._removeRanges=e=>{this._activeMark.get().filter(t=>e.has(t.meta.id)).forEach(()=>this._activeMark.set(c.e)),this._rangesState.modify(t=>{const n=t.ranges.filter(({meta:{id:t}})=>!e.has(t)||(this._rangeManager.deregisterRange(t),!1));return{ranges:n,selected:t.selected.filter(e=>e<n.length)}})},this._findRanges=e=>Object(v.n)(e)?this._searchTerm(this._ded.getText().toLowerCase(),e.toLowerCase()):[],this._changeActiveMark=({prev:e,next:t})=>{this._currentMark=null,e.forEach(e=>{this._ded.changeMarks([S.a.Change.getRemoveAction({range:()=>e})(e.meta.id)])}),t.forEach(e=>{this._currentMark=Object(l.pipe)(this._ded.changeMarks([S.a.Change.getCreateAction({range:()=>e,order:0,classes:[C.mark]})(e.meta.id)]),t=>t.created.get(e.meta.id),k.b.fold(()=>null,s.identity)),this._ensureMarkInViewport(this._currentMark).subscribe({error:e=>this._log.error("Cannot scroll to mark",e)})})},this._subs.push(this._listenOpenEvents(),this._listenCloseEvents(),f.a.mergeStatic(this.term.pipe(f.a.filter(e=>e.length>3),f.a.debounceTime(300)),this.term.pipe(f.a.filter(e=>e.length<=3),f.a.mapTo("")),this._forceSearchSubject.pipe(f.a.withLatestFrom(this.term,(e,t)=>t))).pipe(f.a.distinctUntilChanged(),f.a.map(this._findRanges)).subscribe(e=>{this._activeMark.set(c.e),this._replaceRanges(e)}),this._rangesState.pipe(f.a.map(e=>Object(c.h)(e).filter(e=>Object(v.n)(e.ranges)).map(e=>new E(this,this.term.get(),e)))).subscribe(e=>this.result.set(e)),this._rangesState.pipe(f.a.switchMap(({ranges:e})=>Object(o.isNonEmpty)(e)?this._enableMPTE?this._rangeManager.rangeChangedMPTE:this._rangeManager.rangeChanged.pipe(f.a.pluck("affected"),f.a.filter(o.isNonEmpty)):f.a.EMPTY),f.a.map(e=>e.filter(r.is)),f.a.map(e=>new Set(e.map(e=>e.meta.id)))).subscribe(this._removeRanges),this._activeMark.pipe(f.a.scan(({next:e},t)=>({prev:e,next:t}),{prev:c.f.empty(),next:c.f.empty()})).subscribe(this._changeActiveMark)),this._subs.push(this._ded.dontFreezeWhen(this.visible,"search"),this.visible.pipe(f.a.skip(1),f.a.filter(e=>!e)).subscribe(()=>{this.term.set("")})),Object(v.r)("searchVM",this)}_searchTerm(e,t){let n=-1;const i=[];for(;(n=e.indexOf(t,n+1))>-1;)i.push(r.create(n,n+t.length));return i}_listenOpenEvents(){return m.b.activeCount.pipe(f.a.map(e=>e<1),f.a.merge(this.visible.pipe(f.a.map(e=>!e)))).pipe(f.a.switchMap(b.b.orEmpty(this.hotkeysActions)),f.a.mapTo(!0)).subscribe(b.b.toAtom(this.visible))}_listenCloseEvents(){const e=y.a.listen("escape");return this.visible.pipe(f.a.switchMap(b.b.orEmpty(e)),f.a.merge(m.b.activeCount.pipe(f.a.filter(e=>e>0))),f.a.mapTo(!1)).subscribe(b.b.toAtom(this.visible))}_replaceRanges(e){this._rangesState.modify(t=>(t.ranges.forEach(e=>this._rangeManager.deregisterRange(e.meta.id)),{ranges:e.map(e=>this._rangeManager.registerRange(`search_${this.term.get().replace(/\s*/g,"_")}_${x.searchMarkCount++}`,e)),selected:e.length>0?Object(c.h)(0):c.e}))}_ensureMarkInViewport(e){return Object(l.pipe)(e,k.b.fromNullable(new Error("Mark should not be null at this point")),k.b.chain(e=>e.getRect()),k.b.map(p.b.relativeToViewport),k.b.fold(f.a.throwError,t=>{const{top:n,bottom:i}=this._editorViewport.get();return t.top<n+A||t.top>i-A?this._ded.scrollToMark(e.id,{paddingTop:O,animate:h.a.fast}):f.a.EMPTY}))}}x.searchMarkCount=0},fglL:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("1w6p");!function(e){e.Success=r.b.Node.make(()=>a.createElement("div",null,"success")),e.Empty=r.b.Node.make(()=>a.createElement("div",null))}(i||(i={}))},fzZ3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("QLdX");!function(e){let t,n;!function(e){e.MarkHovered="MarkHovered"}(t=e.Kind||(e.Kind={})),function(e){e.create=(e,n=Object(a.generateUUID)())=>({id:n,kind:t.MarkHovered,markId:e}),e.is=e=>e.kind===t.MarkHovered,e.toString=e=>JSON.stringify(e)}(n=e.MarkHovered||(e.MarkHovered={})),e.toString=n.toString}(i||(i={}))},"gw+C":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("OA+g"),r=n("94k3"),o=n("zR/0"),s=n("lrqh"),l=n("PrA7");!function(e){e.create=(e,t,n)=>{const i=l.Monitoring.Logging.getLogger("DOXConnector",l.Logging.LogLevel.DEBUG,l.Logging.LogColor.Model.getColor("DOXConnector")),c=new o.a.Subject;return{pushChanges:t=>{n.demoMode||(i.debug("Outgoing DeltaChange to DOX",t),c.next(t),s.l.toPromise(e.remoteDocument.pushChanges(t)))},changes:Object(a.pipe)(t,o.a.filter(r.b.DOXEvent.is("change")),o.a.pluck("change"),o.a.startWith(e.initialDelta),o.a.tap(e=>i.debug("Incoming Change from DOX",e))),outgoingChanges:c}},e.Mock=e=>({pushChanges:a.constVoid,changes:(null==e?void 0:e.changes)||o.a.EMPTY,outgoingChanges:o.a.EMPTY})}(i||(i={}))},hJSx:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("OA+g"),a=n("1aGC"),r=n("24uI"),o=n("4ae2"),s=n("GGUR"),l=n("zR/0"),c=n("D9EC"),d=n("lrqh"),u=n("PrA7"),p=n("rlNc"),h=n("o5+S"),m=n("7FJK");const g=a.import("core/module"),f=a.import("parchment");class b extends g{constructor(e,t){super(e,t),this.quill=e,this._options=t,this._subs=new s.a.Keeper,this._log=u.Monitoring.Logging.getLogger("DEd.Histor"),this._lastRecorded=0,this._ignoreChange=!1,this._stack={undo:[],redo:[]},this._anonymizedOperationsCache=new p.a(20,!0),this._changed=new l.a.Subject,this.changed=this._changed,this.clear();const n=Object(h.t)(this.quill).pipe(l.a.share());this._subs.push(n.subscribe(e=>{e.name===a.events.TEXT_CHANGE&&this._anonymizedOperationsCache.push({ops:r.a.anonymizeTextAndStringAttrs(e.delta).ops,source:e.source})}),n.subscribe(e=>{e.name!==a.events.TEXT_CHANGE||this._ignoreChange||(t.userOnly&&e.source!==a.sources.USER&&e.source!==a.sources.SILENT?this._transform(v(e.delta)):this._record(v(e.delta),v(e.oldDelta)))})),Object(c.r)("dedOpsHistory",()=>this._anonymizedOperationsCache.toArray())}clear(){this._stack={undo:[],redo:[]}}cutoff(){this._lastRecorded=0}commit(e){this.cutoff(),e(),this.cutoff()}redo(e){try{this._log.info("History action: redo"),this._change("redo","undo",e)}catch(e){this._log.error("History action: redo error",e)}}canRedo(){return this._stack.redo.length>0}canUndo(){return this._stack.undo.length>0}undo(e){try{this._log.info("History action: undo"),this._change("undo","redo",e)}catch(e){this._log.error("History action: undo error",e)}}getAnonymizedOperationsHistory(){return this._anonymizedOperationsCache.toArray()}dispose(){this._subs.dispose()}_flush(){this._options.flush()}_change(e,t,n){if(0===this._stack[e].length)return;this._flush();const i=this._stack[e].pop();this._lastRecorded=0,this._ignoreChange=!0,r.a.splitToDeleteThenInsert(i[e]).filter(r.a.nonEmpty).forEach(e=>{this.quill.updateContents(Object(h.s)(e),a.sources.USER)}),this._ignoreChange=!1;const o=y(i[e]);this.quill.setSelection(o,0),this._stack[t].push(i),this._changed.next({source:n})}_record(e,t){Object(i.pipe)(r.a.getOps(e),d.g.tap(()=>{this._stack.redo=[];let n=v(Object(h.r)(this.quill.getContents())).diff(t,y(e));const i=Date.now();if(this._lastRecorded+this._options.delay>i&&this._stack.undo.length>0){const t=this._stack.undo.pop();n=n.compose(t.undo),e=t.redo.compose(e)}else this._lastRecorded=i;this._stack.undo.push({redo:e,undo:n}),this._stack.undo.length>this._options.maxStack&&this._stack.undo.shift()}))}_transform(e){Object(i.pipe)(r.a.getOps(e),d.g.tap(()=>{this._stack.undo.forEach(t=>{t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this._stack.redo.forEach(t=>{t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}))}}function y(e){const t=e.reduce((e,t)=>e+(r.a.isDelete(t)?t.delete:0),0);let n=e.length()-t;return function(e){const t=e.ops[e.ops.length-1];return null!=t&&(r.a.isInsert(t)?"string"==typeof t.insert&&t.insert.endsWith("\n"):!(r.a.isDelete(t)||!t.attributes)&&Object.keys(t.attributes).some(e=>null!=f.query(e,f.Scope.BLOCK)))}(e)&&(n-=1),n}function v(e){return Object(i.pipe)(r.a.getOps(e),d.g.fold(()=>e,t=>{const n=e.reduce((e,t)=>r.a.match(t=>e.insert(t.insert,t.attributes&&w(t.attributes)),t=>e.delete(t.delete),t=>e.retain(t.retain,t.attributes&&w(t.attributes)))(t),new o.a),i=n.ops[0];return Boolean(n.ops)&&1===n.ops.length&&r.a.isRetain(i)&&!i.attributes?new o.a:n}))}const k=new RegExp(`^${m.b}_`);function w(e){return Object.keys(e).reduce((t,n)=>k.test(n)?t:Object.assign(Object.assign({},t),{[n]:e[n]}),{})}},hOiz:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return _}));var i=n("ERkP"),a=n("I7vG"),r=n("vOOZ"),o=n("rk+4"),s=n("gOzB"),l=n("bO3R"),c=n("BugA"),d=n("Q8bi"),u=n("e12y"),p=n("lrqh"),h=n("ot6E"),m=n("Lmm7"),g=n("/Yt+"),f=n("HeG+");const b=({word:e,apply:t})=>i.createElement(l.a.Primary,{name:"accept-synonym",className:f.item,onClick:t(e)},e),y=({synonyms:e,apply:t})=>i.createElement("div",{className:f.row},e.map((e,n)=>i.createElement(b,Object.assign({},{word:e,key:n,apply:t})))),v=({result:{synonymsOrGroups:e},apply:t})=>{const n=i.useContext(h.a.Context);return i.createElement(r.a.div,{className:f.wrapper},i.createElement(c.a,{className:f.title},n.synonyms.title),Object(a.pipe)(e,p.b.fold(e=>i.createElement(y,Object.assign({key:"single"},{synonyms:e,apply:t})),e=>i.createElement("ol",{className:f.list},e.map(({meaning:e,words:n},a)=>i.createElement(d.Typography,{key:a,styleType:d.Typography.Type.Base,nodeType:"li",className:f.group},i.createElement(c.a,{className:f.groupTitle},e),i.createElement(y,Object.assign({key:"single"},{synonyms:n,apply:t}))))))))},k=u.a.style({position:"absolute",top:u.a.rem(.8),right:u.a.rem(1),margin:0}),w=({result:{synonymsOrGroups:e},apply:t})=>{const n=i.useContext(o.a.Context),l=i.useContext(h.a.Context);return i.createElement(r.a.div,{className:f.wrapper},i.createElement(c.a,{className:f.title},l.synonyms.symfony.title),i.createElement(s.a.Regular,{className:k},n.beta),Object(a.pipe)(e,p.b.fold(e=>i.createElement(y,Object.assign({key:"single"},{synonyms:e,apply:t})),e=>i.createElement(y,Object.assign({key:"single"},{synonyms:e.reduce((e,{words:t})=>[...e,...t],[]),apply:t})))))},S=({synonymsInfo:e,apply:t})=>m.a.isEmpty(e.synonymsState)?i.createElement(g.a,{activeWord:e.activeWord.meta.value}):i.createElement(v,{key:"synonymsCard",apply:t,result:e.synonymsState.synonyms}),_=({synonymsInfo:e,apply:t})=>m.a.isEmpty(e.synonymsState)?i.createElement(g.b,{activeWord:e.activeWord.meta.value}):i.createElement(w,{key:"synonymsCard",apply:t,result:e.synonymsState.synonyms})},hY4K:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("1aGC"),a=n("4ae2"),r=n("D9EC"),o=n("hoSD"),s=n("o5+S"),l=n("2xe6");const c=i.import("modules/keyboard"),d=c.DEFAULTS.bindings,u=r.e;class p extends c{addBinding(e,t,n){this.removeBinding(e,u),super.addBinding(e,t,n)}removeBinding(e,t){var n;Boolean(null===(n=this.bindings[e.key])||void 0===n?void 0:n.length)&&(this.bindings[e.key]=this.bindings[e.key].filter(({handler:e})=>t!==e))}}function h(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:u}}var m;!function(e){e.shiftArrowDownBeforeSection={key:"Down",collapsed:!1,empty:!1,shiftKey:!0,handler:function(e){const[t,n]=this.quill.getLeaf(e.index+e.length);return n>0||(!Object(s.h)(t,e=>e instanceof l.a)||(this.quill.setSelection(e.index,e.length+1),!1))}},e.shiftArrowDown={key:"Down",offset:0,empty:!0,shiftKey:!0,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.setSelection(e.index,e.length+1),!1)}},e.arrowDown={key:"Down",collapsed:!0,shiftKey:!1,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.setSelection(e.index+1,0),!1)}},e.enter={key:"Enter",collapsed:!0,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.updateContents(Object(s.s)((new a.a).retain(e.index).insert("\n")),"user"),this.quill.setSelection(e.index+1,0,"user"),!1)}}}(m||(m={}));const g={key:" ",collapsed:!0,shiftKey:!1,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*)$/,handler:function(e,t){const n=t.prefix.length,[r,l]=this.quill.getLine(e.index);if(l>n)return!0;const[c,d]=(e=>{switch(e){case"-":return["dashed",/^\s*?-/];case"*":return["bullet",/^\s*?\*/];default:return["ordered",/^\s*?\d+\./]}})(t.prefix.trim());if(Boolean(r.prev)&&!o.c.Guardians.isUL(r.prev.domNode)&&!o.c.Guardians.isOL(r.prev.domNode)&&Boolean(r.prev.domNode.textContent)&&d.test(r.prev.domNode.textContent))return!0;this.quill.insertText(e.index," ",i.sources.USER),this.quill.history.cutoff();const u=(new a.a).retain(e.index-l).delete(n+1).retain(r.length()-2-l).retain(1,{list:c});return this.quill.updateContents(Object(s.s)(u),i.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,0,i.sources.SILENT),!1}};var f;!function(e){let t;!function(e){e.plainTextBindings={indent:d.indent,outdent:d.outdent,"outdent backspace":d["outdent backspace"],tab:d.tab,"remove tab":d["remove tab"],bold:h("bold"),italic:h("italic"),underline:h("underline")},e.rtfBindings={indent:d.indent,outdent:d.outdent,"outdent backspace":d["outdent backspace"],tab:d.tab,"remove tab":d["remove tab"],"list empty enter":d["list empty enter"],"list autofill":g,"list autofill with shift":Object.assign(Object.assign({},g),{shiftKey:!0}),"header enter":d["header enter"]},e.templateSectionBindings={"shift down before template_section":m.shiftArrowDownBeforeSection,"template_section down":m.arrowDown,"template_section shift down":m.shiftArrowDown,"template_section enter":m.enter}}(t=e.Bindings||(e.Bindings={})),e.getKeyboardWithBindings=e=>{var t;return(t=class extends p{}).DEFAULTS={bindings:e},t}}(f||(f={}))},i1Da:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("I7vG"),a=n("zR/0"),r=n("lrqh"),o=n("PrA7");const s=o.Monitoring.Logging.getLogger("performance.RUM"),l=Object(i.pipe)(window.performance,r.b.fromPredicate(e=>null!=e&&"getEntriesByType"in e&&"now"in e&&Boolean(e.mark),()=>new Error("Browser does not support performance API"))),c=r.g.fromNullable(window.PerformanceObserver),d=Object(i.pipe)(c,r.g.chain(e=>Object(i.pipe)(r.g.fromNullable(window.PerformanceLongTaskTiming),r.g.map(()=>e)))),u=(e,t)=>`performance_${e}_start_${t}`,p=(e,t)=>`performance_${e}_end_${t}`,h={DocLoad:r.g.none};var m,g;(g=m||(m={})).isUntouched=e=>void 0!==e.start,g.isFinished=e=>void 0!==e.reset,g.isStarted=e=>void 0!==e.finish,g.retrieveMetric=e=>Object(i.pipe)(l,r.b.map(t=>Object(i.pipe)(h[e],r.g.getOrElse(()=>(function e(t,n){return{start:a=>{const o=(new Date).getTime(),l=u(n,o),c=[],d=Object(i.pipe)(a,r.g.map(e=>e.subscribe(e=>c.push(e)))),m=()=>Object(i.pipe)(d,r.g.map(e=>e.unsubscribe()));t.mark(l);const g={finish:()=>{const i=p(n,o);t.mark(i),m(),t.measure(n,l,i);const d=t.getEntriesByName(n),u=d.length>0&&d[d.length-1],g={additionalInfo:r.g.map(()=>c)(a),duration:!1!==u&&Boolean(u)&&"measure"===u.entryType?Math.round(u.duration):-1,reset:()=>{m(),t.clearMarks(l),t.clearMarks(i),t.clearMeasures(n),s.info(`Metrics measurement ${n} reset`),h[n]=r.g.some(e(t,n))}};return h[n]=r.g.some(g),s.info(`Metrics measurement ${n} finished`),g}};return h[n]=r.g.some(g),s.info(`Metrics measurement ${n} started`),g}}})(t,e))))),g.longTaskObservable=Object(i.pipe)(d,r.g.map(e=>new a.a.Observable(t=>{const n=new e(e=>{t.next(e)});return n.observe({entryTypes:["longtask"]}),()=>{n.disconnect()}})));const f=o.Monitoring.Logging.getLogger("performance.RUM");var b;!function(e){e.docLoad={start:()=>(function(e){Object(i.pipe)(m.retrieveMetric(e),r.b.chain(r.b.fromPredicate(m.isUntouched,()=>new Error(`Metric ${e} is already measured`))),r.b.fold(t=>f.warn(`Performance issue while starting measuring ${e}. `,t),e=>e.start(Object(i.pipe)(m.longTaskObservable,r.g.map(a.a.switchMap(e=>a.a.from(e.getEntries())))))))})("DocLoad"),cleanup:()=>(function(e){Object(i.pipe)(m.retrieveMetric(e),r.b.map(e=>{m.isStarted(e)?e.finish().reset():m.isFinished(e)&&e.reset()}))})("DocLoad"),end(e){!function(e,{textLength:t,alertsCount:n}){Object(i.pipe)(m.retrieveMetric(e),r.b.chain(r.b.fromPredicate(m.isStarted,()=>new Error(`Metric ${e} is not started or already finished`))),r.b.map(a=>{const o=a.finish();return f.info(e,{duration:o.duration,longtasks:Object(i.pipe)(o.additionalInfo,r.g.map(e=>({count:e.length,list:e.map(({name:e,duration:t,startTime:n})=>({name:e,duration:t,startTime:n}))})),r.g.toNullable),textLength:t,alertsCount:n}),o}),r.b.fold(t=>f.warn(`Performance issue while measuring ${e}. `,t),e=>e.reset()))}("DocLoad",e)}}}(b||(b={}))},iEw6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a,r=n("1w6p"),o=n("rq0W"),s=n("zR/0"),l=n("lrqh"),c=n("OA+g"),d=n("+w1e"),u=n("gy42");function p(e,t,n,i){return r.a.composeUnion({Some:r.a.composeKnot({value:r.a.composeKnot({root:()=>e.pipe(s.a.map(e=>Object(c.pipe)(h(i)(e),l.g.map(t=>({item:e,key:n(e),className:t})))),s.b.compact),shadeItem:t})}),None:()=>s.a.of(l.g.none)},t=>s.a.mergeStatic(e.pipe(s.a.map(h(i))),t.pipe(s.a.filter(e=>"root"===e.action.action.key&&e.action.action.action.type===d.a.Kind.completeTransitionTo),s.a.switchMap(u.b.Scheduler.rafScheduler),s.a.mapTo(l.g.none))))}function h(e){return t=>Object(c.pipe)(t.visualState.from,l.g.chain(()=>e(t.visualState).shade))}function m(e,t,n,i,a){return r.a.composeKnot({root:()=>e.pipe(s.a.map(e=>{const{main:t,shade:n}=a(e.visualState);return{item:e,className:t,hasAnimation:l.g.isSome(t)||l.g.isSome(n)}})),shade:p(e,n,i,a),item:t})}function g(e,t){return r.a.composeKnot({root:()=>e.pipe(s.a.map(e=>e.visualState.transition.type)),staticItemChild:t})}(a=i||(i={})).flow=function(e,t,n,i=(e=>e.id),a=o.a.toOption(o.c)){return r.a.composeKnot({root:()=>e,animatedItem:r.a.composeUnion({static:g(e,t),animating:m(e,t,n,i,a)},()=>e.pipe(s.a.map(e=>({animatedItemKind:e.visualState.incomplete?"animating":"static"}))))})},a.extend=function(e){return r.a.extendActions(s.a.tap(t=>{const n=t.action;if("animating"===n.key)if("root"===n.action.key)e(n.action.action);else if("shade"===n.action.key){const t=n.action.action.action.action;"root"===t.key&&e(t.action)}}))}},ihUS:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return i}));var i,a=n("OA+g"),r=n("I7vG"),o=n("LNSM"),s=n("NaPV"),l=n("GUi3"),c=n("dE97"),d=n("Uwwq"),u=n("zR/0"),p=n("GGUR"),h=n("BeBM"),m=n("Z86f"),g=n("4lva"),f=n("lrqh"),b=n("D9EC"),y=n("6fbX"),v=n("+ukg"),k=n("bQye"),w=n("wt7H");class S{constructor(e,t,n,i,s,l,c,m,y,w,S){this._modalManager=e,this._state=t,this._lensPreviewVM=n,this._features=i,this._getAlertClosestToCursor=s,this._documentModel=l,this._getOutcomes=m,this.defaultLensMode=y,this._trackLensModeChange=w,this.cardVisualMode=S,this.popover=o.a.create(f.g.none),this.events=new u.a.Subject,this.lensModeEvents=new u.a.Subject,this._subs=new p.a.Keeper,this.activeLensId=this._state.view("currentLens","id"),this.a11yContrast=!0,this.documentActions=o.a.combine(this._features.plagiarism,this._features.proofit,this._documentModel.documentLength.view("full").view(e=>0===e),this._documentModel.title,(e,t,n,i)=>({plagiarism:e===v.o.enabled?n?g.b.plagiarismDisabled(g.c.EmptyDocument):g.b.documentActionAvailable:e===v.o.upgradeIsNeeded?g.b.documentActionAvailable:g.b.plagiarismDisabled(g.c.NotAvailable),proofit:t===v.o.enabled?n?g.b.proofitDisabled(g.d.EmptyDocument):i===k.premiumDemoDocument.title?g.b.proofitDisabled(g.d.DemoDoc):g.b.documentActionAvailable:t===v.o.upgradeIsNeeded?g.b.documentActionAvailable:g.b.proofitDisabled(g.d.NotAvailable)})),this._lensSwitch=new u.a.Subject,this._alertSwitch=new u.a.Subject,this.lensChangeEffects={id:"focusFirstOnLensChange",when:a.constTrue,what:h.e.Effect.SwitchLens.create(this._lensSwitch.pipe(u.a.map(({lensId:e,focusFirst:t,actionSource:n})=>({lensId:e,alertSource:n,options:{order:"lensOrder",toFocus:t?h.e.Effect.FocusBehavior.focusFirst:h.e.Effect.FocusBehavior.noFocus}}))))},this.alertChangeEffects={id:"highlightOnAlertChange",when:a.constTrue,what:h.e.Effect.SwitchAlert.create(this._alertSwitch.pipe(u.a.map(({alertHighlight:e,actionSource:t})=>({alertHighlight:e,alertSource:t,options:{order:"lensOrder"}}))))},this.premiumButtonData=this._premiumButtonData,this.freePremiumButtonData=this._freePremiumButtonData,this._listenNavigationEvent(),this._listenLensModeEvents(),this.showMuteControl=Object(r.pipe)(c,f.g.fold(()=>o.a.create(!1),e=>e.mutedCategories.view(d.a.BaseMutedCategories.filter(Object(b.m)(d.a.Category.isSpecial))).view(e=>e.size>0))),this.lensMode=o.a.create(y),this.lensTitleType=f.g.isSome(this._features.denali.prioritySwitcher)?g.b.LensTitleType.priority:g.b.LensTitleType.default,this.lensPreviews=this.lensMode.view(this._getOutcomes).view(e=>e.reduce((e,t)=>(e[t]=this._lensPreviewVM.lensPreviews[t],e),{}))}_switchToLens(e,t){const n=this.activeLensId.get(),i=n===e?_(this.lensMode.get()):e;if(n===i)return;const a=this.lensPreviews.get();if(l.a.isEngagement(i)){if((l.a.isPriorityOutcomeId(i)?a.EngagementOutcomePriority:a.EngagementOutcome).isUnavailable.get())return this.popover.set(f.g.some(g.a.EngagementHook))}else if(l.a.isDelivery(i)){if((l.a.isPriorityOutcomeId(i)?a.DeliveryOutcomePriority:a.DeliveryOutcome).isUnavailable.get())return this.popover.set(f.g.some(g.a.DeliveryHook))}else{if(l.a.isVox(i)&&this._features.denali.gbVoxLensUphook)return this.popover.set(f.g.some(g.a.GbVoxHook));if(l.a.isVox(i)&&this._features.denali.gbAdminVoxLensUphook)return this.popover.set(f.g.some(g.a.GbEnableVoxHook))}if(i===l.a.SpecialId.Plagiarism&&this._features.plagiarism.get()!==v.o.enabled)return this.popover.set(f.g.some(g.a.PlagiarismHook));this._lensSwitch.next({lensId:i,focusFirst:t.focusFirst,actionSource:t.actionSource})}_listenNavigationEvent(){this._subs.push(this.events.pipe(u.a.switchMap(e=>{switch(e.type){case"setGoals":return this._modalManager.show(s.c.setGoals("user"));case"preferences":return this._modalManager.show(w.a.preferences);case"performance":return this._modalManager.show(s.c.performance);case"switchToLens":return this._switchToLens(e.id,{focusFirst:e.focusFirst,actionSource:e.actionSource}),u.a.EMPTY;case"toggleSidebar":return this.activeLensId.get()===l.a.SpecialId.Closed?this._focusClosestAlert(e.actionSource):this._switchToLens(l.a.SpecialId.Closed,{focusFirst:!0,actionSource:e.actionSource}),u.a.EMPTY;case"switchToCritical":return this._features.isFree.get()?this._focusClosestAlert(e.actionSource):this._focusClosestAlertByPredicate(c.a.isCriticalImpact,e.actionSource),u.a.EMPTY;case"switchToAdvanced":return this._features.isFree.get()?this._switchToLens(l.a.SpecialId.Premium,{focusFirst:!0,actionSource:c.b.sidebar}):this._focusClosestAlertByPredicate(Object(b.m)(c.a.isCriticalImpact),e.actionSource),u.a.EMPTY;case"switchToAll":return this._switchToLens(_(this.lensMode.get()),{actionSource:e.actionSource,focusFirst:e.focusFirst}),u.a.EMPTY;default:return Object(y.d)(e)}})).subscribe())}_listenLensModeEvents(){this._subs.push(this.lensModeEvents.pipe(u.a.tap(e=>{switch(e.type){case"changeLensMode":this.lensMode.set(e.lensMode);const t=function(e,t){switch(t){case m.a.priority:return l.a.isMainOutcomeId(e)?l.a.OutcomeId.toPriorityOutcomeId(e):l.a.SpecialId.Priority;case m.a.all:return l.a.isPriorityOutcomeId(e)?l.a.OutcomeId.fromPriorityOutcomeId(e):l.a.SpecialId.AllAlerts;default:return Object(y.d)(t)}}(this.activeLensId.get(),e.lensMode);this._trackLensModeChange(e.lensMode),this._switchToLens(t,{actionSource:c.b.sidebar,focusFirst:!0});break;default:Object(y.d)(e.type)}})).subscribe())}_focusClosestAlert(e){Object(r.pipe)(this._getAlertClosestToCursor(c.a.isRegisteredApplicableAlert,"cursor"),f.g.fold(()=>this._switchToLens(_(this.lensMode.get()),{focusFirst:!0,actionSource:e}),t=>this._alertSwitch.next({alertHighlight:t,actionSource:e})))}_focusClosestAlertByPredicate(e,t){Object(r.pipe)(this._getAlertClosestToCursor(Object(b.b)(c.a.isRegisteredApplicableAlert,e),"cursor"),f.g.fold(()=>this._focusClosestAlert(t),e=>this._alertSwitch.next({alertHighlight:e,actionSource:t})))}get _premiumButtonData(){const e=this._lensPreviewVM.getLens(l.a.SpecialId.Premium),t=this._lensPreviewVM.getLens(l.a.SpecialId.FreePremiumAlerts).view("count"),n=e.get().title,i=e.view("count");return o.a.combine(this._features.isFree,i.view(e=>e>0),t.view(e=>e>0),(e,t,a)=>e&&t&&!a?f.g.some({id:l.a.SpecialId.Premium,title:n,alerts:i}):f.g.none)}get _freePremiumButtonData(){const e=this._lensPreviewVM.getLens(l.a.SpecialId.FreePremiumAlerts),t=this._lensPreviewVM.getLens(l.a.SpecialId.Premium).view("count"),n=e.get().title,i=e.view("count"),a=o.a.combine(i,t,(e,t)=>e+t);return o.a.combine(this._features.isFree,i.view(e=>e>0),(e,t)=>e&&t?f.g.some({id:l.a.SpecialId.FreePremiumAlerts,title:n,alerts:a}):f.g.none)}dispose(){this._subs.dispose()}}function _(e){return e===m.a.all?l.a.SpecialId.AllAlerts:l.a.SpecialId.Priority}!function(e){e.outcomesList=[l.a.SpecialId.Correctness,l.a.SpecialId.Clarity,l.a.SpecialId.Engagement,l.a.SpecialId.Delivery,l.a.SpecialId.Vox],e.priorityOutcomesList=[l.a.SpecialId.CorrectnessPriority,l.a.SpecialId.ClarityPriority,l.a.SpecialId.EngagementPriority,l.a.SpecialId.DeliveryPriority,l.a.SpecialId.VoxPriority],e.lensPreviewFilter=({denali:{voxInfo:e,gbVoxLensUphook:t,gbAdminVoxLensUphook:n}})=>i=>!l.a.isVox(i)||(t||n||Object(r.pipe)(e,f.g.isSome))}(i||(i={}))},jAb7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i,a,r=n("OA+g"),o=n("I7vG"),s=n("lrqh"),l=n("7b34"),c=n("QxMx"),d=n("GUi3"),u=n("+X10"),p=n("v0pb");(i||(i={})).modelToCounters=function(e){return p.a.isRegistered(e)?e.counters:u.a.empty},function(e){e.monoid=s.e.getMonoid(d.a.Id.ord,d.a.Meta.group),e.eq=s.e.getEq(d.a.Id.ord,d.a.Meta.eq),e.isEmpty=s.e.isEmpty,e.lookup=s.e.lookup(d.a.Id.ord),e.applyDiff=t=>i=>p=>Object(o.pipe)(i,l.a.foldMap(e.monoid)(a(t),u(t),n(t)),Object(c.a)(e.monoid.concat)(p),s.e.filter(Object(r.not)(d.a.Meta.isEmpty))),e.updatePercentiles=e=>t=>{let n=t;return e.forEach((e,t)=>{n=Object(o.pipe)(n,s.e.modifyAt(d.a.Id.ord)(t,d.a.Meta.ratioToPercentile(e)),s.g.fold(()=>Object(o.pipe)(n,s.e.insertAt(d.a.Id.ord)(t,d.a.Meta.fromPercentile(e))),r.identity))}),n};const t=Object(r.flow)(i.modelToCounters,d.a.Meta.fromAlertCounters),n=e=>n=>p(e)(n,t),a=e=>n=>p(e)(n,Object(r.flow)(t,d.a.Meta.group.inverse)),u=t=>(i,r)=>e.monoid.concat(n(t)(r),a(t)(i)),p=e=>(t,n)=>Object(o.pipe)(e,s.e.filter(e=>e(t.alert)),s.e.map(()=>n(t)))}(a||(a={}))},jTxr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("O9TF"),a=n("ax6a"),r=n("e12y"),o=function(e){var t=e.children;return(i.createElement("div",{className:l.container},t))},s={borderRadius:r.a.rem(r.c.radius1),background:a.a.CoreNeutral0,boxShadow:"0px 2px 8px 0px #1A213433, 0px 0px 0.5px 0px #000000B2"},l=r.a.stylesheet({container:[s]})},jW1I:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v}));var i=n("D57K"),a=n("ERkP"),r=n("rk+4"),o=n("e12y"),s=n("0Hf4"),l=n("ax6a"),c=n("Ov/9"),d=n("3BTE");const u="report-sections-document_insights-",p={insightsSection:`${u}insightsSection`,insightTable:`${u}insightTable`,insightHeader:`${u}insightHeader`,insightBody:`${u}insightBody`,insightTextCell:`${u}insightTextCell`,insightTextHeader:`${u}insightTextHeader`,insightScoreCell:`${u}insightScoreCell`,insightScore:`${u}insightScore`},h={paddingRight:o.a.px(32*c.a),width:o.a.px(321*c.a)},m={width:o.a.px(191*c.a),verticalAlign:"top",textTransform:"lowercase"},g={insightsSection:o.a.joinClasses([p.insightsSection,s.a.style(d.d,{$nest:{"&:not(:first-child)":{marginTop:o.a.px(24*c.a)}}})]),insightTable:o.a.joinClasses([p.insightTable,s.a.style(d.b,{marginTop:o.a.px(24*c.a),width:o.a.px(512*c.a)})]),insightHeader:o.a.joinClasses([p.insightHeader,s.a.style({letterSpacing:0,fontWeight:"bold",fontSize:o.a.px(18*c.a),lineHeight:o.a.px(32*c.a)})]),insightBody:o.a.joinClasses([p.insightBody,s.a.style({color:l.a.CoreNeutral50,letterSpacing:o.a.px(.11*c.a),fontSize:o.a.px(13*c.a),lineHeight:o.a.px(20*c.a)})]),insightTextCell:o.a.joinClasses([p.insightTextCell,s.a.style(h)]),insightTextHeader:o.a.joinClasses([p.insightTextHeader,s.a.style(h,{textTransform:"capitalize"})]),insightScoreCell:o.a.joinClasses([p.insightScoreCell,s.a.style(m)]),insightScore:o.a.joinClasses([p.insightScore,s.a.style(m,{color:l.a.CoreBlue50,letterSpacing:o.a.px(-.1*c.a)})])},f=({header:e,description:t,measure:n,score:i})=>a.createElement("section",{className:g.insightsSection},a.createElement("table",{className:g.insightTable},a.createElement("tbody",null,a.createElement("tr",{className:g.insightHeader},a.createElement("td",{className:g.insightTextHeader},e),a.createElement("td",{className:g.insightScore},i)),a.createElement("tr",{className:g.insightBody},a.createElement("td",{className:g.insightTextCell},t),a.createElement("td",{className:g.insightScoreCell},n))))),b=e=>{var{score:t}=e,n=Object(i.__rest)(e,["score"]);return a.createElement(f,Object.assign({},n,{score:`${"number"!=typeof t||t<0?0:t>100?100:Math.round(t)}%`}))},y=e=>{var{score:t}=e,n=Object(i.__rest)(e,["score"]);return a.createElement(f,Object.assign({},n,{score:`${"number"!=typeof t?0:Math.round(10*t)/10}`}))},v=({stats:e})=>{const t=a.useContext(r.a.Context);return a.createElement("div",null,a.createElement(b,{header:t.performance.uniqueWordsTitle,description:t.performance.report.uniqueWordsDescription,measure:t.performance.uniqueWordsTitle,score:e.uniqueWords}),a.createElement(b,{header:t.performance.rareWordsTitle,description:t.performance.rareWords,measure:t.performance.rareWordsTitle,score:e.rareWords}),a.createElement(y,{header:t.performance.wordLengthTitle,description:t.performance.report.wordLengthDescription,measure:t.performance.report.wordLengthMeasure,score:e.wordLength}),a.createElement(y,{header:t.performance.sentenceLengthTitle,description:t.performance.report.sentenceLengthDescription,measure:t.performance.report.sentenceLengthMeasure,score:e.sentenceLength}))}},jcJZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("ERkP"),a=n("vOOZ"),r=n("8cPE"),o=n("dE97"),s=n("GUi3"),l=n("e12y"),c=n("4lva"),d=n("hoSD"),u=n("lrqh"),p=n("XaD9"),h=n("BM24"),m=n("/by5"),g=n("47ib");const f=({lensPreview:e,navigationVM:t})=>{const{gnarSpec:n,pageId:a}=i.useContext(p.a.Context);return i.createElement(m.d,{lens:e,activeLensId:t.activeLensId,tooltipAlignment:"left",cardVisualMode:t.cardVisualMode,onClick:()=>{t.events.next({type:"switchToLens",id:e.id,focusFirst:!0,actionSource:o.b.sidebar}),n.openLensButtonClick(d.f.camelize(e.title),a)}})},b=({navigationViewModel:e,features:t})=>{const n=[i.createElement(a.a.Fragment,{key:"lenses"},e.lensPreviews.view(t=>Object.values(t).map(t=>i.createElement(f,{key:t.id,lensPreview:t,navigationVM:e})))),u.g.isSome(e.freePremiumButtonData.get())?i.createElement(m.a,{key:"freePremiumLens",navigationVM:e}):i.createElement(m.c,{key:"premiumLens",navigationVM:e})];return i.createElement(a.a.div,{className:e.documentActions.view(e=>{const t="available"===e.proofit.kind||e.proofit.reason===c.d.EmptyDocument,n="available"===e.plagiarism.kind||e.plagiarism.reason===c.c.EmptyDocument;return l.a.joinClasses([t&&n?g.wrapper:t?g.wrapperProofitOnly:n?g.wrapperPlagiarismOnly:g.wrapperNoActions])})},i.createElement(h.a,{isActive:e.activeLensId.view(s.a.isMainLens),onClick:()=>{e.events.next({type:"switchToAll",focusFirst:!0,actionSource:o.b.sidebar})},className:g.allAlertsBtn}),i.createElement(r.a,{name:"lenses",className:g.itemList},t.denali.isPremiumLenseFirst?n.reverse():n))}},jlxt:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("GRZr"),r=n("BbAu"),o=n("+JVj"),s=n("hoSD"),l=n("lrqh"),c=n("7b34");!function(e){let t,n,i,d;!function(e){e.show=r.e}(t=e.Id||(e.Id={})),function(e){e.id="syn_64656E616E69",e.is=e=>e.meta.id.startsWith("syn_"),e.generateActiveWordRandomId=()=>"syn_"+s.f.alphanumeric(10),e.generateSynonymOnboardingId=e=>"syn_"+e+"9f2d9601b324bb6c1e36737e59ed3d96"}(n=e.SynonymMark||(e.SynonymMark={})),function(e){let t;!function(e){e.red="red",e.yellow="yellow",e.blue="blue",e.green="green",e.purple="purple",e.grey="grey",e.cyan="cyan"}(t=e.Color||(e.Color={})),e.eq=l.c.getStructEq({type:l.c.eqString,view:l.c.eqString,color:l.c.eqString,underline:l.c.eqString,highlight:l.c.eqString,order:l.c.eqNumber,animation:l.c.eqString}),e.isInteractable=function(e){return"visible"===e.meta.type}}(i=e.Meta||(e.Meta={})),e.eq=a.fold(l.c.getMonoid())([o.b.ord,l.c.contramap(e=>e.meta)(i.eq),l.c.contramap(e=>e.meta.id)(l.c.eqStrict)]),e.create=e=>o.b.compose(e),function(t){let n;t.empty=new Map,function(t){t.monoid={empty:c.a.empty(),concat:(t,n)=>c.a.concat(e.eq,t,n)},t.fromArray=function(t,n){const i=new Map(t.map(e=>[e.meta.id,e])),a=new Map(n.map(e=>[e.meta.id,e]));return l.e.symmetricDiff(e.eq)(i,a)}}(n=t.Diff||(t.Diff={}))}(d=e.Collection||(e.Collection={}))}(i||(i={}))},joH1:function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var i,a=n("ERkP"),r=n("rk+4"),o=n("Z5Rd"),s=n("czBP"),l=n("1nqz"),c=n("VRL6"),d=n("YnIn"),u=n("3rlE"),p=n("o79T"),h=n("a0Ed"),m=n("4Edb");!function(e){const t={content:{wrapper:m.wrapper,icon:m.icon}};e.View=({notification:e,savedPrice:n,onClose:i,onChangePlan:s})=>{const l=a.useContext(r.a.Context).changePlan.hook;return a.createElement(o.b.Wrapper,{notification:e,onClose:i,theme:t},a.createElement(o.b.Content,null,a.createElement("div",{className:m.content},a.createElement(u.d.Paid,{width:18,className:m.iconPremium}),a.createElement("div",{className:m.text},l.title,a.createElement(p.a,{onClick:s,name:"changePlanNotification",className:m.changePlanBtn},a.createElement("b",null,l.button.switchTo,a.createElement("span",{className:m.price},l.button.price(a.createElement(h.a,Object.assign({},n.pricePerYear,{periodInMonths:12}))))))))))}}(i||(i={}));var g=n("bO3R"),f=n("BugA"),b=n("xEVj"),y=n("e12y"),v=n("ps/9"),k=n("ax6a");y.a.style({display:"flex",flexDirection:"column",width:"100vw",height:"100vh",background:k.a.CoreNeutral1,justifyContent:"center",alignItems:"center"});const w=y.a.style({padding:y.a.rem(1.5),width:y.a.rem(v.w-v.b),borderRadius:y.a.rem(v.s),background:k.a.CoreNeutral0,boxShadow:k.b.Z300,transform:`translateX(${y.a.rem(-1*(v.p-v.c+v.b))})`,$nest:{[`@media (${v.z})`]:{width:y.a.rem(v.x-v.b)}}}),S=y.a.style({display:"flex",marginBottom:y.a.rem(1)}),_=(y.a.style({marginBottom:y.a.rem(1)}),y.a.style({marginBottom:y.a.rem(1),fontWeight:700})),C=(y.a.style({marginLeft:y.a.rem(.5)}),y.a.style({maxWidth:"100%"})),E=y.a.style({paddingRight:y.a.rem(.5),paddingLeft:y.a.rem(.5)}),O=y.a.joinClasses([y.a.style({marginRight:y.a.rem(.5),marginLeft:y.a.rem(-.5),textTransform:"none",letterSpacing:"normal",fontSize:y.a.rem(k.h.BodySize)}),E]);var A;(A||(A={})).View=({name:e,title:t,description:n,cta:i,dismiss:r,topPart:o,rightPart:s,onCTA:l,onDismiss:c,onShow:d})=>(b.a.useEffectOnDidMount(()=>d&&d()),a.createElement("section",{className:w},o,a.createElement("div",{className:S},a.createElement("div",null,a.createElement(f.a,{className:_},t),a.createElement(f.a,null,n)),s),a.createElement("div",{className:C},a.createElement(g.a.Ghost,{name:e,className:O,onClick:l},i),a.createElement(g.a.Flat,{name:`dismiss.${e}`,className:E,onClick:c},r))));var x=n("gOzB");const T=({className:e})=>a.createElement("svg",{viewBox:"0 0 68 68",width:"68",height:"68",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e},a.createElement("path",{d:"M12.965 22.107c3.688-6.33 10.104-10.96 17.954-11.942 4.466-.621 8.752.094 12.604 1.714.68.292 1.411.648 2.027.994.616.346 1.284.755 1.9 1.102a23.872 23.872 0 016.326 6.12c.467.686.987 1.435 1.391 2.175.35.676.701 1.352.998 1.965.872 2.073 1.552 4.305 1.808 6.678.831 6.42-1.022 12.61-4.636 17.478-.806 1.107-1.718 2.088-2.683 3.006-1.484 1.461-3.18 2.67-4.92 3.698-2.662 1.48-5.578 2.526-8.793 2.96-5.77.745-11.235-.6-15.809-3.338a18.989 18.989 0 01-3.523-2.65",stroke:"#8383EF"}),a.createElement("path",{d:"M31.985 18.544c.297-.034.594-.067.827-.048M34.467 18.401c1.995.051 3.841.443 5.592 1.238M40.791 19.995c.223.136.51.22.733.356.392.21.838.482 1.23.692 1.55 1.071 3.015 2.43 4.109 3.992.308.496.68.94.87 1.426.255.433.457.803.648 1.289a16.01 16.01 0 011.202 4.275c.565 4.163-.621 8.178-2.964 11.33-.53.66-1.124 1.374-1.707 1.972A16.193 16.193 0 0141.7 47.7c-1.24.718-2.64 1.246-4.083 1.594",stroke:"#00B18F"}),a.createElement("path",{d:"M34.82 41.18a7.096 7.096 0 01-4.615-.978c-.392-.21-.721-.473-1.05-.736-.16-.19-.436-.39-.595-.579-.85-1.012-1.497-2.302-1.657-3.785-.138-1.07-.044-2.12.274-3.033.021-.234.159-.457.233-.627.138-.224.223-.51.36-.734 1.05-1.851 2.937-3.22 5.26-3.552 1.305-.125 2.589-.016 3.66.486.17.073.393.21.563.283.17.073.392.21.562.283a6.731 6.731 0 011.837 1.801",stroke:"#1CA6D0"}),a.createElement("path",{d:"M8.764 63.084h18.649c3.813 0 6.933-3.139 6.933-6.974V32.818c0-3.835-3.12-6.973-6.933-6.973H8.764c-3.812 0-6.932 3.138-6.932 6.973V56.11c.07 3.836 3.12 6.974 6.932 6.974z",fill:"#F2F3FA",stroke:"#1C1E33"}),a.createElement("path",{d:"M18.123 54.297c6.012 0 10.885-4.902 10.885-10.949 0-6.046-4.873-10.948-10.884-10.948-6.012 0-10.885 4.902-10.885 10.948 0 6.047 4.873 10.949 10.884 10.949z",fill:"#AFE4F4",stroke:"#1C1E33"}),a.createElement("path",{d:"M8.14 47.672c-2.148-4.951-.277-10.67 4.091-13.529 1.872 0 4.16-.558 9.498 6.346a482.407 482.407 0 012.426 3.627c-1.11.627-2.218 1.045-2.218 1.045.97 2.093 3.05 5.37 1.317 7.88l-.832.42c-5.477 2.3-11.924-.21-14.281-5.789z",fill:"#fff",stroke:"#1C1E33"}),a.createElement("path",{d:"M19.302 36.096c-2.08-2.72-3.605-2.86-4.853-3.138-.277.14-.554.209-.901.348h-.07l-.831.419h-.07c-.277.14-.485.349-.762.488-1.248.907-2.288 2.022-3.05 3.347 0 .07-.07.07-.07.14-.138.209-.208.348-.277.558-.07.14-.139.209-.139.348-.069.14-.138.349-.208.558-.069.21-.138.349-.208.488-.069.14-.138.35-.138.489-.07.139-.07.348-.139.488-.07.14-.07.348-.139.488-.069.21-.069.349-.069.558-.07.14-.07.279-.07.418 0 .21 0 .419-.069.628V44.186c0 .348.07.697.14 1.045a11.92 11.92 0 001.039 3.138c.139.35.347.628.555.907.97 1.534 2.287 2.72 3.812 3.626.14-1.604-.623-3.696-1.317-5.37-1.109-2.72 1.317-3.068 2.565-1.882 1.248 1.116.902-.349.763-2.86-.07-3.556 2.773-5.509 4.506-6.694z",fill:"#1C1E33"}),a.createElement("path",{d:"M47.605 40.74H28.956c-3.813 0-6.932-3.139-6.932-6.974V10.474c0-3.835 3.12-6.973 6.932-6.973h18.649c3.813 0 6.932 3.138 6.932 6.973v23.292c0 3.835-3.12 6.974-6.932 6.974z",fill:"#fff",stroke:"#1C1E33"}),a.createElement("path",{d:"M38.246 31.954c-6.011 0-10.884-4.902-10.884-10.949s4.873-10.948 10.884-10.948c6.01 0 10.884 4.901 10.884 10.948 0 6.047-4.873 10.949-10.884 10.949z",fill:"#B9CDFF",stroke:"#1C1E33"}),a.createElement("path",{d:"M48.991 22.888c.971-5.37-2.149-10.46-7.07-12.204-1.803.419-4.16.419-7.835 8.438-.554 1.534-1.525 4.045-1.525 4.045 1.248.349 2.427.488 2.427.488-.486 2.232-1.803 5.928.485 7.95.277.07.555.14.901.21 5.893 1.045 11.578-2.93 12.617-8.927z",fill:"#fff",stroke:"#1C1E33"}),a.createElement("path",{d:"M45.04 24.84c1.178-2.37-1.179-3.975-1.872-2.58-.693 1.464-2.01 1.813-1.664.628.486-2.371 1.525-5.37-2.149-6.137-3.674-.697-3.882-3.975-2.98-6.555.831-.14 1.663-.21 2.564-.14 6.032.349 10.607 5.58 10.191 11.646-.208 3.417-1.941 6.346-4.506 8.229-.901-1.186-.416-3.487.416-5.09z",fill:"#1C1E33"}));var M,j=n("Qr4B");(M||(M={})).View=({type:e,dismissCount:t,onShow:n,onCTA:i,onDismiss:o})=>{const s=a.useContext(r.a.Context).gbUpHook;return b.a.useEffectOnDidMount(n),a.createElement("section",{className:j.container},a.createElement(x.a.Regular,null,s.proTipBadge),a.createElement("div",{className:j.content},a.createElement("div",null,a.createElement(f.a,{className:j.title},s[e].title),a.createElement(f.a,null,s[e].description)),a.createElement(T,{className:j.image})),a.createElement("div",{className:j.buttonsContainer},a.createElement(g.a.Ghost,{name:e,className:j.ctaButton,onClick:i},s[e].cta),a.createElement(g.a.Flat,{name:`dismiss.${e}`,className:j.dismissButton,onClick:o},1===t?s.dontShowAgain:s.dismiss)))};var I=n("4L0w"),R=n("hoSD");const N=({expiryDate:e,notification:t,onShow:n,onDismiss:i,onUpdateBilling:s})=>{const l=a.useContext(r.a.Context).gbBillingMigration,c=R.d.Local.fullDate(R.d.Local.Timestamp.toLocal(e.getTime()));return a.useEffect(n),a.createElement(o.b.Wrapper,{notification:t,onClose:i},a.createElement("div",null,a.createElement(f.g,{className:L.title},l.title),a.createElement(I.a,null),a.createElement(f.a,{className:L.description},l.description(c)),a.createElement(I.a,null),a.createElement(p.a,{name:"addBillingInformation",onClick:s,className:L.cta},l.cta)))},L=y.a.prefixedStylesheet("gb_billing_migration_notification",{title:[{color:k.a.CoreNeutral0,lineHeight:y.a.rem(1.5)}],description:[{color:k.a.CoreNeutral0}],cta:[{fontWeight:600}]});var P,D=n("WiMv");(P||(P={})).CardMute=({onClose:e,onShow:t})=>{const i=n("PDwX"),o=n("s9lZ"),s=a.useContext(r.a.Context).mutedAlerts.onboarding.cardMute;return a.useEffect(()=>t()),a.createElement("div",{className:D.wrapper},a.createElement("video",{className:D.media,muted:!0,autoPlay:!0,loop:!0,src:i,poster:o}),a.createElement(f.a,{className:D.description},s.description),a.createElement(p.a,{name:"gotItMutedOnboarding",className:D.btn,onClick:e},s.buttonText))};var F,B=n("oCNB"),H=n("OA+g"),V=n("karx");!function(e){const t={content:{wrapper:V.wrapper,icon:V.icon}};e.View=({trialEndDate:e,notification:n,onManageSubscription:i,onClose:s})=>{const l=a.useContext(r.a.Context).premiumUngatingRenewalNotification,c=R.d.Local.fullDate(R.d.Local.Timestamp.toLocal(e.getTime())),d=Object(H.flow)(i,s);return a.createElement(o.b.Wrapper,{notification:n,onClose:s,theme:t},a.createElement(o.b.Content,null,a.createElement("div",{className:V.content},a.createElement(u.d.Info,{width:18,className:V.iconInfo}),a.createElement("div",{className:V.message},a.createElement("div",{className:V.title},l.title),l.message(c),a.createElement(p.a,{onClick:d,name:"manageSubscription",className:V.manageSubscriptionBtn},l.cta)))))}}(F||(F={}));const U=()=>a.createElement("svg",{width:"300",height:"120",viewBox:"0 0 200 100",xmlns:"http://www.w3.org/2000/svg"},a.createElement("defs",null,a.createElement("radialGradient",{cy:"51.039%",fx:"50%",fy:"51.039%",r:"53.934%",gradientTransform:"matrix(0 1 -.99155 0 1.006 .01)",id:"a"},a.createElement("stop",{stopColor:"#03C1E2",offset:"0%"}),a.createElement("stop",{stopColor:"#0279D8",offset:"100%"}))),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M180.34 114.801c0 25.152-20.564 45.544-45.933 45.544-25.366 0-45.932-20.392-45.932-45.544 0-25.154 20.566-45.544 45.932-45.544 25.369 0 45.933 20.39 45.933 45.544",fill:"#15C39A"}),a.createElement("path",{d:"M143.47 120.973c-1.91 0-3.417 1.705-3.06 3.662.272 1.49 1.686 2.513 3.214 2.513h4.813l2.79-.389c-4.464 6.493-12.214 9.481-20.688 8.163-6.898-1.074-12.823-5.701-15.323-12.165-5.676-14.67 5.13-28.678 19.211-28.678 7.34 0 13.774 4.259 17.465 9.403.002 0 .004.107.004.111.98 1.4 2.92 1.802 4.333.83a3.03 3.03 0 0 0 .905-4.053h.022c-5.105-7.901-14.277-12.957-24.592-12.272-13.43.893-24.298 11.79-25.07 25.115-.898 15.505 11.506 28.164 26.933 28.164 8.104 0 15.36-3.499 20.302-9.16l-.585 3.247v2.935c0 1.513 1.029 2.917 2.533 3.186 1.975.352 3.692-1.143 3.692-3.036v-17.576H143.47",fill:"#FFF",fillRule:"nonzero"}),a.createElement("g",{transform:"translate(3 69.257)"},a.createElement("ellipse",{stroke:"#FFF",strokeWidth:"2.649",fill:"url(#a)",cx:"45.765",cy:"45.378",rx:"47.089",ry:"46.703"}),a.createElement("path",{fill:"#EDEDED",d:"M40.217 39.83l33.05-21.955-21.955 33.05-33.05 21.956z"}),a.createElement("path",{fill:"#FE4E4D",d:"M40.217 39.83l33.05-21.955-21.955 33.05z"}),a.createElement("path",{fillOpacity:".199",fill:"#1C1E29",d:"M73.268 17.875l-21.956 33.05-33.05 21.956z"}),a.createElement("path",{d:"M46.637 77.791v6.483H45.11V77.79h1.526zm-17.783-4.666l1.321.756-3.269 5.614-1.32-.756 3.268-5.614zm33.822 0l3.269 5.614-1.322.756-3.268-5.614 1.32-.756zM17.128 61.023l.763 1.31-5.662 3.242-.763-1.31 5.662-3.242zm57.273 0l5.662 3.242-.762 1.31-5.662-3.242.762-1.31zm10.59-16.293v1.513h-6.537V44.73h6.538zm-71.915 0v1.513H6.538V44.73h6.538zM79.41 25.369l.762 1.31-5.662 3.241-.762-1.31 5.662-3.241zm-67.29 0l5.662 3.241-.763 1.31-5.662-3.241.763-1.31zm52.692-14l1.321.757-3.269 5.614-1.32-.756 3.268-5.615zm-38.094 0l3.268 5.615-1.32.756-3.27-5.614 1.322-.757zm19.919-4.886v6.482H45.11V6.483h1.526z",fill:"#F3F5FA"})),a.createElement("g",null,a.createElement("path",{d:"M76.732 36.02h35.03a2.55 2.55 0 0 0 2.205-3.833L96.452 2.074a2.55 2.55 0 0 0-4.409 0L74.528 32.187a2.55 2.55 0 0 0 2.204 3.832z",fill:"#EA1537"}),a.createElement("path",{d:"M95.86 17.988l-.695 6.792h-1.859l-.694-6.792v-5.483h3.247v5.483zm.024 12.028h-3.272v-3.285h3.272v3.285z",fill:"#FFF",fillRule:"nonzero"}))));var q=n("JbXn"),W=n("2Jhg"),$=n("xlCj"),z=n("LNSM"),G=n("D8Xd"),K=n("zR/0"),Y=n("XaD9"),X=n("Fgeo"),Z=n("vXpH"),Q=n("0sKd");const J=$.a.create(e=>e.isEmpty(),e=>e?W.e:Object(W.h)("closedByUser")),ee=({onClose:e,onGetStarted:t})=>{const n=a.useContext(r.a.Context).survey.proofitPromo,{gnarSpec:i,pageId:o}=a.useContext(Y.a.Context),s=z.a.create(W.e);return a.useEffect(()=>void i.surveyPopupShow(o,X.m.ProofitPromo),[i,o]),b.a.useSubscriptionTo(s.pipe(K.a.switchMap(e=>e.fold(()=>K.a.EMPTY,K.a.of)),K.a.tap(n=>G.a.isCloseAction(n)?e():"getStarted"===n?t():void 0))),a.createElement(Z.c.WithOverlay,{key:"proofit-modal-notification",position:Z.b.BottomRight,isVisibleAtom:s.lens(J),title:n.title,content:n.content,icon:a.createElement("picture",null,a.createElement("div",{className:Q.proofitIconBig})),iconPosition:Z.a.Right,isCloseButton:!1,buttons:a.createElement(a.Fragment,null,a.createElement(g.a.Primary,{name:"getStartedBtn",className:Q.getStartedBtn,onClick:()=>{s.set(Object(W.h)("getStarted")),i.professionalProofreadingButtonClick(o,"proofitPromo")}},n.actions.view),a.createElement(g.a.Caps,{name:"closeBtn",className:Q.closeBtn,onClick:()=>s.set(Object(W.h)("closedByUser"))},n.actions.close))})},te=Object.assign(Object.assign({},l.a),{alertUndo:(e,t)=>a.createElement(c.a.Flexible,{notification:e,onClose:t("closedByUser"),action:t("undo"),params:e.args.params}),textRemoved:(e,t)=>a.createElement(ie,{action:t("undo")}),cardMuteOnboarding:(e,t)=>a.createElement(P.CardMute,{onShow:t("shown"),onClose:t("closedByUser")}),externalSurvey:(e,t)=>a.createElement(q.a,{surveyType:e.args.surveyType,onClose:t("closedByUser"),onRemindLater:t("remindLater")}),proofitPromo:(e,t)=>a.createElement(ee,{onClose:t("closedByUser"),onGetStarted:t("getStarted")}),premiumOnboardingSurvey:(e,t)=>a.createElement(d.a,{viewModel:e.args.viewModel,onClose:t("closedByUser")}),changePlanCta:(e,t)=>a.createElement(i.View,{notification:e,savedPrice:e.args.model.savedPrice,onClose:t("closedByUser"),onChangePlan:t("changePlan")}),gbUpHook:(e,t)=>a.createElement(M.View,{type:e.args.type,dismissCount:e.args.dismissCount,onShow:t("shown"),onCTA:t("cta"),onDismiss:t("dismiss")}),gbBillingMigration:(e,t)=>a.createElement(N,{notification:e,expiryDate:e.args.expiryDate,onShow:t("shown"),onUpdateBilling:t("cta"),onDismiss:t("closedByUser")}),changePlanSuccess:e=>a.createElement(ae,{planName:e.args.planName}),premiumUngatingRenewal:(e,t)=>a.createElement(F.View,{trialEndDate:e.args.trialEndDate,notification:e,onClose:t("closedByUser"),onManageSubscription:t("ctaManageSubscription")}),gbSatisfactionSurvey:(e,t)=>a.createElement(s.a,{viewModel:e.args.viewModel,onClose:t("closedByUser"),onComplete:t("completeSurvey")}),safariExtActivation:(e,t)=>a.createElement(ne,{cta:t("activate"),close:t("closedByUser"),onShow:t("shown")}),obtainGrades:(e,t)=>a.createElement(B.a.ObtainGrades,{onShow:t("shown"),onClose:t("closedByUser"),notification:e,viewModel:e.args.viewModel})}),ne=({cta:e,close:t,onShow:n})=>{const{safariExtActivationNotification:i,actions:o}=a.useContext(r.a.Context);return a.createElement(A.View,{title:i.title,description:i.description,cta:i.cta,dismiss:o.close,name:"safariExtActivationNotification",onCTA:e,onDismiss:t,onShow:n,rightPart:a.createElement(U,null)})},ie=({action:e})=>{const t=a.useContext(r.a.Context);return a.createElement(o.b.Content,null,a.createElement(c.a.Content,{action:e,content:t.textRemoved}))},ae=({planName:e})=>{const t=a.useContext(r.a.Context).changePlan;return a.createElement(o.b.Content,null,t.successfulNotificationCopy(e))}},kCgn:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return A}));var i=n("Arv5"),a=n("bYZB"),r=n("3s0z"),o=n("GGUR"),s=n("zR/0"),l=n("lrqh"),c=n("6fbX"),d=n("PrA7"),u=n("nQSW"),p=n("+ukg"),h=n("zGI0"),m=n("I7vG"),g=n("D9EC"),f=n("T/5E"),b=n("Pe9T"),y=n("wt7H"),v=n("GqpD");function k(e,t,n){const{appRouter:i,ded:r,downloadViewModel:o,upgradeViewModel:u,modalManager:k,notificationsManager:w,telemetry:S}=t,_=()=>n.visualState.set({type:v.a.Collapsed}),C=e.name;switch(C){case v.b.myGrammarly:return()=>{S.gnarSpec.backToMyGrammarlyButtonClick(S.pageId,"documentSetting"),i.navigate(f.a.routes.documents.href())};case v.b.newDocument:return()=>i.navigate(f.a.routes.new_document.href());case v.b.download:return()=>{_(),o.downloadOriginal()};case v.b.print:return()=>{_(),setTimeout(window.print,200)};case a.d.undo:return()=>{_(),r.undo()};case a.d.redo:return()=>{_(),r.redo()};case a.d.cut:return()=>{_(),r.cut()};case a.d.copy:return()=>{_(),r.copy()};case a.d.paste:return(t,i)=>(_(),i===h.a.Source.View?w.enqueue("clipboardNotSupported",{hotkey:Object(m.pipe)(e.hotkey,l.g.map(e=>n.getHotkeyString(e[0])),l.g.getOrElse(()=>"hotkeys"))}):s.a.EMPTY);case a.d.selectAll:return()=>{_(),l.b.getOrElse(e=>d.Monitoring.Logging.getLogger("documentSettings").error(`Failed to execute 'Select all'. ${e}`))(r.setCursor(0,r.getLastPossibleCursorPosition()))};case v.b.editorSettings:return()=>(_(),k.show(y.a.preferences));case v.b.upgradeToPremium:return()=>{_(),u.openUpgradeUrl(b.i.Place.DenaliDocument.editorDenaliDocumentSettings)};case v.b.logout:return()=>(_(),p.g.isBusiness(t.userAccount.features.denaliUserType)?k.show(y.a.signOut):t.userAccount.logout());case v.b.feedback:return()=>(_(),k.show(y.a.feedback));case v.b.whatsNew:return()=>(_(),k.show(y.a.news));case v.b.language:return g.e;case v.b.close:case v.b.documentHeader:case v.b.uploadFile:case v.b.editHeader:case v.b.accountHeader:case v.b.userName:case v.b.email:case v.b.subscription:case v.b.support:case v.b.privacyPolicy:case v.b.termsOfService:return _;default:return Object(c.d)(C)}}var w=n("5p8x"),S=n("gy42"),_=n("Sk6A");function C(e,t,n,i){const r=n.visualState.pipe(s.a.tap(e=>{e.type===v.a.Expanded?t.gnarSpec.docSettingsSidebarShow(t.pageId):t.gnarSpec.docSettingsSidebarClose(t.pageId)})),o=_.a.listen("escape"),l=e.contentUpdated.pipe(s.a.merge(i.visible.pipe(s.a.filter(Boolean))),s.a.merge(o),s.a.first());return n.visualState.pipe(s.a.filter(e=>e.type===v.a.Expanded),s.a.tap(()=>{n.itemsState.modify(Object(w.k)((t,n)=>(function(e,t,n){switch(e){case a.d.undo:return Object.assign(Object.assign({},t),{disabled:!n.canUndo()});case a.d.redo:return Object.assign(Object.assign({},t),{disabled:!n.canRedo()});case a.d.cut:case a.d.copy:return Object.assign(Object.assign({},t),{disabled:a.g.isEmpty(n.getCursor())});case a.d.selectAll:return Object.assign(Object.assign({},t),{disabled:n.getTextLength()<=1});default:return t}})(t,n,e))),i.visible.set(!1)}),s.a.switchMap(()=>l.pipe(s.a.tap(()=>n.visualState.set({type:v.a.Collapsed})))),s.a.merge(r),s.a.mapTo(S.b.voidValue))}const E=()=>{const e=new Set([r.a.short]),t={active:!1,disabled:!0};return[{name:a.d.undo,hotkey:i.E([{modifiers:e,key:"Z"}]),initialState:t},{name:a.d.redo,hotkey:i.E([{modifiers:e,key:"Y"},{modifiers:new Set([r.a.short,r.a.shift]),key:"Z"}]),initialState:t}]};function O(e,t){const n=new Set([r.a.short]),o={active:!1,disabled:!1},s={active:!1,disabled:!0},d=[{name:v.b.close,hotkey:l.g.none,initialState:o},"separator",{name:v.b.myGrammarly,hotkey:l.g.none,initialState:o},"separator",{name:v.b.documentHeader,hotkey:l.g.none,initialState:o},{name:v.b.newDocument,hotkey:"desktop"===t.platform?i.E([{modifiers:n,key:"N"}]):l.g.none,initialState:o},{name:v.b.uploadFile,hotkey:l.g.none,initialState:o},{name:v.b.download,hotkey:l.g.none,initialState:o},{name:v.b.print,hotkey:i.E([{modifiers:n,key:"P"}]),initialState:o},"separator",{name:v.b.editHeader,hotkey:l.g.none,initialState:o},{name:a.d.undo,hotkey:i.E([{modifiers:n,key:"Z"}]),initialState:s},{name:a.d.redo,hotkey:i.E([{modifiers:n,key:"Y"},{modifiers:new Set([r.a.short,r.a.shift]),key:"Z"}]),initialState:s},"separator",{name:a.d.cut,hotkey:i.E([{modifiers:n,key:"X"}]),initialState:s},{name:a.d.copy,hotkey:i.E([{modifiers:n,key:"C"}]),initialState:s},{name:a.d.paste,hotkey:i.E([{modifiers:n,key:"V",source:r.b.Keydown,preventDefault:!1}]),initialState:o},{name:a.d.selectAll,hotkey:i.E([{modifiers:n,key:"A"}]),initialState:o},"separator",{name:v.b.editorSettings,hotkey:l.g.none,initialState:o},"separator",{name:v.b.accountHeader,hotkey:l.g.none,initialState:o},{name:v.b.userName,hotkey:l.g.none,initialState:o},{name:v.b.email,hotkey:l.g.none,initialState:o},{name:v.b.upgradeToPremium,hotkey:l.g.none,initialState:o},{name:v.b.language,hotkey:l.g.none,initialState:o},{name:v.b.subscription,hotkey:l.g.none,initialState:o},{name:v.b.logout,hotkey:l.g.none,initialState:o},"separator",{name:v.b.support,hotkey:l.g.none,initialState:o},{name:v.b.whatsNew,hotkey:l.g.none,initialState:o},{name:v.b.feedback,hotkey:l.g.none,initialState:o},"separator",{name:v.b.privacyPolicy,hotkey:l.g.none,initialState:o},{name:v.b.termsOfService,hotkey:l.g.none,initialState:o}],u=function(e){const t=e.isPremium.get();return n=>{if(!h.a.isItem(n))return!0;const i=n.name;switch(i){case v.b.upgradeToPremium:return!t&&!e.demoMode;case v.b.subscription:return!e.disableAppsPromotion&&!e.demoMode&&!p.g.isBusinessTeamMember(e.denaliUserType);case v.b.myGrammarly:case v.b.newDocument:case v.b.language:case v.b.editorSettings:case v.b.uploadFile:case v.b.support:case v.b.feedback:return!e.demoMode;case v.b.close:case v.b.documentHeader:case v.b.uploadFile:case v.b.download:case v.b.print:case v.b.editHeader:case v.b.accountHeader:case v.b.userName:case v.b.email:case v.b.logout:case v.b.support:case v.b.whatsNew:case v.b.feedback:case v.b.privacyPolicy:case v.b.termsOfService:case a.d.undo:case a.d.redo:case a.d.cut:case a.d.copy:case a.d.paste:case a.d.selectAll:return!0;default:return Object(c.d)(i)}}}(e);return d.filter(u).filter((e,t,n)=>n[t-1]!==e)}function A(e,t,n,l,c,m,g,f,b,y,w,S,_,A,x){const T=new o.a.Keeper,M=l.features.denali.documentToolbar===p.d.documentSettings?O(l.features,y):y.platform===u.b.Platform.IPAD?function(e,t){const n=new Set([r.a.short]),o={active:!1,disabled:!0};return[...O(e,t),"separator",{name:a.d.undo,hotkey:i.E([{modifiers:n,key:"UNDO",source:r.b.Input}]),initialState:o},{name:a.d.redo,hotkey:i.E([{modifiers:n,key:"UNDO",source:r.b.Input}]),initialState:o}]}(l.features,y):E(),{viewModel:j,events:I}=Object(v.d)(M,n,l,c,b,y,w,_,x,t,e.isEditorFocused),R=function(e,t,n){return e.filter(h.a.isItem).reduce((e,i)=>Object.assign(Object.assign({},e),{[i.name]:k(i,n,t)}),{})}(M,j,{appRouter:t,ded:e,userAccount:l,downloadViewModel:m,upgradeViewModel:g,modalManager:f,notificationsManager:w,docId:A,telemetry:_}),N=h.a.toMenuEvents(e.getCursor.bind(e),I).pipe(s.a.tap(([e,t,n])=>{e!==v.b.upgradeToPremium?_.gnarSpec.docSettingsEventFire(e,_.pageId,n):_.gnarSpec.getPremiumButtonClick(_.pageId,"upgradeToPremium","documentSettings")})),L=d.Monitoring.Logging.getLogger("documentSettings"),P=h.a.linkEvents(N,R).pipe(s.a.catchError((e,t)=>(L.error("Error handling document settings event",e),t)));return T.push(P.pipe(s.a.merge(C(e,_,j,S))).subscribe(),e.dontFreezeWhen(j.visualState.view("type").view(e=>e===v.a.Expanded),"documentSettings")),{viewModel:j,dispose:()=>T.dispose()}}},kHl6:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("ERkP"),a=n("LNSM"),r=n("vOOZ"),o=n("9NHN"),s=n("e12y"),l=n("WIwS"),c=n("ps/9"),d=n("rk+4"),u=n("BugA"),p=n("zR/0"),h=n("gy42");function m({value:e,className:t,leftCustomClass:n,rightCustomClass:s}){const l=a.a.create(!1);requestAnimationFrame(()=>requestAnimationFrame(()=>l.set(!0)));const c=p.a.combineLatestStatic(h.b.toObservable(e),l,(e,t)=>t?`${Math.max(5,Math.abs(e-50))}%`:0),d=(e,t,n)=>h.b.toObservable(e).pipe(p.a.map(e=>e<50?t:n));return i.createElement(r.a.div,Object.assign({},Object(o.c)((e=>h.b.toObservable(e).pipe(p.a.map(e=>e<50?v.leftSideWrapper:v.rightSideWrapper)))(e),t)),i.createElement(r.a.div,Object.assign({},Object(o.c)(d(e,v.leftSideProgress,v.rightSideProgress),Boolean(n)&&Boolean(s)&&d(e,n,s)),{style:{width:c}})))}!function(e){e.Label=({value:e,className:t})=>{const n=i.useContext(d.a.Context).performance,a=e>66?n.aboveAverage:e>50?n.average:n.belowAverage;return i.createElement(u.l,{className:t},a)}}(m||(m={}));const g={position:"relative",zIndex:1,display:"flex",width:s.a.percent(100),height:s.a.rem(.25),borderRadius:s.a.rem(c.t)},f={height:s.a.percent(100),backgroundColor:l.i,transition:"width .8s ease-in-out 0s"},b={marginRight:s.a.percent(50),borderTopLeftRadius:s.a.rem(.25),borderBottomLeftRadius:s.a.rem(.25)},y={marginLeft:s.a.percent(50),borderTopRightRadius:s.a.rem(.25),borderBottomRightRadius:s.a.rem(.25)},v=s.a.stylesheet({wrapper:[g],leftSideWrapper:[g,{justifyContent:"flex-end"}],rightSideWrapper:[g,{justifyContent:"flex-start"}],progress:[f],leftSideProgress:[f,b],rightSideProgress:[f,y]})},kQ5X:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return qs}));var i,a,r=n("ERkP"),o=n("OA+g"),s=n("vOOZ"),l=n("LNSM"),c=n("lrqh"),d=n("Z+UA"),u=n("MsKq"),p=n("Z2Lj"),h=n("BBZl"),m=n("ePa0"),g=n("e12y"),f=n("zR/0"),b=n("xEVj"),y=n("gy42"),v=n("RC7t"),k=n("TRam"),w=n("D9EC"),S=n("skHh");(a=i||(i={})).getCommandResponses=e=>f.a.mergeStatic(e.incomingMessages,e.internalMessages).pipe(f.a.filter(Object(w.p)(k.a.TextView.AckCommand.is,k.a.TextView.RejectCommand.is,k.a.MPTE.RejectCommand.is))),a.create=(e,t=3e3)=>{const n=new f.a.Subject;return{commands:n,pushCommand:i=>()=>(n.next(i),f.a.raceStatic(Object(o.pipe)(e,f.a.filter(e=>e.id===i.id),f.a.first(),f.a.map(Object(o.flow)(c.b.fromPredicate(k.a.TextView.AckCommand.is,e=>new Error(e.reason)),c.b.map(e=>{switch(e.command){case S.a.Kind.GetViewportAndRangeRect:default:return e.rangeRect}})))),Object(o.pipe)(f.a.timer(t),f.a.mapTo(c.b.left(new Error(`Timeout of ${t}ms for command ${i.kind} is exceeded`))))).toPromise())}},a.mock=()=>({commands:new f.a.Subject,pushCommand:()=>c.l.left(new Error)});var _,C=n("PrA7"),E=n("mEc7"),O=n("XaD9"),A=n("Pe9T"),x=n("pYfS"),T=n("gw+C"),M=n("6fbX"),j=n("xwB0");!function(e){const t=Object(w.l)(()=>{const e=new Set;let t=c.g.none;return l.a.create({addEventListener:(n,i)=>{Object(M.g)("message"===n,'Connection target supports "message" events only'),e.add(i),Object(o.pipe)(t,c.g.tap(i))},removeEventListener:(t,n)=>{Object(M.g)("message"===t,'Connection target supports "message" events only'),n&&e.delete(n)},postMessage:n=>{const i={data:n};t=c.g.some(i),e.forEach(e=>{e(i)})}})});let n,i;!function(e){e.createConnection=()=>j.a.ChecksBackend.createConnection(t())}(n=e.ChecksBackend||(e.ChecksBackend={})),function(e){e.createConnection=()=>j.a.TextView.createConnection(t())}(i=e.TextView||(e.TextView={}))}(_||(_={}));var I=n("vLzu"),R=n("i1Da"),N=n("joH1"),L=n("1aGC"),P=n("24uI"),D=n("bYZB"),F=n("BugA"),B=n("hoSD"),H=n("b0nb"),V=n("PPsJ"),U=n("2xe6");const q=L.import("formats/list");class W extends q{static create(e){const t=super.create(e);return t.setAttribute("data-type",e),t}static formats(e){if(B.c.Guardians.isOL(e))return"ordered";if(B.c.Guardians.isUL(e)){switch(e.getAttribute("data-type")){case"dashed":return"dashed";default:return"bullet"}}}}var $=n("hJSx"),z=n("hY4K"),G=n("lg/X"),K=n("2yqQ"),Y=n("o5+S"),X=n("nQSW"),Z=n("Fgeo"),Q=n("q9Ib"),J=n("fT1+"),ee=n("LOBD"),te=n("m0pz"),ne=n("bZiY"),ie=n("I7vG"),ae=n("2Jhg"),re=n("9NHN"),oe=n("rk+4"),se=n("26kZ"),le=n("Q8bi"),ce=n("GGUR"),de=n("mAhp"),ue=n("BeBM"),pe=n("9/oM"),he=n("sDKV"),me=n("QwZm"),ge=n("aYRv"),fe=n("sv6e"),be=n("bO3R"),ye=n("XXDN"),ve=n("3rlE"),ke=n("pKPl"),we=n("/LZ8");const Se=({position:e,children:t,className:n})=>{const i="top"===e;return r.createElement("div",Object.assign({},Object(re.c)(we.container,n)),r.createElement("div",{className:we.scrollWrap},r.createElement("div",{className:i?we.editorTopContentWrap:we.editorContentWrap},r.createElement("div",{className:i?we.editorTopContent:we.editorContent},t))))},_e=({children:e,selectionEffect:t})=>{const{withSelectionEffect:n}=r.useContext(he.a.Context),i=n(ke.b,t);return r.createElement(i,{theme:{editorContent:we.editorContentFullWidth,editorContentWrap:we.editorContentWrapFullWidth}},e)};var Ce=n("ttzm");const Ee=(e,{footer:t})=>{switch(e[0]){case Z.b.wordsCount:return`${e[1].toLocaleString()} ${B.f.pluralize(e[1],t.word,t.words)}`;case Z.b.charsCount:return`${e[1].toLocaleString()} ${B.f.pluralize(e[1],t.character,t.characters)}`;case Z.b.readingTime:return`${B.d.convertTimeToShortString(e[1])} ${t.readingTime}`;case Z.b.speakingTime:return`${B.d.convertTimeToShortString(e[1])} ${t.speakingTime}`;case Z.b.readabilityScore:return Object(ie.pipe)(e[1],c.g.fold(()=>t.disabledReadabilityScore,e=>`${e} ${t.readabilityScore}`));default:return Object(M.d)(e[1])}},Oe=(e,t)=>t===Z.b.readabilityScore&&c.g.isNone(e[t]);class Ae extends r.Component{componentWillUnmount(){this.props.footerElement.set(ae.e)}render(){const{state:e,footerElement:t,className:n,children:i}=this.props;return r.createElement(s.a.div,Object.assign({},Object(re.c)(e.view(ue.e.isSidebarOpened).view(Object(w.c)(Ce.footerSqueezed,Ce.footerWrapper)),n),{mount:e=>t.set(ae.f.of(e))}),r.createElement(_e,{selectionEffect:he.a.Effect.collapse},i))}}!function(e){e.Container=({children:e,mount:t})=>r.createElement(s.a.div,Object.assign({},Object(re.c)(Ce.footerContainer,Ce.fContainer),{mount:t}),e),e.Item=({children:e,order:t,className:n})=>r.createElement("div",Object.assign({style:{zIndex:t}},Object(re.c)(n,Ce.fItem)),e),e.IconCounters=({counterTuple:e})=>r.createElement(s.a.div,null,e.view(Object(o.flow)(c.g.map(e=>r.createElement(ve.d.WordCounter,{key:e[0],className:Ce.footerWordCounter})),c.g.toNullable))),e.Counters=({counterTuple:e,dropdownShown:t})=>{const n=r.useContext(oe.a.Context);return r.createElement(s.a.div,{tabIndex:0,role:"button","aria-disabled":"false","aria-haspopup":"listbox","aria-expanded":t,className:Ce.footerLabelContainer},e.view(Object(o.flow)(c.g.map(e=>r.createElement("div",{key:e[0],className:Ce.counterContainer},r.createElement("div",{className:Ce.footerLabel},Ee(e,n)),r.createElement(ve.d.TriangleArrow,{className:Ce.footerArrow}))),c.g.toNullable)))};class t extends r.Component{constructor(){super(...arguments),this._subs=[],this._dropdownShown=l.a.create(!1),this._counters=l.a.create(c.g.none),this._currentCounter=this.props.settingsModel.footerCounterType,this._setCounter=e=>this.props.settingsModel.updateFooterCounterType(e)}componentDidMount(){this._subs.push(this.props.documentModel.checkingState.pipe(f.a.filter(e=>"idle"===e),f.a.first(),f.a.switchMapTo(this.props.documentModel.score),f.a.combineLatest(this.props.documentModel.textInfo)).subscribe(([e,t])=>this._counters.set(Object(ie.pipe)(t,c.g.map(t=>({wordsCount:t.wordsCount,charsCount:t.charsCount,readingTime:t.readingTime,speakingTime:t.speakingTime,readabilityScore:Object(ie.pipe)(e,c.g.map(()=>t.readabilityScore))}))))))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{renderLabel:e,theme:t}=this.props;return r.createElement(oe.a.Context.Consumer,null,n=>r.createElement(ye.a,{name:"footer-stats",customPosition:{top:"auto",left:"auto"},showDelay:300,theme:t,label:e(l.a.combine(this._counters,this._currentCounter,(e,t)=>Object(ie.pipe)(e,c.g.map(e=>[t,e[t]]))),this._dropdownShown),onVisibilityChange:e=>this._dropdownShown.set(e)},this._counters.view(Object(o.flow)(c.g.map(e=>Object.keys(e).map(t=>r.createElement(be.a.Flat,{key:t,name:t,className:Ce.listItem,disabled:Oe(e,t),onClick:()=>this._setCounter(t)},!Oe(e,t)&&this._currentCounter.view(e=>e===t?r.createElement(ve.d.Helpfull,{key:"helpfull-icon"}):null),Ee([t,e[t]],n)))),c.g.toNullable))))}}e.WordCounter=t}(Ae||(Ae={}));var xe=n("WIwS");const Te=g.a.keyframes({"5%":{opacity:1},"95%":{opacity:1},"100%":{opacity:0}}),Me={display:"inline-block",marginTop:g.a.rem(1),color:xe.i,verticalAlign:"top",fontSize:g.a.rem(.6875),lineHeight:g.a.rem(2),opacity:0,pointerEvents:"none",flexShrink:0},je={animation:`${Te} 2s linear`},Ie=g.a.stylesheet({notSaved:[Me],saved:[Me,je]}),Re=({isSaved:e,className:t})=>r.createElement(F.l,Object.assign({key:"saved-wrapper","data-name":"save-status"},Object(re.c)(e.pipe(f.a.audit(e=>f.a.timer(e?1e3:0)),f.a.startWith(!1),f.a.map(e=>e?Ie.saved:Ie.notSaved)),t)),r.createElement(s.a.span,{"data-saved":e.pipe(f.a.startWith(!0))}),"Saved");var Ne=n("wJHk"),Le=n("H37f"),Pe=n("wI8h"),De=n("uth1");const Fe=({view:e})=>{const{emogenie:{popup:{title:t,subtitle:n}}}=r.useContext(oe.a.Context),{gnarSpec:i,pageId:a}=r.useContext(O.a.Context);return r.useEffect(()=>{const t=e.subscribe(e=>{if(Pe.a.View.isReport(e)){const t=e.primaryItem.name;i.emotionsPopupShow(t,a)}});return()=>t.unsubscribe()},[e,i,a]),r.createElement(s.a.Fragment,null,e.view(o=>Pe.a.View.isReport(o)?r.createElement(ye.a,{key:"emogenie-dropdown",name:"emotions",align:"right",appearanceBehavior:"mouseHover",dontCloseOnClickInside:!0,theme:{dropdownList:De.wrapper},onVisibilityChange:e=>{if(e){const e=o.primaryItem.name;i.emotionsPopupClick(e,a)}},label:r.createElement(s.a.Fragment,null,e.view(e=>e).view(({primaryItem:e})=>r.createElement("div",{className:De.primaryItemWrapper},r.createElement(Le.b,{className:De.primaryItem},e.emoji))))},r.createElement(r.Fragment,null,r.createElement(F.e,null,t),r.createElement(F.a,null,n),r.createElement(s.a.div,{className:De.report},e.view(e=>e).view(({primaryItem:e,secondaryItems:t})=>r.createElement(r.Fragment,null,r.createElement(Be,{item:e}),t.map(e=>r.createElement(Be,{item:e,key:e.name}))))))):r.createElement(be.a.Ghost,{name:"emogenie-zero",disabled:!0,title:Object(ie.pipe)(o.tooltipText,c.g.map(e=>r.createElement("div",{className:De.zeroStateTooltip},e)),c.g.orUndefined)},r.createElement(ve.d.NoTone,{className:De.primaryItemIcon}))))},Be=({item:e})=>r.createElement("div",{className:De.reportItem},r.createElement(Le.b,{className:De.reportItemEmoji},e.emoji),r.createElement(F.a,{className:De.reportItemName},e.name),r.createElement(He,{className:De.reportItemIntensity,intensity:e.intensity,caption:e.intensityCaption}),r.createElement("div",{className:De.reportItemActions},r.createElement(be.a.Ghost,{className:De.button,animationMode:Ne.a.None,title:e.actions.like.tooltip,name:e.actions.like.name,onClick:e.actions.like.handler,disabled:e.actions.like.disabled,active:e.actions.like.active},r.createElement(ve.d.VotedUp,null)),r.createElement(be.a.Ghost,{className:De.button,animationMode:Ne.a.None,disabled:e.actions.dislike.disabled,title:e.actions.dislike.tooltip,name:e.actions.dislike.name,onClick:e.actions.dislike.handler,active:e.actions.dislike.active},r.createElement(ve.d.VotedDown,null)))),He=({intensity:e,caption:t,className:n})=>r.createElement("span",{className:n},r.createElement(se.a,{title:t,align:"topCenter"},r.createElement("span",null,Pe.a.intensitiesOrder.map(t=>r.createElement("span",Object.assign({key:t},Object(re.c)(De.intensityItem,t<=e?De.intensityColor:De.intensityNoColor)))))));var Ve=n("Hj4v");const Ue=()=>{const{footer:{rtfCompatibilityInfo:e}}=r.useContext(oe.a.Context),{gnarSpec:t,pageId:n}=r.useContext(O.a.Context);return r.useEffect(()=>{t.rtfCompatibilityViewBlockShow(n)}),r.createElement(F.l,{className:Ve.rtfDisabledMessage},r.createElement(Le.b,null,e.message.plainText),r.createElement(se.a,{align:"topCenter",title:r.createElement("div",{className:Ve.rtfTooltip},e.tooltip)},r.createElement("span",{className:Ve.rtfDisabled},e.message.textWithTooltip)),".")};var qe=n("ythQ"),We=n("3sgk");const $e="header-title-input";var ze;!function(e){e.isTitleInput=function(e){return Boolean(e)&&e.name===$e};class t extends r.Component{constructor(){super(...arguments),this._footerEl=l.a.create(ae.e),this._subs=new ce.a.Keeper}componentDidMount(){this._subs.push(this._footerEl.pipe(f.a.combineLatest(this.context)).subscribe(([e])=>{this.props.viewportPadding.set({top:this._titleEl.offsetHeight,bottom:e.fold(()=>0,e=>e.offsetHeight)})}))}componentWillUnmount(){this._subs.dispose()}render(){const{denaliEditor:e,documentModel:t,state:n,settingsModel:o,formattingViewModel:l,emotionsViewModel:c}=this.props;return r.createElement(s.a.div,{className:We.toolbarWrapperTier},r.createElement(a.Component,{key:"toolbar-title",isOpened:n.view(ue.e.isSidebarOpened),className:we.overlayClickableEl,denaliEditor:e,documentModel:t,remSize:this.context,onMount:e=>this._titleEl=e}),r.createElement(s.a.div,{className:We.toolbarContainer},r.createElement(i,{footerEl:this._footerEl,state:n,formattingViewModel:l,documentModel:t,settingsModel:o,emotionsViewModel:c})))}}t.contextType=u.a.Context,e.Component=t;const n=fe.b.createComponent({component:Ae.Container,section:fe.b.create(fe.b.Id.formatting)}),i=({footerEl:e,state:t,formattingViewModel:i,documentModel:a,settingsModel:o,emotionsViewModel:l})=>r.createElement(Ae,{className:we.overlayClickableEl,footerElement:e,state:t},r.createElement(n,null,r.createElement(d,{rtfMode:a.rtfMode,toolbarViewModel:Object(ie.pipe)(i,c.g.map(({toolbarViewModel:e})=>e))}),r.createElement(Ae.Item,{className:We.bigWordCounter,order:2},r.createElement(Ae.WordCounter,{theme:{dropdownContainer:We.dropdownContainer,dropdownList:a.rtfMode!==me.DocumentFeatures.FormattingMode.off?We.dropdownListLeft:We.dropdownListRight},documentModel:a,settingsModel:o,renderLabel:(e,t)=>r.createElement(Ae.Counters,{counterTuple:e,dropdownShown:t})})),a.rtfMode!==me.DocumentFeatures.FormattingMode.off&&r.createElement(Ae.Item,{className:We.smallWordCounter,order:1},r.createElement(Ae.WordCounter,{theme:{dropdownContainer:We.dropdownContainer,dropdownList:We.dropdownListLeft},documentModel:a,settingsModel:o,renderLabel:e=>r.createElement(Ae.IconCounters,{counterTuple:e})})),r.createElement(s.a.Fragment,null,Object(ie.pipe)(l,c.g.map(e=>r.createElement(Ae.Item,{className:We.footerEmotions,order:2},r.createElement(Fe,{view:e.visualState}))),c.g.orNull))));let a;(a||(a={})).Component=({denaliEditor:e,isOpened:t,documentModel:n,remSize:i,onMount:a,className:o})=>{const{gnarSpec:l,pageId:c}=r.useContext(O.a.Context),d=r.useContext(oe.a.Context),{withSelectionEffect:u}=r.useContext(he.a.Context),[p,h]=(e=>{const{ref:t,onMount:n}=b.a.useElWatcher();return[t.pipe(f.b.compactMap(t=>e.pipe(f.a.scan((e,t)=>[e[1],Boolean(t)?t.length:0],[0,0]),f.a.switchMap(([e,n])=>f.a.timer(0,500).pipe(f.a.map(i=>({width:t.offsetWidth+(i||!n||e>n?0:10)})),f.a.take(2))))),f.a.startWith({width:0})),n]})(n.title),m=((e,t)=>{const n=new f.a.BehaviorSubject(!1),i=f.a.combineLatestStatic(e.scrollPosition,e.viewport.pipe(f.a.map(({text:e})=>e)),(e,t)=>t.top-e).pipe(f.a.combineLatest(t),f.a.auditTime(100),f.a.skip(1),f.a.map(([e,t])=>e<3.45*t),f.a.startWith(!1),f.a.distinctUntilChanged(),f.a.tap(e=>e||n.next(!1)));return{titleFocused:n.asObservable(),titleVisible:i,setFocus:e=>()=>n.next(e)}})(e,i),g=y.b.chooseWhen(t),v=y.b.chooseWhen(m.titleFocused),k=u(he.a.Effect.PlainContainer,he.a.Effect.collapse),w=fe.b.createComponent({component:s.a.div,section:fe.b.create(fe.b.Id.title),behavior:de.a.FocusBehavior.captureTab}),S=n.title.view(e=>Boolean(e)?d.toolbar.title.rename:d.toolbar.title.untitledDocument);return r.createElement(r.Fragment,null,r.createElement(k,Object.assign({},Object(re.c)(We.toolbarTitleContainer,o),{onMount:a})),r.createElement("div",{className:We.absoluteWrapper},r.createElement(_e,{selectionEffect:he.a.Effect.prevent},r.createElement(s.a.div,Object.assign({},Object(re.c)(t.view(e=>e?We.headerWrapperSqueezed:We.headerWrapper),o)),r.createElement("div",{className:We.headerContainer},r.createElement("div",{className:We.titleWrapper},r.createElement(w,Object.assign({},Object(re.c)(We.headerTitleHighlight,g(We.headerTitleContainer,We.headerTitleContainerFull),v(We.headerTitleContainerFocused,void 0))),r.createElement(pe.b,{alignment:"bottom",eventType:"onclick",themes:{containerWrapperClassName:We.headerOnboardingWrapper},stepId:ge.b.StepId.DocumentTitle,title:d.toolbar.title.onboarding.title,message:d.toolbar.title.onboarding.message},r.createElement(se.a,{title:d.toolbar.title.rename,align:"bottomCenter",duration:2e3},r.createElement(le.Typography,Object.assign({style:p,name:$e,styleType:le.Typography.Type.Base,nodeType:"input",type:"text",autoComplete:"off",maxLength:5e3,key:$e,spellCheck:!1,onClick:()=>{l.newTitleButtonClick(c)},onFocus:m.setFocus(!0),onBlur:m.setFocus(!1),placeholder:S,className:We.headerTitle,"arial-label":S},Object(re.b)({value:n.title})))))),r.createElement(s.a.span,{"data-name":"saved-container",className:We.savedContainer},r.createElement(Re,{className:We.savedIndicator,isSaved:n.saved}))))))),r.createElement("span",{ref:h,className:We.shadow},r.createElement(s.a.Fragment,null,n.title.view(e=>Boolean(e)?e:d.toolbar.title.untitledDocument))))};const d=({rtfMode:e,toolbarViewModel:t})=>{const{withSelectionEffect:n}=r.useContext(he.a.Context),i=n(he.a.Effect.PlainContainer,he.a.Effect.resetAsap),a=e===me.DocumentFeatures.FormattingMode.compatibility;return r.createElement(r.Fragment,null,a?r.createElement(Ae.Item,{order:0},r.createElement(Ue,null)):Object(ie.pipe)(t,c.g.fold(o.constNull,e=>r.createElement(Ae.Item,{className:We.formattingShiftedLeft,order:0},r.createElement(i,null,r.createElement(qe.b,{viewModel:e}))))))}}(ze||(ze={}));const Ge=(e,t,n,i,a)=>{const r=te.a.isDraftAIMode(n,e.features.denali),s=n.rtfMode===A.d.DocumentFeatures.FormattingMode.on,l=t.has(X.b.Flag.pasteAsPlainTextInSafariFromMSWord)?[D.f.MSWord]:[],c=L.import("formats/link");c.className=ee.a.rtfLink;const d=L.import("formats/indent");d.className="ql-indent";const u=[W,c,d];return r&&u.push(U.a),new H.a({theme:K.a,modules:{history:$.a,clipboard:Object(V.b)(s,l),keyboard:z.a.getKeyboardWithBindings(s?Object.assign(Object.assign({},z.a.Bindings.rtfBindings),r?z.a.Bindings.templateSectionBindings:{}):z.a.Bindings.plainTextBindings),marks:G.a},formats:u},i,s?r?Object(w.p)(Y.b.QuillFormatNames.is,e=>e===U.a.blotName):Y.b.QuillFormatNames.is:P.a.skipAny,P.a.skipAny,{classes:e.settings.editorPreferences.view(({fontSize:e,suggestionsVisualMode:n})=>{const i=Object(ne.a)(n),a=t.has(X.b.Flag.highHighlights)?i.markHeightTall:void 0;return{containerClass:Object(o.pipe)(e,Z.e.match("",ee.a.bigSize),e=>B.c.classes(e,F.o.paper,ee.a.editorContainer)),markClassesTheme:i,markExtraClass:a,editorContainer:ee.a.editorContainer}}),freezeFocusFeature:!0,allowNavigationTo:e=>J.b.isSearchInput(e)||ze.isTitleInput(e),shouldFocusEditor:Q.a.isInlineCard},a)};var Ke=n("QshB");class Ye{constructor(e,t,n,i){this._docModel=e,this._doxInit=t,this._doxEvents=n,this._log=C.Monitoring.Logging.getLogger("DoxSyncManager"),this._log.debug("Got initial text, len: "+t.initialDelta.length),this._settingsHolder=t.meta.settings,this._title=t.meta.title;const a=Object(ie.pipe)(n.dox,f.a.filter(e=>"metadata_change"===e.kind),f.a.map(e=>e));this._subs=[i.subscribe(()=>this._docModel.saved.next(!1)),this._docModel.title.pipe(f.a.filter(e=>e!==this._title),f.a.tap(e=>this._docModel.saved.next(!1)),f.a.debounceTime(1e3)).subscribe(e=>{this._updateTitle(Boolean(e)?e:"")}),this._docModel.context.pipe(f.a.skip(1)).subscribe(e=>{const t=this._settingsHolder.changeContext(e);this._updateSettings(t)}),this._docModel.extraSettings.changes.subscribe(e=>{const t=this._settingsHolder.changeExtra(e);this._updateSettings(t)}),this._docModel.checkingState.pipe(f.a.combineLatest(this._docModel.counters),f.a.filter(([e,t])=>"idle"===e&&Ke.b.isValid(t)),f.a.map(([e,t])=>t),f.a.skip(1),f.a.debounceTime(1e3),f.a.distinctUntilChanged()).subscribe(e=>{c.l.toPromise(this._doxInit.remoteDocument.updateMetadata({errors:e.advanced+e.critical}))}),a.subscribe(({documentMetadata:e})=>{this._settingsHolder=e.settings,Object(ie.pipe)(e.proofit,c.g.fold(w.e,e=>this._docModel.proofit.updateState(e))),this._title=e.title,this._docModel.title.set(e.title)}),this._doxEvents.acceptedMessage.subscribe(()=>{this._docModel.saved.next(this._doxInit.remoteDocument.inSync)}),this._doxEvents.droppedMessages.subscribe(({messages:e,reason:t})=>{const n=this._groupMessages(e);Boolean(n.change)&&this._log.warn("got dropped messages",{counts:n,reason:t}),this._docModel.saved.next(this._doxInit.remoteDocument.inSync)})]}static createDoxEventsCollector(){return{dox:new f.a.Subject,acceptedMessage:new f.a.Subject,droppedMessages:new f.a.Subject}}dispose(){this._subs.forEach(e=>e.unsubscribe())}_updateSettings(e){this._docModel.saved.next(!1),this._settingsHolder=e,c.l.toPromise(this._doxInit.remoteDocument.updateMetadata({settings:e}))}_updateTitle(e){this._docModel.saved.next(!1),this._title=e,c.l.toPromise(this._doxInit.remoteDocument.updateMetadata({title:e}))}_groupMessages(e){return e.reduce((e,t)=>(void 0===e[t.kind]&&(e[t.kind]=0),e[t.kind]++,e),{})}}var Xe=n("D57K"),Ze=n("U75S"),Qe=n("8Js9"),Je=n("NSdk"),et=n("hUf6"),tt=n("94k3"),nt=n("E3+O"),it=n("prnJ"),at=n("WOlp"),rt=n("SGhz"),ot=n("FYFc"),st=n("4Gi8"),lt=n("Gz6z"),ct=n("rWEN"),dt=n("cA63"),ut=n("HqKA"),pt=n("PzR3"),ht=n("FiSa");class mt{constructor(e,t,n,i){this._events=e,this._capi=t,this._ded=n,this._capiConnection=i,this._log=C.Monitoring.Logging.getLogger("CapiSyncManager"),this._subs=[],this._isReady=!1,this.connectFromIdleSource=()=>{this._ded.flushChanges();const e=this._ded.getContents();return this._log.debug("sending ded current delta",P.a.anonymizeTextAndStringAttrs(e.delta)),e},this.connectFromResetSource=()=>{const e=this._initialDelta?this._initialDelta:this._ded.getContents();return this._initialDelta=void 0,e},this.setSessionOption=e=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.setSessionOption(e))),this.sendFeedback=e=>Object(ie.pipe)(this._capi.sendFeedback(e),c.l.fold(()=>c.l.rightIO(()=>this._checkConnected()),()=>c.l.right(void 0))),this.requestDocStats=Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.requestDocStats)),this.requestSynonyms=(e,t)=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.requestSynonyms(e,t))),this.requestSnippets=e=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.requestSnippets(e))),this.shortenItSubmit=e=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.shortenItSubmit(e))),this.enablePlagiarismSearch=Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.enablePlagiarismSearch)),this.disablePlagiarismSearch=Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.disablePlagiarismSearch)),this.realtimeProofitSubmit=e=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.realtimeProofitSubmit(e))),this.realtimeProofitCancel=Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.realtimeProofitCancel)),this.submitRecipients=e=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.submitRecipients(e))),this.submitScoreSurveyResult=(e,t)=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.submitScoreSurveyResult(e,t))),this.sendUserAction=(e,t)=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.sendUserAction(e,t))),this.sendDebugReport=(e,t)=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.sendDebugReport(e,t))),this.ping=Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.ping)),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.updateContextInfo(e))),this.published=()=>Object(ie.pipe)(c.l.rightIO(()=>this._checkConnected()),c.l.chain(()=>this._capi.published())),this._subs.push(this._events.pipe(f.a.filter(tt.a.CAPIEvent.is("ready")),f.a.switchMapTo(this._events.pipe(f.a.filter(tt.a.CAPIEvent.is("disconnect")),f.a.take(1),f.a.mapTo(!1),f.a.startWith(!0))),f.a.startWith(!1)).subscribe(e=>{this._isReady=e}))}pushChanges(e){return()=>ht.a.isReset(e)&&!this._capiConnection.wasStarted?(this._log.debug("Got new Reset, triggering connection"),this._initialDelta=e,this._capiConnection.connect(this.connectFromResetSource).then(([e,t])=>c.b.right(c.g.some(t))).catch(e=>(this._log.warn("failed to connect to CAPI",e),c.b.left(e)))):this._capiConnection.wasStarted?this._isReady?this._capi.pushChanges(e)():(this._log.debug("Skipped sending change to CAPI as it is not ready yet"),this._initialDelta&&ht.a.isDelta(e)&&(this._log.debug("Got change while establishing new CAPI connection, appending to initial Delta"),Object(ie.pipe)(this._initialDelta.compose(e),c.b.fold(()=>{this._log.error("Got invalid change while establishing new CAPI connection, skiping")},e=>{this._initialDelta=e}))),this._capiConnection.isIdle?(this._log.debug("received new change while CAPI is idle, connecting"),this._capiConnection.connect(this.connectFromIdleSource).catch(e=>this._log.warn("failed to connect to CAPI",e)).then(()=>c.b.right(c.g.none))):(this._log.debug("capi is not idle, skip capi reconnect"),Promise.resolve(c.b.right(c.g.none)))):(this._log.debug("Skipped sending change to CAPI as it is not started yet, triggering new connection"),this._capiConnection.connect(this.connectFromIdleSource).catch(e=>this._log.warn("failed to connect to CAPI",e)).then(()=>c.b.right(c.g.none)))}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_checkConnected(){this._capiConnection.isIdle?(this._log.debug("received new command while CAPI connection is idle, connecting"),this._capiConnection.connect(this.connectFromIdleSource).catch(e=>this._log.warn("failed to connect to CAPI",e))):this._log.trace("already connected or cannot connect, skipping")}dispose(){this._subs.forEach(e=>e.unsubscribe())}}class gt{constructor(e,t=new Set){this._events=e,this._debugTools=t,this._subs=new ce.a.Keeper,this._allMessages=[],this._debugTools.has("captureCapiMessages")&&(this._subs.push(this._events.subscribe(e=>{tt.a.CAPIEvent.is("message_sent")(e)&&this._allMessages.push({direction:"SENT",data:e.message}),tt.a.CAPIEvent.is("message_received")(e)&&this._allMessages.push({direction:"RECEIVED",data:e.message})})),Object(w.r)("popAllMessages",()=>JSON.stringify(this._allMessages.splice(0,this._allMessages.length))))}dispose(){this._subs.dispose()}}var ft=n("ksS5"),bt=n("4ae2");const yt={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=\\[\\]]*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"}}};class vt{constructor(e=yt){this._sanitizationSeed=-1,this._sensitiveToSanitizedMap=new Map,this._sanitizedToSensitiveMap=new Map,this.sanitizeMessage=e=>St.replaceInRequest(e,this.sanitizeText),this.sanitizeChange=e=>St.replaceInChange(e,this.sanitizeText),this.sanitizeDelta=e=>St.replaceInDelta(e,this.sanitizeText),this.sanitizeText=e=>kt.replaceInText(this._dlpRegexConfiguration,e,this._sanitizeDlpMatch),this.unsanitizeMessage=e=>St.replaceInResponse(e,this.unsanitizeText),this.unsanitizeChange=e=>St.replaceInChange(e,this.unsanitizeText),this.unsanitizeDelta=e=>St.replaceInDelta(e,this.unsanitizeText),this.unsanitizeText=e=>kt.replaceInText(this._dlpRegexConfiguration,e,this._unsanitizeDlpMatch),this.matchInText=e=>kt.matchInText(this._dlpRegexConfiguration,e),this.clear=()=>{this._sanitizationSeed=-1,this._sensitiveToSanitizedMap.clear(),this._sanitizedToSensitiveMap.clear()},this._sanitizeDlpMatch=e=>{const{text:t}=e;if(!this._sensitiveToSanitizedMap.has(t)){const n=wt.sanitizeDlpMatch(e,++this._sanitizationSeed);this._sensitiveToSanitizedMap.set(t,n),this._sanitizedToSensitiveMap.set(n,t)}return this._sensitiveToSanitizedMap.get(t)},this._unsanitizeDlpMatch=({text:e})=>this._sanitizedToSensitiveMap.has(e)?this._sanitizedToSensitiveMap.get(e):e,this._dlpRegexConfiguration=kt.getRegexConfiguration(e)}}var kt,wt,St;!function(e){e.getRegexConfiguration=e=>({dlpConfiguration:e,dlpRegex:t(e)}),e.replaceInText=({dlpConfiguration:e,dlpRegex:t},i,a)=>i.replace(t,(...t)=>a(n(e,{groups:t[t.length-1],index:t[t.length-3]}))),e.matchInText=({dlpConfiguration:e,dlpRegex:t},a)=>i(t,a).map(t=>n(e,t));const t=({patterns:e})=>new RegExp(Object.entries(e).sort(([,{priority:e}],[,{priority:t}])=>e-t).map(([e,{regex:t,prefixes:n}])=>`(?<${e}>${t=n.length?`(${n.join("|")})${t}`:t})`).join("|"),"g"),n=(e,{groups:t,index:n})=>{const[i,a]=Object.entries(t).find(([,e])=>void 0!==e),r=e.patterns[i];return Object.assign(Object.assign({id:i},r),{text:a,start:n,end:n+a.length})},i=(e,t)=>{const n=[];for(e.lastIndex=0;;){const i=e.exec(t);if(!i)break;n.push(i)}return e.lastIndex=0,n}}(kt||(kt={})),function(e){e.sanitizeDlpMatch=({prefixes:e,text:t},n)=>{const i=e.find(e=>0===t.indexOf(e));return void 0!==i?`${i}${d(t.slice(i.length),n)}`:d(t,n)};const t="a".charCodeAt(0),n="z".charCodeAt(0),i="A".charCodeAt(0),a="Z".charCodeAt(0),r="0".charCodeAt(0),o="9".charCodeAt(0),s=e=>e>=t&&e<=n,l=e=>e>=i&&e<=a,c=e=>e>=r&&e<=o,d=(e,n)=>{const a=new Array(e.length);let o=n;for(let n=e.length-1;n>=0;n--){const d=e.charCodeAt(n);s(d)?(a[n]=t+(n+o)%26,o/=26):l(d)?(a[n]=i+(n+o)%26,o/=26):c(d)?(a[n]=r+(n+1+o)%10,o/=10):a[n]=d}return String.fromCharCode(...a)}}(wt||(wt={})),function(e){e.replaceInRequest=(e,t)=>{switch(e.action){case"submit_ot":return n(e,t);default:return e}},e.replaceInResponse=(e,t)=>{switch(e.action){case"alert":return r(e,t);case"alert_changes":return s(e,t);default:return e}},e.replaceInChange=(e,t)=>ht.a.isDelta(e)?i(e,t):ht.a.isReset(e)?a(e,t):e,e.replaceInDelta=(e,n)=>{const{text:i,ranges:a}=t(e),r=n(i);return new bt.a(e.map((e,t)=>P.a.match(e=>{if(P.a.isInsertString(e)){const{start:n,end:i}=a[t];return Object.assign(Object.assign({},e),{insert:r.slice(n,i)})}return e},o.identity,o.identity)(e)))};const t=e=>e.reduce(({text:e,ranges:t},n)=>{const i=P.a.match(e=>P.a.isInsertString(e)?e.insert:"\n",Object(o.constant)(""),Object(o.constant)("\n"))(n),a=t.length?t[t.length-1].end:0;return{text:e+i,ranges:[...t,{start:a,end:a+i.length}]}},{text:"",ranges:[]}),n=(t,n)=>"deltas"in t?Object.assign(Object.assign({},t),{deltas:t.deltas.map(t=>e.replaceInDelta(t,n)),deltasString:n(t.deltasString)}):t,i=(t,n)=>ht.a.delta(e.replaceInDelta(t.delta,n),t.prevLen),a=(t,n)=>ht.a.unsafeRes(e.replaceInDelta(t.delta,n)),r=(e,t)=>{const n=Object.assign(Object.assign({},e),{replacements:e.replacements.map(t)});return void 0!==e.text&&(n.text=t(e.text)),void 0!==e.highlightText&&(n.highlightText=t(e.highlightText)),void 0!==e.transforms&&(n.transforms=e.transforms.map(t)),e.transformJson&&(n.transformJson=l(e.transformJson,t)),e.subalerts&&(n.subalerts=e.subalerts.map(e=>Object.assign(Object.assign({},e),{highlightText:t(e.highlightText),transformJson:l(e.transformJson,t)}))),n},s=(e,t)=>e.transformJson?Object.assign(Object.assign({},e),{transformJson:l(e.transformJson,t)}):e,l=(t,n)=>t.alternatives?Object.assign(Object.assign({},t),{alternatives:t.alternatives.map(t=>Object.assign(Object.assign({},t),{ops:e.replaceInDelta(new bt.a(t.ops),n).ops}))}):t}(St||(St={}));class _t{constructor(e,t){this._innerWSHandler=e,this._dlpDataSanitizer=t,this.onConnecting=e=>(this._innerWSHandler.onConnecting(e),this),this.onConnect=e=>(this._innerWSHandler.onConnect(e),this),this.onDisconnect=e=>(this._innerWSHandler.onDisconnect(e),this),this.onMessage=e=>(this._innerWSHandler.onMessage((t,n)=>{"finished"===n.action&&this._dlpDataSanitizer.clear(),e(t,this._dlpDataSanitizer.unsanitizeMessage(n))}),this),this.connect=e=>this._innerWSHandler.connect(e),this.isDisconnected=()=>this._innerWSHandler.isDisconnected()}}class Ct{constructor(e=yt){this.sanitizeWS=(e,t)=>e.writer(e=>t(this._dlpDataSanitizer.sanitizeMessage(e))),this.sanitizeWSHandler=e=>new _t(e,this._dlpDataSanitizer),this._dlpDataSanitizer=new vt(e)}}var Et=n("NNUY"),Ot=n("aVfF");const At=1e4,xt=200;class Tt{constructor(e,t){this._events=e,this._capi=t,this.retryCommandWhen=Object(w.p)(rt.a.isDroppedError,rt.d.isTimeoutError),this.pushChanges=e=>this._capi.pushChanges(e),this.setSessionOption=e=>this._capi.setSessionOption(e),this.sendFeedback=e=>{switch(e.kind){case tt.a.MutedFeedbackType.MUTE:case tt.a.MutedFeedbackType.UNMUTE:case tt.a.SystemFeedbackType.RECHECK_SHOWN:return Object(ie.pipe)(c.l.tryDelay(this._capi.sendFeedback(e),e=>this._untilWaitingForOT(e),At),Object(rt.h)([Ot.limitRetries(2),Ot.exponentialBackoff(xt)],this.retryCommandWhen));default:return this._capi.sendFeedback(e)}},this.requestSynonyms=(e,t)=>Object(ie.pipe)(c.l.tryDelay(this._capi.requestSynonyms(e,t),e=>this._untilFinished(e),At),Object(rt.h)([Ot.limitRetries(2),Ot.exponentialBackoff(xt)],this.retryCommandWhen)),this.requestSnippets=e=>Object(ie.pipe)(c.l.tryDelay(this._capi.requestSnippets(e),e=>this._untilFinished(e),At),Object(rt.h)([Ot.limitRetries(2),Ot.exponentialBackoff(xt)],this.retryCommandWhen)),this.shortenItSubmit=e=>Object(ie.pipe)(c.l.tryDelay(this._capi.shortenItSubmit(e),e=>this._untilFinished(e),At),Object(rt.h)([Ot.limitRetries(2),Ot.exponentialBackoff(xt)],this.retryCommandWhen)),this.requestDocStats=Object(ie.pipe)(c.l.tryDelay(this._capi.requestDocStats,e=>this._untilFinished(e),At),Object(rt.h)([Ot.limitRetries(2),Ot.exponentialBackoff(xt)],this.retryCommandWhen)),this.enablePlagiarismSearch=Object(ie.pipe)(c.l.tryDelay(this._capi.enablePlagiarismSearch,e=>this._untilFinished(e),At),Object(rt.h)([Ot.limitRetries(2),Ot.exponentialBackoff(xt)],this.retryCommandWhen)),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>Object(ie.pipe)(c.l.tryDelay(this._capi.submitRecipients(e),e=>this._untilFinished(e),At),Object(rt.h)([Ot.limitRetries(2),Ot.exponentialBackoff(xt)],this.retryCommandWhen)),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.published=()=>this._capi.published()}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_untilWaitingForOT(e){return this._untilEvent(e,"wait_for_ot")}_untilFinished(e){return this._untilEvent(e,"finish")}_untilEvent(e,t){return rt.b.isNotConnectedError(e)?Object(ie.pipe)(this._events,f.a.filter(e=>e.kind===t),f.a.take(1),f.a.map(w.e),y.b.toTask,c.g.some):c.g.none}}var Mt,jt,It;(jt=Mt||(Mt={})).noopSync={pushChanges:w.e},jt.ignoreResult=function(e){return{pushChanges:t=>{e.pushChanges(t)}}},jt.ignoreTEResult=function(e){return{pushChanges:Object(o.flow)(e.pushChanges,c.l.map(w.e))}},jt.pushDeleteThenInsert=function(e){return{pushChanges:t=>{(ht.a.isDelta(t)?ht.a.fromArrayOfDeltas(P.a.splitToDeleteThenInsert(t.delta).filter(P.a.nonEmpty),t.prevLen):[t]).forEach(t=>e.pushChanges(t))}}},(It||(It={})).merge=function(e){return{changes:f.a.mergeStatic(...e.map(e=>e.changes))}};class Rt{static init(e,t,n,i,a,r){const o=new f.a.Subject;return new Rt(e,t,n,i,a,r,o),o}constructor(e,t,n,i,a,r,o){const s=Rt.NamedChangesSink.factory(o),l={pm:s(Rt.Receiver.PM,i),dm:s(Rt.Receiver.PM,a),capi:s(Rt.Receiver.CAPI,n),userTextEcho:s(Rt.Receiver.UserText,e)};Rt.Producer.create(Rt.Producer.UserText,{changes:e.changes})(l.dm,l.pm,l.capi),Rt.Producer.create(Rt.Producer.ALERT_APPLY,r)(l.userTextEcho),t.subscribe(t=>{"before_alert"===t.kind&&e.flushChanges()})}}!function(e){let t,n,i,a;!function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.ALERT_APPLY="alert_synonyms_manager"}(t=e.Producer||(e.Producer={})),function(e){e.create=function(e,t){return(...n)=>t.changes.subscribe(t=>{n.forEach(n=>n.pushChanges(e,t))})}}(t=e.Producer||(e.Producer={})),function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.CAPI="checking_service",e.PM="position_manager"}(n=e.Receiver||(e.Receiver={})),function(e){function t(e,t,n){return{pushChanges:(i,a)=>{try{let r=t.pushChanges(a);"function"==typeof r&&(r=c.l.toPromise(r)),void 0!==r&&r.catch(t=>n.next({exception:t,details:{from:i,to:e}}))}catch(t){n.next({exception:t,details:{from:i,to:e}})}}}}e.factory=function(e){return(n,i)=>t(n,i,e)},e.create=t}(i=e.NamedChangesSink||(e.NamedChangesSink={})),function(e){e.create=e=>({changes:e.changes,pushChanges(t){e.pushChanges(t,"user")},getContents:()=>e.getContents(),flushChanges:()=>e.flushChanges()})}(a=e.UserTextChangesSync||(e.UserTextChangesSync={}))}(Rt||(Rt={}));var Nt,Lt,Pt,Dt=n("Uwwq"),Ft=n("9ZtS"),Bt=n("yA7V"),Ht=n("PRmi"),Vt=n("mHcA"),Ut=n("AHUR"),qt=n("Arv5"),Wt=n("tn8Q"),$t=n("7b34"),zt=n("dE97"),Gt=n("v0pb"),Kt=n("Cdla"),Yt=n("PK5a");(Lt=Nt||(Nt={})).iso=Yt.iso(),Lt.empty=()=>({sduiQueue:new Map}),Lt.removeAllBySduiId=e=>t=>Object(o.pipe)(Lt.toQueueValuesArray(t),c.a.filter(t=>0===t.id.indexOf(`${e.event.sduiRootId}_`)),e=>(Lt.removeItems(e)(t),e)),Lt.addItem=e=>t=>{t.sduiQueue.set(e.id,e)},Lt.removeItems=e=>t=>{e.forEach(e=>t.sduiQueue.delete(e.id))},Lt.toQueueValuesArray=e=>Array.from(e.sduiQueue.values()),function(e){class t{}let n;t.QueueCounter=0,e.show={show:e=>Array.from(Nt.iso.unwrap(e).sduiQueue.entries()).map(([e,t])=>`${e} - { id: ${t.id} sduiRootId: ${t.event.sduiRootId}, kind: ${t.event.kind}`).join(";\n")},function(e){let n;!function(e){e.from=function(e){return`${e}`}}(n=e.Id||(e.Id={})),e.fromEvent=e=>({id:n.from(`${e.sduiRootId}_${t.QueueCounter++}`),event:e})}(n=e.Item||(e.Item={})),e.empty=()=>Nt.iso.wrap(Nt.empty()),e.removeAllBySduiId=e=>t=>Object(o.pipe)(Nt.iso.unwrap(t),Nt.removeAllBySduiId(e)),e.addItem=e=>t=>Object(o.pipe)(Nt.iso.unwrap(t),Nt.addItem(e)),e.removeItems=e=>t=>Object(o.pipe)(Nt.iso.unwrap(t),Nt.removeItems(e)),e.toQueueValuesArray=e=>Object(o.pipe)(Nt.iso.unwrap(e),Nt.toQueueValuesArray)}(Pt||(Pt={}));var Xt,Zt=n("FK1v");!function(e){let t,n,i,a;!function(e){e.empty=()=>a.iso.wrap(a.empty()),e.size=e=>Object(o.pipe)(a.iso.unwrap(e),a.size),e.show={show:e=>Object(o.pipe)(a.iso.unwrap(e),a.show.show)},e.get=e=>t=>Object(o.pipe)(a.iso.unwrap(t),a.get(e)),e.add=e=>t=>Object(o.pipe)(a.iso.unwrap(t),a.add(e)),e.remove=e=>t=>Object(o.pipe)(a.iso.unwrap(e),a.remove(t)),e.updateWithRemovedAlerts=e=>t=>Object(o.pipe)(a.iso.unwrap(t),a.updateWithRemovedAlerts(e))}(t=e.Collection||(e.Collection={})),function(e){e.fromSDUI=e=>"strongAlertRef"===e.content.type?c.g.some({sduiRootId:e.id,emptyStrongAlertRef:e.content,alertIds:new Set(e.alerts.map(e=>e.id))}):c.g.none,e.show={show:e=>`StrAlertRef.Item: { sduiRootId: ${e.sduiRootId}, alertIds: [${Array.from(e.alertIds.values()).join(", ")}]`}}(n=e.Item||(e.Item={})),function(e){e.fromItem=e=>{var{alertIds:t}=e;return Object(Xe.__rest)(e,["alertIds"])},e.show={show:e=>e.sduiRootId.toString()}}(i=e.EmptyMessage||(e.EmptyMessage={})),function(t){t.iso=Yt.iso(),t.empty=()=>({alertRefMapping:new Map}),t.size=e=>e.alertRefMapping.size,t.show={show:e=>Array.from(e.alertRefMapping.entries()).map(([e,t])=>`${e} ${t.map(n.show.show)}`).join("\n")};const i=e=>t=>Object(o.pipe)(t.alertRefMapping.get(e),c.g.fromNullable);t.get=e=>t=>Object(o.pipe)(i(e)(t),c.g.map(c.a.map(e=>Object.assign(Object.assign({},e),{alertIds:new Set(e.alertIds)})))),t.updateWithRemovedAlerts=t=>n=>Object(o.pipe)(t,c.a.chain(t=>Object(o.pipe)(n,i(t),c.g.map(c.a.filter(e=>e.alertIds.delete(t)&&0===e.alertIds.size)),c.g.fold(()=>[],i=>(n.alertRefMapping.delete(t),i.map(e.EmptyMessage.fromItem)))))),t.add=e=>t=>{const n=a(t);e.alertIds.forEach(t=>n(t,[e]))};const a=e=>(t,n)=>{const i=e.alertRefMapping.get(t);e.alertRefMapping.set(t,null!=i?i.concat(n):n)};t.remove=e=>t=>Object(o.pipe)(Array.from(e.alertIds.keys()),c.a.reduce(new Array,(n,r)=>(Object(o.pipe)(t,i(r),c.g.map(c.a.filter(t=>t.sduiRootId!==e.sduiRootId)),c.g.fold(()=>void n.push(`failed to remove SDUI by alertId ${r}, alertRefMapping doesn't contain alertId ${r}`),e=>(e=>(t,n)=>{0===n.length?e.alertRefMapping.delete(t):a(e)(t,n)})(t)(r,e))),n)))}(a||(a={}))}(Xt||(Xt={}));class Qt{constructor(e,t,n){this._state=l.a.create(Zt.a.empty),this.state=this._state.view(e=>Zt.a.iso.wrap(e)),this._onAlertsRefEmpty=new f.a.Subject,this._removedAlerts=new f.a.Subject,this._subs=new ce.a.Keeper,this._log=C.Monitoring.Logging.getLogger("SDUIManager",C.Logging.LogLevel.TRACE,C.Logging.LogColor.Manager.getColor()),this._processEvents=e=>(t,n)=>{const i=Object(o.pipe)(n,c.b.map(Pt.Item.fromEvent),c.b.fold(n=>(this._log.debug(`state is updated, revise the queue, ${Bt.a.Diff.show.show(Bt.a.diff(Bt.a.empty,n))}`),Object(o.pipe)(Pt.toQueueValuesArray(t),c.a.filter(e))),n=>"sdui_remove"===n.event.kind?(this._log.debug(`[IN - ${n.event.kind}, {id: ${n.id}}] removeAllBySduiId`),Pt.removeAllBySduiId(n)(t),[n]):e(n)?(this._log.debug(`[IN - ${n.event.kind} {sduiRootId: ${n.event.sduiRootId}, id: ${n.id} refs: ${JSON.stringify(Ut.a.getAlertIds(n.event.sdui))}}, ] hasAllAlerts`),[n]):(Pt.addItem(n)(t),this._log.debug(`[IN - ${n.event.kind} {sduiRootId: ${n.event.sduiRootId}, id: ${n.id} refs: ${JSON.stringify(Ut.a.getAlertIds(n.event.sdui))}}] add to queue, [queue]: ${Pt.show.show(t)}`),[])),e=>(Pt.removeItems(e)(t),e),e=>(this._log.debug(`[completeItems] ${e.map(e=>e.id).join(", ")}, [queue]: ${Pt.show.show(t)}`),e),c.a.map(B.e.pick("event")));return Object.assign(Object.assign({},t),{completeEvents:i})},this._getAlertsIds=e=>Object(o.flow)(e=>e.sdui,Ut.a.getAlertIds,c.g.chain(c.g.fromPredicate(e=>Array.isArray(e))),c.g.fold(()=>[],o.identity),Ze.ub(at.y.Id.create),c.a.map(e),c.g.sequenceArray,c.g.map(c.a.map(Gt.a.create))),this._hasAllAlerts=e=>Object(o.flow)(this._getAlertsIds(e),c.g.isSome),this._toInternalDiff=e=>([t,n])=>{const i=Zt.a.MutableInternalDiff.empty();return Object(o.pipe)(t,qt.Y(i,(t,i)=>"sdui_remove"===i.kind?this._handleSDUIRemove(i,n,t):(Object(o.pipe)(this._getAlertsIds(e)(i),c.g.map(this._toSDUIItem(i)),c.g.fold(()=>{const e=Object(o.pipe)(Ut.a.getAlertIds(i.sdui),c.g.fold(()=>Jt.internalDiffMissingAlertsIds([]),e=>e.toString()));this._log.error(Jt.internalDiffParsingError([e,i.sduiRootId]))},e=>{const a=i.kind;switch(a){case"sdui_add":this._handleSDUIAdd(e,t);break;case"sdui_update":this._handleSDUIUpdate(e,n,t);break;default:Object(M.d)(a)}})),t)))},this._toSDUIItem=e=>t=>({id:Kt.a.Item.Id.from(e.sduiRootId),content:e.sdui,alerts:t}),this._emitDomainEvent=e=>{this._log.debug("internalDiff",Zt.a.InternalDiff.show.show(e)),Object(o.pipe)(e,Zt.a.createDiff,Wt.a.recover(e=>this._log.error("conflicts on diff creating",e)),e=>(this._log.debug("SDUIItemsCollectionDiff",Zt.a.diffShow.show(e)),e),Zt.a.applyDiff,c.j.map(Wt.a.recover(e=>this._log.error("conflicts on diff apply",e))),e=>this._state.modify(e))},this._subs.push(this._state.subscribe(e=>this._log.debug("[SDUIManagerState] (SDUIItemsCollection)",`_latestChangeDiff: ${Zt.a.diffShow.show(e.latestChangeDiff)},\n _entriesIds: ${Zt.a.InternalDiff.showMapKeys.show(e.entries)}}`)));const i=t.pipe(f.a.filter(tt.a.CAPIEvent.is("sdui_add","sdui_remove","sdui_update")),f.a.map(en.fromSource("capi"))),a=Object(o.flow)(B.e.pick("event"),this._hasAllAlerts(n)),r=(e,t)=>Object(o.pipe)(Xt.Item.fromSDUI(t),c.g.fold(()=>this._log.debug(`SDUI item ${Kt.a.Item.show.show(t)} does not contain AlertRef, skipping it`),t=>Xt.Collection.add(t)(e)),t=>e),s=(e,t)=>Object(o.pipe)(Xt.Item.fromSDUI(t),c.g.fold(()=>[`SDUI item ${Kt.a.Item.show.show(t)} does not contain AlertRef, skipping it`],Xt.Collection.remove(e)),e=>0===e.length?this._log.debug(`removeSDUIItemFromCollection: ${Kt.a.Item.show.show(t)}`):e.forEach(e=>this._log.warn(e)),t=>e),d=(e,t,n)=>Object(o.pipe)(s(e,t),e=>r(e,n)),u=this._state.pipe(f.a.pairwise(),f.a.map(([e,t])=>Zt.a.diff(e,t)),f.a.scan((e,t)=>Object(o.pipe)(t,$t.a.reduce(e,s,d,r)),Xt.Collection.empty())),p=(e,t)=>zt.a.isRemovedByTextChange(t.alert)?(this._log.debug(`[Optimistic update] alert ${zt.a.State.Type.REMOVED} by ${zt.a.State.Removed.Reason.textChange} ${Gt.a.show.show(t)}`),e.push(t.id),e):e,h=$t.a.reduce(new Array,p,(e,t,n)=>p(e,n),o.identity),m=this._removedAlerts.pipe(f.a.withLatestFrom(u),f.a.tap(([[e,t]])=>{this._log.debug(`[Optimistic update] emptyAlertsRefReasonTuple > Removed alerts. Reason: ${t}, removedAlertIds: [${e.join(", ")}]`)}),f.a.map(([[e,t],n])=>[Xt.Collection.updateWithRemovedAlerts(e)(n),t]),f.a.tap(([e,t])=>this._log.debug(`[Optimistic update] emptyAlertsRefReasonTuple > Reason: ${t} found emptyAlertsRef: [${e.map(Xt.EmptyMessage.show.show).join(", ")}]`)),f.a.switchMap(([e,t])=>f.a.from(e.map(e=>[e,t]))),f.a.share()),g=m.pipe(f.a.map(([e,t])=>en.fromEmptyEvent(t)(e))),b=f.a.mergeStatic(i,g).pipe(f.a.tap(e=>this._log.debug(`Received SDUI event: ${en.show.show(e)} from: ${e.source}`)),f.a.map(c.b.right)),y=f.a.mergeStatic(b,e.pipe(f.a.map(c.b.left))).pipe(f.a.scan(this._processEvents(a),Object.assign(Object.assign({},Pt.empty()),{completeEvents:[]})),f.a.map(B.e.pick("completeEvents")),f.a.filter(c.a.isNonEmpty));this._subs.push(e.pipe(f.a.pairwise(),f.a.map(([e,t])=>Bt.a.diff(e,t)),f.a.map(h),f.a.tap(e=>this.pushRemovedAlerts([e,"textChange"]))).subscribe(),m.pipe(f.a.tap(([e])=>this._onAlertsRefEmpty.next(e))).subscribe(),y.pipe(f.a.withLatestFrom(this._state),f.a.map(this._toInternalDiff(n)),f.a.map(this._emitDomainEvent)).subscribe())}get onAlertsRefEmpty(){return this._onAlertsRefEmpty.asObservable()}pushRemovedAlerts(e){this._removedAlerts.next(e)}_handleSDUIAdd(e,t){return t.added.set(e.id,e),t}_handleSDUIUpdate(e,t,n){return Object(o.pipe)(t,Zt.a.get(e.id),c.g.fold(()=>{n.added.has(e.id)||this._log.error(Jt.updateIdMissingNotFound([e.id])),this._log.info(Jt.updateIdMissingFound([e.id])),n.added.set(e.id,e)},t=>n.updated.set(e.id,[t,e]))),n}_handleSDUIRemove(e,t,n){const i=Kt.a.Item.Id.from(e.sduiRootId);return Object(o.pipe)(t,Zt.a.get(i),c.g.fold(()=>{if(!n.added.has(i))return this._log.warn(Jt.removeIdMissingNotFound([i]));this._log.info(Jt.removeIdMissingFound([i])),n.added.delete(i)},e=>n.removed.set(i,e))),n}dispose(){this._subs.dispose()}}const Jt={removeIdMissingFound:([e])=>`[Remove] SDUI item with ID ${e} was found in the added messages. Removing it.`,removeIdMissingNotFound:([e])=>`[Remove] It is not possible to remove SDUI item with ID ${e}. It is missing from SDUIItemsCollectionInternal and diff.add, probably it was deleted earlier. Skipping the message`,updateIdMissingFound:([e])=>`[Update] SDUI item with ID ${e} was found in added messages. Updating it in added messages`,updateIdMissingNotFound:([e])=>`[Update] It is not possible to update SDUI item with ID ${e}. It is missing from SDUIItemsCollectionInternal and diff.added, probably it was deleted earlier. Skipping the message`,internalDiffMissingAlertsIds:()=>"missing AlertIDs",internalDiffParsingError:([e,t])=>`toInternalDiff, either can not resolve ${e} for ${t} or id of the sdui item is missing . The item will be skipped`};var en,tn;(tn=en||(en={})).fromSource=e=>t=>Object.assign(Object.assign({},t),{source:e}),tn.fromEmptyEvent=e=>t=>({kind:"sdui_remove",sduiRootId:tt.a.RawSduiItem.Id.create(t.sduiRootId),source:e,rev:0}),tn.show={show:e=>`SduiRootId: ${e.sduiRootId}, Kind: ${e.kind}, Source: ${e.source}`};var nn=n("RxKi"),an=n("sq+9"),rn=n("AS+/");const on={disabledFeedbacks:Object.keys(tt.a.AlertFeedbackType).map(e=>tt.a.AlertFeedbackType[e]).filter(e=>e!==tt.a.AlertFeedbackType.CLOSED&&e!==tt.a.AlertFeedbackType.LOOKED)},sn={disabledFeedbacks:Object.keys(tt.a.AlertFeedbackType).map(e=>tt.a.AlertFeedbackType[e]).filter(e=>e!==tt.a.AlertFeedbackType.CLOSED&&e!==tt.a.AlertFeedbackType.LOOKED&&e!==tt.a.AlertFeedbackType.IGNORE)},ln={text:!0,button:!0,alternative:!0,alternativeChoice:!0,count:!0,icon:!0,block:!0,row:!0,column:!0,slider:!0,alternativeSlider:!0,alternativeSliderChoice:!0,transition:!0,openSettings:!0,openToneDetector:!0,openFeedback:!0,notify:!0,closeCard:!0,nextCard:!0,prevCard:!0,removeCard:!0,applyAlternative:!0,selectAlternative:!0,upgradeToPremium:!0,strongAlertRef:!1,removeAlert:!1,openLink:!0},cn=rn.a(an.Schemable)(nn.b),dn={supportedComponents:ln,dslParser:Object(o.flow)(cn.decode,c.b.mapLeft(e=>new Error(an.draw(e))))};var un=n("aIes"),pn=n("UEGg"),hn=n("bUJM"),mn=n("QKlB"),gn=n("UAG8"),fn=n("XfOk"),bn=n("CrFT"),yn=n("a5W6"),vn=n("MMoU"),kn=n("rQ7a"),wn=n("GUi3");const Sn=3e3,_n=1500,Cn="mutedCategoriesDocumentId",En="mutedCategoriesContextId";class On{constructor(e,t,n,i,a,r,s,l,d,u){this._documentId=e,this._checkingDomain=n,this._mutedCategoriesModel=i,this._context=r,this._isFree=s,this._alertCache=l,this._scoresCache=d,this._mutedCategoriesCache=u,this._log=C.Monitoring.Logging.getLogger("CacheManager"),this._cardDSLGuard=rn.a(kn.Schemable)(nn.b),this.saveScores=e=>this._scoresCache.save(this._documentId,this._context.get(),this._isFree,e),this._saveMutedCategories=e=>{this._mutedCategoriesCache.save(Cn,En,this._isFree,Array.from(e.values()))},this._subs=[t.view(e=>"idle"===e).pipe(f.a.switchMap((e,t)=>e?f.a.mergeStatic(f.a.of("update"),a.pipe(f.a.skip(1),f.a.mapTo("update"),f.a.auditTime(_n))):0===t?f.a.EMPTY:f.a.of("clear"))).subscribe(e=>{switch(e){case"clear":return this._alertCache.remove(this._documentId);case"update":return this.saveAlerts(this._getCacheableAlerts());default:return Object(M.d)(e)}}),this._checkingDomain.lensesScores.pipe(f.a.auditTime(Sn),f.a.map(Object(o.flow)(vn.toArray(wn.a.Id.ord),yn.filterMap(Object(o.flow)(c.g.fromPredicate(([e])=>e!==wn.a.SpecialId.Plagiarism),c.g.map(([e,t])=>({lensId:e,score:t}))))))).subscribe(this.saveScores),this._mutedCategoriesModel.events.pipe(f.a.filter(Dt.a.CategoriesModel.Events.isChangedEvent),f.a.tap(()=>{this._saveMutedCategories(this._mutedCategoriesModel.mutedCategories.get())})).subscribe()]}getCorrectAlerts(e,t){return Object(ie.pipe)(this._alertCache.load(this._documentId,this._context.get(),this._isFree),c.g.fromNullable,c.g.tap(e=>this._log.isEnabled(C.Logging.LogLevel.TRACE)&&this._log.trace("loaded alerts from cache: ",e)),c.g.map(t=>t.filter(t=>st.a.isHighlightValid(t,e)&&(void 0===t.sdui||this._cardDSLGuard.is(t.sdui.card)))),c.g.map(e=>[e,e.map(An(t))]),c.g.tap(([e,t])=>{this._logChangedOfMutedState(e,t),this._logDuplicates(e,"save")}),c.g.map(Qe.d))}getScores(){return Object(ie.pipe)(c.g.fromNullable(this._scoresCache.load(this._documentId,this._context.get(),this._isFree)),c.g.filter(w.n),c.g.map(e=>new Map(e.map(({lensId:e,score:t})=>[e,t]))))}getMutedCategories(){const e=this._mutedCategoriesCache.load(Cn,En,this._isFree);return Object(ie.pipe)(c.g.fromNullable(e),c.g.map(e=>new Map(e.map(e=>[e.id,e]))))}saveAlerts(e){this._logDuplicates(e,"save"),this._alertCache.save(this._documentId,this._context.get(),this._isFree,e)}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_logDuplicates(e,t){const n=new Map,i=e.reduce((e,t)=>{if(!at.y.hasPosition(t))return e;const i=(e=>`${e.pname}_${e.begin}_${e.end}`)(t);if(n.has(i)){const a=n.get(i);e.push({existing:{begin:a.begin,end:a.end,pname:a.pname},duplicate:{begin:t.begin,end:t.end,pname:t.pname}})}return n.set(i,t),e},[]);i.length&&this._log.info(`Found duplicates in cache on ${t}`,i)}_logChangedOfMutedState(e,t){const n=[];e.length!==t.length&&C.Monitoring.Logging.getLogger("CacheManager").warn("Cannot calculate change of mute state"),e.forEach((e,i)=>{const a=t[i];a.muted!==e.muted&&n.push({range:at.y.hasPosition(e)?{begin:e.begin,end:e.end,pname:e.pname}:{pname:e.pname},was:e.muted,now:a.muted})}),n.length&&C.Monitoring.Logging.getLogger("CacheManager").info("Muted state was changed on load from cache",n)}_getCacheableAlerts(){return Object(ie.pipe)(this._checkingDomain.state.get(),Bt.a.reduce([],(e,t)=>(zt.a.isCacheable(t.alert)&&e.push(t.alert.toLocalRawAlert()),e)))}}const An=e=>t=>Object(ie.pipe)(c.g.fromNullable(t.cardLayout.userMuteCategory),c.g.alt(()=>Object(ie.pipe)(Array.from(e.keys()),yn.filter(Dt.a.Category.isSpecial),yn.findFirst(at.y.belongsToSpecialCategory(t)))),c.g.fold(()=>t,n=>{const{muted:i}=t,a=Object(Xe.__rest)(t,["muted"]);return e.has(n)?Object.assign(Object.assign({},a),{muted:at.v.MutedByType.MUTED_BY_USER}):Object.assign(Object.assign({},a),{muted:void 0===i?void 0:at.v.MutedByType.NOT_MUTED})}));function xn(e,t){const n=function(e){const t=t=>{e.next(t)};return{onSessionStarted:t,onWaitForOT:t,onReady:t,onSessionInbound:t,beforeAlert:t,onAlert:t,onRemove:t,onChange:t,onSynonyms:t,onPlagiarism:t,onTextInfo:t,onEmotions:t,onBeforeAsyncCheckFinish:t,onAsyncCheckFinish:t,onError:t,onBeforeFinish:t,onFinish:t,onConnect:t,onDisconnect:t,onQueueMsgDropped:t,onAck:t,onPong:t,onMessageReceived:t,onMessageSent:t,onAutoComplete:t,onAttentionHeatmap:t,onAttentionInfo:t,onProofitAvailability:t,onProofitCancelled:t,onProofitCompleted:t,onProofitProgress:t,onProofitProgressProblem:t,onProofitSubmit:t,onShortenItFinished:t,onSDUI:t}}(e),i=new f.a.Subject;return i.pipe(f.a.debounceTime(1e3),f.a.distinctUntilChanged()).subscribe(e=>t.setState({type:"wsCapi",state:{type:e}})),Object.assign(Object.assign({},n),{onFinish:e=>{i.next("online"),n.onFinish&&n.onFinish(e)},onDisconnect:e=>{e.reason.code===d.a.WsCodes.UNAUTHORIZED?i.next("unauthorized"):(e.reconnectCounter>1||c.b.isLeft(e.reconnectResult))&&i.next("offline"),n.onDisconnect&&n.onDisconnect(e)}})}function Tn(e){if(0===e.length)return c.g.none;{const t=e.reduce((e,t)=>Math.min(e,t),Number.MAX_VALUE),n=e.reduce((e,t)=>Math.max(e,t),Number.MIN_VALUE),i=e.length>=6?e.reduce(w.s,0)/e.length:void 0;return c.g.some({ct:e.length,min:t,max:n,range:n-t,avg:i,stddev:void 0!==i?Math.sqrt(e.reduce((e,t)=>e+Math.pow(t-i,2),0)/(e.length-1)):void 0})}}var Mn=n("AW4s");var jn,In=n("4e/B"),Rn=n("+JVj");(jn||(jn={})).create=e=>{const t=new f.a.Subject;function n(e){t.next(ht.a.flush()),t.next(e)}return{changes:t,insertLink:function(t,i){return c.b.tryCatchError(()=>{n(ht.a.delta((new bt.a).retain(t.start).retain(Rn.b.size(t),{[D.e.Type.link]:i}),e.getTextLength()))})},insertLinkWithCaption:function(t,i,a){return Object(ie.pipe)(c.b.tryCatchError(()=>{n(ht.a.delta((new bt.a).retain(t).insert(a,{[D.e.Type.link]:i}),e.getTextLength()))}))},removeLink:function(t){return c.b.tryCatchError(()=>{n(ht.a.delta((new bt.a).retain(t.start).retain(Rn.b.size(t),{[D.e.Type.link]:null}),e.getTextLength()))})},pushChanges:t.next.bind(t)}};var Nn=n("CFZe"),Ln=n("Lmm7");const Pn=12096e5;class Dn{constructor(e,t,n,i,a,r,o,s,l,c,d,u,p,h,m,g,f,b,y,v,k,w,S,_,C){this.checksBackendAPI=e,this.obsCapiClient=t,this._remoteDocument=n,this.sessionModel=i,this.positionManager=a,this.alternativeManager=r,this.checkingDomain=o,this.alertsService=s,this.alertsReader=l,this.synonymsModel=c,this.plagiarismModel=d,this.formattingModel=u,this.emotionsModel=p,this.sduiService=h,this.mutedAlertsModel=m,this.mutingAlertsReader=g,this.hasAlertsCache=f,this.markAlertFactory=b,this.sduiManager=y,this._onShutdown=v,this._capiConnection=k,this._doxConnection=w,this._capiWatcher=S,this._doxSyncManager=_,this._capiConManager=C}static create(e,t,n,i,a,r,s,l,d,u,p,h,m,g,b,y,v){r.setState({type:"wsDox",state:{type:"online"}});const k=u.denali.supportUkraineCardAppearanceLimit,S="Style/Sensitivity/SupportUkraine/WarLanguage",_=e=>"alert_received"===e.kind&&e.alert.pname===S||"message_received"===e.kind&&"alert"===e.message.action&&e.message.pname===S,E=new f.a.Subject,O=E.pipe(f.a.withLatestFrom(b),f.a.filter(([e,t])=>!_(e)||t<k),f.a.map(Qe.b),f.a.tap(e=>{"alert_received"===e.kind&&_(e)&&y()}),f.a.share()),x=Object(ie.pipe)(d.dialect.get(),c.g.getOrElse(()=>"undefined")),T=me.DocumentFeatures.getFormattingMode(e.meta.originalFilename,e.meta.createdAt,u.denali),M=new et.a(tt.a.MAX_SAFE_ID,0,!1),j=u.denali.dlp?(()=>{const e=new Ct;return e.sanitizeWSHandler(new tt.a.LatencyMeasuringWSHandler(e.sanitizeWS(nt.b.create(v),tt.a.optimizedOTSerializer),M,10))})():(()=>new tt.a.LatencyMeasuringWSHandler(nt.b.create(v).writer(tt.a.optimizedOTSerializer),M,10))(),I=new tt.a.CAPIConnection({client:p.names.capi.denali,clientVersion:p.buildVersion.toString(),context:Object(ie.pipe)(e.meta.settings.context,c.g.getOrElse(()=>it.a.unset)),handler:xn(E,r),docid:l,dialect:x,clientSupports:(()=>{const e=[Je.a.textInfo,Je.a.freeAdvancedChecks,Je.a.readability,Je.a.sentenceVariety,Je.a.fillerWords,Je.a.alertsUpdate,Je.a.alertsChanges,Je.a.freeClarityChecks,Je.a.superAlerts,Je.a.consistency,Je.a.setGoalsLink,Je.a.voxCheck,Je.a.toneCards,Je.a.plagiarismAlertsUpdate,Je.a.alternativeDeletesCard,Je.a.fullSentenceRewrite,Je.a.listCard,Je.a.muteQuotedAlerts,Je.a.userMutes,Je.a.supportsButtonTransformCards,Je.a.gapTransformCard,Je.a.enclosingHighlight,Je.a.drilldownCard,Je.a.ideasGalleryLink,Je.a.freeOccasionalPremiumAlerts,Je.a.ethicalAI,Je.a.citations];return u.denali.toneDetector&&e.push(Je.a.emogenieCheck),T===me.DocumentFeatures.FormattingMode.on&&e.push(Je.a.supportsFormatting),(u.denali.priorityListView||c.g.isSome(u.denali.prioritySwitcher))&&e.push(Je.a.priorityAlertsView),e})(),sduiConfig:u.denali.sduiV1||u.denali.sduiV2?dn:void 0,sduiProtocolVersion:u.denali.sduiV1?tt.a.SduiProtocolVersion.v1:u.denali.sduiV2?tt.a.SduiProtocolVersion.v2dev:void 0,isDemoDoc:e.meta.isDemoDocument,idGenerator:M,shouldSendFeedback:u.denali.sduiV1?e=>!0!==on.disabledFeedbacks.some(t=>t===e.kind):u.denali.sduiV2?e=>!0!==sn.disabledFeedbacks.some(t=>t===e.kind):o.constTrue},e=>e.connect(n.api.capiWsUrl),j),R=new mt(O,I.client,s,I),N=new Tt(O,R);Object(w.r)("capi",I.client);const L=Dn._getDocumentModel(l,e,s,N.requestDocStats,a,u,T,m),P=new Ye(L,e,t,h.outgoingChanges),D=L.context.view(e=>(Boolean(e.domain)?e.domain:"_default_")+"."+x),F=new fn.a(e=>e.filter(e=>at.y.isRawAlert(e)),e=>e,"DN-"+n.alertCache.prefix,n.alertCache.version,un.c.DenaliStorage.fromLocalStorage(un.c.ls),Pn),B=new fn.a(e=>e,e=>e,n.outcomeScoreCache.prefix,n.outcomeScoreCache.version,un.c.DenaliStorage.fromLocalStorage(un.c.ls),Pn),H=new fn.a(o.identity,o.identity,n.mutedCategoriesCache.prefix,n.mutedCategoriesCache.version,un.c.DenaliStorage.fromLocalStorage(un.c.ls),Pn),V=D.get(),U=u.isFree.get(),q=F.hasCache(l,V,U)&&B.hasCache(l,V,U),W=new ft.a(N,O,L,q,e.initialDelta.length),$=new gt(O,(()=>{const e=new Set;return"off"!==u.denali.recordCapiMessages&&e.add("captureCapiMessages"),e})()),z=new Et.b(W,O,L,d,i),G=u.measureCAPILatency?function(e,t,n,i){const a=C.Monitoring.Logging.getLogger("capi.performance"),r=e=>"idle"===e;return Object(ie.pipe)(e.checkingState.pipe(f.a.debounce(e=>r(e)?f.a.timer(5e3):f.a.EMPTY),f.a.distinctUntilChanged(),f.a.filter(r)),f.a.switchMapTo(Object(ie.pipe)(f.a.range(0,10),f.a.concatMap(()=>(n.ping(),t.pipe(f.a.first(tt.a.CAPIEvent.is("pong"))))),f.a.takeUntil(e.checkingState.pipe(f.a.first(Object(w.m)(r)),f.a.merge(t.pipe(f.a.first(tt.a.CAPIEvent.is("disconnect","error")))),f.a.merge(i.contentUpdated),f.a.merge(f.a.fromEvent(window,"offline")))),f.a.tap(e=>a.trace("pong event",e)),f.a.map(e=>e.latency),f.b.compact,f.a.toArray(),f.a.map(Tn),f.b.compact))).subscribe(e=>a.info("capi ping latency",e))}(L,O,z,s):f.a.Subscription.EMPTY,K=new Vt.a(0,m),Y=new pt.a,X=u.denali.useTransformJson?st.a.Transform.identity:st.a.Transform.forcePositionOverTransformJson;let Z=c.g.none;const Q=()=>Object(ie.pipe)(Z,c.g.fold(()=>e.initialDelta.delta,e=>e())),J=new lt.a,ee=new ct.a(K,Y,Q,O,z,L.counters,X,void 0,u.denali.sduiV1,J);Object(w.r)("alertManager",ee);const te=dt.a.create(ee.state),ne=new ut.a(te,ee._ops),ae=new Ln.b(K,Q,z,Object.assign(Object.assign({},s),{flushChanges:m?o.constVoid:s.flushChanges.bind(s)})),re=Object(ie.pipe)(c.g.fromNullable(L.rtfMode===A.d.DocumentFeatures.FormattingMode.on),c.g.filter(Boolean),c.g.map(()=>jn.create(s))),oe=new Nn.b(L,O,z),se=u.denali.toneDetector?c.g.some(In.b.create(O,z,C.Monitoring.Logging.getLogger("EmotionsModel"))):c.g.none,le=u.denali.sduiV1||u.denali.sduiV2?c.g.some(new Ht.a(z)):c.g.none,ce=Rt.UserTextChangesSync.create(s);if(m){const t=Object(ie.pipe)(re,c.g.fold(()=>[ae],e=>[ae,e]));Rt.init(ce,O,Mt.noopSync,Mt.noopSync,Mt.noopSync,It.merge(t)).subscribe(Dn._getChangesDispatcherFailHandler()),K.pushChanges(e.initialDelta)}else{const e=Object(ie.pipe)(re,c.g.fold(()=>[ee,ae],e=>[ee,ae,e]));Rt.init(ce,O,Mt.ignoreTEResult(z),Mt.ignoreResult(Mt.pushDeleteThenInsert(K)),Y,It.merge(e)).subscribe(Dn._getChangesDispatcherFailHandler())}const de=Dt.a.CategoriesModel.create(O,z,ee.state,ne,u.demoMode?tt.a.MutedAlerts.ScopeType.DOCUMENT:tt.a.MutedAlerts.ScopeType.GLOBAL),ue=Object(ie.pipe)(u.denali.mutedAlerts,c.g.fromPredicate(o.identity),c.g.map(()=>Ft.a.create(te))),pe=new On(l,L.checkingState,ee,de,L.counters.view("unread"),D,U,F,B,H),he=C.Monitoring.Logging.getLogger("StEngine");try{Object(ie.pipe)(pe.getMutedCategories(),c.g.tap(e=>{he.debug("Loading muted alerts categories from cache..."),de.loadCachedMutedCategories(e)})),Object(ie.pipe)(pe.getCorrectAlerts(c.b.unsafeGet(e.initialDelta.text),de.mutedCategories.get()),c.g.tap(e=>{he.debug("Loading alerts from cache..."),ee.loadAlerts(e),he.debug(`${e.length} cached alert(s) where loaded`),ee.flushAlerts(),Object(ie.pipe)(pe.getScores(),c.g.tap(e=>ee.loadScores(e)))}))}catch(e){he.warn("Cannot read alerts OR muted categories cache",e)}const ge=hn.a.Factory.create(ne,hn.a.defaultMetaGenerator,hn.a.getDefaultMarkAnimation),fe=Object(ie.pipe)(m,c.g.fromPredicate(o.identity),c.g.map(()=>{const t=Object.assign(Object.assign({},mn.a.empty),{markAlerts:new Map,marks:new Map});return Object(ie.pipe)(ee.state.get(),Bt.a.reduce([],(e,t)=>(e.push(t),e)),Ze.ub(e=>ge.fromAlert(pn.a.fromModel(e.alert),c.g.none,c.g.some("firstRender"))),Ze.Lb,Ze.ub(e=>{t.markAlerts.set(e.ma.alert.id,e.ma),e.marks.forEach(e=>{t.marks.set(e.meta.id,e)})})),{text:e.initialDelta,marks:t}})),be=gn.a.initState(g,fe);Z=m?c.g.some(()=>be.getContents().delta):c.g.some(()=>s.getContents().delta);const ye=u.denali.sduiV2?c.g.some(new Qt(ee.state,E,J.getByRawAlertId.bind(J))):c.g.none,ve=new Dn(be,z,e.remoteDocument,L,K,Y,ee,ne,te,ae,oe,re,se,le,de,ue,q,ge,ye,()=>{G.unsubscribe()},I,e.remoteConnection,$,P,R);return Object(w.r)("engine",ve),Object(w.r)("text",()=>{W.getText().then(e=>{const t=s.getText();t!==e?console.log("Text DIFF",{capiText:e,capiLen:e.length,dedText:t,dedTextLen:t.length}):console.log("Texts are the same, len: "+t.length)}).catch(e=>{throw e})}),ve}shutdown(){return Object(Xe.__awaiter)(this,void 0,void 0,(function*(){C.Monitoring.Logging.getLogger("StEngine").debug("shutdown"),this._onShutdown(),yield this._capiConnection.close(void 0,"StEngine shutdown"),yield this._doxConnection.close(void 0,"StEngine shutdown"),this._doxSyncManager&&this._doxSyncManager.dispose(),this._capiConManager&&this._capiConManager.dispose(),this.plagiarismModel.dispose(),this.checkingDomain.dispose(),this._capiWatcher.dispose(),this.sessionModel.dispose(),Object(ie.pipe)(this.emotionsModel,c.g.map(e=>e.dispose()))}))}static _getDocumentModel(e,t,n,i,a,r,s,l){return new Mn.b(e,t,Object.assign(Object.assign({},n),{flushChanges:l?o.constVoid:n.flushChanges.bind(n)}),i,a,r.enableTrackingOnDownload.get(),s,e=>Object(ie.pipe)(r.proofitTest,c.g.fold(()=>new bn.b(t.remoteDocument,e),e=>new bn.a.Mock(e,r.proofitLastJob))))}static _getChangesDispatcherFailHandler(){const e=C.Monitoring.Logging.getLogger("ChangesDispatcher");return t=>{"UnsubscriptionError"===t.exception.name?e.warn("shutdown error",t):t.details.to===Rt.Receiver.CAPI&&rt.b.isNotConnectedError(t.exception)?e.warn("tried to send change to not connected CAPI",t):t.details.to===Rt.Receiver.CAPI&&rt.c.isNotReadyError(t.exception)?e.warn("tried to send delta change to CAPI that expected a reset",t):t.details.to===Rt.Receiver.CAPI?e.warn("failed pushing changes to CAPI",t):e.error("can not dispatch changes",t.exception,t.details)}}}Dn.getDoxInit=(e,t,n,i)=>{const a=ot.a.Queue.create({acceptedMsgHandler:e=>i.acceptedMessage.next(e),droppedMsgsHandler:e=>i.droppedMessages.next(e)});return t.openDocumentById(e,function(e,t){const n=C.Monitoring.Logging.getLogger("DoxConnectivity");return{changeHandler:(t,n)=>e.dox.next({kind:"change",doc:t,change:n}),connectHandler:()=>{n.info("WS DOX connectivity online"),t.setState({type:"wsDox",state:{type:"online"}})},disconnectHandler:(e,i,a)=>Object(Xe.__awaiter)(this,void 0,void 0,(function*(){n.debug("Disconnected from dox",{reason:e,reconnectStatus:i,reconnectResult:a});const r=e=>{c.b.isLeft(a)?n.info(`WS DOX connectivity error: ${e}`):n.info(`WS DOX connectivity error, reconnecting: ${e}`),t.setState({type:"wsDox",state:{type:e}})};switch(e.code){case d.a.WsCodes.NOT_FOUND:r("documentNotFoundError");break;case d.a.WsCodes.UNAUTHORIZED:r("unauthorized");break;case d.a.WsCodes.BLOCKED_BY_CLIENT:r("blockedByClient");break;case d.a.WsCodes.CLIENT_MALFUNCTION:case d.a.WsCodes.PRECONDITION_FAILED:r("unknownConnectionError");break;default:i.iterNumber>=2?[0,d.a.WsCodes.UNKNOWN_WS_ERROR,d.a.WsCodes.CLOSED_ABNORMALLY].indexOf(e.code)>=0?r("unknownConnectionError"):r("serverError"):c.b.isLeft(a)&&r("serverError")}})),metadataChangeHandler:(t,n)=>e.dox.next({kind:"metadata_change",doc:t,documentMetadata:n})}}(i,n),a,5e3)};var Fn=n("F8cT"),Bn=n("DMXH"),Hn=n("zI3C"),Vn=n("eihE"),Un=n("SfpF"),qn=n("D6Vf"),Wn=n("b+sJ"),$n=n("rmLU");var zn=n("NaPV"),Gn=n("D8Xd"),Kn=n("CvSs"),Yn=n("rXcq"),Xn=n("+ukg"),Zn=n("Hw2j"),Qn=n("u4+s"),Jn=n("wt7H"),ei=n("DLWy");class ti{constructor(e,t,n,i,a,r,o,s,l,c){this._modalManager=e,this._userAccount=t,this._documentModel=n,this._loaderViewModel=i,this._documentLoaderState=a,this._appRouter=r,this._notificationsManager=o,this._config=s,this._telemetry=l,this._environment=c,this._showGBBillingMigrationNotification=({expiryDate:e})=>this._notificationsManager.enqueue("gbBillingMigration",{expiryDate:e}).pipe(f.a.takeWhile(Object(w.m)(e=>Gn.a.isCloseAction(e)||"cta"===e),!0),f.a.switchMap(e=>this._handleGBBillingMigrationNotificationAction(e)))}init(){const e=this._documentLoaderState.view("text").pipe(f.a.filter(e=>e.isEmpty()),f.a.first(),f.a.filter(()=>Object(ie.pipe)(this._appRouter.locationState,c.g.exists(e=>{var t;return!(null===(t=e.showDocumentUploadedNotification)||void 0===t||!t)}))),f.a.switchMap(()=>this._showUploadNotification(this._documentModel.rtfMode))),t=this._userAccount.features.denali.gbBillingMigrationNotification.pipe(f.b.compactMap(this._showGBBillingMigrationNotification)),n=this._userAccount.settings.dunningSettings.pipe(f.a.combineLatest(this._userAccount.settings.dunningStatus,this._userAccount.subscription.state.pipe(f.a.filter(Kn.a.isOk))),f.a.first(),f.a.filter(([e,t,n])=>this._shouldShowDunningModal(e,t,n.value)),f.a.switchMap(()=>this._showDunningModal()));return this._loadModal().pipe(f.a.tap(()=>this._loaderViewModel.init()),f.a.switchMap(c.g.fold(()=>f.a.EMPTY,e=>this._modalManager.showPreloaded(e))),f.a.merge(f.a.concatStatic(e,this._showChangePlanNotification()),this._showPremiumUngatingRenewalNotification(),t,this._showSafariExtActivationNotification(),n))}_loadModal(){return this._shouldShowConfirmUpgradeModal()?this._modalManager.preload(Jn.a.confirmUpgrade).pipe(f.a.map(c.g.some)):this._shouldShowTour()?this._modalManager.preload(Jn.a.tour).pipe(f.a.map(c.g.some)):this._shouldShowWhatsNew()?this._modalManager.preload(Jn.a.news).pipe(f.a.map(c.g.some)):this._shouldShowSetGoals()?this._modalManager.preload(zn.c.setGoals("setGoalsLoader")).pipe(f.a.map(c.g.some),f.a.tap(()=>this._loaderViewModel.init()),f.a.switchMap(e=>this._loaderViewModel.loaderState.pipe(f.a.first(e=>e.contains(ei.a.Checking)||e.contains(ei.a.CheckingIn)),f.a.mapTo(e)))):f.a.of(c.g.none)}_shouldShowTour(){return c.g.isSome(this._userAccount.features.denali.tour)}_shouldShowConfirmUpgradeModal(){return Object(ie.pipe)(this._appRouter.query.get("showConfirmUpgrade"),c.g.exists(e=>"true"===e))}_shouldShowWhatsNew(){return this._userAccount.features.denali.showcaseNewFeaturesOnStartup}_shouldShowSetGoals(){return this._documentModel.isInitialRevision&&this._userAccount.settings.enableSetGoalsLoader.get()}_shouldShowDunningModal(e,t,n){const i=Object(ie.pipe)(t,c.g.map(e=>"IN_PROGRESS"===e),c.g.getOrElse(()=>Boolean(n.isDunning)));return Xn.g.isPremium(this._userAccount.features.denaliUserType)&&Object(Zn.a)(e)&&!this._shouldShowTour()&&i}_showDunningModal(){return this._telemetry.gnarSpec.inProductDunningNotificationShow(this._telemetry.pageId),this._modalManager.show(Jn.a.dunning)}_showUploadNotification(e){const t=e===me.DocumentFeatures.FormattingMode.compatibility?"denaliFormattingCompatibility":"denaliDocumentUploaded";return this._notificationsManager.enqueue(t).pipe(f.a.filter(e=>"navigateToDocuments"===e),f.a.tap(()=>this._appRouter.navigate(E.a.routes.documents.href())))}_handleGBBillingMigrationNotificationAction(e){switch(e){case"shown":return this._telemetry.gnarSpec.gbBillingMigrationNotificationShow(this._telemetry.pageId);case"closedByUser":return this._telemetry.gnarSpec.gbBillingMigrationCloseButtonClick(this._telemetry.pageId),this._userAccount.settings.dismissGBBillingMigrationNotification();case"cta":return this._telemetry.gnarSpec.gbBillingMigrationUpdateBillingButtonClick(this._telemetry.pageId),this._environment.actions.openPopup(new Yn.a(this._config.account.adminSubscription,new URLSearchParams({popup:"add_billing_info"}))),Promise.resolve();default:return Object(M.d)(e)}}_showChangePlanNotification(){return this._userAccount.features.denali.changePlanHook.pipe(f.b.compactMap(()=>this._userAccount.subscription.state),f.a.filter(Kn.a.isOk),f.a.first(),f.a.map(({value:e})=>Qn.a.create(e,this._userAccount.subscription)),f.a.switchMap(c.b.fold(e=>(C.Monitoring.Logging.getLogger("change.plan.hook").warn(e),f.a.EMPTY),e=>e.shouldShowOffer?this._notificationsManager.enqueue("changePlanCta",{model:e}).pipe(f.a.takeWhile(Object(w.m)(e=>Gn.a.isCloseAction(e)||"changePlan"===e),!0),f.a.switchMap(t=>this._handleChangePlanNotificationAction(t,e))):f.a.EMPTY)))}_handleChangePlanNotificationAction(e,t){switch(e){case"shown":return this._telemetry.gnarSpec.changePlanNotificationShow(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.changePlanHookSeen();case"closedByUser":return this._telemetry.gnarSpec.changePlanNotificationCloseButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.dismissChangePlanHook();case"changePlan":return this._telemetry.gnarSpec.changePlanNotificationSwitchPlanButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._modalManager.show(Jn.a.changePlan(t)).pipe(f.a.filter(e=>"closed"===e),f.a.first(),f.a.switchMap(()=>this._userAccount.settings.dismissChangePlanHook())).toPromise().catch(e=>C.Monitoring.Logging.getLogger("change.plan.modal").error(e));default:return Promise.resolve()}}_showSafariExtActivationNotification(){return this._userAccount.features.denali.safariExtActivationWeb||this._userAccount.features.denali.safariExtActivationNative?this._notificationsManager.enqueue("safariExtActivation",{}).pipe(f.a.tap(e=>{switch(e){case"shown":return this._telemetry.gnarSpec.safariExtensionActivationNotificationShow(this._telemetry.pageId),void this._userAccount.settings.markSafariExtNotificationSeen();case"activate":return this._telemetry.gnarSpec.safariExtensionActivationCtaButtonClick(this._telemetry.pageId),void this._environment.actions.openUrl(new Yn.a("grammarly.extension://enable"));case"closedByUser":return void this._telemetry.gnarSpec.safariExtensionActivationCloseButtonClick(this._telemetry.pageId);case"timeout":case"closedByMaxNotificationOnScreen":case"closedByNotificationWithMorePriority":return;default:Object(M.d)(e)}})):f.a.EMPTY}_showPremiumUngatingRenewalNotification(){return this._userAccount.features.denali.premiumUngatingRenewalNotification.pipe(f.b.compactMap(e=>(this._telemetry.gnarSpec.premiumUngatingRenewalNotificationShow(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationSeen(),this._notificationsManager.enqueue("premiumUngatingRenewal",{trialEndDate:e}).pipe(f.a.first(e=>Gn.a.isCloseAction(e)?(this._telemetry.gnarSpec.premiumUngatingRenewalDismissButtonClick(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationDismissed(),!0):"ctaManageSubscription"===e&&(this._telemetry.gnarSpec.premiumUngatingRenewalCtaButtonClick(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationDismissed(),this._environment.actions.openPopup(new Yn.a(this._config.account.adminSubscription)),!0))))))}}var ni=n("BwCH");function ii(e,t){const n=t.has(X.b.Flag.useSetDataOnCopy);return(t,i)=>f.a.from(ni.a.copy(t,n)).pipe(f.a.switchMap(()=>e.enqueue("copySuccess",{copyType:i})),f.a.catchError(t=>(ni.a.copyApiAvailable.next(!1),C.Monitoring.Logging.getLogger("clipboard").warn("Copy to clipboard failed",t),e.enqueue("copyToClipboardFailed")))).toPromise()}var ai=n("p7hf"),ri=n("ps/9"),oi=n("ax6a");const si=g.a.keyframes({from:{transform:"scale(0)"},to:{transform:"scale(6)"}}),li={margin:`${g.a.rem(1.7)} 0 ${g.a.rem(1.15)}`,$nest:{"@media print":{marginTop:0}}},ci=Object.assign(Object.assign({},{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),{padding:g.a.rem(0),width:g.a.percent(95),outline:"none",border:"none",background:"transparent",lineHeight:"normal",$nest:{"@media print":{display:"none"},"&::placeholder":{color:xe.i}}}),di={position:"relative",zIndex:ri.i,paddingTop:g.a.rem(4)},ui={color:xe.i},pi={display:"block",minHeight:g.a.px(100)},hi={position:"absolute",top:0,left:0,zIndex:ri.o,overflow:"hidden",width:g.a.percent(100),height:g.a.percent(100),background:oi.a.CoreNeutral0},mi={position:"absolute",top:g.a.percent(32),left:g.a.percent(38),margin:"0 auto",width:g.a.px(300),height:g.a.px(300),border:`20px solid ${oi.a.CoreNeutral1}`,borderRadius:g.a.percent(50),pointerEvents:"none"},gi={animation:`${si} 4s infinite linear`},fi={animation:`${si} 3s infinite linear`},bi={animation:`${si} 2s infinite linear`},yi=g.a.stylesheet({textWrapper:[di],text:[ui],titleWrap:[ui,li],title:[ui,ci],content:[ui,pi],animation:[hi],circle:[mi],one:[mi,gi],two:[mi,fi],three:[mi,bi]}),vi=e=>{const t=r.useContext(oe.a.Context);return r.createElement(ai.b,{documentUpload:e.documentUpload,multiple:!1,canDrop:()=>!0,render:(n,i)=>r.createElement(s.a.Fragment,null,l.a.combine(n,i,(n,i)=>(n||i)&&r.createElement(X.c,{className:yi.animation,onMount:()=>e.modalManager.hideAll()},r.createElement("div",{className:yi.one}),r.createElement("div",{className:yi.two}),r.createElement("div",{className:yi.three}),r.createElement(Se,{position:"center",className:yi.textWrapper},r.createElement("div",{className:yi.titleWrap},r.createElement(F.c,{className:yi.title},t.uploadDropZone)),r.createElement(F.j,{className:yi.content},t.uploadDropZoneTypes)))))})};var ki=n("p7l/"),wi=n("FPs0"),Si=n("lRnN"),_i=n("Ni70"),Ci=n("SGQG");function Ei({stepId:e,onboardingViewModel:t,denaliEditorModel:n,getFirstTargetRect:i,overlay:a,completionTrigger:o},s){const d=r.useContext(u.a.Context),p=l.a.create({display:"none",pointerEvents:"none"}),h=l.a.create(!1),m=t.subscribeForStep(e),g=l.a.create(c.g.none);return b.a.useSubscriptionTo(f.a.mergeStatic(m.state.pipe(f.a.tap(e=>{"popup"===e&&a&&h.set(!0),p.modify(t=>Object.assign(Object.assign({},t),{pointerEvents:"dot"===e?"all":"none"}))}),f.a.merge(n.changes,s),f.a.combineLatest(d,g.pipe(f.a.skip(1))),f.a.tap(([e,t,i])=>((e,t)=>requestAnimationFrame(()=>{n.flushChanges(),Object(ie.pipe)(t,c.g.map(_i.b.relativeToRoot),c.g.fold(()=>{p.set({display:"none"})},({top:t,left:n,width:i,height:a})=>{p.modify(r=>Object.assign(Object.assign({},r),{position:"absolute",left:`${n/e}rem`,top:`${t/e}rem`,width:`${i/e}rem`,height:`${a/e}rem`,display:"block"}))}))}))(t,i))),m.state.view(e=>"dot"===e||"popup"===e).pipe(f.a.switchMap(e=>e?i():f.a.EMPTY),f.a.tap(y.b.toAtom(g))),f.a.mergeStatic(y.b.orEmpty(h.pipe(f.a.skip(1),f.a.filter(e=>!e)))(!!a),o).pipe(f.a.tap(t.getStepCompletionCallback(e))),h.pipe(f.a.switchMap(y.b.orEmpty(f.a.fromEvent(document,"click",{capture:!0,passive:!0}))),f.a.tap(()=>h.set(!1))))),{visibilityOverlay:h,customStyles:p,onboardingStep:m}}const Oi=e=>{const t=r.useContext(ki.a.Context).pipe(f.a.map(e=>e.rect)),{visibilityOverlay:n,customStyles:i,onboardingStep:a}=Ei(e,t);return r.createElement(r.Fragment,null,e.overlay&&e.overlay(n),r.createElement("div",{className:Ci.a.editor},r.createElement(s.a.div,{style:i,className:Ci.a.onboardingPopup},r.createElement(pe.c,Object.assign({},e,{onboardingStep:a,viewportRect:t,eventType:"none"}),r.createElement(s.a.div,{style:i.view(({width:e,height:t})=>({width:e,height:t}))})))))},Ai=e=>e.onboardingViewModel.isStepEnabled(e.stepId)?r.createElement(Oi,Object.assign({},e)):null;var xi=n("aH3e");const Ti=e=>t=>Object(ie.pipe)(t.getRect(),c.b.map(({clientRects:e,rootClientRect:t})=>e.map(e=>B.c.absToRelative(e,t))),c.b.map(t=>t.map(t=>({top:t.top,left:t.left,width:Math.max(t.width,2),height:t.height,zIndex:e?"inherit":"-1",mixBlendMode:e?"darken":"inherit"}))));class Mi{constructor(e,t){this._ded=e,this._env=t,this._log=C.Monitoring.Logging.root.getLogger("GraySelection"),this.state=this._ded.isEditorFocused.pipe(f.a.switchMap(Object(w.c)(f.a.of(!1),f.a.mergeStatic(this._ded.contentUpdated.pipe(f.a.auditTime(50)),y.a.windowResize.pipe(f.a.auditTime(50))).pipe(f.a.startWith(y.b.toVoid()),f.a.mapTo(!0)))),f.a.switchMap(e=>e?f.a.of(Object(ie.pipe)(this._ded.getSelectionRect(),c.b.chain(Ti(this._env.has(xi.a.Flag.supportsMixBlendMode))),c.g.fromEither)):f.a.of(c.g.none)),f.a.tap(e=>{c.g.isSome(e)&&!document.hasFocus()&&Object(ie.pipe)(un.e.collapseSelection(),c.b.mapLeft(e=>{this._log.info("Cannot collapse selection",e)}))}),f.a.share())}}var ji=n("GZ3w");const Ii=({ded:e})=>{const t=r.useContext(xi.a.Context);return r.createElement(s.a.Fragment,null,new Mi(e,t).state.pipe(f.a.map(e=>r.createElement(r.Fragment,null,Object(ie.pipe)(e,c.g.fold(()=>null,e=>e.map((e,t)=>r.createElement("div",{"data-name":"gray-selection",key:`gray-selection-${t}`,style:e,className:ji.graySelection})))))),f.a.startWith(null)))},Ri=(e,t)=>{const n={root:e,rootMargin:"0px",threshold:[0,1]};return y.a.getIntersectionObservable(t,n).pipe(f.a.filter(w.n),f.a.map(e=>1!==e[0].intersectionRatio),f.a.startWith(t.offsetHeight>e.offsetHeight))};class Ni{constructor(){this._log=C.Monitoring.Logging.getLogger("DocumentView"),this._nativeScrollbarState=Object(ie.pipe)(B.c.Scrollbar.getState(),c.b.mapLeft(this._log.handler("Cannot get scrollbar width").error),c.b.getOrElse(()=>B.c.Scrollbar.UNKNOWN_SCROLLBAR)),this.detector=l.a.create(c.g.none),this.target=l.a.create(c.g.none),this._visible="visible"===this._nativeScrollbarState.type?l.a.combine(this.target,this.detector,c.g.map2(Ri)).pipe(f.a.switchMap(c.g.fold(()=>f.a.EMPTY,o.identity)),f.a.onErrorResumeNext(f.a.of(!0))):l.a.create(!0),this.width=this._visible.pipe(f.a.map(e=>e?this._nativeScrollbarState.width:0),f.a.startWith(0),f.a.shareReplay({bufferSize:1,refCount:!0})),this.scrollTop=this.target.pipe(f.b.compact,f.a.switchMap(e=>f.a.fromEvent(e,"scroll").pipe(f.a.debounceTime(50),f.a.map(e=>e.target.scrollTop))),f.a.startWith(0)),this.fakeWidth="hidden"===this._nativeScrollbarState.type?this._nativeScrollbarState.width:0}}const Li={color:xe.i},Pi={borderBottom:`1px solid ${xe.h}`,cursor:"pointer",pointerEvents:"auto"},Di=g.a.stylesheet({placeholder:[Li],hiddenPlaceholder:[{display:"none"}],label:[Pi],input:[{display:"none"}]}),Fi=({viewModel:e,strings:t,className:n})=>r.createElement(s.a.div,Object.assign({},Object(re.c)(n,F.o.paper,e.visible.pipe(f.a.map(Object(w.c)(Di.placeholder,Di.hiddenPlaceholder))),e.size.view(Z.e.match("",ee.a.bigSize)))),t.typeOrPasteText,r.createElement("label",{className:Di.label},t.upload,r.createElement("input",{className:Di.input,onChange:({target:t})=>t.files&&e.upload(t.files),type:"file",accept:e.uploadInputAccept})),t.ending);var Bi=n("9T0W"),Hi=n("PyeZ"),Vi=n("fHRq"),Ui=n("l0MP"),qi=n("1w6p"),Wi=n("akIQ"),$i=n("op3b");const zi=({viewModel:e})=>{const{gnarSpec:t,pageId:n}=r.useContext(O.a.Context),i=r.useContext(oe.a.Context);return r.createElement("div",Object.assign({},Object(re.c)($i.a.card,$i.a.cardUphook)),r.createElement(F.l,{className:$i.a.title},i.inlineUpgradeHook.suggestionIsPartOfPremium),r.createElement(be.a.Group,{align:"vertical"},r.createElement(be.a.Ghost,{className:$i.a.upgradeButton,name:"upgrade",onClick:()=>{t.getPremiumButtonClick(n,"upgradeToPremium","inlinePremiumCard"),e.upgrade()}},r.createElement(ve.d.PaidSmall,{width:15,className:$i.a.upgradeIcon}),r.createElement(F.l,{className:$i.a.upgradeButtonText},i.inlineUpgradeHook.upgradeToPremium))))},Gi=8,Ki=(e,t)=>e.right+300>t.width?"right":"left",Yi=(e,t)=>B.c.classes((e=>{switch(e){case"invisible":return $i.a.invisible;case"visible":return $i.a.visible;default:return Object(M.d)(e)}})(e),"up"===t&&$i.a.directionUp);function Xi(e,t){const n=r.useRef(null),[i]=r.useState(()=>l.a.create({visibility:"visible",position:{top:0,left:0},direction:"down"})),a=r.useContext(ki.a.Context),o=e=>{const a=n.current;a&&function(e,t,n,i){Object(ie.pipe)(e,c.g.map(({abs:e,relative:a})=>{const r=t.offsetHeight,o=e.height+e.top+r>n.height+n.top&&a.height<n.height?"up":"down";i.modify(e=>Object.assign(Object.assign({},e),{direction:o,position:{top:"up"===o?a.top-r-Gi:a.top+a.height,left:a.left}}))}))}(t,a,e,i)},[s]=r.useState(()=>f.a.combineLatestStatic(a.pipe(f.a.map(e=>e.rect)),i.pipe(f.a.filter(({visibility:e})=>"visible"===e)),e=>e).pipe(f.a.tap(o)));return b.a.useSubscriptionTo(s),r.useEffect(()=>{switch(e){case"removed":i.modify(e=>Object.assign(Object.assign({},e),{visibility:"invisible"}));break;case"added":requestAnimationFrame(()=>i.modify(e=>Object.assign(Object.assign({},e),{visibility:"visible"})));break;default:Object(M.d)(e)}},[e,i]),{_el:n,_state:i}}const Zi=({card:e,position:t,mode:n,name:i,onMouseEnter:a=w.e,onMouseLeave:o=w.e})=>{r.useEffect(()=>{"added"===n&&o()},[n]);const l={onMouseEnter:a,onMouseLeave:o,"data-name":i},{_el:c,_state:d}=Xi(n,t);return r.createElement(s.a.div,Object.assign({tabIndex:-1,mount:e=>c.current=e,style:d.view("position")},Object(re.c)($i.a.container,d.view(({visibility:e,direction:t})=>Yi(e,t))),l),e)};const Qi=(e,t,n)=>{const{key:i,card:a,onMouseEnter:o,onMouseLeave:s,name:l,isHidden:d}=t(e),u=function(e,t){return"added"===t?Object(ie.pipe)(e.rect,_i.b.relativeAndAbs,c.g.fromNullable):c.g.some({abs:B.c.Rect.empty,relative:B.c.Rect.empty})}(n,e);return!(null!=d&&d)&&r.createElement(Zi,{key:i,position:u,mode:e,card:a,name:l,onMouseEnter:o,onMouseLeave:s})},Ji=({viewModel:e,entry:t,index:n})=>i=>{const a=zt.a.State.isBulkApplied(t.alert.state),o="added"===i?n+1:n,s="added"===i?e.events:y.b.noopObserver(),l=Q.a.DATA_NAME;return{key:o,card:r.createElement(Wi.a,{alert:t.alert,hydrate:e.hydrate,events:s,highlightIndex:t.highlightIndex}),onMouseEnter:()=>e.events.next({type:Hi.b.Type.hovered}),onMouseLeave:()=>e.events.next({type:Hi.b.Type.unhovered}),name:l,isHidden:a}},ea=({viewModel:e,index:t})=>n=>{return{key:"added"===n?t+1:t,card:r.createElement(zi,{viewModel:e})}};function ta(e,t,n){return Object(ie.pipe)(t.state,f.b.chain(e=>Object(ie.pipe)(f.a.from(e.getMarkRect()),f.a.tap(c.b.mapLeft(t=>console.error("Could not get mark rect",{error:t,entry:e}))),f.a.map(c.g.fromEither),f.a.map(c.g.map(t=>Object.assign(Object.assign({},e),{rect:t}))))),f.a.startWith(c.g.none),f.a.pairwise(),f.a.tap(([e,t])=>c.g.isNone(t)&&n&&n()),f.a.map(([n,i],a)=>[Object(ie.pipe)(n,c.g.map(n=>Qi("removed",e({viewModel:t,entry:n,index:a}),n)),c.g.toNullable),Object(ie.pipe)(i,c.g.map(n=>Qi("added",e({viewModel:t,entry:n,index:a}),n)),c.g.toNullable)]),f.a.startWith(null))}const na=r.memo(({className:e,inlineCardVM:t,inlineUpgradeHookVM:n})=>{const i=r.useContext(ki.a.Context).pipe(f.a.map(e=>e.rect)),a=r.useMemo(()=>Bi.a.emptyWithName("inline-card"),[]);return r.createElement(Bi.a.Context.Provider,{value:a},r.createElement(s.a.Fragment,null,r.createElement("div",{className:e},qi.b.mount(Ui.a.View,Vi.a.Flow.create(t.state,t.events,i,t.hydrate,Ki))),r.createElement(s.a.div,{className:e},ta(Ji,t,()=>t.events.next({type:Hi.b.Type.closed}))),r.createElement(s.a.div,{className:e},ta(ea,n))))});var ia=n("6lhv"),aa=n("fIii"),ra=n("+LKT"),oa=n("fglL"),sa=n("dOkW"),la=n("qPGH"),ca=n("DRjW"),da=n("ZvPX"),ua=n("2BTG"),pa=n("+dDf"),ha=n("CXK/");const ma=500;class ga extends r.Component{constructor(){super(...arguments),this._subs=[],this._classes=l.a.create(""),this._state=l.a.create(ae.f.empty()),this._content=l.a.create(null),this._onTransitionEnd=()=>{const e=this._state.get();e.contains(Bn.a.Type.checkingOut)&&this._state.set(ae.e),e.isEmpty()&&this._content.set(null)}}componentDidMount(){const{theme:e,state:t}=this.props;this._subs.push(this._state.pipe(f.a.pairwise(),f.a.map(([t,n])=>n.fold(()=>t.fold(()=>{throw new M.b("Cannot animate sidebar loader from None to None")},t=>{switch(t){case Bn.a.Type.checkingOut:return[e.checkingOutEnd+" "+e.hideEnd];case Bn.a.Type.checkingIn:return[e.checkingInEnd+" "+e.hideEnd];case Bn.a.Type.checking:return[e.hideStart,e.hideEnd];default:return Object(M.d)(t)}}),n=>{switch(n){case Bn.a.Type.checkingOut:return t.contains(Bn.a.Type.checkingIn)?[e.checkingOutEnd]:t.isEmpty()?[e.hideEnd]:[e.checkingOutStart,e.checkingOutEnd];case Bn.a.Type.checkingIn:return t.contains(Bn.a.Type.checkingOut)?[e.checkingInEnd]:t.contains(Bn.a.Type.checking)?[]:[e.checkingInStart,e.checkingInEnd];case Bn.a.Type.checking:return[e.checkingStart,e.checkingEnd];default:return Object(M.d)(n)}})),f.a.switchMap(e=>ha.a.rafSequence(e,!0))).subscribe(y.b.toAtom(this._classes)),t.subscribe(e=>{this._state.set(e),null===this._content.get()&&e.nonEmpty()&&this._content.set(this.props.children)}),t.pipe(f.a.switchMap(()=>f.a.timer(ma))).subscribe(this._onTransitionEnd))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){return r.createElement(s.a.div,{"data-role":"loader-content",key:"content",className:this._classes,mount:e=>e&&(this._el=e),onTransitionEnd:e=>e.target===this._el&&this._onTransitionEnd()},this._content)}}var fa=n("jcJZ"),ba=n("xGXC"),ya=n("6Gma"),va=n("qZUR");const ka=g.a.rem(12),wa={position:"relative",height:"100%"},Sa={overflowY:"hidden"},_a={marginLeft:g.a.rem(-4),paddingLeft:g.a.rem(4)},Ca={zIndex:ri.j},Ea={marginTop:ri.v,paddingTop:0,$nest:{"&:before":{position:"absolute",top:g.a.rem(-4),width:"100%",height:g.a.rem(4),boxShadow:va.a.z100,content:"",pointerEvents:"none"}}},Oa={background:oi.a.CoreNeutral0,color:oi.a.CoreNeutral90},Aa={width:ka,boxShadow:va.a.z100},xa={marginTop:g.a.rem(-4),paddingTop:g.a.rem(4),height:`calc(100% + ${g.a.rem(4)})`,boxShadow:"none"},Ta={zIndex:ri.j},Ma={position:"relative",zIndex:ri.j,height:"100%"},ja={marginTop:g.a.rem(-.4)},Ia=g.a.stylesheet({fullHeight:[wa],fullHeightLoaderNavigation:[wa,Sa],fullHeightLoader:[wa,Sa,_a],navigationWrapper:[wa,Ca],navigationLoaderWrapper:[wa,Ca,{position:"absolute",right:0}],navigationLoaderWithToolbar:[Ea],baseWrapper:[wa,Oa],wrapper:[wa,Oa,Aa],loaderWrapper:[wa,Oa,Aa,xa],loaderWrapperNoShadow:[wa,Oa,Aa,xa,{boxShadow:"none"}],narrowWrapper:[wa,Oa,Aa,Ta],lensesAnimationWrapper:[Ma],onboardingNotification:[ja],ensureClickable:[{pointerEvents:"auto"}]});var Ra,Na=n("W1E0"),La=n("lN2x"),Pa=n("iyic");class Da extends ia.a{}function Fa(e,t){return!e||ue.e.isForceSidebar(t)?{prev:{start:{},end:{}},next:{start:{},end:{}}}:ue.e.isSidebarOpened(e)?{prev:{start:{base:Na.navigationLeaveRightStart},end:{base:Na.navigationLeaveRight}},next:{start:{},end:{}}}:{prev:{start:{},end:{}},next:{start:{base:Na.navigationEnterLeftStart},end:{base:Na.navigationEnterLeft}}}}function Ba({state:e,checkingState:t,children:n}){const i=Ia.wrapper,{ref:a,onMount:l}=b.a.useElWatcher();return b.a.useSubscriptionTo(Object(o.pipe)(a,f.b.compact,f.a.switchMap(t=>e.view(ue.e.isSidebarOpened).pipe(f.a.tap(e=>e?t.removeAttribute("inert"):t.setAttribute("inert","true")))))),r.createElement("div",{className:La.navigationWrapper,ref:l},r.createElement(Da,{state:e.pipe(f.a.distinctUntilChanged((e,t)=>ue.e.isSidebarOpened(e)===ue.e.isSidebarOpened(t))),stateToClassMapper:Fa,className:La.fullHeight},({state:a,view:o})=>ue.e.isSidebarOpened(a)?r.createElement(s.a.div,Object.assign({key:"sidebar"},Object(re.c)(o.pipe(f.a.map(e=>e.base)),e.view(ue.e.isSidebarOpened).view(e=>e?i:La.narrowWrapper))),t.view(e=>"full"===e?null:n)):null))}(Ra=Ba||(Ba={})).Loader=({baseLoaderClass:e,state:t,showToolbar:n})=>r.createElement(ga,{state:t.view("navigation"),theme:Pa},r.createElement(s.a.div,Object.assign({},Object(re.c)(Ia.navigationLoaderWrapper,e,n.view(e=>e&&g.a.joinClasses([Ia.navigationLoaderWithToolbar])))),r.createElement(s.a.div,{className:t.view("lens").view(e=>e.fold(()=>Ia.fullHeightLoader,e=>e===Bn.a.Type.checkingOut?Ia.fullHeightLoaderNavigation:Ia.fullHeightLoader))},r.createElement(s.a.div,{className:t.view("lens").view(e=>e.fold(()=>Ia.loaderWrapperNoShadow,e=>e===Bn.a.Type.checkingOut?Ia.loaderWrapperNoShadow:Ia.loaderWrapper))},r.createElement(ba.a,null))))),Ra.Content=({navigationViewModel:e,documentModel:t,modalManager:n,features:i})=>r.createElement(r.Fragment,null,r.createElement(ya.a,{documentModel:t,modalManager:n,navigationViewModel:e,features:i}),r.createElement(fa.a,{navigationViewModel:e,features:i}));var Ha=n("yB2L"),Va=n("viRF"),Ua=n("4lva"),qa=n("/by5"),Wa=n("Jmy1");const $a=({plagiarismModel:e,lensPreviewVM:t,navigationViewModel:n,state:i,proofitViewModel:a,features:o})=>{const{gnarSpec:d,pageId:u}=r.useContext(O.a.Context),p=r.useContext(oe.a.Context),h=i.view(ue.e.isSidebarOpened),m=()=>h.get()?"wiritingAssistant":"writingMode",f=i.view("currentLens","type").view(e=>e===ue.i.plagiarism),b=e=>"disabled"===e.kind&&(e.reason===Ua.d.EmptyDocument||e.reason===Ua.d.DemoDoc),y=e=>"disabled"===e.kind&&e.reason===Ua.c.EmptyDocument,v=r.createElement(qa.b,{name:"proofread",isDisabled:n.documentActions.view(e=>e.proofit).view(b),tooltipAlignment:"left",tooltip:n.documentActions.view(e=>e.proofit).view(e=>b(e)?p.documentActions.proofit.tooltip.disabled(e.reason):p.documentActions.proofit.tooltip.available),title:r.createElement(s.a.div,{className:h.view(Object(w.c)("",Wa.hidden))},p.sidebar.sendToProofreaders),onClick:()=>{o.proofit.get()===Xn.o.enabled?a.showOrderModal():n.popover.set(c.g.some(Ua.a.ProofitHook)),d.professionalProofreadingButtonClick(u,m())},className:h.view(Object(w.c)(g.a.joinClasses([Wa.proofitBtn,Wa.outcomeBtnLeft]),Wa.proofitBtnTeaser))},r.createElement(ve.d.ProofreadOutcomes,{className:h.view(Object(w.c)(g.a.joinClasses([Wa.actionIconTeaser,Wa.actionIconTeaserLeft]),Wa.actionIcon))})),k=r.createElement(qa.b,{onClick:()=>{n.events.next({type:"switchToLens",id:wn.a.SpecialId.Plagiarism,focusFirst:!0,actionSource:zt.b.sidebar}),d.plagiarismButtonClick(u,m())},name:"plagiarism",isActive:f,isDisabled:n.documentActions.view(e=>e.plagiarism).view(y),tooltipAlignment:"left",tooltip:n.documentActions.view(e=>e.plagiarism).view(e=>Object(w.c)(p.documentActions.plagiarism.tooltip.emptyDocument,p.documentActions.plagiarism.tooltip.available)(y(e))),title:h.view(Object(w.c)(p.plagiarism.title,"")),className:h.view(Object(w.c)(g.a.joinClasses([Wa.plagiarismBtn,Wa.outcomeBtnLeft]),Wa.plagiarismBtnTeaser))},r.createElement(s.a.Fragment,null,l.a.combine(f,e.checkingState,(n,i)=>n&&"full"!==i?r.createElement(Ha.a.PlagiarismOutcomesMeter,{key:"plagiarism-counter",className:g.a.joinClasses([Wa.plagiarismScore,Wa.actionIconTeaserLeft]),isChecking:e.checkingState.view(e=>"checking"===e),count:t.getLens(wn.a.SpecialId.Plagiarism).view("percentile").view(Va.a.fromRatio)}):r.createElement(ve.d.PlagiarismOutcomes,{className:h.view(Object(w.c)(g.a.joinClasses([Wa.actionIconTeaser,Wa.actionIconTeaserLeft]),Wa.actionIcon)),key:"plagiarism-icon"}))));return r.createElement(s.a.Fragment,null,n.documentActions.view(e=>r.createElement(s.a.div,{className:h.view(Object(w.c)(Wa.outcomeDocumentActionsFull,Wa.outcomeDocumentActionsTeaser))},(e=>"available"===e.kind||e.reason!==Ua.d.NotAvailable)(e.proofit)&&v,h.view(e=>e&&r.createElement("div",{className:Wa.buttonsDelimiter})),(e=>"available"===e.kind||e.reason===Ua.c.EmptyDocument)(e.plagiarism)&&k)))};var za=n("vz4c"),Ga=n("z1Kw"),Ka=n("tuqh");const Ya=()=>r.createElement(ve.d.CheckmarkOutcomes,{className:Ka.optionCheckedIcon,width:16}),Xa=({option:{title:e,description:t,availableInCorrectness:n,availableInClarity:i}})=>r.createElement("tr",{className:Ka.option},r.createElement("td",{className:Ka.optionCell},r.createElement(F.a,{className:Ka.optionTitle},e),Object(ie.pipe)(t,c.g.mapOrDefault(e=>r.createElement(F.l,{className:Ka.columnDescription},e),null))),r.createElement("td",{className:Ka.optionChecked},n&&r.createElement(Ya,null)),r.createElement("td",{className:Ka.optionChecked},i&&r.createElement(Ya,null))),Za=({title:e,description:t,className:n})=>r.createElement("th",{className:n},r.createElement(F.a,{className:Ka.columnTitle},e),r.createElement(F.l,{className:Ka.columnDescription},t)),Qa=()=>{const e=r.useContext(oe.a.Context).proofitOrderModal.promo.step3,t=[{title:e.spelling.h1,description:c.g.none,availableInCorrectness:!0,availableInClarity:!0},{title:e.grammar.h1,description:c.g.none,availableInCorrectness:!0,availableInClarity:!0},{title:e.punctuation.h1,description:c.g.none,availableInCorrectness:!0,availableInClarity:!0},{title:e.conciseness.h1,description:c.g.some(e.conciseness.h2),availableInCorrectness:!1,availableInClarity:!0},{title:e.preciseness.h1,description:c.g.some(e.preciseness.h2),availableInCorrectness:!1,availableInClarity:!0},{title:e.readability.h1,description:c.g.some(e.readability.h2),availableInCorrectness:!1,availableInClarity:!0}];return r.createElement("table",{className:Ka.optionsTable},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:Ka.optionsTableColumn1}),r.createElement(Za,{title:e.header.correctness.h1,description:e.header.correctness.h2,className:Ka.optionsTableColumn2}),r.createElement(Za,{title:e.header.correctnessClarity.h1,description:e.header.correctnessClarity.h2,className:Ka.optionsTableColumn3}))),r.createElement("tbody",null,t.map(e=>r.createElement(Xa,{option:e,key:`proofit-option-${e.title}`}))))};var Ja,er;(er=Ja||(Ja={})).Dots=()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(16 16)"},r.createElement("circle",{cx:"10",cy:"10",r:"26",fill:"#EFF4FF"}),r.createElement("circle",{cx:"10",cy:"10",r:"18",fill:"#DCE7FF"}),r.createElement("circle",{cx:"10",cy:"10",r:"9",fill:"#9DBBFF"}))),er.PathFrom1To2=()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 49"},r.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M1 0v8.5c0 8.837 7.163 16 16 16h280c8.837 0 16 7.163 16 16V48"})),er.PathFrom2To3=()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 49"},r.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M313 0v8.5c0 8.837-7.163 16-16 16H17c-8.837 0-16 7.163-16 16v8.054"})),er.Illustration=()=>r.createElement("svg",{viewBox:"0 0 432 296",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.createElement("defs",null,r.createElement("path",{d:"M562,3 C562,83 430.204272,225.039762 318.380193,227 C251.656819,228.169638 194.76078,245.646649 156.426437,283 C122.849899,315.7173 28.718061,288.818016 12.9452193,301.609489 C-20.6124065,328.824083 12.9452193,419 94.3182261,362.425988 C175.691233,305.851977 173.663757,404.669157 238.24,392.399927 C269.889017,386.386739 323.865886,388.63911 362.242863,396.392987 C511.421672,426.533823 511.844211,635.1185 548,615.5 C605.82398,584.124119 562,-42.6094389 562,3 Z",id:"path-1"}),r.createElement("path",{d:"M19.3089215,7.937541 C17.6497662,9.75781021 11.3030739,19.3772256 10.9573251,21.58956 C10.6111662,23.8014846 9.82369558,40.4892442 10.9573251,40.6740835 C12.0905445,40.8589229 15.6173464,40.6740835 15.6173464,40.6740835 C15.6173464,40.6740835 17.6217051,25.3197123 18.1934416,23.656568 C18.7647679,21.9934237 27.4076677,15.0137914 31.660419,10.9481454 C35.9135805,6.88290921 34.064255,2.91029763 34.064255,2.91029763 L20.0579422,0.319267969 C20.0579422,0.319267969 7.57079144,7.18291455 1.97728943,15.2236312 C-0.695188878,19.0655028 0.323601194,33.676828 0.323601194,33.676828 C0.323601194,33.676828 3.2155049,34.1965094 4.57799307,33.1940326 C4.94794019,29.6824948 5.23339828,24.3360883 6.50155404,20.4544619 C6.66437999,19.9565022 6.94286568,19.5048549 7.32921843,19.1507502",id:"path-3"}),r.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-5"},r.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),r.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"})),r.createElement("path",{d:"M0.260606478,48.0753261 L12.1340822,48.0753261 C17.114047,57.187615 26.7976771,63.3697253 37.9276223,63.3697253 C54.1444201,63.3697253 67.2907322,50.2452817 67.2907322,34.0554601 C67.2907322,25.5804005 63.6882211,17.9453528 57.9285812,12.593295 L57.9285812,0.815669031 C68.6856756,7.78180737 75.8017785,19.8765665 75.8017785,33.6306157 C75.8017785,55.2170445 58.2733624,72.7163027 36.6509653,72.7163027 C20.1393555,72.7163027 6.01510052,62.5118246 0.260610064,48.0753266 Z",id:"path-6"}),r.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-8"},r.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),r.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"}))),r.createElement("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Initial---Proofread-02-08",transform:"translate(-288 -265)"},r.createElement("g",{id:"Popup",transform:"translate(288 60)"},r.createElement("g",{id:"Left",transform:"translate(0 68)"},r.createElement("g",{transform:"translate(-28 -27)",id:"Illustration"},r.createElement("g",{id:"Group-3"},r.createElement("mask",{id:"mask-2",fill:"#fff"},r.createElement("use",{xlinkHref:"#path-1"})),r.createElement("use",{id:"Oval-5",fill:"#F5F5FF",xlinkHref:"#path-1"}),r.createElement("path",{d:"M146.788506,257.081856 L280.453567,257.081856 C287.080984,257.081856 292.453567,262.454439 292.453567,269.081856 L292.453567,390.02113 L134.788506,372.12887 L134.788506,269.081856 C134.788506,262.454439 140.161089,257.081856 146.788506,257.081856 Z",id:"Rectangle",fill:"#E4E6F2",mask:"url(#mask-2)"})),r.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"130.315",cy:"408.986",rx:"43.706",ry:"5.763"}),r.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"329.556",cy:"436.032",rx:"75.885",ry:"12.968"}),r.createElement("g",{id:"Paper",transform:"translate(131.678 263.563)"},r.createElement("path",{d:"M8,0 L144.952351,-3.01980663e-14 C149.370629,-3.10096908e-14 152.952351,3.581722 152.952351,8 L152.952351,126.001947 C152.952351,130.386158 149.423632,133.953611 145.039682,134.001471 L70.9944988,134.809829 L0,112.933059 L0,8 C-5.41083001e-16,3.581722 3.581722,8.11624501e-16 8,0 Z",id:"Rectangle",fill:"#FFF"}),r.createElement("path",{d:"M25.1170739,54.1515434 C24.314287,54.1515434 23.6634997,53.5038202 23.6634997,52.7048131 C23.6634997,51.905806 24.314287,51.2580827 25.1170739,51.2580827 L128.391903,51.2580827 C129.19469,51.2580827 129.845477,51.905806 129.845477,52.7048131 C129.845477,53.5038202 129.19469,54.1515434 128.391903,54.1515434 L25.1170739,54.1515434 Z M25.1170739,65.002021 C24.314287,65.002021 23.6634997,64.3542978 23.6634997,63.5552907 C23.6634997,62.7562835 24.314287,62.1085603 25.1170739,62.1085603 L76.1646321,62.1085603 C76.967419,62.1085603 77.6182064,62.7562835 77.6182064,63.5552907 C77.6182064,64.3542978 76.967419,65.002021 76.1646321,65.002021 L25.1170739,65.002021 Z M71.0771224,42.9393832 C70.2743355,42.9393832 69.6235482,42.29166 69.6235482,41.4926529 C69.6235482,40.6936458 70.2743355,40.0459225 71.0771224,40.0459225 L128.391903,40.0459225 C129.19469,40.0459225 129.845477,40.6936458 129.845477,41.4926529 C129.845477,42.29166 129.19469,42.9393832 128.391903,42.9393832 L71.0771224,42.9393832 Z M25.1170739,75.8524986 C24.314287,75.8524986 23.6634997,75.2047754 23.6634997,74.4057682 C23.6634997,73.6067611 24.314287,72.9590379 25.1170739,72.9590379 L128.391903,72.9590379 C129.19469,72.9590379 129.845477,73.6067611 129.845477,74.4057682 C129.845477,75.2047754 129.19469,75.8524986 128.391903,75.8524986 L25.1170739,75.8524986 Z M25.1170739,30.3457684 C24.314287,30.3457684 23.6634997,29.6980452 23.6634997,28.8990381 C23.6634997,28.100031 24.314287,27.4523077 25.1170739,27.4523077 L128.391903,27.4523077 C129.19469,27.4523077 129.845477,28.100031 129.845477,28.8990381 C129.845477,29.6980452 129.19469,30.3457684 128.391903,30.3457684 L25.1170739,30.3457684 Z M25.1170739,86.7029762 C24.314287,86.7029762 23.6634997,86.0552529 23.6634997,85.2562458 C23.6634997,84.4572387 24.314287,83.8095155 25.1170739,83.8095155 L58.7217415,83.8095155 C59.5245284,83.8095155 60.1753157,84.4572387 60.1753157,85.2562458 C60.1753157,86.0552529 59.5245284,86.7029762 58.7217415,86.7029762 L25.1170739,86.7029762 Z",id:"Combined-Shape",fill:"#E4E6F2",fillRule:"nonzero"}),r.createElement("path",{d:"M64.5360384,86.7029762 C63.7332515,86.7029762 63.0824642,86.0552529 63.0824642,85.2562458 C63.0824642,84.4572387 63.7332515,83.8095155 64.5360384,83.8095155 L87.7932259,83.8095155 C88.5960128,83.8095155 89.2468001,84.4572387 89.2468001,85.2562458 C89.2468001,86.0552529 88.5960128,86.7029762 87.7932259,86.7029762 L64.5360384,86.7029762 Z M25.1170739,42.9393832 C24.314287,42.9393832 23.6634997,42.29166 23.6634997,41.4926529 C23.6634997,40.6936458 24.314287,40.0459225 25.1170739,40.0459225 L64.5360384,40.0459225 C65.3388253,40.0459225 65.9896126,40.6936458 65.9896126,41.4926529 C65.9896126,42.29166 65.3388253,42.9393832 64.5360384,42.9393832 L25.1170739,42.9393832 Z M81.978929,65.002021 C81.1761421,65.002021 80.5253548,64.3542978 80.5253548,63.5552907 C80.5253548,62.7562835 81.1761421,62.1085603 81.978929,62.1085603 L128.391903,62.1085603 C129.19469,62.1085603 129.845477,62.7562835 129.845477,63.5552907 C129.845477,64.3542978 129.19469,65.002021 128.391903,65.002021 L81.978929,65.002021 Z",id:"Combined-Shape",fill:"#EC5050",fillRule:"nonzero"})),r.createElement("g",{id:"Man-w-Pencil",transform:"translate(85.83 290.871)"},r.createElement("g",{id:"Pencil",transform:"rotate(-20 53.447 9.198)"},r.createElement("polygon",{id:"Fill-7",fill:"#6089F3",points:"42.7306681 76.025911 38.0871006 78.5584871 5.7923657 19.3303867 10.4363805 16.7978106"}),r.createElement("polygon",{id:"Fill-9",fill:"#7CA1FF",points:"47.3737436 73.4936929 42.7306234 76.0258215 10.4363358 16.7981685 15.0799033 14.2651451"}),r.createElement("polygon",{id:"Fill-14",fill:"#A2BCFF",points:"52.0172216 70.9610721 47.3736541 73.4936481 15.0798138 14.2655477 19.7233813 11.7329717"}),r.createElement("path",{d:"M52.6528102,81.32316 L53.0585241,87.968432 C53.0938619,88.6260697 52.3455054,89.0345208 51.8190167,88.6444119 L46.4534843,84.7044018 L52.6528102,81.32316 Z",id:"Fill-16",fill:"#EC5050"}),r.createElement("polygon",{id:"Fill-19",fill:"#FFF",points:"19.7232471 11.7331059 5.79254463 19.3299393 3.91695668 15.889197 17.8467646 8.29191616"}),r.createElement("path",{d:"M17.8466304,8.29178195 L3.91682248,15.8890627 L0.608487518,9.82269085 C-0.349659249,8.06406932 0.298051544,5.86165421 2.05644321,4.90293482 L9.61962974,0.777712456 C11.3780214,-0.181006937 13.5801486,0.4672359 14.5387427,2.22496268 L17.8466304,8.29178195 Z",id:"Fill-21",fill:"#FFC2C2"})),r.createElement("g",{id:"Foots",transform:"translate(20.342 66.04)"},r.createElement("path",{d:"M22.9728849,46.0241608 C22.9728849,46.0241608 21.9372998,46.5011779 20.2725812,46.4607201 L20.3172716,49.3228228 C20.3172716,49.3228228 21.4903955,49.511626 22.2682401,49.3659778 L22.5687447,48.62926 L23.2051981,49.4106741 C23.2051981,49.4106741 26.9314554,49.9512678 28.8535292,49.7882806 C28.8535292,49.7882806 29.0738993,48.9529226 28.1581307,48.5676099 C27.2419769,48.1826825 25.1542403,47.6494098 24.5624773,47.2259511 C23.9703291,46.8024925 22.9728849,46.0241608 22.9728849,46.0241608",id:"Fill-23",fill:"#3B3E4D"}),r.createElement("path",{d:"M4.13320993,43.43983 C4.13320993,43.43983 3.0267365,43.166258 1.7511329,42.095474 L-0.000269683636,44.3588008 C-0.000269683636,44.3588008 0.79837914,45.238855 1.49685976,45.6110671 L2.19148775,45.2226718 L2.20073405,46.2302646 C2.20073405,46.2302646 4.77428646,48.9794707 6.37736304,50.0517959 C6.37736304,50.0517959 7.07160577,49.5370181 6.59657731,48.6646702 C6.12116358,47.7915516 4.82321477,46.071901 4.62480467,45.3714026 C4.42677983,44.6705188 4.13320993,43.43983 4.13320993,43.43983",id:"Fill-27",fill:"#3B3E4D"}),r.createElement("path",{d:"M7.77756387,2.8459536 C4.72919113,8.61268399 11.8341253,20.6008102 14.5745244,24.8489352 L14.5745244,24.8489352 C15.2562232,25.9060036 15.7062805,27.095158 15.8990002,28.3419567 L15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 L23.2079906,24.1999585 C22.5497205,20.0438355 21.233558,6.05724289 21.233558,6.05724289 L21.233558,6.05724289 C21.233558,6.05724289 15.8555438,0.360372931 11.5612947,0.360372931 L11.5612947,0.360372931 C10.0841546,0.360372931 8.73511643,1.03454517 7.77756387,2.8459536",id:"Fill-33",fill:"#C6CBDE"}),r.createElement("path",{d:"M6.76242072,28.533 C6.07445196,30.0274634 1.70046824,40.3121095 1.70046824,40.3121095 L6.66086342,43.2651117 C6.66086342,43.2651117 14.3506694,30.8491914 15.3564142,27.5225733 C18.010205,20.3519742 22.5283497,6.65570873 20.917261,3.88569821 C20.917261,3.88569821 17.7020601,3.3933421 14.1358546,3.3933421 C9.65376155,3.39372025 4.61801741,4.17120425 4.71817068,7.68047057 C4.89882098,13.9816456 7.45038948,27.0389147 6.76242072,28.533 Z",id:"Clip-37",fill:"#E4E6F2"}),r.createElement("path",{d:"M15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 C22.9678434,22.6837403 22.6401371,19.8591813 22.3207189,16.8826816",id:"Fill-33",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M4.38018352,7.17986789 C4.43184215,9.38630245 4.71940381,12.415885 5.04863335,15.492005 C5.66561059,21.2566637 6.42892078,27.1847565 6.06024614,28.1651834 C5.49484045,29.6691633 1.90009107,40.0193007 1.90009107,40.0193007 L5.97678149,42.9911073 C5.97678149,42.9911073 13.5016783,30.5767367 14.3282476,27.2289352 C15.8990002,24.0434641 17.0905734,21.1594864 17.9675545,17.6725218",id:"Clip-37",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("g",{id:"Group-53",transform:"translate(23.743 31.196)"},r.createElement("path",{d:"M5.88330653,16.7886512 C7.71829147,14.4054718 11.7570817,13.3014505 14.1361803,16.3023169 C17.4145376,20.4378064 18.8620539,42.1072252 18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",fill:"#FFF"}),r.createElement("path",{d:"M18.6917335,39.5094009 L18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M14.9421691,6.41326474 C14.9962749,6.53196769 15.0809118,6.73057424 15.1705729,6.94454687 C15.3603297,7.397462 15.7529832,7.70132618 16.1916267,7.92567091 C16.2426408,7.95140909 16.278969,7.98713522 16.2901766,8.03592251 C16.3160701,8.14771073 16.1672791,8.35745768 15.9995511,8.5499178 C15.7522103,8.83572684 15.6629357,9.22256784 15.7553021,9.58828048 C15.9381024,10.3108703 16.1576174,11.4456551 15.8101808,11.6784512 C15.2923109,12.0257245 13.5605386,12.6253857 13.5605386,12.6253857 L13.0909775,15.5234279 C13.0909775,15.5234279 12.4730119,16.4661367 9.75651385,15.8707012 C8.83671512,15.6694056 8.451018,15.2871744 8.451018,15.2871744 L8.80541104,12.4456026 C8.80541104,12.4456026 6.16929879,9.67471467 7.54088102,6.97796808 C8.91284972,4.28045319 13.6583155,3.58244913 14.9421691,6.41326474",id:"Fill-41",fill:"#FFF"}),r.createElement("path",{d:"M8.86995889,8.11469929 C9.21616083,7.20911238 11.7652159,6.145276 13.841969,5.96876698 C15.917805,5.79225796 18.9854752,3.72675465 18.028032,2.76073731 C17.0701302,1.79471997 14.8594818,1.50474087 14.2207277,1.6855974 C13.5815151,1.86688868 14.5687638,0.307870601 13.5310751,0.190053005 C12.4929278,0.0722354085 6.21910668,1.50126286 5.62162174,4.7505939 C4.94022295,8.45510954 6.59144572,11.67053 8.8589538,12.9252222 L8.79521596,11.3579438 C8.79521596,11.3579438 6.91151056,10.5271341 7.1793012,9.5476395 C7.34942162,8.92507567 8.18168192,9.13940805 8.56502606,9.52590193 C8.56502606,9.52590193 8.74064903,8.45337053 8.86995889,8.11469929",id:"Fill-45",fill:"#3B3E4D"}),r.createElement("path",{d:"M22.1015227,32.9159145 C22.9821402,33.1976128 26.5951289,32.8827012 26.9494449,32.731806 C27.555489,32.4738901 27.4128144,32.2475474 27.4128144,32.2475474 C28.0925666,32.0560582 28.0214448,31.655448 28.0214448,31.655448 C28.7339561,31.2376161 27.8498903,31.0022524 27.8498903,31.0022524 C28.4878315,30.2088228 26.7028892,30.2289148 26.1843465,30.300262 C25.9033075,30.3388059 24.6748396,30.3215841 24.6748396,30.3215841 C24.6748396,30.3215841 24.7382027,30.0296348 25.053725,29.811903 C25.3024359,29.6405058 25.8597723,29.5023219 26.0317578,29.034875 C26.1472769,28.7220136 24.1950906,29.3026319 23.5226661,29.7134931 C22.9812781,30.0443963 22.1105746,31.1535576 22.1105746,31.1535576 L16.7876448,30.0800699 L15.6165055,32.6235552 L22.1015227,32.9159145 Z",id:"Fill-47",fill:"#FFF"}),r.createElement("path",{d:"M13.9235043,20.3536067 C13.7079836,22.6699292 14.0597134,26.8658803 14.566618,27.8548996 M17.4433881,33.6118774 C17.4433881,33.6118774 12.4351185,32.5711929 11.3368251,31.4837638 C9.57731428,29.7410889 6.91261659,24.0698097 7.28288112,20.0723185 C7.53719552,17.3283231 10.6174171,15.5606357 12.440291,16.8022403",id:"Fill-49",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M17.2332067,35.5617231 C17.2332067,35.5617231 18.6601238,35.9953446 19.5185243,35.786864 C19.5185243,35.786864 20.0910119,31.1840821 19.2306259,30.0664823",id:"Fill-51",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),r.createElement("g",{id:"Man-on-the-ladder",transform:"translate(324.404 272.184)"},r.createElement("g",{id:"Ladder",transform:"translate(0 53.704)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"},r.createElement("path",{d:"M42.2873305,0.458915597 L63.6754936,103.759193",id:"Path-3",stroke:"#8189A9"}),r.createElement("path",{d:"M32.9242085,34.1090085 L44.562667,103.759193",id:"Path-3",stroke:"#8189A9"}),r.createElement("path",{d:"M32.9242085,8.08373708 L16.0882387,103.759193",id:"Path-3",stroke:"#C6CBDE"}),r.createElement("path",{d:"M18.1687635,14.8540285 L0.61595046,103.759193",id:"Path-3",stroke:"#C6CBDE"}),r.createElement("path",{d:"M0.910134603,95.109066 L14.1070863,95.109066",id:"Path-4",stroke:"#C6CBDE"}),r.createElement("path",{d:"M48.237134,95.109066 L61.4340857,95.109066",id:"Path-4",stroke:"#8189A9"}),r.createElement("path",{d:"M33.6749803,22.2982978 L46.8719321,22.2982978",id:"Path-4",stroke:"#8189A9"}),r.createElement("path",{d:"M4.55067302,79.6367778 L17.7476248,79.6367778",id:"Path-4",stroke:"#C6CBDE"}),r.createElement("path",{d:"M10.0114806,65.0746241 L23.2084324,65.0746241",id:"Path-4",stroke:"#C6CBDE"}),r.createElement("path",{d:"M10.0114806,50.5124705 L23.2084324,50.5124705",id:"Path-4",stroke:"#C6CBDE"}),r.createElement("path",{d:"M12.7418844,35.0401822 L25.9388362,35.0401822",id:"Path-4",stroke:"#C6CBDE"})),r.createElement("g",{id:"Group-26",transform:"translate(6.502 20.418)"},r.createElement("path",{d:"M9.75957787,4.94046636 C9.70096056,4.96496089 7.92645459,4.90005037 7.38004284,5.42586642 C7.07670849,5.72388328 4.6406057,5.16132543 4.27578465,5.44342084 C4.03885593,5.62141447 3.76708474,5.80675646 3.48383604,5.97291107 C3.21083512,5.87901535 1.43263995,5.25317994 1.09241358,2.89803026 C1.66956868,2.83434446 0.252505354,2.4861138 0.252505354,2.4861138 C1.04814317,2.24198492 1.29572958,1.88477293 0.612817377,1.15810168 C0.471807893,1.00827677 0.353753442,0.462865091 0.428357297,0.257519227 C0.530425208,-0.0449882986 0.861633529,0.0272705839 1.0313368,0.27425716 C1.86878556,1.45407733 2.9193882,1.53613403 3.80889569,2.4175291 C3.86259407,2.46366048 8.4716366,3.5589745 8.61141635,3.48385792 C9.60053229,2.9090528 10.7417253,4.47180423 9.75957787,4.94046636",id:"Fill-16",fill:"#E4E6F2"}),r.createElement("path",{d:"M19.1178936,61.1367709 C18.9617174,59.9696062 18.3821028,57.9504399 18.3821028,57.9504399 L16.5395516,58.1945688 C16.5395516,58.1945688 16.1427574,58.8383669 14.7556176,59.2437515 C13.3705274,59.6536267 11.7304723,59.3119279 10.9135191,59.6287239 C10.4413013,59.8095752 10.2392151,60.6517791 10.1478049,61.330686 C10.128539,61.4809191 10.1150119,61.6229874 10.1059939,61.7487261 C10.0863182,62.0144918 10.2998819,62.2398415 10.5683738,62.2382085 C12.3908394,62.2275942 18.7665996,62.1712568 19.0773124,61.9287609 C19.1724118,61.8569103 19.171592,61.5486873 19.1178936,61.1367709",id:"Fill-18",fill:"#3B3E4D"}),r.createElement("path",{d:"M16.024744,55.4544875 L16.2956954,58.3966896 C16.343655,58.9176067 16.7711924,59.3229913 17.2962888,59.3446281 C17.8845115,59.3695309 18.3780447,58.9061759 18.3882925,58.3195318 L18.4374818,55.4508133 L16.024744,55.4544875 Z",id:"Fill-20",fill:"#FBD4C1"}),r.createElement("path",{d:"M9.41693303,53.5304825 C9.00251271,52.4274118 7.98470298,50.5886886 7.98470298,50.5886886 L6.24339983,51.2365691 C6.24339983,51.2365691 6.00073235,51.9526261 4.74025513,52.6564358 C3.48182748,53.3643279 1.80652004,53.3957625 1.08138697,53.8864697 C0.662047722,54.1681569 0.653439585,55.0336305 0.716565924,55.7158034 C0.732142553,55.8664448 0.750588561,56.0081048 0.769854391,56.133027 C0.81084552,56.3963432 1.06990945,56.5682132 1.33020312,56.5069769 C3.10429918,56.0905698 9.30625698,54.6172234 9.55466322,54.3110417 C9.63090672,54.2200037 9.56163171,53.9199456 9.41693303,53.5304825",id:"Fill-22",fill:"#3B3E4D"}),r.createElement("path",{d:"M5.12647355,48.6801968 L6.05123342,51.4880872 C6.21478802,51.984918 6.72266811,52.2845679 7.23833651,52.1890392 C7.81795107,52.0820797 8.19506946,51.5207466 8.07291589,50.9467579 L7.47731479,48.1396841 L5.12647355,48.6801968 Z",id:"Fill-24",fill:"#FFF"})),r.createElement("g",{id:"Pants",transform:"translate(11.147 37.124)"},r.createElement("path",{d:"M1.97728943,15.6736851 C-0.695188878,19.5155567 0.323601194,35.5397524 0.323601194,35.5397524 C0.323601194,35.5397524 3.2155049,36.0594337 4.57799307,35.0569569 C4.94794019,31.5454191 5.23339828,26.1990126 6.50155404,22.3173862 C6.66437999,21.8194265 7.28479942,19.3389047 7.67115217,18.9848 L14.5536139,14.3084832 C13.4338227,16.1287524 11.2610683,19.7492958 10.9573251,23.3763675 C10.6111662,25.5882921 9.82369558,42.3521685 10.9573251,42.5370079 C12.0905445,42.7218472 15.6173464,42.5370079 15.6173464,42.5370079 C15.6173464,42.5370079 17.6217051,27.1826366 18.1934416,25.5194923 C18.7647679,23.856348 27.4076677,16.8767157 31.660419,12.8110697 C35.9135805,8.74583353 34.4643543,3.84193529 34.4643543,3.84193529 L20.0579422,2.18219229 C19.5823752,2.04419469 18.4615527,1.58713727 17.2986473,2.18219229 C13.2916383,4.23256619 7.237262,7.62135444 2.90194591,13.8534159 L1.97728943,15.6736851 Z",id:"pants",fill:"#E4E6F2"}),r.createElement("mask",{id:"mask-4",fill:"#fff"},r.createElement("use",{xlinkHref:"#path-3"})),r.createElement("use",{id:"pants",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xlinkHref:"#path-3"})),r.createElement("g",{id:"Group-45",transform:"translate(11.963)"},r.createElement("path",{d:"M18.3145525,16.5980195 C20.3469798,14.9770238 24.6738011,16.4716869 22.9237479,20.3879993 C21.1741111,24.3043117 12.6000165,27.8383448 10.7108586,28.4741098 C8.82211722,29.1094646 1.8906237,27.745236 0.367552635,27.2009391 L0.483750837,23.8670694 L9.55720621,25.077484 C9.55720621,25.077484 16.1151163,18.3527309 18.3145525,16.5980195",id:"Fill-30",fill:"#F37878"}),r.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586 C17.2645622,39.0967586 16.8559943,23.8289646 17.8151501,17.3466225 C18.2353794,14.5037276 23.3314411,13.1776448 23.3314411,13.1776448",id:"Fill-32",fill:"#FFC2C2"}),r.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586",id:"Fill-32",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M16.8292146,4.5304204 C16.8292146,4.5304204 16.469375,6.32860994 16.4069028,7.1386976 C16.3448472,7.94960561 15.5389564,8.19037597 15.482315,8.44550232 C15.4331702,8.66371327 15.9741791,9.19570502 15.9741791,9.19570502 C15.9741791,9.19570502 16.1045376,11.5911035 16.8429585,12.2646042 C17.5817958,12.938105 18.9174504,12.6948736 18.9174504,12.6948736 L19.1964927,15.1887131 C19.1964927,15.1887131 18.926613,16.6181589 23.8806546,14.0094715 L23.609109,12.2412245 C23.609109,12.2412245 26.2462668,7.07471093 24.0755678,4.54723741 C21.9052852,2.01935372 16.8292146,4.5304204 16.8292146,4.5304204",id:"Fill-34",fill:"#FFF"}),r.createElement("path",{d:"M18.841276,5.5197938 C18.0924432,5.64776714 17.338196,5.76958792 16.5835324,5.68222151 C15.4211339,5.5480956 14.5515216,5.2810743 14.0629894,3.99231711 C13.1754683,1.64942052 14.3828468,0.250737514 14.3828468,0.250737514 C14.3828468,0.250737514 15.0071518,1.06574723 17.5989132,0.495609584 C19.1199018,0.160910072 22.0481798,0.417266928 24.183478,2.66664453 C27.2362838,5.88361545 25.0293509,11.2273229 23.6091507,12.2412655 L23.2538924,10.1046849 C23.2538924,10.1046849 23.8490437,9.87129763 24.0222998,9.33233297 C24.1918076,8.8048531 23.5679191,7.34505462 22.6566586,8.1563728 C21.7766342,8.94020952 22.3372177,11.4779373 21.2364583,12.3872864 C20.135699,13.2962252 17.0999689,13.2921235 16.4006973,12.1510279 C15.6485326,10.9237963 16.0433566,9.90780284 16.0433566,9.90780284 C16.0433566,9.90780284 17.8346414,9.51814042 19.3189797,10.2543973 C20.7670842,10.9721965 21.6625184,8.96071807 21.3784784,7.77163243 C21.1277568,6.72282526 20.1032135,5.30404387 18.841276,5.5197938",id:"Fill-36",fill:"#3B3E4D"}),r.createElement("path",{d:"M20.961183,18.9681961 C22.6955209,16.6950306 27.7604342,17.1340365 26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219 L2.02895649,31.9626816 L15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961",id:"Fill-43",fill:"#F37878"}),r.createElement("path",{d:"M15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961 M26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219",id:"Fill-43",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),r.createElement("g",{id:"Microscope",transform:"translate(235.569 289.818)"},r.createElement("path",{d:"M18.7214141,98.1589757 L27.5103085,98.1589757 C32.7568134,105.752299 41.5416826,110.73039 51.4934723,110.73039 C67.5630006,110.73039 80.5899271,97.7506293 80.5899271,81.7392826 C80.5899271,74.4458025 77.8868661,67.7813704 73.4244562,62.6862814 L73.4244562,51.5460728 C85.3038994,58.0661856 93.3524515,70.661726 93.3524515,85.1303003 C93.3524515,106.291867 76.1352753,123.446706 54.8968121,123.446706 C38.2493548,123.446706 24.0725672,112.906811 18.7214141,98.1589757 Z",id:"Combined-Shape",fill:"#FFF"}),r.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"48.756",y:"115.255",width:"11.832",height:"20.933"}),r.createElement("g",{id:"Combined-Shape-2",transform:"translate(13 48)"},r.createElement("mask",{id:"mask-7",fill:"#fff"},r.createElement("use",{xlinkHref:"#path-6"})),r.createElement("use",{id:"Combined-Shape",fill:"url(#linearGradient-5)",xlinkHref:"#path-6"}),r.createElement("circle",{id:"Oval",fill:"#8FABF4",mask:"url(#mask-7)",cx:"59",cy:"7",r:"14"})),r.createElement("path",{d:"M68.9407352,60.0450769 L68.9407352,48.815669 C80.7802671,55.3357818 88.8017785,67.9313222 88.8017785,82.3998965 C88.8017785,103.561463 71.6424468,120.716303 50.4753383,120.716303 M15.0808757,97.1240807 L15.0808757,97.1240807 M25.4898376,97.1240807 C30.5355849,105.663304 39.8363985,111.391004 50.4753383,111.391004 C66.4908779,111.391004 79.474038,98.4112431 79.474038,82.3998965",id:"Combined-Shape",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M0.518722035,89.7717262 L35.103837,89.7717262",id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M0.518722035,93.4122646 L35.103837,93.4122646",id:"Rectangle",stroke:"#E4E6F2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("polyline",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",points:"35.9670574 138.00886 68.1689333 138.00886 77.7675693 138.00886 83.3409709 138.00886 83.3409709 144.379802 74.3616017 144.379802 47.7331274 144.379802 30.0840224 144.379802 23.2720871 144.379802"}),r.createElement("g",{id:"Group-2",transform:"rotate(-45 94.818 5.34)"},r.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",y:"5.922",width:"96.041",height:"7.106"}),r.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"87.741",y:"2.369",width:"8.3",height:"14.212"}),r.createElement("path",{d:"M53.3483652,22.3447006 C53.1368783,27.7177952 48.7090794,32.0089156 43.2778645,32.0089156 C37.8466496,32.0089156 33.4188507,27.7177952 33.2073637,22.3447006 L15.0426441,22.3447006 C13.9380746,22.3447006 13.0426441,21.4492701 13.0426441,20.3447006 L13.0426441,2 C13.0426441,0.8954305 13.9380746,-1.84720821e-12 15.0426441,-1.84741111e-12 L70.1467549,-1.84741111e-12 C71.2513244,-1.8436898e-12 72.1467549,0.8954305 72.1467549,2 L72.1467549,20.3447006 C72.1467549,21.4492701 71.2513244,22.3447006 70.1467549,22.3447006 L53.3483652,22.3447006 Z",id:"Combined-Shape",fill:"#FFF"}),r.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"10.312",width:"64.565",height:"18.704",rx:"2"}),r.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"url(#linearGradient-8)",strokeLinecap:"round",strokeLinejoin:"round",x:"13.043",width:"59.285",height:"18.949"}),r.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"15.592",y:"2.547",width:"54.185",height:"4.517",rx:"1"}),r.createElement("ellipse",{id:"Oval",fill:"#FFF",cx:"43.278",cy:"19.541",rx:"10.078",ry:"10.067"}),r.createElement("path",{d:"M52.6436093,23.2665564 C53.1034261,22.1142813 53.3562713,20.8571999 53.3562713,19.5411324 C53.3562713,13.9814784 48.8440149,9.47448842 43.2778645,9.47448842 C37.7117141,9.47448842 33.1994577,13.9814784 33.1994577,19.5411324 C33.1994577,25.1007863 37.7117141,29.6077763 43.2778645,29.6077763 L43.2778645,29.6077763",id:"Oval",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(-110 43.278 19.541)"})),r.createElement("path",{d:"M56.4920001,122.536572 L56.4920001,134.368322",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M48.3007887,120.812477 L48.3007887,134.758379",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}))))))));var tr=n("tBHB");const nr=()=>{const e=r.useContext(oe.a.Context).proofitOrderModal.promo.step2;return r.createElement(r.Fragment,null,r.createElement(F.c,{className:tr.stepTitle},e.title),r.createElement("ul",{className:tr.step2Path},r.createElement("li",Object.assign({},Object(re.c)(tr.step2PathLi,tr.step2PathLi1)),r.createElement(ir,{index:1}),r.createElement(F.a,{className:tr.step2LiDescription},e.li1),r.createElement("div",{className:tr.pathFrom1To2},r.createElement(Ja.PathFrom1To2,null))),r.createElement("li",Object.assign({},Object(re.c)(tr.step2PathLi,tr.step2PathLi2)),r.createElement(ir,{index:2,position:tr.right}),r.createElement(F.a,{className:tr.step2LiDescription},e.li2),r.createElement("div",{className:tr.pathFrom2To3},r.createElement(Ja.PathFrom2To3,null))),r.createElement("li",Object.assign({},Object(re.c)(tr.step2PathLi,tr.step2PathLi3)),r.createElement(ir,{index:3}),r.createElement(F.a,{className:tr.step2LiDescription},e.li3))))},ir=({index:e,position:t})=>r.createElement("div",Object.assign({},Object(re.c)(tr.dots,Boolean(t)?t:tr.left)),r.createElement(F.a,{className:tr.dotIndex},e),r.createElement(Ja.Dots,null)),ar=()=>{const e=r.useContext(oe.a.Context).proofitOrderModal.promo.step1;return r.createElement(r.Fragment,null,r.createElement(F.c,{className:tr.stepTitle},e.title),r.createElement(F.a,{className:tr.description},e.description),r.createElement("div",{className:tr.step1Illustration},r.createElement(Ja.Illustration,null)))};var rr=n("m7xn"),or=n("R+r4"),sr=n("wsrD"),lr=n("jAl6"),cr=n("ot6E"),dr=n("aVVF");const ur=()=>r.createElement("span",{className:dr.iconArrow},"▼"),pr=()=>r.useContext(oe.a.Context).proofitOrderModal.promo.step4,hr=({title:e})=>r.createElement(F.a,{className:dr.userInputTitle},e,":"),mr=(e,t,n)=>Object(ie.pipe)(t,c.g.fold(()=>({labelTitle:e.choose,active:!1,iconSelected:e=>void 0}),e=>({labelTitle:n(e),active:!0,iconSelected:t=>t===e?r.createElement(ve.d.DocumentSettings.Selected,null):void 0}))),gr=({name:e,selected:t,items:n,onSelect:i,selectedLabel:a=o.identity})=>{const s=pr(),{labelTitle:l,active:d,iconSelected:u}=mr(s,t,a);return r.createElement(ye.a,{name:`proofit-user-inputs-dropdown-${e}`,showDelay:0,label:r.createElement(fr,{active:d,name:e},l),theme:{dropdownList:dr.dropdownList}},r.createElement(kr,Object.assign({},{name:e,items:n,iconSelected:u,onSelect:Object(o.flow)(c.g.some,i)})))},fr=({name:e,children:t,active:n})=>r.createElement(be.a.White,{active:n,name:`proofit-user-inputs-dropdown-button-${e}`,className:dr.dropdown},r.createElement("span",{className:dr.dropdownButton},t),r.createElement(ur,null)),br=({name:e,selected:t,items:n,onSelect:i,selectedLabel:a=o.identity,extra:s})=>{const l=r.useRef(new f.a.Subject),d=pr(),{labelTitle:u,active:p,iconSelected:h}=mr(d,t,a);return r.createElement(ye.a,{name:`proofit-user-inputs-dropdown-${e}`,showDelay:0,dontCloseOnClickInside:!0,forceHide:l.current,label:r.createElement(fr,{active:p,name:e},u),theme:{dropdownList:dr.dropdownList}},r.createElement(yr,{name:e,items:n,extra:s,iconSelected:h,onSelect:e=>(l.current.next(),i(c.g.some(e)))}))},yr=e=>{const t=l.a.create(""),n=r.useContext(cr.a.Context);return r.createElement(r.Fragment,null,r.createElement(vr,{value:t,placeholder:n.search}),r.createElement(ye.a.Delimiter,null),r.createElement(s.a.div,{className:dr.dropdownOptionsContainer},t.view(t=>Object(ie.pipe)(e.items,c.a.filter(e=>e.value.toLowerCase().includes(t.toLowerCase())),c.f.fromArray,c.g.fold(()=>r.createElement(F.a,{key:"empty",className:dr.dropdownSearchNoMatches},n.noMatches),t=>r.createElement(r.Fragment,{key:"items"},t.map(({value:t,content:n})=>r.createElement(wr,Object.assign({},e,{key:t,value:t,content:n}))))))),e.extra&&r.createElement(r.Fragment,null,r.createElement(ye.a.Delimiter,null),r.createElement(wr,Object.assign({},e,e.extra)))))},vr=e=>r.createElement("div",{className:dr.dropdownSearchContainer},r.createElement(ve.d.SearchQuestion,{className:dr.dropdownSearchIcon}),r.createElement(sr.a,{className:dr.dropdownSearch,value:e.value,placeholder:e.placeholder,autofocus:!0}),r.createElement(be.a.Tertiary,{name:"clearSearch",className:dr.dropdownSearchClear,onClick:()=>e.value.set("")},r.createElement(ve.d.Close,null))),kr=e=>r.createElement("div",{className:dr.dropdownOptionsContainer},e.items.map(({value:t,content:n})=>r.createElement(wr,Object.assign({},e,{key:t,value:t,content:n})))),wr=({name:e,value:t,content:n,iconSelected:i,onSelect:a})=>r.createElement(be.a.Flat,{name:`proofit-user-inputs-dropdown-${e}-item-${B.f.camelize(t)}`,className:dr.dropdownOption,onClick:()=>a(t)},r.createElement(F.a,null,n),i(t)),Sr=({selected:e,onSelect:t})=>{const n=pr(),i=Object.values(rr.c.PrimaryLanguage).filter(e=>e!==rr.c.PrimaryLanguage.Other).map(e=>({value:e,content:r.createElement(_r,null,e)}));return r.createElement("div",{className:dr.userInputWrapper},r.createElement("div",{className:dr.userInputContainer},r.createElement(hr,{title:n.nativeLanguage}),r.createElement(br,{name:"language",selected:e,items:i,extra:{value:rr.c.PrimaryLanguage.Other,content:r.createElement(_r,null,r.useContext(cr.a.Context).primaryLanguageNotListed)},onSelect:t})),r.createElement("div",Object.assign({},Object(re.c)(dr.nativeLanguageDescriptionWrapper)),n.nativeLanguageDescription))},_r=e=>r.createElement("span",{className:dr.languageDropdownOption},e.children),Cr=({selected:e,onSelect:t})=>{const n=pr(),i=e=>r.createElement("span",null,(e=>{switch(e){case or.a.Dialect.American:return r.createElement(ve.d.DocumentSettings.USFlag,null);case or.a.Dialect.British:return r.createElement(ve.d.DocumentSettings.GBFlag,null);case or.a.Dialect.Canadian:return r.createElement(ve.d.DocumentSettings.CanadianFlag,null);case or.a.Dialect.Australian:return r.createElement(ve.d.DocumentSettings.AustralianFlag,null);default:return r.createElement(ve.d.DocumentSettings.USFlag,null)}})(e),e," English");return r.createElement("div",{className:dr.userInputWrapper},r.createElement("div",{className:dr.userInputContainer},r.createElement(hr,{title:n.dialect}),r.createElement("div",{className:dr.dialectDropdown},r.createElement(gr,{name:"dialect",selected:e,selectedLabel:i,items:Object.keys(or.a.Dialect).map(e=>({value:e,content:i(e)})),onSelect:t}))))},Er=({left:e,right:t,selected:n,onSelect:i})=>{const{leftSelected:a,rightSelected:o}=((e,t,n)=>c.g.fold(()=>({leftSelected:!1,rightSelected:!1}),n=>({leftSelected:e===n,rightSelected:t===n}))(n))(e.value,t.value,n);return r.createElement(be.a.Group,{sticky:!0,className:dr.splitButton},r.createElement(be.a.White,{name:`proofit-user-inputs-split-button-${e.value}`,key:e.value,active:a,className:dr.splitButtonOption,onClick:()=>i(a?c.g.none:c.g.some(e.value))},e.title),r.createElement(be.a.White,{name:`proofit-user-inputs-split-button-${t.value}`,key:t.value,active:o,className:dr.splitButtonOption,onClick:()=>i(o?c.g.none:c.g.some(t.value))},t.title))},Or=({selected:e,onSelect:t})=>{const n=pr();return r.createElement("div",{className:dr.userInputWrapper},r.createElement("div",{className:dr.userInputContainer},r.createElement(hr,{title:n.quotationType}),r.createElement(Er,{left:{title:n.quotationTypeSingle,value:or.a.QuotationType.Single},right:{title:n.quotationTypeDouble,value:or.a.QuotationType.Double},selected:e,onSelect:t})))},Ar=({selected:e,onSelect:t})=>{const n=pr();return r.createElement("div",{className:dr.userInputWrapper},r.createElement("div",{className:dr.userInputContainer},r.createElement(hr,{title:n.spaceType}),r.createElement(Er,{left:{title:n.spaceTypeSingle,value:or.a.SpaceType.Single},right:{title:n.spaceTypeDouble,value:or.a.SpaceType.Double},selected:e,onSelect:t})))},xr=({proofit:e})=>{b.a.useSubscriptionTo(e.requestPlans);const t=pr();return r.createElement(r.Fragment,null,r.createElement(F.e,{className:dr.title},t.title),r.createElement(s.a.div,{className:dr.userInputsWrapper},e.viewState.pipe(f.a.map(t=>t.fold(()=>r.createElement(lr.a,{variation:"blue",className:dr.loader}),({userInputs:{nativeLanguage:t,dialect:n,quotationType:i,spaceType:a}})=>r.createElement(r.Fragment,null,r.createElement(Sr,{selected:t,onSelect:t=>e.selectUserInput("nativeLanguage",t)}),r.createElement(Cr,{selected:n,onSelect:t=>e.selectUserInput("dialect",t)}),r.createElement(Or,{selected:i,onSelect:t=>e.selectUserInput("quotationType",t)}),r.createElement(Ar,{selected:a,onSelect:t=>e.selectUserInput("spaceType",t)})))))))},Tr={position:"absolute",width:g.a.percent(100),background:oi.a.CoreNeutral0,transition:`transform ${g.a.seconds(.5)}`,willChange:"transform"},Mr={},jr={pointerEvents:"none"},Ir={pointerEvents:"none"},Rr={position:"relative"},Nr={},Lr=g.a.stylesheet({animation:[Tr],stepShow:[Tr,Mr],step1Hide:[Tr,jr,{transform:"translateX(-100%)"}],step2Hide:[Tr,Ir,{transform:"translateX(100%)"}],step1:[Tr,Rr],step2:[Tr,Nr]}),Pr=g.a.stylesheet({animation:[Tr],stepShow:[Tr,Mr],step1Hide:[Tr,jr,{transform:"translateY(-100%)"}],step2Hide:[Tr,Ir,{transform:"translateY(100%)"}],step1:[Tr,Rr],step2:[Tr,Nr]});var Dr;!function(e){e.Vertical="Vertical",e.Horizontal="Horizontal"}(Dr||(Dr={}));class Fr extends ia.a{}class Br extends r.Component{_mapStateToClass(e,t){return void 0===e?{prev:{start:t.step1Hide,end:t.stepShow},next:{start:"",end:t.stepShow}}:e<this.props.state.get()?{prev:{start:t.stepShow,end:t.step1Hide},next:{start:t.step2Hide,end:t.stepShow}}:{prev:{start:t.stepShow,end:t.step2Hide},next:{start:t.step1Hide,end:t.stepShow}}}render(){return r.createElement(Fr,{state:this.props.state,stateToClassMapper:e=>this._mapStateToClass(e,this.props.direction===Dr.Vertical?Pr:Lr)},e=>{return Boolean(this.props.steps[e.state])?r.createElement(s.a.div,{key:"step"+(e.state+1),className:e.view,onTransitionEnd:t=>{"prev"===e.type&&"top"===t.propertyName&&e.done()}},this.props.steps[e.state]):Object(M.d)(e.state)})}}const Hr=({proofit:e})=>{const t=r.useContext(oe.a.Context),{gnarSpec:n,pageId:i,docId:a}=r.useContext(O.a.Context);return r.createElement(r.Fragment,null,r.createElement("div",{className:tr.stepWrapper},r.createElement(s.a.Fragment,null,e.leftStep.view(n=>n>0&&r.createElement(be.a,{name:"proofit-order-promo-to-step-1",className:tr.backButton,onClick:()=>e.changeLeftStep(za.c.Step1)},"←",r.createElement("span",{className:tr.backButtonText},t.back)))),r.createElement(Br,{state:e.leftStep,direction:Dr.Horizontal,steps:[r.createElement(ar,{key:"PromoStep1"}),r.createElement(nr,{key:"PromoStep2"}),r.createElement(Qa,{key:"PromoStep3"}),r.createElement(xr,{key:"PromoStep4",proofit:e})]})),r.createElement("div",{className:tr.nav},r.createElement(be.a,{name:"proofit-order-promo-to-step-2",className:tr.navButton,disabled:e.leftStep.view(e=>e===za.c.Step2),onClick:()=>{n.professionalProofreadingLearningButtonClick(a,i),e.changeLeftStep(za.c.Step2)}},t.proofitOrderModal.promo.stepsNavigation.howItWorks),r.createElement("div",{className:tr.delimiter}),r.createElement(be.a,{name:"proofit-order-promo-to-step-3",className:tr.navButton,disabled:e.leftStep.view(e=>e===za.c.Step3),onClick:()=>{n.professionalProofreadingEditingOptionsButtonClick(a,i),e.changeLeftStep(za.c.Step3)}},t.proofitOrderModal.promo.stepsNavigation.editingOptions),r.createElement("div",{className:tr.delimiter}),r.createElement(be.a,{name:"proofit-order-promo-to-step-4",className:tr.navButton,disabled:e.leftStep.view(e=>e===za.c.Step4),onClick:()=>{n.professionalProofreadingProvideDetailsButtonClick(a,i),e.changeLeftStep(za.c.Step4)}},t.proofitOrderModal.promo.stepsNavigation.provideDetails)))};var Vr,Ur,qr=n("QuAz"),Wr=n("FpF0");(Ur=Vr||(Vr={})).SlowPlane=()=>r.createElement("svg",{width:"48",height:"46",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M2.99 37.27l31.972 8.01a3 3 0 0 0 3.63-2.144l8.463-32.043a3 3 0 0 0-4.433-3.345L2.187 31.78a3 3 0 0 0 .803 5.49z",fill:"#C5F7EB"}),r.createElement("path",{d:"M3.314 26.08l9.196 2.235a1 1 0 0 1 .634.479l4.621 8.153a1 1 0 0 0 1.83-.21l1.56-5.308a1 1 0 0 1 1.21-.686l11.6 3.007a1 1 0 0 0 1.218-.712l8.12-30.675a1 1 0 0 0-1.477-1.116l-38.786 23a1 1 0 0 0 .274 1.833z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),r.createElement("path",{d:"M12.929 28.5L42.25 1.803a.5.5 0 0 1 .733.675L21.429 30.5l-1.838 6.247a1 1 0 0 1-1.827.214L12.929 28.5z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"}))),Ur.MiddlePlane=()=>r.createElement("svg",{width:"59",height:"34",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M6.865 15.93a13.498 13.498 0 0 1-.19-2.153c0-7.49 6.153-13.563 13.74-13.563 5.966 0 11.028 3.762 12.928 9.005 1.41-.773 3.01-1.255 4.74-1.255 4.822 0 8.813 3.444 9.638 7.97 3.473.802 6.065 3.86 6.065 7.53 0 4.28-3.516 7.75-7.852 7.75H8.638c-4.337 0-7.852-3.47-7.852-7.75 0-3.674 2.599-6.737 6.079-7.534z",fill:"#CDDBFF",fillRule:"nonzero"}),r.createElement("path",{d:"M45.341 21.214l1.34 8.994a1 1 0 0 1-.518 1.03l-3.053 1.626a1 1 0 0 1-1.181-.18l-8.143-8.239",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M40.616 10.086A20.928 20.928 0 0 1 52.99 8.548l3.235.584c1.036.187 1.72 1.158 1.528 2.168-.06.314-.2.607-.41.852l-1.49 1.745a18.883 18.883 0 0 1-8.918 5.794l-22.534 6.786a38.953 38.953 0 0 1-9.334 1.607l-2.64.129c-.686.033-1.271-.483-1.306-1.153a1.19 1.19 0 0 1 .13-.604l.707-1.378a.91.91 0 0 0-.06-.932l-3.952-4.6a.916.916 0 0 1 .265-1.29l1.607-1.045a.975.975 0 0 1 .956-.058l7.632 2.79c.26.128-2.172 1.516-1.908 1.396l24.118-11.253z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M29.343 18.964L15.347 10.47a1 1 0 0 1 .077-1.752l2.732-1.342a1 1 0 0 1 .68-.074l22.776 5.595a1 1 0 0 1 .107 1.91l-11.511 4.242a1 1 0 0 1-.865-.084z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M52.786 9.214a17.195 17.195 0 0 1-3.796 1.927l-.204.073",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),Ur.QuickPlane=()=>r.createElement("svg",{width:"42",height:"55",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M21 29c6.684 4.124 8.984 13.275 5.136 20.439a14.624 14.624 0 0 1-4.209 4.88L21 55l-.927-.681c-6.362-4.673-7.986-13.989-3.626-20.808A14.392 14.392 0 0 1 21 29zM35 27c4.785 3.027 6.422 9.726 3.654 14.961a10.64 10.64 0 0 1-2.989 3.538L35 46l-.665-.5c-4.553-3.43-5.704-10.248-2.569-15.23A10.421 10.421 0 0 1 35 27zM7 27c4.785 3.027 6.422 9.726 3.654 14.961A10.64 10.64 0 0 1 7.665 45.5L7 46l-.665-.5C1.782 42.07.631 35.251 3.766 30.27A10.421 10.421 0 0 1 7 27z",fill:"#FFC2C2"}),r.createElement("path",{d:"M2.337 27.657l16-14.28a4 4 0 0 1 5.326 0l16 14.28A4 4 0 0 1 41 30.641V35H1v-4.359a4 4 0 0 1 1.337-2.984z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"}),r.createElement("path",{d:"M15.963 4.877L18 2.5a3.951 3.951 0 0 1 6 0l2.037 2.377A4 4 0 0 1 27 7.48V39H15V7.48a4 4 0 0 1 .963-2.603z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),r.createElement("path",{d:"M18 7.414l.249-.366 1.02-1.5c.975-1.435 2.487-1.435 3.462 0l1.027 1.51.242.356",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M21 21v15",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round"})));var $r=n("iMP5");const zr=({proofit:e})=>{b.a.useSubscriptionTo(e.requestPlans);const t=r.useContext(oe.a.Context),{gnarSpec:n,pageId:i,docId:a}=r.useContext(O.a.Context);return r.createElement("div",{className:$r.content},r.createElement(s.a.div,{className:$r.proofitDetailsWrapper},e.viewStateAndSubscription.pipe(f.a.map(([o,l])=>o.fold(()=>r.createElement(lr.a,{variation:"blue",className:$r.loader}),o=>bn.c.isSendingState(o.proofitState)?r.createElement(lr.a,{variation:"blue",className:$r.loader}):r.createElement(r.Fragment,null,r.createElement("div",{className:$r.tierTitleContainer},r.createElement(F.a,{className:$r.tierTitle},t.proofitOrderModal.order.tierTitle),r.createElement(be.a,{name:"helpMeChoose",className:$r.helpMeChooseBtn,disabled:e.leftStep.view(e=>e===za.c.Step3),onClick:()=>{n.professionalProofreadingHelpMeChooseButtonClick(a,i),e.changeLeftStep(za.c.Step3)}},r.createElement("span",{className:$r.helpMeChoose},t.proofitOrderModal.order.helpMeChoose))),r.createElement(be.a.Group,{sticky:!0,className:$r.claritySplitButton},r.createElement(be.a.White,{name:"proofit-order-split-button-tier-base",key:"proofit-order-split-button-tier-base",active:o.selectedPlanTier===or.a.PlanTier.Base,className:$r.claritySplitButtonBase,onClick:()=>{n.professionalProofreadingSelectPlanTierButtonClick(a,i,or.a.PlanTier.Base),e.selectPlanTier(or.a.PlanTier.Base)}},t.proofitOrderModal.order.tierBase),r.createElement(be.a.White,{name:"proofit-order-split-button-tier-clarity",key:"proofit-order-split-button-tier-clarity",active:o.selectedPlanTier===or.a.PlanTier.Clarity,className:$r.claritySplitButtonClarity,onClick:()=>{n.professionalProofreadingSelectPlanTierButtonClick(a,i,or.a.PlanTier.Clarity),e.selectPlanTier(or.a.PlanTier.Clarity)}},t.proofitOrderModal.order.tierClarity)),r.createElement(F.a,{className:$r.plansTitle},t.proofitOrderModal.order.title),r.createElement(s.a.div,{className:$r.plansContainer,"data-name":"proofit-order"},o.selectedPlans.map((t,s)=>r.createElement(Gr,{key:`${t.details.tier}-${t.details.turnaround}`,proofitState:o.proofitState,plan:t,index:s,onPlanSelect:()=>(n.professionalProofreadingSelectButtonClick(a,i,or.a.PlanType.getPlanName(t.details.turnaround),t.details.tier),e.changeLeftStep(za.c.Step4),t.select()),onPlanUnselect:()=>(n.professionalProofreadingUnselectButtonClick(a,i,or.a.PlanType.getPlanName(t.details.turnaround),t.details.tier),t.unselect())}))),r.createElement("div",{className:$r.summary},o.selectedPlan.fold(()=>r.createElement(F.h,{className:$r.paymentWarning},t.proofitOrderModal.order.warningConfirm),e=>r.createElement(Kr,{key:"PaymentWarning"+e.details.turnaround,price:o.selectedPlan.get().details.price,subscription:l.value})),r.createElement("div",{className:$r.summaryButtons},o.selectedPlan.fold(()=>r.createElement(be.a.Primary,{key:"place-order",name:"place-order",className:$r.placeOrderButton,title:t.proofitOrderModal.order.chooseOptions,disabled:!0},t.proofitOrderModal.order.placeOrder),s=>r.createElement(be.a.Primary,{key:"place-order",name:"place-order",className:$r.placeOrderButton,onClick:un.d.callOnce(()=>(n.professionalProofreadingPlaceOrderButtonClick(a,i,or.a.PlanType.getPlanName(s.details.turnaround),s.details.tier,e.requirePaymentCheck.get()),e.requirePaymentCheck.get()?e.changeRightStep(za.d.Step2):s.placeOrder(ae.e))),active:!0,disabled:bn.c.isSendingState(o.proofitState)},t.proofitOrderModal.order.placeOrder,o.proofitState.fold(()=>r.createElement(lr.a,{className:$r.planLoading,variation:"white",size:18}),()=>null))),r.createElement(be.a.Ghost,{key:"close",name:"close",className:$r.closeButton,onClick:()=>{n.professionalProofreadingCloseButtonClick(a,i),e.closeModal()}},t.actions.close)))))))))},Gr=({plan:e,proofitState:t,index:n,onPlanSelect:i,onPlanUnselect:a})=>{const o=e.details,{label:l}=o,c=r.useContext(oe.a.Context);return r.createElement(s.a.div,{className:e.details.enabled?$r.planWrapper:$r.planWrapperDisabled,"data-name":l.replace(" ","")},r.createElement("div",{className:$r.iconContainer},(e=>{const t=[r.createElement(Vr.SlowPlane,null),r.createElement(Vr.MiddlePlane,null),r.createElement(Vr.QuickPlane,null)];return Boolean(t[e])?t[e]:Object(M.d)(e)})(n)),r.createElement(s.a.div,{className:$r.plans},r.createElement(s.a.div,{className:$r.planContainer},r.createElement("div",null,e.recommended&&r.createElement(F.b,{className:$r.recommended},c.proofitOrderModal.order.recommended),r.createElement(F.a,{className:$r.planTitle},l),r.createElement("div",{className:$r.priceWrapper},r.createElement(F.a,{className:$r.price,"data-name":"turnaround-price"},"$",B.f.formatPrice(o.price)),r.createElement(F.l,null,r.createElement("span",{"data-name":"price-per-word"},"$",o.perWord)," ",c.proofitOrderModal.order.perWord))),e.active.view(n=>n?r.createElement(be.a.Primary,{key:"selected-order",name:"selected-order",className:$r.selectPlanButton,onClick:a,active:!0,disabled:bn.c.isSendingState(t)},c.statuses.selected):r.createElement(be.a.White,{key:"select-order",name:"select-order",className:$r.selectPlanButton,onClick:i,disabled:!e.details.enabled||bn.c.isSendingState(t)},e.details.enabled?c.actions.select:c.statuses.unavailable)))))},Kr=({price:e,subscription:t})=>{const n=r.useContext($n.a.Context),i=r.useContext(oe.a.Context).proofitOrderModal.order.paymentWarnings;switch(t.paymentMethod){case"payPal":return r.createElement(F.l,{className:$r.paymentWarning},i.payPal(e));case"creditCard":return t.creditCard||C.Monitoring.Logging.getLogger("ProofitView").warn("Missing credit card"),r.createElement(F.l,{className:$r.paymentWarning},i.creditCard(e)," ",r.createElement(Wr.a,{href:n.account.subscription},i.updateBilling));default:return C.Monitoring.Logging.getLogger("ProofitView").warn("Unknown payment method: "+t.paymentMethod),r.createElement(r.Fragment,null)}};var Yr=n("DDUo");const Xr=un.d.lazy(()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"cSoA"))),Zr=({proofit:e})=>{const t=r.createElement("div",{className:Yr.stepWrapper},r.createElement(zr,{key:"OrderStep1",proofit:e})),n=r.createElement("div",{className:Yr.stepWrapper},r.createElement(r.Suspense,{fallback:r.createElement(lr.a,{variation:"blue",className:qr.spinner})},r.createElement(Xr,{key:"OrderStep2",proofit:e})));return r.createElement(Br,{state:e.rightStep,direction:Dr.Vertical,steps:[t,n]})};var Qr=n("gKWT");const Jr=({proofit:e})=>r.createElement("div",{className:Qr.wrapper},r.createElement("div",{className:Qr.row},r.createElement("div",{className:Qr.leftCol},r.createElement(Hr,{proofit:e})),r.createElement("div",{className:Qr.col},r.createElement(Zr,{proofit:e}))));var eo=n("jR3X");class to extends r.Component{constructor(){super(...arguments),this._modalClassName=(e,t)=>{switch(e){case za.a.Order:return t.proofitOrderModal;case za.a.Success:return t.proofitOrderSuccess;default:return Object(M.d)(e)}}}render(){const{proofit:e}=this.props;return r.createElement(O.a.Context.Consumer,null,t=>r.createElement(s.a.Fragment,null,e.isVisibleModal.view(n=>n?r.createElement(qn.b,{positionType:"fixed",visible:e.isVisibleModal,animate:!0,smallResolution:"resize",key:"overlay"},r.createElement(qn.a,{close:()=>{t.gnarSpec.professionalProofreadingCloseButtonClick(t.docId,t.pageId),e.closeModal()},className:eo.proofitModal,key:"modal"},r.createElement(s.a.div,Object.assign({name:"modalBody"},Object(re.c)(eo.proofitModalBody,e.modal.view(e=>e.fold(()=>"",e=>this._modalClassName(e.type,eo))))),e.modal.view(t=>t.map(t=>r.createElement(no,{key:t.type,proofit:e,modal:t})).orNull())))):null)))}componentWillUnmount(){this.props.proofit.clearModals()}}const no=({proofit:e,modal:t})=>{switch(t.type){case za.a.Order:return r.createElement(Jr,{proofit:e,key:"order"});case za.a.Success:return r.createElement(Ga.a,{payload:t.payload,close:()=>e.closeModal(),key:"success"});default:return Object(M.d)(t)}};var io=n("+w1e"),ao=n("NbEL"),ro=n("6qID"),oo=n("Ffhm");const so=({draftAIEditorVM:e,lensPreviewVM:t,onTransitionEnd:n,transition:i})=>{const a=t.getLens(wn.a.SpecialId.AllAlerts).view("count"),o=new f.a.Subject;return b.a.useSubscriptionTo(o.pipe(f.a.filter(e=>e.type===io.b.Type.switchToClosestByViewport),f.a.mapTo({type:ro.a.Type.Collapse}),f.a.tap(e.actions))),r.createElement(da.c.FixedContent,{key:wn.a.SpecialId.DraftAI},r.createElement(s.a.div,Object.assign({},Object(re.c)(lo.lensContainer,i.pipe(f.a.map(({base:e})=>e))),{onTransitionEnd:n}),r.createElement(s.a.div,Object.assign({},Object(re.c)(lo.cardWrapper,i.pipe(f.a.map(({content:e})=>e)))),r.createElement(oo.a,Object.assign({},e)))),r.createElement(da.c.SeeAlerts,{cardsViewportState:a.view(e=>e>0?ao.a.below:ao.a.hidden),actionEvents:o,cardsAmount:a}))},lo=g.a.prefixedStylesheet("draft_ai_lens",{lensContainer:[{width:g.a.percent(100),paddingBottom:g.a.rem(3)}],cardWrapper:[{paddingRight:g.a.rem(2),paddingTop:g.a.rem(4.5)}]});var co=n("pKiV"),uo=n("3F3p"),po=n("+5S2"),ho=n("xdtP"),mo=n("dCuA"),go=n("2U56"),fo=n("Fq1y");const bo=()=>{const e=r.useContext(oe.a.Context);return r.createElement("div",{className:fo.content},r.createElement(F.a,{className:fo.originality100Text},e.plagiarism.originalText),r.createElement(vo,{className:fo.illusration}))},yo=({variation:e="violet"})=>r.createElement("div",{className:fo.content},r.createElement(lr.a,{variation:e,className:fo.loader}),r.createElement(F.a,{className:fo.loadingText},"Please wait.",r.createElement("br",null),"We’re checking your text against billions of web pages.",r.createElement("br",null),"It'll just take a moment.")),vo=({className:e})=>r.createElement("svg",Object.assign({},Object(re.c)(e),{width:"334",height:"375",viewBox:"0 0 334 375",xmlns:"http://www.w3.org/2000/svg"}),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M160.3 199.297C145.842 196.217 135 183.375 135 168c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32 0 14.726-9.947 27.128-23.488 30.856 1.032-4.938 2.81-9.608 5.193-13.675.144-.214.215-.357.36-.572 1.504-2.576 2.15-5.438 2.006-8.372-.214-4.15-2.15-7.943-5.088-10.52l-1.362-1.144c-2.222-1.574-4.874-2.576-7.74-2.72-4.302-.285-8.315 1.146-11.47 4.08-3.08 2.862-4.8 6.94-4.8 11.09 0 2.362.5 4.652 1.576 6.727.358.787.716 1.43 1.218 2.075 2.323 4.075 3.954 8.634 4.895 13.472z",fill:"#F7EAF7"}),r.createElement("path",{d:"M176.62 164.617c-2.222-1.577-4.874-2.58-7.74-2.723-4.302-.287-8.315 1.146-11.47 4.085-3.08 2.866-4.8 6.952-4.8 11.11 0 2.364.5 4.658 1.576 6.736.358.79.716 1.434 1.218 2.08 2.365 4.156 4.014 8.815 4.946 13.76.286 1.362.5 2.796.645 4.158.358 1.075 1.075 1.72 2.007 1.935.215 1.36 1.29 2.507 2.795 3.01l1.147.286c.286.07.645.07.93.07.647 0 1.292-.07 1.865-.285 0 0 1.002-.358 1.002-.43 1.076-.644 1.792-1.576 1.936-2.65 1.003-.288 1.792-1.148 2.078-2.223.072-.86.215-1.65.36-2.437.93-5.734 2.866-11.18 5.59-15.84.143-.215.214-.36.358-.574 1.505-2.58 2.15-5.447 2.007-8.386-.214-4.157-2.15-7.956-5.088-10.536l-1.362-1.147zm-8.745 19.71c.932.718 2.294 1.506 3.728 1.864-1.076 3.872-1.936 9.463-2.222 11.254h-3.01c-.286-1.79-1.147-7.454-2.222-11.253 1.434-.357 2.796-1.074 3.727-1.862zm-1.29-3.08c0-.073-.143-1.506 1.075-1.72h.36c1.217.214 1.074 1.647 1.074 1.72-.072.716-.79 1.432-1.29 1.79-.43-.43-1.147-1.074-1.22-1.79zm-1.003 17.344c.143.073.215.145.358.073.072 0 .144-.072.215-.072h3.297c.072.073.144.073.215.073h.072c.142 0 .214-.072.286-.072h4.3c-.143.79-.287 1.506-.43 2.295 0 .072 0 .143-.072.287h-12.04c-.073-.574-.144-1.147-.288-1.65-.07-.286-.143-.572-.215-.86l4.302-.07zm2.293 9.462c-1.79 0-3.368-.93-3.727-2.222h7.383c-.286 1.29-1.863 2.222-3.655 2.222zm3.943-3.297h-7.956c-.79 0-1.506-.5-1.792-1.147-.072-.43-.144-.93-.144-1.36h11.898c-.07.357-.07.715-.143 1.074-.214.86-.93 1.433-1.862 1.433zm10.106-28.455c.143 2.724-.502 5.376-1.792 7.67v.07c-.143.216-.215.43-.36.646-2.292 3.87-3.94 8.243-5.087 12.83h-4.23c.287-1.935 1.148-7.382 2.223-11.11.573.072 1.146.072 1.648-.07 1.22-.36 1.72-1.578 1.65-2.58-.073-.933-.646-1.578-1.435-1.722-.5-.07-1.432.144-1.934 1.29-.215.502-.43 1.147-.645 1.864-1.146-.287-2.364-.932-3.153-1.505.574-.502 1.362-1.29 1.434-2.365.072-1.22-.5-2.652-2.006-2.867H167.59c-1.506.287-2.08 1.72-2.008 2.868.072 1.075.86 1.863 1.433 2.365-.788.573-2.007 1.218-3.153 1.505-.215-.717-.43-1.362-.645-1.864-.502-1.146-1.434-1.36-1.936-1.29-.787.072-1.36.79-1.432 1.72-.072 1.004.43 2.222 1.648 2.58.502.144 1.076.144 1.65.072 1.002 3.656 1.934 9.103 2.22 11.11h-4.228c-1.003-4.372-2.58-8.458-4.66-12.185-.357-.644-.787-1.29-1.146-1.934 0 0 0-.072-.07-.072-.933-1.935-1.435-4.085-1.435-6.235 0-3.872 1.65-7.67 4.516-10.322 2.867-2.724 6.665-4.014 10.608-3.8 2.653.216 5.16 1.076 7.24 2.58.07.073.143.144.215.144 3.082 2.366 5.304 6.236 5.52 10.608zm-8.96 9.03c.215-.644.43-1.217.574-1.647.286-.717.788-.645.788-.645.43.07.502.573.502.717.072.573-.215 1.29-.86 1.433-.287.143-.645.215-1.004.143zm-10.177 0c-.36 0-.717 0-1.004-.07-.645-.215-.932-.86-.86-1.434 0-.143.072-.645.502-.717.143 0 .5.07.788.645.143.43.358.93.574 1.576z",fill:"#8189A9",fillRule:"nonzero"}),r.createElement("path",{d:"M167.804 157.88c-.287 0-.502-.287-.574-.574v-8.457c0-.36.287-.575.574-.575.358 0 .573.287.573.574v8.456c0 .36-.287.574-.573.574zm-10.75 2.58l-4.302-7.31c-.143-.216-.072-.574.215-.717.215-.144.573-.072.717.215l4.3 7.31c.144.215.072.574-.215.717-.072.072-.216.072-.287.072-.144 0-.36-.144-.43-.287zm-14.55 3.44c-.217-.143-.288-.43-.145-.716.142-.287.43-.36.716-.215l7.382 4.156c.287.143.36.43.215.717-.143.215-.286.286-.5.286-.145 0-.216 0-.288-.072l-7.383-4.157zm-3.442 14.48c-.287 0-.573-.288-.573-.503-.073-.358.214-.573.5-.573l8.458-.072c.358 0 .573.215.573.502.073.358-.214.573-.5.573l-8.458.072zm10.966 9.03c.215-.143.574-.072.79.215.142.215.07.573-.216.717l-7.31 4.23c-.073.07-.216.07-.288.07-.215 0-.43-.143-.5-.286-.145-.215-.073-.574.214-.717l7.31-4.23zm12.472-29.458l-1.505-4.874c-.072-.287.07-.574.358-.645.287-.072.573.07.645.358l1.505 4.875c.072.287-.07.573-.358.645h-.143c-.215 0-.43-.143-.502-.358zm-9.103 5.303l-3.727-3.44c-.215-.215-.215-.573 0-.788.215-.215.573-.215.788 0l3.728 3.44c.215.215.215.573 0 .788-.144.072-.287.144-.43.144-.144 0-.287-.073-.36-.145zm-4.66 8.816c0 .217-.214.432-.5.432h-.144l-4.945-1.076c-.287-.07-.502-.358-.43-.645.07-.285.358-.5.645-.43l4.945 1.076c.287.072.502.36.43.646zm-5.733 11.47l4.874-1.577c.287-.072.574.07.645.358.072.288-.07.574-.358.646l-4.874 1.577h-.142c-.215 0-.43-.143-.502-.358-.072-.287.072-.574.358-.646zm9.748 7.884c.143-.215.502-.215.788 0 .287.215.287.573.072.788l-3.44 3.727c-.144.07-.287.143-.43.143-.144 0-.287-.072-.36-.144-.285-.216-.285-.574-.07-.79l3.44-3.726zm40.063-27.523l-7.382 4.158c-.072.07-.143.07-.287.07-.215 0-.358-.07-.502-.285-.143-.287-.07-.574.216-.717l7.382-4.157c.287-.145.573-.073.717.214.142.286.07.573-.145.717zm3.372 14.48l-8.458-.073c-.287 0-.574-.215-.502-.573 0-.287.215-.502.573-.502l8.46.072c.285 0 .572.215.5.573 0 .215-.286.502-.573.502zm-10.608 9.03l7.31 4.23c.287.142.358.5.215.716-.072.143-.287.286-.502.286-.07 0-.215 0-.286-.07l-7.31-4.23c-.288-.144-.36-.502-.216-.717.216-.287.574-.358.79-.215zm.86-15.34c-.072-.285.143-.572.43-.644l4.945-1.075c.287-.07.573.145.645.43.072.288-.143.575-.43.646l-4.946 1.076h-.143c-.286 0-.5-.215-.5-.43zm6.163 11.47c.287.07.43.358.36.645-.073.215-.288.358-.503.358h-.143l-4.874-1.577c-.287-.072-.43-.358-.36-.645.073-.286.36-.43.646-.357l4.873 1.577zm-9.46 7.884l3.44 3.727c.215.216.215.574-.072.79-.07.07-.214.143-.357.143-.144 0-.287-.072-.43-.144l-3.44-3.728c-.216-.215-.216-.573.07-.788.288-.215.646-.215.79 0zm-5.233-30.82c-.287-.144-.358-.43-.215-.717l4.3-7.31c.144-.288.43-.36.717-.216s.36.43.215.718l-4.3 7.31c-.072.215-.215.287-.43.287-.072 0-.215 0-.287-.072zm-5.447-2.294c-.287-.072-.43-.358-.36-.645l1.506-4.874c.07-.286.358-.43.645-.357.286.07.43.358.358.645l-1.505 4.874c-.072.215-.287.358-.502.358h-.143zm9.102 4.945c-.215-.215-.215-.573 0-.788l3.727-3.44c.216-.215.574-.215.79 0 .214.215.214.573 0 .788l-3.728 3.44c-.072.072-.215.144-.36.144-.142 0-.357 0-.43-.145z",fillOpacity:".5",fill:"#C770C8",fillRule:"nonzero"}),r.createElement("g",{fillRule:"nonzero"},r.createElement("path",{d:"M297.125 147.025c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM121.425 366.225l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm5.6 5.7l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm5.7-5.7c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zM195.025 57.125l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F9E799"}),r.createElement("path",{d:"M62.8 135.5c.5 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8H48.3c-.4 0-.9.2-.9.7 0 .5.4.8.8.8h14.6zm-19.3 0c.4 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8h-4.7c-.4 0-.8.2-.8.7 0 .5.4.8.8.8h4.7zm-4.7 5H49c.5 0 .8-.3.8-.8s-.4-.8-.8-.8H38.8c-.5 0-.8.3-.8.8s.4.8.8.8zm14.5 0h3.3c.5 0 .8-.3.8-.8s-.4-.8-.8-.8h-3.3c-.5 0-.8.3-.8.8s.4.8.8.8zM311 12.3c0 .4-.3.7-.8.8h-14.6c-.5 0-.8-.3-.8-.8s.4-.8.8-.8h14.6c.5 0 .8.4.8.8zm4 .7c-.4 0-.8-.3-.8-.8s.4-.8.8-.8h4.7c.5 0 .8.3.8.8s-.4.8-.8.8H315zm4.7 3.5c.5 0 .8.4.8.8 0 .5-.4.8-.8.8h-10.1c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h10.1zm-14.5 0c.5 0 .8.4.9.8 0 .5-.4.8-.8.8H302c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h3.2z",fill:"#A4D3FF"}),r.createElement("path",{d:"M0 3.9c0 2.2 1.8 3.9 3.9 3.9 2.2 0 3.9-1.8 3.9-3.9C7.8 1.7 6 0 3.9 0 1.7 0 0 1.7 0 3.9zm6.3 0c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.3 1.1-2.4 2.4-2.4 1.3 0 2.4 1 2.4 2.4zM330.4 301c-1.9 0-3.4 1.5-3.4 3.4s1.5 3.4 3.4 3.4 3.4-1.5 3.4-3.4c-.1-1.9-1.6-3.4-3.4-3.4zm0 5.2c-1 0-1.9-.8-1.9-1.9 0-1 .8-1.9 1.9-1.9 1 0 1.9.8 1.9 1.9-.1 1.1-.9 1.9-1.9 1.9zM113.6 101.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3c1.3 0 2.4 1.1 2.4 2.4 0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7"}))));var ko,wo=n("5TOM");!function(e){e.NearTitle="NearTitle",e.AboveCards="AboveCards"}(ko||(ko={}));const So=e=>{const t=r.useContext(oe.a.Context);return r.createElement(_o.Content,Object.assign({},e,{theme:{viewport:go.a.viewport,lensviewContentWrapper:go.a.lensviewContentWrapper},loaderVariation:"cyan"}),r.createElement(s.a.div,Object.assign({},Object(re.c)(go.a.headerWrapper,e.transition.pipe(f.a.map(e=>e.title)))),r.createElement(ua.a.Title,{lensAlertsCount:e.state.view("currentLens","meta","percentile").view(Object(o.flow)(Va.a.fromRatio,Va.a.prism.reverseGet)),lensId:wn.a.SpecialId.Plagiarism,lensPreviewVM:e.lensPreviewVM,customInfoButton:r.createElement(s.a.Fragment,null,e.getPlagiarismText(ko.NearTitle)(t,e.plagiarismModel.checkingState,e.state.view("currentLens","meta","percentile").view(Va.a.fromRatio),e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.state.view("currentLens","items","size")))})))};var _o,Co;(Co=_o||(_o={})).getPlagiarismTextNearTitle=(e,t,n,i,a)=>l.a.combine(t,n,i,a,(t,n,i,a)=>{const o="full"===t?e.plagiarism.loadingDescription:e.plagiarism.helpIconDescription(n,i,a);return i>0||"full"===t?r.createElement(be.b,{key:o,title:o}):null}),Co.getPlagiarismTextAboveCards=(e,t,n,i,a)=>l.a.combine(n,i,a,(t,n,i)=>e.plagiarism.lensDescription(t,n,i,Object(ho.a)(wo.whiteReferenceLink))),Co.Content=e=>r.createElement(r.Fragment,{key:wn.a.SpecialId.Plagiarism},r.createElement(da.c.FixedContent,{onTransitionEnd:e.onTransitionEnd},e.children,r.createElement(da.c.SeeAlerts,{key:"seeAlerts",cardsViewportState:po.c.getCardsViewportState(e.state,e.cardsListScrollManager,e.capabilities),actionEvents:e.cardsVM.actionEvents,cardsAmount:e.state.view("currentLens").view("items").view("size")}),r.createElement(s.a.div,{className:e.theme.viewport},r.createElement(s.a.div,Object.assign({},Object(re.c)(wo.content,e.transition.pipe(f.a.map(e=>e.base)))),l.a.combine(e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.plagiarismModel.checkingState,(t,n)=>{switch(n){case"idle":case"checking":return t>0?null:r.createElement(bo,{key:"originality100"});case"full":return r.createElement(yo,{key:"loading",variation:e.loaderVariation});default:return Object(M.d)(n)}})))),r.createElement(s.a.div,null,l.a.combine(e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.plagiarismModel.checkingState,(t,n)=>{switch(n){case"idle":case"checking":return t>0?r.createElement(Eo,Object.assign({key:"cards-view"},e)):null;case"full":return null;default:return Object(M.d)(n)}})));const Eo=({cardsVM:e,state:t,scrollEl:n,cardsListScrollManager:i,isMaster:a,transition:o,theme:d,checksFeedItem:u,capabilities:p,comparator:h})=>{const m=mo.a.Elements.create(),g=t.lens(ue.e.Prism.getLens()),v=l.a.create(c.g.none),k=new f.a.ReplaySubject;b.a.useSubscriptionTo(k.pipe(f.a.tap(e=>m.lens("scrollConsumer").set(e))));const w=co.a.cardList(u(e.actionEvents)),S=po.c.getScrollObserver(i).pipe(f.a.startWith(!1)),_=pa.a.createCardListFlow(e,new f.a.Subject,c.g.none,c.g.none)(e,g,k,S,p,h);return r.createElement(mo.a,{stateSyncListener:mo.a.superScrollListener(i,m),height:po.c.getAssistantHeight(t,i,p),className:o.pipe(f.a.map(e=>e.assistantWrapper)),name:"plagiarism",isMaster:a},r.createElement(r.Fragment,null,r.createElement("div",{ref:e=>v.set(c.g.fromNullable(e)),className:wo.fakeTop}),r.createElement(s.a.div,{className:d.viewport},r.createElement(s.a.div,Object.assign({},Object(re.c)(d.lensviewContentWrapper,o.pipe(f.a.map(e=>e.content)))),r.createElement(X.c,{onMount:()=>f.a.mergeStatic(n.pipe(f.a.tap(y.b.toAtom(m.lens("scrollProvider")))),v.pipe(f.a.tap(y.b.toAtom(m.lens("viewport"))))).subscribe()},qi.b.mount(uo.a,()=>po.c.getPlaceholderState(t,i)),qi.b.mount(w,_))))))};var Oo=n("RfT4"),Ao=n("xUiX");const xo=()=>r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},r.createElement("path",{d:"M4.6665 4.66663L7.99984 7.99996L4.6665 11.3333M9.33317 4.66663L12.6665 7.99996L9.33317 11.3333",stroke:"#4D536E",strokeLinecap:"round"})),To=({state:e,navigationViewModel:t})=>{const{gnarSpec:n,pageId:i}=r.useContext(O.a.Context),a=r.useContext(oe.a.Context);return r.createElement(be.a.SidebarFlat,{name:"hide-assistant",className:Ao.overviewBtn,onClick:()=>{t.events.next({type:"toggleSidebar",actionSource:zt.b.sidebar}),n.assistantCloseButtonClick(i,e.get().currentLens.type)}},r.createElement(F.l,{className:Ao.hideAssistantOutcomeText},a.hideAssistant),r.createElement(xo,null))},Mo=({state:e,documentModel:t,features:n,navigationViewModel:i})=>r.createElement(s.a.div,{className:Ao.sidebarHeader},e.view(ue.e.isSidebarOpened).view(a=>a?r.createElement(To,{key:"hide-assistant",state:e,navigationViewModel:i}):r.createElement("div",{"data-name":"toggler",key:"toggle-wrapper",className:Ao.togglerWrapper},r.createElement(Oo.a,{documentModel:t,features:n,navigationViewModel:i}))));var jo=n("JniT"),Io=n("1d/y"),Ro=n("kv9a"),No=n("NW9S"),Lo=n("dS2Y");function Po(e,t,n){return qi.a.animatingFlow(function(e,t,n){const i=f.a.of(!0).pipe(f.a.delay(500));return qi.a.fromSideEffect(()=>e.events.next({kind:Lo.b.Event.Kind.draftAIMiniCardClick,cardPosition:{top:0}}),f.a.combineLatestStatic([n.viewport,e.state,t,n.scrollTop,i]).pipe(f.a.map(([e,{node:t,title:n},i])=>Object(o.pipe)(t,c.g.filter(t=>No.b.FromWindowTop.ISO.unwrap(e.top)>t.getBoundingClientRect().bottom),c.g.chain(()=>i),c.g.map(()=>({title:n})))),f.a.startWith(c.g.none),f.b.distinct))}(e,t,n),c.g.fold(()=>c.g.some(c.m.right("fadein")),()=>c.g.some(c.m.both("fadeout","fadein"))))}var Do=n("8cPE"),Fo=n("pgXu"),Bo=n("GHbd");const Ho=(e,t)=>{e.gnarSpec.continueFreeButtonClick(e.pageId),t.navigate(E.a.routes.documents.href())};class Vo extends r.Component{render(){const{transition:e,theme:t,upgradeViewModel:n,isDemoDoc:i,features:a}=this.props,l=i&&a.denali.showGetStarted;return r.createElement(X.b.Context.Consumer,null,i=>r.createElement(O.a.Context.Consumer,null,a=>r.createElement(s.a.div,Object.assign({},Object(re.c)(t.contentWrapper,e.pipe(f.a.map(e=>e.content)))),r.createElement(Do.a,{name:"advanced"},n.advancedAlerts.view(Object(o.flow)(c.g.map(e=>{const o=e.alerts(),s=o.reduce((e,{count:t})=>e+t,0);return[r.createElement("div",{key:"some",className:t.advancedBlockWrapper},r.createElement(F.a,null,"We found"," ",r.createElement("b",null,s," additional writing"," ",B.f.pluralize(s,"issue","issues")),r.createElement("br",null),"in this text available only for Premium users."),r.createElement("div",{key:"advanced-block",className:t.advancedBlock},r.createElement("div",{className:t.alertList},o.map(e=>r.createElement(F.a,{key:e.category,className:t.alertBlock},r.createElement(Ha.a.Counter,{count:e.count,type:"yellow",theme:{counterWrapper:Object(re.c)(t.counter).className,counterContent:t.counterContent}}),n.displayValue(e)))),r.createElement("div",{className:t.graphBlock},r.createElement("div",{className:t.graphCircle2},r.createElement("div",{className:t.graphCircle1},r.createElement(F.c,Object.assign({},Object(re.c)(t.graphCounter,"windows"===i.info.os&&t.graphCounterWin)),s)))))),r.createElement("div",{key:"upgrade-block",className:t.upgradeBlock},r.createElement(Fo.a,{size:"big",upgradeAction:()=>{a.gnarSpec.getPremiumButtonClick(a.pageId,"goPremium","advancedIssues"),this.props.upgradeViewModel.openUpgradeUrl(A.i.Place.DenaliDocument.editorDenaliAdvanced)}}),l&&r.createElement(E.a.Context.Consumer,null,e=>r.createElement(be.a,{className:Bo.secondaryCta,name:"go-to-homepage",onClick:()=>Ho(a,e)},"Continue with free plan"))),...l?[]:[r.createElement("footer",{key:"footer",className:t.footer},r.createElement(F.i,{className:t.footerText},"It’s an online service that quickly and easily makes",r.createElement("br",null),"your writing better and makes you sound like a pro,",r.createElement("br",null),"or at least helps you avoid looking like a fool."),r.createElement(Uo,{className:t.footerLogo}))]]}),c.g.orNull))))))}}const Uo=({className:e})=>r.createElement("svg",{width:"77",height:"20",viewBox:"0 0 77 20",className:e},r.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"})),qo=({transition:e,upgradeViewModel:t,lensPreviewVM:n,features:i,isDemoDoc:a})=>{const o=r.useContext(xi.a.Context).platform===xi.a.Platform.IPAD?Object.assign(Object.assign({},Bo),{paidView:Bo.paidViewIPad,graphCircle2:Bo.graphCircle2IPad}):Bo;return r.createElement(da.c.FixedContent,null,r.createElement(s.a.div,Object.assign({},Object(re.c)(o.paidView,e.pipe(f.a.map(e=>e.base)))),r.createElement(s.a.div,Object.assign({},Object(re.c)(go.a.headerWrapper,e.pipe(f.a.map(e=>e.title)))),r.createElement(da.c.Title,{lensPreviewVM:n,lensId:wn.a.SpecialId.Premium})),r.createElement(Vo,{transition:e,upgradeViewModel:t,lensPreviewVM:n,theme:o,features:i,isDemoDoc:a})))};var Wo,$o=n("Od5a"),zo=n("PrZ+");class Go extends ia.a{}!function(e){const t=()=>{return r.useContext(xi.a.Context).platform===xi.a.Platform.IPAD?Na.iPadWrapper:Na.wrapper},n=e=>{return new Map([[ko.NearTitle,_o.getPlagiarismTextNearTitle],[ko.AboveCards,()=>l.a.create(null)]]).get(e)},i=e=>"prev"===e.type?e.done:o.constVoid;e.TheView=a=>{const d=r.useContext(xi.a.Context),u=t(),p=y.b.atomSwitchBy(e=>{let t=7;return t=31*(t=31*t+Object(ae.k)(e.currentLens.id))+(pa.a.isInSuccess(e)?1231:1237)},a.denaliViewModels.lensState),h=Object(jo.a)(!d.has(xi.a.Flag.supportsLottie)),{withNeutralForSelection:m}=r.useContext(he.a.Context),b=m(Go);return r.createElement(b,{key:"animationWrapper",className:u,state:p,stateToClassMapper:e.stateToClassMapper,onMouseDown:a.onMouseDown},(e=>t=>{const{denaliViewModels:{successLensViewModel:a,lensPreviewViewModel:d,cardsViewModel:u,priorityEvents:p,upgradeViewModel:h,feedUpgradeViewModel:m,cardsListScrollManager:b,navigationViewModel:y},capabilities:v,plagiarismModel:k,features:w,scrollEl:S,successIllustrations:_,documentModel:C}=e,E=l.a.create(c.g.none),O=c.g.none,A=t.state.get(),x={navigateToAllAlerts:()=>y.events.next({type:"switchToAll",focusFirst:!1,actionSource:zt.b.sidebar})},T=fe.b.createComponent({section:fe.b.create(fe.b.Id.checksFeed),component:s.a.div,focusStrategy:e=>Object(ie.pipe)(e.querySelector(".fullCard"),c.g.fromNullable,c.g.fold(()=>Object(ie.pipe)(Array.from(e.querySelectorAll('div[role="button"]')),yn.filter(e=>{const t=e.getBoundingClientRect();return t.top>t.height&&t.bottom<window.innerHeight}),yn.head,c.g.chain(de.a.FocusStrategy.focusRootOrFirstFocusable)),de.a.FocusStrategy.focusRootOrFirstFocusable))}),j=pa.a.isInSuccessWithDraftAI(e.denaliViewModels.lensState.get());switch(A.currentLens.type){case ue.i.closed:return null;case ue.i.plagiarism:return r.createElement(da.d.Provider,{value:x},r.createElement(T,null,r.createElement(So,{"data-name":"plagiarism-view",transition:t.view,plagiarismModel:k,cardsVM:u,state:t.state,isMaster:"next"===t.type,onTransitionEnd:"prev"===t.type?t.done:o.constVoid,scrollEl:S,cardsListScrollManager:b,getPlagiarismText:n,lensPreviewVM:d,checksFeedItem:pa.a.item,capabilities:v,comparator:pa.a.listItemOrd})));case ue.i.draftAI:return r.createElement(da.d.Provider,{value:x},r.createElement(s.a.Fragment,null,E.view(c.g.fold(()=>null,e=>r.createElement(so,{"data-name":"draftai-lens-view",draftAIEditorVM:e,lensPreviewVM:d,onTransitionEnd:i(t),transition:t.view})))));case ue.i.advanced:const e=fe.b.createComponent({section:fe.b.create(fe.b.Id.checksFeed),component:s.a.div});if(w.denali.premiumUphookCardUI){const e=t.state,n=pa.a.createCardListFlow(u,p,Object(ie.pipe)(O,c.g.map(e=>e.events)),c.g.some(h.events));return r.createElement(da.d.Provider,{value:x},r.createElement(T,null,r.createElement(da.b,{"data-name":"paid-cards-view",transition:t.view,cardsVM:u,lensPreviewVM:d,navigationVM:y,state:e,isMaster:"next"===t.type,onTransitionEnd:i(t),scrollEl:S,cardsListScrollManager:b,cardListFlow:n,checksFeedItem:pa.a.upgradeHookOnlyItem,capabilities:v,comparator:pa.a.listItemOrd,title:r.createElement(da.c.Title,{lensPreviewVM:d,lensId:wn.a.SpecialId.Premium})})))}return r.createElement(da.d.Provider,{value:x},r.createElement(e,null,r.createElement(qo,{"data-name":"paidview",transition:t.view,upgradeViewModel:h,lensPreviewVM:d,features:w,isDemoDoc:C.isDemoDocument})));case ue.i.lensview:const l=A.currentLens.meta,I=i(t),R=t.state,N=t.state,L=r.createElement(ua.a.Component,{lensPreviewVM:d,lensId:R.get().currentLens.id,navigationVM:y,type:y.lensTitleType,lensAlertsCount:N.view("currentLens").view(v.getVisibleAlertsCount),customSideButton:wn.a.isAllAlerts(R.get().currentLens.id)&&Object(ie.pipe)(O,c.g.map(e=>qi.b.mount(Ro.a,Po(e,E,b))),c.g.toUndefined)}),P=c.g.isSome(w.denali.prioritySwitcher)||wn.a.isMainLens(l.id),D=()=>{if(w.denali.singleCardFeed){const e=R.lens(ue.e.Prism.getLens()),t=qi.b.Union.make("kind",{alertRefSDUI:aa.a.SingleCard,upgradeHookCard:ca.a.SingleCard,empty:oa.a.Empty}),n=Object(sa.a)(e,v),i=Object(ie.pipe)(n,qi.a.extendActions(f.a.tap(e=>{"content"===e.key&&"card"===e.action.key&&"alertRefSDUI"===e.action.action.key&&u.actionEvents.next(e.action.action.action),"content"===e.key&&"card"===e.action.key&&["upgradeHookCard","upgradeHookCardExp"].includes(e.action.action.key)&&("onUpgradeHookCardMount"===e.action.action.action.type?m.events.next({type:"showedUpgradeHook"}):m.events.next(e.action.action.action))}))),a=Object(ie.pipe)(la.a.assistant(t),qi.b.patch("content","card")(e=>Object(ie.pipe)(qi.b.Union.asOption(qi.b.Knot.make(ra.a.SDUICardWrapper,{children:e})),qi.b.squash,qi.b.contramapState(e=>"empty"===e.kind?c.g.none:c.g.some({children:e})),qi.b.mapAction(e=>e.action.action.action))));return r.createElement(da.c.FixedContent,null,r.createElement(da.a,{title:L}),r.createElement("div",{style:{paddingRight:g.a.rem(2),display:"flex",flexDirection:"column",height:"400px",justifyContent:"end"}},qi.b.mount(a,i)))}const e=pa.a.createCardListFlow(u,p,Object(ie.pipe)(O,c.g.map(e=>e.events)),c.g.some(h.events));return r.createElement(T,null,r.createElement(da.b,{"data-name":"lensview",transition:t.view,cardsVM:u,lensPreviewVM:d,navigationVM:y,state:R,isMaster:"next"===t.type,onTransitionEnd:I,scrollEl:S,cardsListScrollManager:b,cardListFlow:e,checksFeedItem:pa.a.item,capabilities:v,comparator:pa.a.listItemOrd,title:L}))};return r.createElement(da.d.Provider,{value:x},j?r.createElement($o.a.View,{lens:l,transition:t.view,successLensViewModel:a,preventAnimation:w.preventAnimation,illustrations:_,onTransitionEnd:I,title:L,showTitle:P,scoreStatus:C.scoreStatus}):D());default:return Object(M.d)(A.currentLens)}})(Object.assign(Object.assign({},a),{successIllustrations:h})))},e.NavigationWrapper=({onMount:e,onMouseDown:t,children:n})=>r.createElement("div",{"data-name":"navigation-view",role:"navigation",ref:e,onMouseDown:t,className:Na.navigationWrapperTier},n),e.NavigationView=t=>{const{withNeutralForSelection:n}=r.useContext(he.a.Context),i=n(e.NavigationWrapper);return r.createElement(i,{onMouseDown:t.onMouseDown},r.createElement(e.ActionsView,Object.assign({},t),r.createElement(e.LensNavigationView,Object.assign({},t)),r.createElement(s.a.Fragment,null,t.features.isFree.view(e=>e||t.features.denali.gbVoxLensUphook||Xn.g.isBusinessAdmin(t.features.denaliUserType)?r.createElement(Io.a,{key:"freemium-notification-host",isSidebarOpen:t.denaliViewModels.lensState.view(ue.e.isSidebarOpened),upgradeViewModel:t.denaliViewModels.upgradeViewModel,navigationViewModel:t.denaliViewModels.navigationViewModel}):null))))},e.TheViewPlaceholder=()=>{const e=t();return r.createElement("div",{className:e})},e.Grid=({name:e,className:t,opened:n,children:i})=>r.createElement(s.a.div,Object.assign({key:"sidebar-tier","data-name":"sidebar-tier"},Object(re.c)(Na.sidebarTier,n.view(e=>!e&&Na.hiddenWrapper),t)),r.createElement("div",{key:"sidebar-wrapper","data-name":e,className:Na.sidebarWrapper},i));const a=[ue.i.closed,ue.i.lensview,ue.i.advanced,ue.i.plagiarism],d=e=>(...t)=>[...t,e].join(" "),u=e=>ue.e.isLensview(e)&&!pa.a.isInSuccess(e)||e.currentLens.type===ue.i.advanced,p=(e,t)=>Object(ie.pipe)(e.transitionSource,c.g.map(({top:e})=>e),c.g.filter(e=>{const t=B.c.Rect.fromEl(document.body);return t.top<e&&e<t.bottom}),c.g.fold(Object(o.constant)(t),e=>g.a.style({opacity:0,transform:`translateY(${e}px)`})));e.stateToClassMapper=(e,t)=>{const n=void 0!==e&&e.get(),i=t.get();if(!1===n)return{prev:{start:{},end:{}},next:{start:{base:Na.sidebarEnterLeft,title:Na.titleEnterLeft},end:{base:Na.sidebarEnterLeft,title:Na.titleEnterLeft}}};if(ue.e.isSidebarOpened(n)){if(ue.e.isSidebarOpened(i)){if(i.alertSource===ue.c.forceSidebar||i.alertSource===ue.c.forceText)return{prev:{start:{base:Na.lensHideStart,content:Na.contentHideStart},end:{base:Na.lensHide,content:Na.contentHide}},next:{start:{},end:{}}};if(u(i)&&u(n)){const e="textOrder"===i.switchOrder?Na.lensMoveUp:wn.a.ord.compare(n.currentLens.meta,i.currentLens.meta)>0?Na.lensMoveDown:Na.lensMoveUp,t=d(e);return{prev:{start:{base:"",title:Na.lensLeaveStartTitle,content:t(Na.lensLeaveStartContent,Na.lensLeaveStart),allAlertsButton:Na.allAlertsVisible,assistantWrapper:Na.absoluteAssistant},end:{base:"",title:Na.lensLeaveTitle,content:t(Na.lensLeaveContent,Na.lensLeave),allAlertsButton:Na.allAlertsHidden,assistantWrapper:Na.absoluteAssistant}},next:{start:{base:"",title:Na.lensEnterStartTitle,content:t(Na.lensEnterStartContent,Na.lensEnterStart),allAlertsButton:Na.allAlertsHidden},end:{base:"",title:Na.lensEnterTitle,content:t(Na.lensEnterContent,Na.lensEnter),allAlertsButton:Na.allAlertsVisible}}}}{const e=a.indexOf(n.currentLens.type)-a.indexOf(i.currentLens.type)>0||pa.a.isInSuccess(i)?Na.lensMoveUp:Na.lensMoveDown,t=d(e),r=pa.a.isInSuccess(i)?Na.stateEnterStart:Na.lensEnterStart,o=pa.a.isInSuccess(i)?Na.stateEnter:Na.lensEnter;return{prev:{start:{base:t(Na.stateLeaveStart),content:t(Na.lensLeaveStartContent),title:Na.lensLeaveStartTitle,assistantWrapper:Na.absoluteAssistant},end:{base:t(Na.stateLeave),content:t(Na.lensLeaveContent),title:Na.lensLeaveTitle,assistantWrapper:Na.absoluteAssistant}},next:{start:{base:i.currentLens.id===wn.a.SpecialId.DraftAI?p(i.currentLens,r):t(r),content:t(Na.lensEnterStartContent),title:Na.lensEnterStartTitle},end:{base:t(o),content:i.currentLens.id===wn.a.SpecialId.DraftAI?Na.draftAILensContent:t(Na.lensEnterContent),title:Na.lensEnterTitle}}}}}return{prev:{start:{base:Na.sidebarLeaveRightStart},end:{base:Na.sidebarLeaveRight,title:Na.titleLeaveRight}},next:{start:{},end:{}}}}return{prev:{start:{},end:{}},next:{start:{base:Na.sidebarEnterLeftStart,title:Na.titleEnterLeftStart},end:{base:Na.sidebarEnterLeft,title:Na.titleEnterLeft}}}},e.Loader=({state:t,baseLoaderClass:n,showToolbar:i})=>r.createElement(e.Grid,{name:"sidebar-loader",opened:l.a.create(!0)},r.createElement(ga,{state:t.view("lens"),theme:zo},r.createElement(s.a.div,Object.assign({},Object(re.c)(Na.loaderWrapper,n)),r.createElement(da.c.Rechecking,{"data-name":"lensviewRechecking",key:"lensview-rechecking"}))),r.createElement(Ba.Loader,{baseLoaderClass:n,state:t,showToolbar:i}));const h=fe.b.createComponent({component:s.a.div,section:fe.b.create(fe.b.Id.navigation)});e.ActionsView=({denaliViewModels:{lensPreviewViewModel:e,navigationViewModel:t,proofitViewModel:n,lensState:i},documentModel:a,plagiarismModel:o,features:s,JSXPortal:l,children:c})=>r.createElement(h,{className:Na.actionsWrapper},r.createElement(Mo,{documentModel:a,features:s,state:i,navigationViewModel:t}),c,r.createElement($a,{state:i,plagiarismModel:o,proofitViewModel:n,lensPreviewVM:e,features:s,navigationViewModel:t}),r.createElement(l,null,r.createElement(to,{proofit:n}))),e.LensNavigationView=({denaliViewModels:{lensState:e,navigationViewModel:t,modalManager:n},documentModel:i,features:a})=>r.createElement(Ba,{state:e,checkingState:i.checkingState},r.createElement(Ba.Content,{documentModel:i,modalManager:n,navigationViewModel:t,features:a}))}(Wo||(Wo={}));class Ko extends r.Component{constructor(){super(...arguments),this._editorHeight=l.a.create(0),this._subs=new ce.a.Keeper,this._connection=_.TextView.createConnection()}componentDidMount(){this._subs.push(Object(o.pipe)(this._connection,j.a.TextView.connect(this.props.denaliEditor)).subscribe())}componentWillUnmount(){this._subs.dispose(),this._connection.dispose()}shouldComponentUpdate(){return!1}render(){const{denaliEditor:e,state:t,scrollbarViewModel:n,children:i,scrollEl:a,featuresViewModel:o}=this.props,s=ki.a.withViewportContainer(Zo(Xo,{state:t}),{type:ki.a.ContainerType.inherit});return r.createElement(s,{name:"editorComponent",className:we.scrollWrapFixed},r.createElement(H.b,{denaliEditor:e,customTitlePlaceholder:o.denali.customTitlePlaceholder,theme:Object.assign({},we),scrollEl:a,editorHeight:this._editorHeight,scrollTop:n.scrollTop},i(new f.a.Subject,this._editorHeight)))}}class Yo extends r.Component{render(){const{state:e,children:t}=this.props,n=Zo(Xo,{state:e});return r.createElement(n,{name:"editorComponent",className:we.scrollWrapFixed},r.createElement(r.Fragment,null,r.createElement(_e,{selectionEffect:he.a.Effect.collapse},r.createElement("div",{className:we.textContent})),t))}}const Xo=({className:e,onMount:t,children:n,name:i})=>r.createElement(s.a.div,{"data-name":i,name:"text",key:"denaliEditorWrapper",className:e,mount:t},n);function Zo(e,t){return class extends r.Component{constructor(){super(...arguments),this._textTransition=t.state.view(ue.e.isSidebarOpened).pipe(f.a.skip(1),f.a.switchMap(e=>ha.a.rafSequence(e?[we.toWritingStart,we.toWritingStart,we.toWritingEnd]:[we.toEditingStart,we.toEditingStart,we.toEditingEnd],!0)),f.a.startWith(void 0))}shouldComponentUpdate(){return!1}render(){const{className:t}=this.props;return r.createElement(e,Object.assign({},this.props,Object(re.c)(t,we.editorComponentWrapper,we.container,this._textTransition)))}}}var Qo=n("2HQ1"),Jo=n("hOiz"),es=n("HeG+");const ts=150,ns=70,is=32;class as extends r.Component{constructor(){super(...arguments),this._log=C.Monitoring.Logging.getLogger("SynonymsPopup"),this._state=l.a.create(c.g.none),this._getPosition=([e,t])=>this._el?Object(ie.pipe)(this.props.synonyms.getSynonymMarkRect(this.props.synonymsInfo.activeMark),c.l.bimap(e=>(this._log.info("Cannot get synonym popup position",e),e),n=>{const i=_i.b.relativeToRoot(n),a=_i.b.relativeToViewport(n),{width:r,height:o}=this._el.getBoundingClientRect(),s=t<i.bottom+o+is&&o<i.top+ts,l=s?i.top-o:i.bottom,d=a.left+r,u=d<e.right?0:d-e.right+is,p=i.left-u,h=(s?a.top-e.top-o:e.bottom-a.bottom-o)<ns?c.g.some((()=>s?Math.min(e.top+o+ns,e.bottom-i.height):Math.max(e.bottom-o-ns,i.height+ns))()):c.g.none;return c.g.some({card:{top:l,left:p},markOffset:h})})):c.l.right(c.g.none),this._sub=null,this._rendered=!1}componentDidMount(){const{synonyms:e,synonymsInfo:t,editorHeight:n}=this.props;this._sub=this.context.pipe(f.a.map(e=>e.rect),f.a.combineLatest(n),f.a.delay(1),f.a.switchMap(Object(o.flow)(this._getPosition,f.a.defer))).subscribe(n=>{this._rendered||(this._rendered=!0,Object(ie.pipe)(n,c.b.map(c.g.chain(({markOffset:e})=>e)),c.b.map(c.g.map(n=>{e.scrollToMark(t.activeMark,n,D.a.fast).subscribe({error:e=>this._log.error("Cannot scroll to synonym",e)})})))),Object(ie.pipe)(n,c.b.fold(e=>this._log.error("Cannot get position",e),e=>this._state.set(c.g.map(({card:e})=>e)(e))))})}componentWillUnmount(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}render(){const{synonyms:e,synonymsInfo:t}=this.props;return r.createElement(s.a.div,{mount:e=>this._el=e,key:"synonymsPopupWrapper",style:this._state.view(e=>c.g.getOrElse(()=>({visibility:"hidden",pointerEvents:"none"}))(e)),className:es.synonymsPopupWrapper},r.createElement(Qo.a,{hide:()=>e.close("closedByUser")},this.props.features.synonymsSynfony?r.createElement(Jo.b,{synonymsInfo:t,apply:t=>()=>e.apply(t)}):r.createElement(Jo.a,{synonymsInfo:t,apply:t=>()=>e.apply(t)})))}}as.contextType=ki.a.Context;class rs extends r.Component{constructor(){super(...arguments),this._log=C.Monitoring.Logging.getLogger("SynonymIconWrapper")}render(){const{markRect:e,className:t,children:n}=this.props;return r.createElement(s.a.div,{className:t,style:this.context.pipe(f.a.map(e=>e.rect),f.a.map(this._log.handler("Update tooltip position").debug),f.a.map(()=>Object(ie.pipe)(e,c.b.map(e=>un.d.translate(e.left+e.width,e.top)),c.g.fromEither,c.g.getOrElse(()=>({visibility:"hidden"})))))},n)}}rs.contextType=ki.a.Context;class os extends r.Component{constructor(){super(...arguments),this._log=C.Monitoring.Logging.getLogger("SynonymsView")}shouldComponentUpdate(){return!1}renderLoader(e){return f.a.defer(this.props.synonyms.getSynonymMarkRect(e.activeMark)).pipe(f.a.map(c.b.map(_i.b.relativeToRoot)),f.a.map(e=>r.createElement(rs,{className:es.iconWrapper,markRect:e},r.createElement(ve.d.SynonymLoader,{className:es.loader}))),f.a.delay(1e3),f.a.startWith(null))}renderPopup(e){return this.props.synonyms.onPopupOpen(),f.a.of(r.createElement(as,{synonyms:this.props.synonyms,synonymsInfo:e,editorHeight:this.props.editorHeight,features:this.props.features}))}render(){const{synonyms:e}=this.props;return r.createElement(s.a.div,{className:es.contentWrapper},e.viewState.pipe(f.a.tap(e=>this._log.debug("Synonym state changed",Object(ie.pipe)(e,c.g.fold(()=>null,e=>({kind:e.synonymsState.kind,popupVisible:e.popupVisible}))))),f.a.switchMap(c.g.mapOrDefault(e=>Ln.a.isQuerying(e.synonymsState)?this.renderLoader(e):(Ln.a.isReady(e.synonymsState)||Ln.a.isEmpty(e.synonymsState))&&e.popupVisible?this.renderPopup(e):f.a.of(null),f.a.of(null)))))}}var ss=n("HDvz"),ls=n("EH1O"),cs=n("3zdQ"),ds=n("0lfv"),us=n("qPuW");const ps=({onClick:e,tooltip:t})=>r.createElement(be.a.Ghost,{name:"to-home",onClick:e,title:t.view(e=>e.orUndefined()),className:us.toolbarBtn,animationMode:Ne.a.FromCenter},r.createElement(ve.d.Arrow,{className:us.backIcon})),hs=({userAccount:e})=>{const t=r.useContext(oe.a.Context);return r.createElement(ps,{tooltip:l.a.create(Object(ae.h)(t.toolbar.signOut)),onClick:e.logout})},ms=({type:e,userAccount:t})=>{const n=r.useContext(E.a.Context),i=r.useContext(oe.a.Context);return r.createElement("div",{className:us.fakeToolbarWrapper,"data-name":"document-tools"},t.features.demoMode?r.createElement(hs,{userAccount:t}):r.createElement(ps,{tooltip:l.a.create(Object(ae.h)(i.toolbar.backToMyGrammarly)),onClick:()=>n.navigate(E.a.routes.documents.href())}),r.createElement(F.f,{className:us.fakeToolbarTitle,"data-name":"toolbar-title"},e===Bn.a.TextType.loading?i.toolbar.loading:i.toolbar.processing))};var gs,fs=n("vu24");!function(e){e.Loader=({userAccount:e,documentLoader:n,className:i})=>r.createElement(s.a.Fragment,null,n.state.view("text").view(ds.a.mapOrNull(a=>r.createElement("div",{key:"with-text-loader",className:i},r.createElement("div",Object.assign({key:"editor"},Object(re.c)(fs.secondTierLoader,fs.baseLoaderClass)),!e.features.denali.hideToolbar&&r.createElement(ms,{type:a,userAccount:e}),r.createElement(Se,{position:"top"},r.createElement("div",{className:fs.textLoaderWrap},r.createElement(cs.b,null)))),r.createElement(t,{documentLoader:n}))))),e.AssistantOnlyLoader=({documentLoader:e,className:n})=>r.createElement("div",{className:n},r.createElement(t,{documentLoader:e}));const t=({documentLoader:e})=>r.createElement(Wo.Loader,{key:"sidebar-loader",state:e.state,baseLoaderClass:fs.baseLoaderClass,showToolbar:e.state.view("text").view(e=>e.isEmpty())})}(gs||(gs={}));var bs=n("BfMR");const ys=({width:e,className:t,children:n})=>r.createElement(s.a.div,Object.assign({},Object(re.c)(bs.invisibleScrollbar,t),{style:e.pipe(f.a.map(e=>({width:`calc(100vw - ${e}px)`})))}),n),vs=({onMount:e})=>r.createElement("div",{className:bs.scrollDetector,ref:e}),ks=()=>{const e=r.useContext(xi.a.Context);return b.a.useSubscriptionTo(e.has(xi.a.Flag.preventNavigationByOverscrollWithJS)?f.a.fromEvent(document,"wheel").pipe(f.a.tap(e=>{Math.abs(e.deltaX)>=Math.abs(e.deltaY)&&e.preventDefault()})):f.a.EMPTY),r.useEffect(()=>(document.body.classList.add(bs.preventOverscroll),()=>document.body.classList.remove(bs.preventOverscroll))),r.createElement(r.Fragment,null)},ws=e=>{const{denaliEditorModel:t,documentModel:n,plagiarismModel:i,userAccount:a,denaliViewModels:o,capabilities:d,documentLoader:u,loaderClassName:p}=e,h=l.a.create(c.g.none),m=new Ni;b.a.useSubscriptionTo(h.pipe(f.a.tap(y.b.toAtom(m.target))));const{withSelectionEffect:g}=r.useContext(he.a.Context),v=g(({onMouseDown:e})=>r.createElement("div",{className:fs.horizontalEditorWrapper,onMouseDown:e},r.createElement(ki.a.InheritVirtualContainer,{name:"withPadding",viewportPadding:S},r.createElement(Ko,{denaliEditor:t,settingsModel:a.settings,featuresViewModel:a.features,state:o.lensState,scrollbarViewModel:m,scrollEl:h,viewportPadding:S},(e,i)=>r.createElement(Cs,{denaliViewModels:o,denaliEditorModel:t,editorHeight:i,docFeatures:n,features:a.features.denali}))),r.createElement(vs,{key:"scroll-detector",onMount:e=>m.detector.set(c.g.fromNullable(e))})),he.a.Effect.collapse),k=g(()=>r.createElement(Wo.TheView,{denaliViewModels:o,capabilities:d,documentModel:n,plagiarismModel:i,features:a.features,scrollEl:h}),he.a.Effect.collapse),w=g(Wo.NavigationView,he.a.Effect.collapse),S=l.a.create(D.h.empty),_=un.d.Portal.create("modals-portal");return r.createElement(r.Fragment,null,r.createElement(ks,null),r.createElement(_.Destination,null),r.createElement(s.a.div,{"data-name":"document-content",className:fs.secondTier,style:{paddingRight:`${m.fakeWidth}px`},mount:e=>h.set(c.g.fromNullable(e))},u.state.view("text").view(e=>e.fold(()=>r.createElement(wi.a.Top,{className:fs.fixedLoader,key:"navigation-loader"},r.createElement(ys,{width:m.width,className:fs.withPlaceForScrollbar},r.createElement(gs.AssistantOnlyLoader,{documentLoader:u,className:p}))),()=>null)),r.createElement(Ss,{scrollbarWidth:m.width,sidebarOpen:o.lensState.view(ue.e.isSidebarOpened),editor:r.createElement(Yo,{state:o.lensState,features:a.features},r.createElement(ze.Component,{denaliEditor:t,documentModel:n,settingsModel:a.settings,state:o.lensState,viewportPadding:S,formattingViewModel:o.formattingViewModel,emotionsViewModel:o.emotionsViewModel,features:a.features})),assistant:r.createElement(r.Fragment,null,r.createElement(Wo.TheViewPlaceholder,null),r.createElement(w,{denaliViewModels:o,capabilities:d,documentModel:n,plagiarismModel:i,features:a.features,scrollEl:h,JSXPortal:_.Source}))},r.createElement(()=>{switch(a.features.denali.documentToolbar){case Xn.d.documentSettings:return r.createElement(ss.a,{documentSettingsViewModel:o.documentSettingsViewModel.viewModel,lensState:o.lensState,isDemoMode:a.features.demoMode,isUkraineMode:a.features.denali.ukraineLogo});case Xn.d.none:return null;default:return Object(M.d)(a.features.denali.documentToolbar)}},null)),r.createElement(_s,{opened:o.lensState.view(ue.e.isSidebarOpened),editor:r.createElement(v,null),assistant:r.createElement(k,null)})))},Ss=({sidebarOpen:e,editor:t,assistant:n,scrollbarWidth:i,children:a})=>r.createElement(wi.a.Top,{className:fs.fixedHorizontal},r.createElement(ys,{width:i,className:fs.withPlaceForScrollbar},t,r.createElement(Wo.Grid,{name:"sidebar-placeholder",opened:e},n),a)),_s=({opened:e,editor:t,assistant:n})=>r.createElement("div",{className:fs.horizontal},t,r.createElement(Wo.Grid,{name:"sidebar",opened:e},n)),Cs=({denaliViewModels:e,denaliEditorModel:t,editorHeight:n,docFeatures:i,features:a})=>{const o=r.useContext(oe.a.Context),l={denaliEditorModel:t,onboardingViewModel:e.onboardingViewModel},d=Object.assign(Object.assign({},l),{alignment:"bottomCenter",title:"In-line corrections",overlay:e=>r.createElement(wi.a.Top,{className:fs.fixedOverlay},r.createElement(s.a.div,{className:e.view(e=>e?fs.overlayVisible:"")},r.createElement(qn.b,{positionType:"fixed",visible:e,alignment:"none",overlayType:"transparent"}))),getFirstTargetRect:()=>e.onboardingViewModel.getFirstTargetRect()}),{withSelectionEffect:u}=r.useContext(he.a.Context),p=u(he.a.Effect.PlainContainer,he.a.Effect.prevent);return r.createElement(s.a.Fragment,null,e.lensState.view(ue.e.isSidebarOpened).view(t=>t&&r.createElement(Ai,Object.assign({key:"sidebar-opened"},d,{stepId:Si.a.StepId.Step11,message:"Click underlined words to see more details about what Grammarly has found.",completionTrigger:e.onboardingViewModel.completionTrigger.pipe(f.a.skip(1)),eventType:"onclick"}))),r.createElement(na,{className:fs.inlineCardWrapper,inlineCardVM:e.inlineCardViewModel,inlineUpgradeHookVM:e.inlineUpgradeHookViewModel}),r.createElement(Ai,Object.assign({},l,{stepId:Si.a.StepId.Step9,alignment:"bottomRight",eventType:"onhover",title:"Synonyms",message:"Click on a word twice to see the synonyms.",getFirstTargetRect:()=>e.synonymsViewModel.getFirstSynonymRect(),completionTrigger:e.synonymsViewModel.popupShown.pipe(f.a.skip(1))})),Object(ie.pipe)(e.formattingViewModel,c.g.map(e=>r.createElement(p,null,r.createElement(ls.a,{vm:e.linksManager}))),c.g.toNullable),r.createElement(os,{synonyms:e.synonymsViewModel,editorHeight:n,features:a}),r.createElement("div",{className:fs.documentContainer},a.graySelection&&r.createElement(Ii,{ded:t}),r.createElement(Fi,{className:fs.documentPlaceholder,viewModel:e.documentPlaceholderViewModel,strings:i.rtfMode===A.d.DocumentFeatures.FormattingMode.on?o.placeholderRTF:o.placeholder})))};var Es=n("SxAM"),Os=n("zqxF");const As="You may have unsaved changes in your document that will be lost if you leave the page.",xs="The changes in your document may be lost if you leave this page.",Ts=e=>((e=>{b.a.useSubscriptionTo(e?f.a.fromEvent(document.body,"click",{passive:!0,capture:!0}).pipe(f.a.first(),f.a.delay(1e3),f.a.tap(()=>{const e=[...Array.from(document.documentElement.children),...Array.from(document.body.children)].filter(e=>!e.hasAttribute("data-verified")&&"head"!==e.nodeName.toLowerCase()).map(e=>({nodeName:e.nodeName,src:e.getAttribute("src"),content:e.outerHTML.substr(0,255)}));e.length&&e.forEach(e=>{C.Monitoring.Logging.getLogger("3rdPartyInjections").info("found unknown element",e)})})):f.a.EMPTY)})(e.userAccount.features.track3rdPartyExtensionsInjection),r.createElement(Ls,{actions:e.environment.actions,documentModel:e.documentModel},r.createElement(Is,Object.assign({},e)))),Ms=({denaliViewModels:e,userAccount:t,documentModel:n,documentLoader:i,notificationsManager:a,uploadViewModel:o,mpteReady:s})=>{const l=r.useContext(E.a.Context),c=r.useContext($n.a.Context),d=r.useContext(O.a.Context),u=r.useContext(Hn.a.Context),p=e.createLoaderViewModel(o,s),h=new ti(e.modalManager,t,n,p,i.state,l,a,c,d,u);return b.a.useSubscriptionTo(h.init()),b.a.useEffectOnWillUnmount(()=>p.dispose()),r.createElement(r.Fragment,null)},js=un.d.lazy(()=>n.e(5).then(n.t.bind(null,"rdEn",7)));class Is extends r.Component{constructor(){super(...arguments),this._subs=new ce.a.Keeper}_trackAlertActions(){return[this.props.denaliViewModels.lensState.view(ue.e.isSidebarOpened).pipe(f.a.switchMap(y.b.orEmpty(this.props.denaliViewModels.alertUserEvents.alertClicked)),f.b.compact).subscribe(e=>{this.context.gnarSpec.alertUnderlineClick(this.context.pageId,"assistantOn",this.context.pageSessionId,wn.a.isPremiumId(e.alert.lensId)?"premiumUphookPreview":e.alert.lensId)})]}componentWillMount(){C.Monitoring.Logging.root.context.add({denali:!0})}componentDidMount(){const{documentModel:e,selfUpdate:t,denaliEditorModel:n}=this.props;this.context.gnarSpec.denaliDocumentPageShow(this.context.pageId,document.location.toString(),this.context.isTouchDevice),this._subs.push(t.watch(e.saved.pipe(f.a.startWith(!0)),"saved"),n.dontFreezeWhen(qn.b.activeCount.view(e=>e>0),"overlay"),...this._trackAlertActions())}render(){const{denaliViewModels:e,denaliEditorModel:t,notificationsManager:n,uploadViewModel:i,environment:a,children:l,userAccount:c,subscription:d,documentModel:u,documentLoader:p,mpteReady:h}=this.props;return r.createElement(r.Fragment,null,r.createElement(pe.b.Context.Provider,{value:e.onboardingViewModel},r.createElement(Vn.a.Context.Provider,{value:ii(n,a)},r.createElement(fe.b.Context.Provider,{value:e.focus},r.createElement(he.a.Context.Provider,{value:he.a.getSelectionHOCs(t)},r.createElement(X.c,Object.assign({onUnmount:()=>{try{this.props.denaliViewModels.modalManager.hideAll(),e.dispose(),this._subs.dispose()}catch(e){C.Monitoring.Logging.getLogger("Main").error("Cannot shutdown the engine",e)}}},Object(re.c)(Os.firstTier)),r.createElement(Ms,{denaliViewModels:e,userAccount:c,subscription:d,documentModel:u,documentLoader:p,notificationsManager:n,uploadViewModel:i,mpteReady:h}),l,r.createElement(Es.a,{searchViewModel:e.searchViewModel,key:"search-bar"}),r.createElement(ws,Object.assign({},this.props,{loaderClassName:Os.firstTierLoader})),r.createElement(Rs,{modalManager:e.modalManager}),r.createElement(s.a.div,null,e.showConfetti.pipe(f.a.filter(o.identity),f.a.map(()=>r.createElement(Un.a,{fallback:()=>null,name:"Confetti"},r.createElement(r.Suspense,{fallback:null},r.createElement(js,{recycle:!1,tweenDuration:1e4})))),f.a.startWith(null)))))))),r.createElement(vi,{documentUpload:i.uploadModel,modalManager:e.modalManager}))}}Is.contextType=O.a.Context;const Rs=({modalManager:e})=>r.createElement(s.a.Fragment,null,e.state.view(Object(o.flow)(c.g.map(({component:e})=>e),c.g.toNullable))),Ns=({documentLoader:e,userAccount:t})=>r.createElement(gs.Loader,{className:Os.firstTierLoader,userAccount:t,documentLoader:e});class Ls extends r.Component{constructor(){super(...arguments),this._log=C.Monitoring.Logging.getLogger("block_unsaved_changes"),this._blockNavigationWhenUnsavedChanges=()=>f.a.fromEvent(window,"beforeunload").pipe(f.a.withLatestFrom(this.props.documentModel.saved,(e,t)=>t?null:e),f.a.filter(Boolean)).subscribe(e=>(e.returnValue=xs,xs)),this._notifyAboutDocumentStateChange=()=>this.props.documentModel.saved.pipe(f.a.startWith(!0)).subscribe(e=>{this.props.actions.documentStateChanged(e?X.b.DocumentState.SAVED:X.b.DocumentState.NOT_SAVED).recover(this._log.handler("Could not perform documentStateChanged action.").warn)}),this._handleUnsavedChanges=()=>this._blockNavigationWhenUnsavedChanges().add(this._notifyAboutDocumentStateChange())}render(){return r.createElement(X.c,{onMount:this._handleUnsavedChanges},this.props.children,r.createElement(Wn.b.Block,{when:this.props.documentModel.saved.pipe(f.a.startWith(!0),f.a.map(e=>!e)),message:()=>(this.props.documentModel.flush().catch(e=>this._log.error("Could not flush document before exit",e)),this._log.warn("unsaved changes prompt before navigate"),As)}))}}var Ps=n("0Qd1");const Ds=g.a.style({margin:`${g.a.rem(-10)} ${g.a.rem(-2)} 0 0`}),Fs=()=>{const e=r.useContext(E.a.Context);return r.createElement(Ps.a,{name:"doc-not-found",logo:r.createElement(Bs,{className:Ds}),title:"Can’t find this document",description:"It looks like this document was removed or URL is incorrect.",primaryButton:{title:"Go to your documents",onClick:()=>e.navigate(E.a.routes.documents.href())}})},Bs=({className:e})=>r.createElement("svg",{width:"194",height:"128",viewBox:"0 0 194 128",className:e},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M44 40h64c2.2 0 4 1.8 4 4v80c0 2.2-1.8 4-4 4H45c-2.76 0-5-2.24-5-5V44c0-2.2 1.8-4 4-4z",fill:"#E4E6F2",opacity:".8"}),r.createElement("rect",{stroke:"#8189A9",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"47",y:"33",width:"72",height:"88",rx:"1"}),r.createElement("path",{d:"M60.28 86h44.67M60.28 96h44.67M60.28 107H73",stroke:"#E4E6F2",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("g",{transform:"translate(64 47)"},r.createElement("circle",{fill:"#8189A9",cx:"3",cy:"3",r:"3"}),r.createElement("circle",{fill:"#8189A9",cx:"33",cy:"3",r:"3"}),r.createElement("path",{d:"M29.46 21.54C26.66 18.74 22.78 17 18.5 17c-4.28 0-8.16 1.73-10.96 4.54",stroke:"#8189A9",strokeWidth:"2",strokeLinecap:"round"})),r.createElement("path",{d:"M188.13 106.03c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM86.03 3.13l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F6C2CB",fillRule:"nonzero"}),r.createElement("path",{d:"M4.6 60.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3C5.9 53.9 7 55 7 56.3c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7",fillRule:"nonzero"}))),Hs=({docId:e,engine:t,ded:n,userAccount:i,upgradeHook:a,remSize:s,notificationsCenter:l,networkState:d,uploadViewModel:u,notificationsManager:p,selfUpdate:h,clientsState:m,documentLoader:g,textResources:b,config:y,router:v,environment:w,platformEnvironment:S,connection:_,commandDispatcher:C,doxApi:E,doxWSApi:A})=>{const x=new ge.a(_,C,t,n,i,a,i.subscription,w,S,r.useContext(O.a.Context),s,d,e,u,p,i.settings,g,b,y,v,E,A),T=Object(o.pipe)(i.features.denali.enableMPTE,c.g.filter(({enabled:e})=>e),c.g.fold(()=>f.a.of(!0),()=>_.internalMessages.pipe(f.a.filter(k.a.MPTE.RestartComplete.is),f.a.first(),f.a.mapTo(!0))));return r.createElement(Ts,{denaliEditorModel:n,plagiarismModel:t.plagiarismModel,documentModel:t.sessionModel,uploadViewModel:u,userAccount:i,subscription:i.subscription,selfUpdate:h,denaliViewModels:x,capabilities:x.capabilities,notificationsManager:p,clientsState:m,documentLoader:g,environment:w,mpteReady:T},l)},Vs=p.a.fontsProvider(s.a.div),Us=e=>{const{docId:t,userAccount:n,networkState:i,selfUpdate:a,uploadViewModel:o,upgradeHook:s,engineStream:l,notificationsManager:p,clientsState:g,documentLoader:y,textResources:k,config:w,router:S,environment:_,platformEnvironment:E,connection:A,doxApi:x,doxWSApi:T}=e,M=C.Monitoring.Logging.getLogger("denali.editorContent"),j=r.useContext(O.a.Context),I=r.createElement(h.a,{key:"platformNotificationsCenter",views:N.a,manager:p,onNotificationClose:e=>j.gnarSpec.notificationCloseButtonClick(e.type,j.pageId)});return b.a.useEffectOnDidMount(()=>{M.info("denali page mount"),document.body.classList.remove("editorTs")}),b.a.useEffectOnWillUnmount(()=>{M.info("denali page unmount"),document.body.classList.add("editorTs")}),r.createElement(u.a.DefaultManager,null,r.createElement(v.a.DefaultManager,null,r.createElement(Vs,{key:t},r.createElement(Fn.a,null),l.pipe(f.a.map(c.g.fold(()=>I,c.b.fold(e=>e.code===d.a.WsCodes.NOT_FOUND?(M.warn("document not found on init",e),r.createElement(Fs,{key:"404"})):(e.code===d.a.WsCodes.UNAUTHORIZED?M.warn("unauthorized on init",e):M.warn("engine init error",e),I),([e,l,c])=>r.createElement(u.a.Context.Consumer,{key:"remSize"},d=>r.createElement(O.a.ContextProvider,{gnarSpec:j.gnarSpec,docId:j.docId,pageId:l.sessionModel.isDemoDocument?"demoDocument":"document",pageSessionId:j.pageSessionId},r.createElement(Hs,{key:"main",docId:t,engine:l,ded:e,remSize:d,notificationsCenter:I,uploadViewModel:o,networkState:i,userAccount:n,upgradeHook:s,notificationsManager:p,selfUpdate:a,clientsState:g,documentLoader:y,textResources:k,config:w,router:S,environment:_,platformEnvironment:E,connection:A,commandDispatcher:c,doxApi:x,doxWSApi:T})))))),f.a.startWith(I)),r.createElement(m.a,{key:"tooltip"}))))};class qs extends r.Component{constructor(){super(...arguments),this._uploadViewModel=new I.b(this.props.doxApi,this.props.router,this.props.notificationsManager,this.context,this.props.environment,this.props.config),this._documentLoader=new Bn.b(this.props.router,this.props.userAccount.features.denali),this._connection=_.ChecksBackend.createConnection(),this._docId=l.a.create(c.g.fromNullable(Number(this.props.docId)))}_renderPageDoc(e){R.a.docLoad.start();const{userAccount:t,networkState:n,upgradeHook:a,doxApi:s,doxWSApi:l,wsConnectivity:d,selfUpdate:u,notificationsManager:p,clientsState:h,textResources:m,config:g,router:b,environment:v,platformEnvironment:k,telemetryContainerId:w}=this.props,S=Ye.createDoxEventsCollector(),_=y.b.promiseToStream(()=>Dn.getDoxInit(e,l,d,S).then(n=>{const a={id:e,rtfMode:A.d.DocumentFeatures.getFormattingMode(n.meta.originalFilename,n.meta.createdAt,t.features.denali),template:x.a.fromDocSettings(n.meta.settings)},r=Object(o.pipe)(t.features.denali.enableMPTE,c.g.fold(o.constFalse,e=>e.enabled)),l=T.a.create(n,S.dox,t.features),u=Ge(t,v,a,l,r),p=i.getCommandResponses(this._connection),h=i.create(p);return[u,Dn.create(n,S,g,w,s,d,u,e,t.settings,t.features,v,l,r,h,t.settings.supportUkraineCardAppearanceCount,()=>t.settings.supportUkraineCardSeen()),h]}));return this._documentLoader.listenEngineErrors(_),r.createElement(E.c,{key:`base-page-${e}`,title:_.pipe(f.a.switchMap(Object(o.flow)(c.g.chain(c.g.fromEither),c.g.fold(()=>f.a.of("Grammarly"),([e,t])=>t.sessionModel.title))),f.a.map(e=>e||"Grammarly"))},r.createElement(r.Fragment,null,r.createElement(Us,{key:"denali-editor-content",docId:`${e}`,userAccount:t,upgradeHook:a,networkState:n,uploadViewModel:this._uploadViewModel,engineStream:_,selfUpdate:u,notificationsManager:p,clientsState:h,documentLoader:this._documentLoader,textResources:m,config:g,router:b,environment:v,platformEnvironment:k,connection:this._connection,doxApi:s,doxWSApi:l}),r.createElement(Ns,{key:"loader",userAccount:this.props.userAccount,documentLoader:this._documentLoader})))}shouldComponentUpdate(){return!1}componentWillReceiveProps(e){const t=Number(e.docId);this._docId.set(c.g.fromNullable(t))}componentWillUnmount(){R.a.docLoad.cleanup(),this._uploadViewModel.dispose(),this._documentLoader.dispose(),this._connection.dispose()}render(){return r.createElement(s.a.Fragment,null,this._docId.view(Object(o.flow)(c.g.filter(e=>!isNaN(e)),c.g.fold(()=>r.createElement(E.c,{title:"Grammarly"},r.createElement(Fs,{key:"404"})),e=>this._renderPageDoc(`${e}`)))))}}qs.contextType=O.a.Context,g.a.setStylesTarget(document.getElementById("typestyleTarget"))},kbau:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ERkP"),a=n("rk+4"),r=n("CvSs"),o=n("mEc7"),s=n("nQSW"),l=n("Pe9T"),c=n("il7+");const d=e=>"safari"===e?l.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):l.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",");class u extends o.b{constructor(){super(...arguments),this._onMount=e=>{var t,n;null===(n=(t=this.props).mount)||void 0===n||n.call(t,e),null!=e&&(this._inputElement=e,this._inputElement.onchange=e=>this._onChange()(e))},this._onChange=()=>e=>{Boolean(e.persist)&&e.persist();const t="dataTransfer"in e?e.dataTransfer.files:e.target.files;if(!Boolean(t)||!t.length||r.a.isInProgress(this.props.documentUpload.state.get()))return;const n=this.props.documentUpload.upload({files:t,notify:1===t.length,allowMultiple:this.props.multiple,isDragNDrop:!1}).then(()=>{this._inputElement.value=""});void 0!==this.props.onUpload&&this.props.onUpload(n)}}componentWillUnmount(){this.props.documentUpload.navigated()}render(){const{hideTooltip:e}=this.props;return i.createElement(s.b.Context.Consumer,null,t=>i.createElement(a.a.Context.Consumer,null,n=>i.createElement("input",{ref:this._onMount,id:"upload","data-name":"upload-element",type:"file",tabIndex:-1,accept:d(t.info.browser),title:n.tooltipUploadElementInput,multiple:this.props.multiple,className:Boolean(e)?c.upload:c.uploadContainer,onChange:this._onChange(),"aria-label":n.tooltipUploadElementInput})))}}},kfbT:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("ERkP"),a=n("vOOZ"),r=n("1w6p"),o=n("bZeK"),s=n("bO3R"),l=n("3rlE"),c=n("zR/0"),d=n("Y7d8"),u=n("e12y"),p=n("BugA");const h=u.a.style({display:"inline-flex",verticalAlign:"middle",marginRight:u.a.rem(.75),alignItems:"center"}),m=u.a.joinClasses([u.a.style({fontWeight:"bold"}),p.o.base]),g=u.a.style({minHeight:u.a.rem(1.5)}),f=u.a.style({$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:"transparent"}}}),b=u.a.style({display:"flex",justifyContent:"space-between",alignItems:"center"}),y=u.a.style({marginTop:u.a.rem(.35)});var v;!function(e){let t,n;e.Grid=r.b.Grid.make(({slots:e})=>i.createElement(i.Fragment,null,i.createElement("span",{className:h},e.info),e.switcher)),e.GridWithBulkAccept=r.b.Grid.make(({slots:e})=>i.createElement("div",{className:b},i.createElement("span",{className:y},e.headerContent),e.bulkAccept)),function(e){let t;!function(e){let t;!function(e){e.switchBack="switchBack"}(t=e.Kind||(e.Kind={}))}(t=e.Action||(e.Action={})),e.Component=r.b.Node.make(({state:e,notify:n})=>i.createElement(a.a.Fragment,null,e.pipe(c.a.map(({lensTitle:e})=>i.createElement(i.Fragment,null,i.createElement("span",{className:m},e),i.createElement(s.a.Flat,{name:"switch-back",title:"Back to all suggestions",className:f,onClick:()=>n({kind:t.Kind.switchBack})()},i.createElement(l.d.Close,{className:g})))))))}(t=e.LensFilter||(e.LensFilter={})),function(e){e.Component=r.b.Grid.make(({slots:e})=>i.createElement(i.Fragment,null,i.createElement("span",{className:h},e.counter),e.filter))}(n||(n={})),e.DefaultHeader=r.b.Knot.make(e.Grid,{info:o.a.Component,switcher:d.a.Component}),e.LensInfoComponent=r.b.Knot.make(n.Component,{counter:o.a.Component,filter:t.Component}),e.WithFilterHeader=r.b.Knot.make(e.Grid,{info:e.LensInfoComponent,switcher:d.a.Component}),e.Component=r.b.Union.make("kind",{withFilter:e.WithFilterHeader,withoutFilter:e.DefaultHeader})}(v||(v={}))},kllO:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("I7vG"),a=n("zR/0"),r=n("lrqh"),o=n("PrA7"),s=n("PBHX");class l{constructor(e,t,n,l){this._model=e,this._modalOperations=t,this._notificationsManager=n,this._telemetry=l,this._log=o.Monitoring.Logging.getLogger("view.model.change.plan"),this.changePlan=()=>(this._telemetry.gnarSpec.changePlanConfirmationSwitchPlanButtonClick(this._model.daysToRenewal,this._model.currentPlanType,this._telemetry.pageId),a.a.from(Object(i.pipe)(this._model.changePlan(),r.l.mapLeft(this._handleChangePlanError),r.l.toPromise)).pipe(a.a.tap(this.close),a.a.switchMap(()=>(this._telemetry.gnarSpec.changePlanFormSuccess(this._model.daysToRenewal,this._model.currentPlanType,this._telemetry.pageId),this._notificationsManager.enqueue("changePlanSuccess",{planName:this.offer.title})))).toPromise()),this._handleChangePlanError=e=>{this._log.error(`Cannot change plan reason: ${e.reason}`,e.originalError);const t=s.a.isErrorLike(e.originalError)&&e.originalError.message;this._telemetry.gnarSpec.changePlanFormFail(this._telemetry.pageId,`reason: ${e.reason}, error: ${t}`),this._notificationsManager.enqueue("error").toPromise()},this.close=()=>{this._modalOperations.onClose(),this._telemetry.gnarSpec.changePlanConfirmationCloseButtonClick(this._model.daysToRenewal,this._model.currentPlanType,this._telemetry.pageId)}}get currentPlan(){return this._model.currentPlan}get offer(){return this._model.offer}get savedPrice(){return this._model.savedPrice}get nextPaymentDate(){return this._model.nextPaymentDate}}},ksOW:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ERkP"),a=n("2Jhg"),r=n("Ars8"),o=n("cqAx"),s=n("lG5l"),l=n("/kIX");const c=({html:e,title:t,alerts:n,plagiarism:l})=>i.createElement(o.a,{className:r.a.textContent},i.createElement(s.e,{title:t,author:a.e}),i.createElement(d,{alerts:n,plagiarism:l,html:e})),d=({html:e,alerts:t,plagiarism:n})=>{const a=Object(l.b)(e,t,n);return i.createElement("div",{className:r.a.text,dangerouslySetInnerHTML:{__html:a}})}},ksS5:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("OA+g"),a=n("I7vG"),r=n("94k3"),o=n("SGhz"),s=n("lrqh"),l=n("PrA7"),c=n("zR/0"),d=n("gy42");class u{constructor(e,t,n,u,p,h=0){this._capi=e,this.events=t,this._sessionChecksState=n,this._log=l.Monitoring.Logging.getLogger("CheckingStateCAPIClient"),this._subs=[],this._checkingStateInt=new c.a.Subject,this.pushChanges=e=>Object(a.pipe)(this._capi.pushChanges(e),s.l.map(e=>(this._checkingStateInt.next(this._capi.checkingState),this._updateAsyncChecksState(),e))),this.setSessionOption=e=>Object(a.pipe)(s.l.fromIOEither(()=>(e.kind===r.a.CAPISessionOptionType.Context&&(this._sessionChecksState.score.set(s.g.none),this._sessionChecksState.scoreStatus.set(s.g.none),this._checkingStateInt.next(this._capi.checkingState)),s.b.right(null))),s.l.chain(()=>this._capi.setSessionOption(e))),this.sendFeedback=e=>this._capi.sendFeedback(e),this.requestDocStats=()=>this._capi.requestDocStats(),this.requestSynonyms=(e,t)=>this._capi.requestSynonyms(e,t),this.requestSnippets=e=>this._capi.requestSnippets(e),this.shortenItSubmit=e=>this._capi.shortenItSubmit(e),this.enablePlagiarismSearch=()=>this._capi.enablePlagiarismSearch(),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>this._capi.submitRecipients(e),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.published=()=>this._capi.published(),this._log.debug("Constructing client with _hasAlertsCache = "+u);const m=r.a.CAPIEvent.is("session_started"),g=r.a.CAPIEvent.is("session_started","queue_msgs_dropped");this._subs.push(this.events.subscribe(e=>{"finish"===e.kind&&this._checkingStateInt.next(this._capi.checkingState)}),this.events.pipe(c.a.filter(g),c.a.map(m),c.a.switchMap(d.b.orEmptyRight(c.a.of(void 0).pipe(c.a.delay(1e3)))),c.a.map(()=>this._capi.checkingState)).subscribe(this._checkingStateInt));const f=t.pipe(c.a.filter(m),c.a.skip(1),c.a.switchMapTo(t.pipe(c.a.filter(r.a.CAPIEvent.is("finish")),c.a.first(),c.a.mapTo(!1),c.a.startWith(!0))),c.a.startWith(!1)),b=this._checkingStateInt.pipe(c.a.withLatestFrom(f,(e,t)=>t&&"full"===e?"checking":e),c.a.share()),y=b.pipe(c.a.takeWhile(e=>"full"!==e)),v=b.pipe(c.a.filter(e=>"full"===e),c.a.switchMap(()=>y.pipe(c.a.combineLatest(c.a.timer(h),e=>e),c.a.startWith("full"))));this._subs.push(t.subscribe(e=>{"text_info"===e.kind?n.textInfo.set(s.g.some(e.data)):"finish"===e.kind?(n.score.set(e.score),n.scoreStatus.set(e.scoreStatus)):"feedback_ack"===e.kind?(Object(a.pipe)(e,s.g.fromPredicate(r.a.CAPIEvent.isUserFeedbackWithGeneralScore),s.g.map(e=>e.outcomeScores.GeneralScore),s.g.map(e=>Math.trunc(100*e)),s.g.tap(e=>n.score.modify(Object(i.flow)(s.g.map(t=>Object.assign(Object.assign({},t),{rank:e})),s.g.orElse(s.g.some({errorRateScore:0,rank:e})))))),Object(a.pipe)(e,s.g.fromPredicate(r.a.CAPIEvent.isUserFeedbackWithScoreStatus),s.g.map(e=>e.scoreStatus),s.g.tap(e=>n.scoreStatus.set(s.g.some(e))))):"async_check_finished"===e.kind&&this._updateAsyncChecksState()})),this._subs.push(c.a.mergeStatic(y,v).pipe(c.a.skipWhile(e=>u&&"idle"!==e),c.a.startWith(p>1?u?"checking":"full":"idle"),c.a.distinctUntilChanged()).subscribe(e=>{this._log.debug("Switching checking state to "+e),n.checkingState.set(e),"full"===e&&s.l.toPromise(this.sendFeedback({kind:r.a.SystemFeedbackType.RECHECK_SHOWN})).catch(e=>{o.b.isNotConnectedError(e)?this._log.error("tried to send RECHECK_SHOWN event to Capi when not connected and failed to wait for new connection",e):this._log.error("Failed to send RECHECK_SHOWN event on Capi",e)})}))}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach(e=>e.unsubscribe())}_updateAsyncChecksState(){this._sessionChecksState.asyncChecksState.set(this._capi.asyncChecksState)}}},kv9a:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ERkP"),a=n("bO3R"),r=n("e12y"),o=n("zR/0"),s=n("1w6p");const l=s.b.Node.make(({state:e,notify:t})=>i.createElement(a.a.Primary,{name:"draftai-mini",className:u.button,onClick:t("click")},e.pipe(o.a.map(({title:e})=>e)))),c=s.b.Union.asOption(l),d={transition:"opacity 100ms"},u=r.a.prefixedStylesheet("draftai_minibutton",{button:[{position:"absolute",right:r.a.rem(2),padding:`0 ${r.a.rem(.5)}`,transition:"opacity 100ms"}],icon:[{display:"inline-flex",minHeight:r.a.rem(2),minWidth:r.a.rem(2),verticalAlign:"top"}],fadeIn:[d,{opacity:1}],fadeOut:[d,{opacity:0}]}),p=s.b.Transition.make({fadein:u.fadeIn},{fadeout:u.fadeOut}),h=s.b.Animated.make(p,c)},l0MP:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("1w6p"),s=n("ax6a"),l=n("e12y"),c=n("rk+4"),d=n("cVtq"),u=n("BT8e"),p=n("bO3R"),h=n("3rlE"),m=n("BugA"),g=n("zR/0"),f=n("aIes"),b=n("OA+g"),y=n("lrqh"),v=n("hoSD"),k=n("wOnQ");(i||(i={})).getReplacementLabelText=Object(b.flow)(y.g.filter(k.j.isRegular),y.g.map(v.e.pick("labels")),y.g.chain(Object(b.flow)(y.a.head,y.g.chain(y.a.head),y.g.map(v.e.pick("text")))),y.g.getOrElse(Object(b.constant)("")));var w,S,_=n("PyeZ"),C=n("fHRq");(S=w||(w={})).Component=o.b.Node.make(({notify:e,state:t})=>{const n=a.useContext(c.a.Context);return a.createElement("div",{className:M.container},a.createElement("div",{className:M.header},a.createElement(h.d.Sparkles,{width:20})," ",a.createElement(m.a,null,n.undoCard.title)),a.createElement(r.a.div,{className:M.buttonsContainer},t.pipe(g.a.map(({alert:t,replacementLabels:r})=>[a.createElement(p.a.Primary,{key:0,name:"inline-undo-confirm",className:M.confirmButton,onClick:f.d.callOnce(e({type:_.b.Type.confirmed,alertId:t.id}))},n.undoCard.confirm),a.createElement(p.a.Primary,{key:1,name:"inline-undo-revert",className:M.undoButton,onClick:f.d.callOnce(e({type:_.b.Type.undone,alertHighlight:{alert:t,highlightIndex:0}}))},n.undoCard.revert(a.createElement("span",{className:M.replacement},a.createElement(d.a,{newText:t.highlightTexts[0],oldText:i.getReplacementLabelText(r),theme:u.b}))))]))))}),S.View=C.a.UI.fromNode(S.Component);const E={padding:l.a.rem(.25)},O={display:"flex",padding:`${l.a.rem(.25)} ${l.a.rem(.75)}`},A={color:s.a.CoreRed50,fontStyle:"italic"},x={marginRight:l.a.rem(.5),textTransform:"none",letterSpacing:s.h.BodyLetterSpacing,fontWeight:s.h.ButtonWeight,fontSize:l.a.rem(s.h.BodySize),$nest:{"&[data-textpos='left']":{padding:`0 ${l.a.rem(.5)}`},"&[data-textpos='right']":{padding:`0 ${l.a.rem(.5)}`},"&[data-textpos='everywhere']":{padding:`0 ${l.a.rem(.5)}`}}},T={marginRight:0,background:s.a.CoreNeutral10,color:s.a.CoreNeutral90,fontWeight:s.h.BodyWeight,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:s.a.CoreNeutral10}}},M=l.a.stylesheet({container:[E],header:[{display:"flex",alignItems:"center"}],buttonsContainer:[O],replacement:[A],confirmButton:[x],undoButton:[x,T]})},lG5l:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return U})),n.d(t,"f",(function(){return Y})),n.d(t,"a",(function(){return X.b}));var i=n("ERkP"),a=n("e12y"),r=n("0Hf4"),o=n("ax6a"),s=n("Ov/9");const l="report-sections-title-",c={author:`${l}author`,titleSection:`${l}titleSection`,title:`${l}title`,largeTitle:`${l}largeTitle`,mediumTitle:`${l}mediumTitle`,smallTitle:`${l}smallTitle`,titleContainer:`${l}titleContainer`},d={display:"-webkit-box",overflow:"hidden",color:o.a.CoreNeutral90,wordWrap:"break-word",hyphens:"auto",fontWeight:"bold","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"},u={author:a.a.joinClasses([c.author,r.a.style({color:o.a.CoreNeutral50,letterSpacing:0,fontSize:a.a.px(15*s.a),lineHeight:a.a.px(24*s.a)})]),titleSection:a.a.joinClasses([c.titleSection,r.a.style({marginBottom:a.a.px(22*s.a),pageBreakInside:"avoid"})]),title:a.a.joinClasses([c.title,r.a.style(d)]),largeTitle:a.a.joinClasses([c.largeTitle,r.a.style(d,{marginBottom:a.a.px(22*s.a),fontSize:a.a.px(28*s.a),lineHeight:a.a.px(40*s.a)})]),mediumTitle:a.a.joinClasses([c.mediumTitle,r.a.style(d,{fontSize:a.a.px(22*s.a),lineHeight:a.a.px(32*s.a)})]),smallTitle:a.a.joinClasses([c.smallTitle,r.a.style(d,{fontSize:a.a.px(18*s.a),lineHeight:a.a.px(32*s.a)})]),titleContainer:a.a.joinClasses([c.titleContainer,r.a.style({overflow:"hidden",textOverflow:"ellipsis"})])},p=({title:e,author:t})=>i.createElement("section",{className:u.titleSection},i.createElement("h1",{className:e.length<100?u.largeTitle:e.length<200?u.mediumTitle:u.smallTitle},e),t.map(e=>i.createElement("p",{className:u.author},"by ",e)).getOrElse(""));var h=n("hoSD"),m=n("3BTE");const g={generalMetricsSection:"report-sections-general_metrics-generalMetricsSection",generalMetricsHeader:"report-sections-general_metrics-generalMetricsHeader",metrics:"report-sections-general_metrics-metrics"},f={generalMetricsSection:a.a.joinClasses([g.generalMetricsSection,r.a.style(m.d,{marginBottom:a.a.px(14*s.a),$nest:{"& table":{width:a.a.percent(100),whiteSpace:"nowrap"},"& tbody":{verticalAlign:"top"}}})]),generalMetricsHeader:a.a.joinClasses([g.generalMetricsHeader,r.a.style(m.c,{margin:`${a.a.px(23*s.a)} 0 ${a.a.px(4*s.a)}`})]),metrics:a.a.joinClasses([g.metrics,r.a.style({color:o.a.CoreBlue50,letterSpacing:0,fontWeight:"bold",fontSize:a.a.px(15*s.a),lineHeight:a.a.px(23*s.a),$nest:{"& td":{width:a.a.percent(21.875)}}})])},b=({stats:e})=>i.createElement("section",{className:f.generalMetricsSection},i.createElement("h2",{className:f.generalMetricsHeader},"General metrics"),i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",{className:f.metrics},i.createElement("td",null,e.chars.toLocaleString("en-US")),i.createElement("td",null,e.words.toLocaleString("en-US")),i.createElement("td",null,e.sentences),i.createElement("td",null,h.d.convertTimeToShortString(e.readingTime)),i.createElement("td",null,h.d.convertTimeToShortString(e.speakingTime))),i.createElement("tr",{className:m.a.text},i.createElement("td",null,"characters"),i.createElement("td",null,"words"),i.createElement("td",null,"sentences"),i.createElement("td",null,"reading",i.createElement("br",null),"time"),i.createElement("td",null,"speaking",i.createElement("br",null),"time")))));var y=n("3rlE"),v=n("H9Bv");var k;!function(e){e.checkMark="report-components-checkMark"}(k||(k={}));a.a.joinClasses([k.checkMark,r.a.style({display:"inline-block",marginRight:a.a.px(7*s.a),marginBottom:a.a.px(4*s.a),width:a.a.px(16*s.a),height:a.a.px(16*s.a),verticalAlign:"middle"})]);var w;!function(e){e.radialProgressBar="report-components-radial_progress-radialProgressBar",e.radialProgressText="report-components-radial_progress-radialProgressText",e.radialProgressDescription="report-components-radial_progress-radialProgressDescription"}(w||(w={}));const S={radialProgressBar:a.a.joinClasses([w.radialProgressBar,r.a.style({width:a.a.px(71*s.a),height:a.a.px(71*s.a),fontWeight:"bold",transform:`translateX(${a.a.px(-6*s.a)})`,fill:o.a.CoreNeutral90})]),radialProgressText:a.a.joinClasses([w.radialProgressText,r.a.style({fontSize:"20px"})]),radialProgressDescription:a.a.joinClasses([w.radialProgressDescription,r.a.style({fontWeight:"normal",fontSize:"11px",fill:o.a.CoreNeutral60})])},_=({percentage:e,colorType:t,iconSize:n,description:a})=>i.createElement(v.a,{percentage:e,colorType:t,iconSize:n,description:a,theme:{radialProgressBar:S.radialProgressBar,radialProgressText:S.radialProgressText,radialProgressDescription:S.radialProgressDescription}}),C={scoreTable:"report-sections-score-scoreTable",issuesSummary:"report-sections-score-issuesSummary",issueCounters:"report-sections-score-issueCounters",issueCounter:"report-sections-score-issueCounter",issuesLeftBlock:"report-sections-score-issuesLeftBlock",total:"report-sections-score-total",score:"report-sections-score-score",writingIssues:"report-sections-score-wrtitingIssues",critical:"report-sections-score-critical",advanced:"report-sections-score-advanced"},E={display:"flex",verticalAlign:"top",alignItems:"center",$nest:{"& span":{paddingLeft:a.a.rem(.8)}}},O={display:"inline-block"},A={scoreTable:a.a.joinClasses([C.scoreTable,r.a.style(m.b,{margin:`${a.a.px(22*s.a)} 0 ${a.a.px(5*s.a)}`,$nest:{"& th":{paddingBottom:a.a.px(7*s.a)},[`& .${C.score}`]:{width:a.a.percent(43.75)},[`& .${C.writingIssues}`]:{width:a.a.percent(56.25)}}})]),issuesSummary:a.a.joinClasses([C.issuesSummary,r.a.style(m.e,E)]),issueCounters:a.a.joinClasses([C.issueCounters,r.a.style(m.e,E,{paddingTop:a.a.px(30*s.a),whiteSpace:"nowrap"})]),issueCounter:a.a.joinClasses([C.issueCounter,r.a.style({letterSpacing:a.a.px(.2*s.a),fontWeight:"bold",fontSize:a.a.px(15*s.a),lineHeight:a.a.px(19*s.a)})]),issuesLeftBlock:a.a.joinClasses([C.issuesLeftBlock,r.a.style(O)]),total:a.a.joinClasses([C.total,r.a.style(O,{width:a.a.percent(38.88),$nest:{[`& .${C.issueCounter}`]:{color:o.a.CoreNeutral90,letterSpacing:0,fontSize:a.a.px(18*s.a)}}})]),critical:a.a.joinClasses([C.critical,r.a.style(O,{width:a.a.percent(38.88),$nest:{[`& .${C.issueCounter}`]:{color:o.a.CoreRed40}}})]),advanced:a.a.joinClasses([C.advanced,r.a.style(O,{width:a.a.percent(22.24),$nest:{[`& .${C.issueCounter}`]:{color:o.a.CoreYellow60}}})]),score:a.a.joinClasses([C.score]),writingIssues:a.a.joinClasses([C.writingIssues])},x=85,T=60;function M(e){return e>x?v.a.ColorType.eggBlue:e>T?v.a.ColorType.dandelion:v.a.ColorType.radicalRed}const j=({issues:e,className:t,text:n})=>i.createElement("div",{className:t},i.createElement("div",{className:A.issueCounter},e||i.createElement(y.d.Checkmark,null)),n),I=({critical:e,advanced:t})=>i.createElement("td",{className:A.issueCounters},i.createElement(j,{className:A.total,issues:e+t,text:"Issues left"}),i.createElement(j,{className:A.critical,issues:e,text:"Critical"}),i.createElement(j,{className:A.advanced,issues:t,text:"Advanced"})),R=({score:e})=>i.createElement("td",null,i.createElement(_,{colorType:M(e),iconSize:v.a.IconSize.pdf,percentage:e}),i.createElement("p",{className:m.a.text},"This text scores better than ",e,"%",i.createElement("br",null),"of all texts checked by Grammarly")),N=()=>i.createElement("section",{className:m.a.section,"data-name":"no-writing-issues"},i.createElement("table",{className:A.scoreTable},i.createElement("thead",{className:m.a.sectionHeader},i.createElement("tr",null,i.createElement("th",{className:A.writingIssues},"Writing Issues"))),i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:A.issuesSummary},i.createElement(y.d.Checkmark,null),i.createElement("span",null,"No issues found")))))),L=({score:e,critical:t,advanced:n})=>i.createElement("section",{className:m.a.section,"data-name":"section-score-"+e},i.createElement("table",{className:A.scoreTable},i.createElement("thead",{className:m.a.sectionHeader},i.createElement("tr",null,i.createElement("th",{className:A.score},"Score"),i.createElement("th",{className:A.writingIssues},"Writing Issues"))),i.createElement("tbody",null,i.createElement("tr",null,i.createElement(R,{score:e}),i.createElement(I,{critical:t,advanced:n}))))),P=({score:e,critical:t,advanced:n})=>t||n?i.createElement(L,{score:e,critical:t,advanced:n}):i.createElement(N,null);var D=n("rk+4"),F=n("viRF"),B=n("uukV");const H={plagiarismSection:"report-sections-plagiarism-plagiarismSection",plagiarismSectionHeader:"report-sections-plagiarism-plagiarismSectionHeader",original:"report-sections-plagiarism-original",plagiarismMark:"report-sections-plagiarism-plagiarismMark",score:"report-sections-plagiarism-score",percent:"report-sections-plagiarism-percent",sources:"report-sections-plagiarism-sources",sourcesCount:"report-sections-plagiarism-sourcesCount",scoreDescription:"report-sections-plagiarism-scoreDescription"},V={plagiarismSection:a.a.joinClasses([H.plagiarismSection,r.a.style(m.d,{pageBreakAfter:"always"})]),plagiarismSectionHeader:a.a.joinClasses([H.plagiarismSectionHeader,r.a.style(m.c,{margin:`${a.a.px(23*s.a)} 0 ${a.a.px(10*s.a)}`})]),original:a.a.joinClasses([H.original,r.a.style(m.e,{display:"flex",alignItems:"center"})]),plagiarismMark:a.a.joinClasses([H.plagiarismMark,r.a.style({marginRight:a.a.rem(.8)})]),score:a.a.joinClasses([H.score,r.a.style(m.e,{width:a.a.percent(21.875)})]),percent:a.a.joinClasses([H.percent,r.a.style({marginTop:0,width:a.a.px(64*s.a),textAlign:"center"})]),sources:a.a.joinClasses([H.sources,r.a.style(m.e,{paddingTop:a.a.px(28*s.a),paddingBottom:0,width:a.a.percent(78.125),verticalAlign:"top"})]),sourcesCount:a.a.joinClasses([H.sourcesCount,r.a.style({color:o.a.CoreNeutral90,letterSpacing:0,fontWeight:"bold",fontSize:a.a.px(18*s.a),lineHeight:a.a.px(18*s.a)})]),scoreDescription:a.a.joinClasses([H.scoreDescription,r.a.style(m.e,{paddingTop:a.a.px(10*s.a),whiteSpace:"pre-line"})])},U=({plagiarismData:e})=>{const t=i.useContext(D.a.Context);return i.createElement("section",{className:V.plagiarismSection,"data-name":"section-plagiarism-"+(e.state===B.a.PlagiarismCheckingState.CHECKED?e.score:-1)},i.createElement("h2",{className:V.plagiarismSectionHeader},"Plagiarism"),e.state===B.a.PlagiarismCheckingState.NOT_CHECKED?i.createElement("p",{className:m.a.text},"This text hasn’t been checked for plagiarism"):F.a.isMin(e.score)?i.createElement("p",{className:V.original},i.createElement(y.d.Checkmark,{className:V.plagiarismMark}),"This text seems 100% original. Grammarly found no matching text on",i.createElement("br",null),"the Internet or in ProQuest’s databases."):i.createElement("table",{className:m.a.genericTable},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:V.score},i.createElement(_,{colorType:v.a.ColorType.lightVisteria,iconSize:v.a.IconSize.pdf,percentage:F.a.prism.reverseGet(e.score),description:"%"})),i.createElement("td",{className:V.sources},i.createElement("div",{className:V.sourcesCount},e.sources),e.sources>1?"sources":"source")),i.createElement("tr",null,i.createElement("td",{colSpan:2,className:V.scoreDescription},t.performance.report.plagiarismDescription(e.score,e.sources))))))},q={writingIssuesSection:"report-sections-writing_issues-writingIssuesSection",writingIssuesTable:"report-sections-writing_issues-writingIssuesTable",issueHeader:"report-sections-writing_issues-issueHeader",categoryAmount:"report-sections-writing_issues-categoryAmount",issueAmount:"report-sections-writing_issues-issueAmount",circle:"report-sections-writing_issues-circle",oval:"report-sections-writing_issues-oval",generalTitle:"report-sections-writing_issues-generalTitle",issueTitle:"report-sections-writing_issues-issueTitle",categoryTitle:"report-sections-writing_issues-categoryTitle",fakeHeader:"report-sections-writing_issues-fakeHeader",progressBarCell:"report-sections-writing_issues-progressBarCell",issueProgressBar:"report-sections-writing_issues-issueProgressBar",issueContent:"report-sections-writing_issues-issueContent",temporaryHeader:"report-sections-writing_issues-temporaryHeader",progressBarBg:"report-sections-writing_issues-progressBarBg"},W={marginLeft:a.a.px(6*s.a),width:a.a.px(20*s.a),height:a.a.px(20*s.a),borderRadius:a.a.px(10*s.a),background:o.a.CoreRed40,color:o.a.CoreNeutral0,textAlign:"center",fontSize:a.a.px(12*s.a),lineHeight:a.a.px(20*s.a)},$={paddingLeft:a.a.px(22*s.a),width:a.a.px(293*s.a),color:o.a.CoreNeutral90,letterSpacing:0,fontSize:a.a.px(14*s.a),lineHeight:a.a.px(24*s.a)},z={writingIssuesSection:a.a.joinClasses([q.writingIssuesSection,r.a.style({borderTop:`1px solid ${o.a.CoreNeutral30}`})]),writingIssuesTable:a.a.joinClasses([q.writingIssuesSection,r.a.style(m.b,{position:"relative",marginBottom:a.a.px(22*s.a),width:a.a.px(437*s.a),$nest:{"& td, & th":{verticalAlign:"top",pageBreakInside:"avoid"}}})]),issueHeader:a.a.joinClasses([q.issueHeader,r.a.style({pageBreakAfter:"avoid"})]),categoryAmount:a.a.joinClasses([q.categoryAmount,r.a.style({width:a.a.px(32*s.a),fontWeight:"bold",lineHeight:a.a.px(22*s.a)})]),issueAmount:a.a.joinClasses([q.issueAmount,r.a.style({paddingRight:a.a.px(10*s.a),color:o.a.CoreRed40,textAlign:"right",fontWeight:"bold",fontSize:a.a.px(13*s.a),lineHeight:a.a.px(24*s.a)})]),circle:a.a.joinClasses([q.circle,r.a.style(W)]),oval:a.a.joinClasses([q.oval,r.a.style(W,{width:a.a.px(24*s.a)})]),generalTitle:a.a.joinClasses([q.generalTitle,r.a.style($)]),issueTitle:a.a.joinClasses([q.issueTitle,r.a.style($,{textTransform:"lowercase",fontWeight:"normal",$nest:{"&:first-letter":{textTransform:"capitalize"}}})]),categoryTitle:a.a.joinClasses([q.categoryTitle,r.a.style($,{fontWeight:"bold"})]),fakeHeader:a.a.joinClasses([q.fakeHeader,r.a.style({position:"absolute",top:0,left:0,width:a.a.percent(100),background:o.a.CoreNeutral0,lineHeight:a.a.px(24*s.a)})]),progressBarCell:a.a.joinClasses([q.progressBarCell,r.a.style({width:a.a.px(112*s.a)})]),issueProgressBar:a.a.joinClasses([q.issueProgressBar,r.a.style({marginTop:a.a.px(12*s.a),minWidth:a.a.px(5*s.a),height:a.a.px(5*s.a),borderRadius:a.a.px(6*s.a),background:`linear-gradient(to right, ${o.a.CoreRed30}, ${o.a.CoreRed40})`,boxShadow:`0 0 0 ${a.a.px(3*s.a)} ${o.a.CoreNeutral0}`})]),issueContent:a.a.joinClasses([q.issueContent,r.a.style({pageBreakInside:"avoid"})]),temporaryHeader:a.a.joinClasses([q.temporaryHeader,r.a.style({pageBreakInside:"avoid"})]),progressBarBg:a.a.joinClasses([q.progressBarBg,r.a.style({width:a.a.percent(100),borderRadius:a.a.px(6*s.a),backgroundColor:o.a.CoreNeutral10})])},G=({maxIssues:e,count:t})=>{let n=t/e*100;return n>94&&n<98?n=94:n>=98&&(n=100),i.createElement("div",{className:z.progressBarBg},i.createElement("div",{className:z.issueProgressBar,style:{width:`${n}%`}}))},K=({category:e,categoryIssues:t})=>i.createElement("tr",{className:z.temporaryHeader},i.createElement("th",{className:z.categoryAmount},i.createElement("div",{className:t>99?z.oval:z.circle},t)),i.createElement("th",{className:z.categoryTitle},e),i.createElement("th",{className:z.progressBarCell})),Y=({issues:e})=>{let t=0;return i.createElement("section",{className:z.writingIssuesSection},i.createElement("h2",{className:m.a.sectionHeader},"Writing Issues"),Object.entries(e).map(([e,n])=>{let i=0;return{category:e,issues:Object.entries(n).map(([e,n])=>(n>t&&(t=n),i+=n,{name:e,count:n})),issuesCount:i}}).map(({category:e,issuesCount:n,issues:a})=>i.createElement("table",{key:e,className:z.writingIssuesTable},i.createElement("thead",{className:z.issueHeader},i.createElement(K,{category:e,categoryIssues:n})),i.createElement("tbody",null,a.map(({name:e,count:n})=>i.createElement("tr",{key:e,className:z.issueContent},i.createElement("td",{className:z.issueAmount},n),i.createElement("td",{className:z.issueTitle},e),i.createElement("td",null,i.createElement(G,{maxIssues:t,count:n}))))))))};var X=n("jW1I")},lVxj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Local=t.convertTimeToShortString=t.formatTime=t.secondsToTime=t.MS_IN_WEEK=t.MS_IN_DAY=t.MS_IN_HOUR=t.MS_IN_MIN=t.DAYS_IN_WEEK=t.HOUR_IN_DAY=t.MIN_IN_HOUR=t.SEC_IN_MIN=t.MS_IN_SEC=void 0;var i=n("+yhM"),a=n("nq2F"),r=n("amLG");function o(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return{h:t,m:n,s:e-3600*t-60*n}}function s(e){return(0,a.padStart)(String(e),2,"0")}t.MS_IN_SEC=1e3,t.SEC_IN_MIN=60,t.MIN_IN_HOUR=60,t.HOUR_IN_DAY=24,t.DAYS_IN_WEEK=7,t.MS_IN_MIN=t.SEC_IN_MIN*t.MS_IN_SEC,t.MS_IN_HOUR=t.MIN_IN_HOUR*t.MS_IN_MIN,t.MS_IN_DAY=t.HOUR_IN_DAY*t.MS_IN_HOUR,t.MS_IN_WEEK=t.DAYS_IN_WEEK*t.MS_IN_DAY,t.secondsToTime=o,t.formatTime=function(e,t){var n=void 0===t?{}:t,i=n.short,r=void 0!==i&&i,l=n.withSec,c=void 0!==l&&l,d=o(e),u=d.h,p=d.m,h=d.s,m=[];return u>0&&m.push("".concat(s(u)," ").concat(r?"h":(0,a.pluralize)(u,"hour","hours"))),(p>0||!c)&&m.push("".concat(s(p)," ").concat(r?"min":(0,a.pluralize)(p,"minute","minutes"))),c&&m.push("".concat(s(h)," ").concat(r?"sec":(0,a.pluralize)(h,"second","seconds"))),m.join(" ")};t.convertTimeToShortString=function(e){return e.h?"".concat(e.h," hr ").concat(e.m," min"):e.m>0?"".concat(e.m," min ").concat(e.s," sec"):"".concat(e.s," sec")},function(e){var n=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d*[Z]$/,a=/^(\d{4}-\d{2}-\d{2}).(\d{2}:\d{2}:\d{2}(?:.\d+)?)$/;function o(e){return e.getTime()}e.create=function(e){return(0,i.invariant)(n.test(e),"provided string should have timezone",e),new Date(e)},e.copy=function(e){return new Date(e)},e.now=function(){return new Date},e.add=function(e,t){return new Date(e.getTime()+t.getTime())},e.subtract=function(e,t){return new Date(e.getTime()-t.getTime())},e.toSeconds=function(e){return Math.round(e.getTime()/1e3)},e.toTimestamp=o,e.shortTime=function(e){var t=e.getHours(),n=t>=12?"pm":"am",i="0".concat(t=t%12||12).slice(-2),a=e.getMinutes(),r="0".concat(a).slice(-2);return"".concat(i,":").concat(r," ").concat(n)},e.fullDate=function(e){var t=e.toLocaleString("en-us",{month:"long"});return"".concat(t," ").concat(e.getDate(),", ").concat(e.getFullYear())},function(t){t.now=function(){return o(e.now())},t.add=function(e,t){return e+t},t.subtract=function(e,t){return e-t},t.toSeconds=function(e){return Math.round(e/1e3)},t.toLocal=function(e){return new Date(e)},t.toISODate=function(t){return e.Timestamp.toLocal(t).toISOString()}}(e.Timestamp||(e.Timestamp={})),e.daysAgo=function(n,i){var a=i*t.MS_IN_DAY;return e.Timestamp.subtract(e.toTimestamp(n),a)},e.monthsAgo=function(t,n){var i=e.copy(t);return i.setMonth(t.getMonth()-n),e.toTimestamp(i)},e.parseDate=function(t){var i=""+t,o=i.match(a);if(o){var s=o[1],l=o[2];i="".concat(s,"T").concat(l,"Z")}if(o||i.match(n))return r.E.fromNullable(new Error("Failed to parse date from: ".concat(t)))(e.create(i));var c=new Date(i);return isNaN(c.getTime())?r.E.left(new Error("Failed to parse date from: ".concat(t))):r.E.fromNullable(new Error("Failed to parse date from: ".concat(t)))(c)},e.Eq={equals:function(e,t){return e.getTime()===t.getTime()}}}(t.Local||(t.Local={}))},"lg/X":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i,a=n("a5W6"),r=n("OA+g"),o=n("I7vG"),s=n("1aGC"),l=n("24uI"),c=n("+JVj"),d=n("mbuk"),u=n("zR/0"),p=n("gy42"),h=n("lrqh"),m=n("6fbX"),g=n("PrA7"),f=n("o5+S"),b=n("7FJK"),y=n("Wcgi");!function(e){e.rangeMismatch="range_mismatch",e.partialRemoveMismatch="partial_update_mismatch",e.noMarkInDom="no_mark_in_dom"}(i||(i={}));class v{constructor(e,t,n){this.action=e,this.got=t,this.expected=n,this.type=i.rangeMismatch}toString(){return`${this.type} on action '${this.action}', expected: ${this.expected}, got: ${this.got}`}}class k{constructor(e,t,n){this.action=e,this.got=t,this.expected=n,this.type=i.partialRemoveMismatch}toString(){return`${this.type} on action '${this.action}', expected: ${this.expected}, got: ${this.got}`}}class w{constructor(e,t){this.action=e,this.got=t,this.type=i.noMarkInDom}toString(){return`${this.type} on action '${this.action}' for range: ${this.got}`}}function S(e){return h.b.tryCatchError(()=>{const{deltaMarks:t}=e.ops.reduce(({deltaMarks:e,deltaLength:t},n)=>{if(!l.a.isInsert(n))throw new Error(`Quill marks: insert delta expected ${n}`);const i=l.a.getInsertLength(n),a=Object.keys(n.attributes||{});return 0===a.length?{deltaMarks:e,deltaLength:t+i}:(a.filter(f.l).forEach(n=>{const a=c.b.create(t,t+i);if(e.has(n)){const t=e.get(n);if(t.start>a.end+1)throw new Error(`Corrupted partial range. End part1: ${a.end}, start part2: ${t.start}`);e.set(n,c.b.join(a,t))}else e.set(n,a)}),{deltaMarks:e,deltaLength:t+i})},{deltaMarks:new Map,deltaLength:0});return t})}function _(e,t){return Object(o.pipe)(t,h.g.fold(()=>c.b.isEmpty(e.range)?h.g.none:h.g.some(h.b.right(new w(e.action,e.range))),t=>e.action===d.a.Change.ActionType.remove&&e.removeType===y.a.Change.RemoveType.partial?c.b.contains(e.range,t)?h.g.none:h.g.some(h.b.left(new k(e.action,e.range,t))):c.b.ord.equals(t,e.range)?h.g.none:h.g.some(c.b.contains(t,e.range)?h.b.right(new v(e.action,e.range,t)):h.b.left(new v(e.action,e.range,t)))))}const C=s.import("core/module");class E{constructor(e,t,n,i,a){this.id=e,this._getParentRect=t,this._getPosition=n,this._getNodeAt=i,this._getContents=a,this._cachedMarkLength=c.b.size(h.b.getOrElse(()=>c.b.empty)(this.range())),this._cachedNodes=null}fromMarkEvent(e){return Object(o.pipe)(this._getCachedDomNodes(),h.b.chain(h.g.fold(()=>h.b.left(new d.a.CollapsedMarkError("cannot animate collapsed mark")),([e])=>h.b.right(e))),h.b.fold(e=>u.a.of(h.b.left(e)),t=>u.a.fromEvent(t,e).pipe(u.a.map(h.b.right))))}get range(){return this._getPosition(this.id)}getRect(){return Object(o.pipe)(this._getCachedDomNodes(),h.b.chain(h.g.fold(()=>h.b.left(new d.a.CollapsedMarkError("Cannot get rect for collapsed mark")),([e,t])=>Object(o.pipe)(h.f.fromArray(e===t?Array.from(e.getClientRects()):[...Array.from(e.getClientRects()),...Array.from(t.getClientRects())]),h.g.fold(()=>h.b.left(new Error("getClientRects returned nothing ")),e=>h.b.right({rootClientRect:this._getParentRect(),clientRects:e}))))))}_getCachedDomNodes(){return Object(o.pipe)(this.range(),h.b.fold(()=>h.b.right(h.g.none),e=>{const t=c.b.size(e);return null===this._cachedNodes||null===this._cachedNodes[0].parentElement||null===this._cachedNodes[1].parentElement||this._cachedMarkLength!==t?Object(o.pipe)(this._getUnderlines(),h.b.map(h.g.map(([e,n])=>(this._cachedNodes=[e.domNode,n.domNode],this._cachedMarkLength=t,this._cachedNodes)))):h.b.right(h.g.some(this._cachedNodes))}))}_getUnderlines(){return Object(o.pipe)(this.range(),h.b.fold(()=>h.b.right(h.g.none),e=>h.b.tryCatchError(()=>{const{start:t,end:n}=e,i=this._getNodeAt(t+1)[0],a=this._getNodeAt(n)[0],r=f.c.findUnderlineUp(i),o=f.c.findUnderlineUp(a);return Object(m.g)(null!==r&&null!==o,"Cannot find corresponding Marker. Looks like we are trying to show/hide non-existing alert/underline",()=>`id=${this.id}; first=${r}; firstNode=${i}; last=${o}; lastNode=${a}, getContents=${this._getQuillContents(e,20)}`),h.g.some([r,o])})))}_getQuillContents(e,t){const{start:n,end:i}=e,a=n-t,r=this._getContents(a<0?0:a,i+t),o=l.a.anonymizeTextAndStringAttrs(r);return JSON.stringify(o)}}class O extends C{constructor(e,t){super(e,t),this.quill=e,this.options=t,this._subs=[],this._marks=new Map,this._log=g.Monitoring.Logging.getLogger("MarksManager",g.Logging.LogLevel.DEBUG),this.activeMarks=new u.a.BehaviorSubject(h.g.none),this.hoveredMarks=new u.a.BehaviorSubject(h.g.none),this.markChangeApplied=new u.a.Subject,this.getMarkById=e=>Object(o.pipe)(this._marks.get(e),h.b.fromNullable(new Error(`Cannot find mark by id: ${e}`))),this.changeMarksMPTE=e=>{if(0===e.length)return d.a.Change.Result.getEmpty();const t=this._getMarksModelsMPTE(e),n=Object(o.pipe)(S(Object(f.r)(this.quill.editor.delta)),h.b.fold(t=>(this._log.warn("MPTE: Cannot collect marks to validate",t),e),t=>e.map(e=>{switch(e.action){case d.a.Change.ActionType.create:return e;case d.a.Change.ActionType.update:case d.a.Change.ActionType.remove:return this._markValidationMPTE(e,h.g.fromNullable(t.get(Object(b.d)(e.id))));default:return Object(m.d)(e)}})));return this.quill.updateContents(Object(f.s)(Object(f.n)(n,this._getMarkAttributes)),s.sources.API),e.forEach(e=>e.action===d.a.Change.ActionType.remove&&Object(b.c)(e.id)),this.markChangeApplied.next(e.map(e=>e.id)),t},this.changeMarks=e=>{if(0===e.length)return d.a.Change.Result.getEmpty();const t=this._getMarksModels(e);return this._marksValidation(e,Object(f.r)(this.quill.editor.delta),this.options.getOpsHistory()),this.quill.updateContents(Object(f.s)(Object(f.n)(e,this._getMarkAttributes)),s.sources.API),e.forEach(e=>e.action===d.a.Change.ActionType.remove&&Object(b.c)(e.id)),this.markChangeApplied.next(e.map(e=>e.id)),t};const n=Object(f.t)(this.quill).pipe(u.a.share());this._subs.push(n.pipe(u.a.filter(f.f)).subscribe(({delta:e})=>{this._unwrapMarkExtension(e.ops)}),n.pipe(u.a.filter(f.g),u.a.filter(({range:e})=>Boolean(e)&&0===e.length),u.a.distinctUntilChanged((e,t)=>e.range.index===t.range.index&&e.range.length===t.range.length),u.a.map(({range:e,source:t})=>t===s.sources.USER?Object(o.pipe)(h.g.fromNullable(e),h.g.chain(e=>{const t=this.quill.getLeaf(e.index)[0],n=this.quill.getLeaf(e.index+1)[0];if(n!==t&&Boolean(n)){const e=Object(o.pipe)(this._getMarksByBlot(t),h.g.fold(()=>[],r.identity)),i=Object(o.pipe)(this._getMarksByBlot(n),h.g.fold(()=>[],r.identity));return h.f.fromNullableArray(e.concat(i))}return this._getMarksByBlot(t)})):h.g.none)).subscribe(this.activeMarks),u.a.combineLatestStatic(u.a.mergeStatic(u.a.fromEvent(this.quill.root,"mouseenter").pipe(u.a.mapTo(!0)),u.a.fromEvent(this.quill.root,"mouseleave").pipe(u.a.mapTo(!1))).pipe(u.a.distinctUntilChanged()),this.options.ongoingSelection).pipe(u.a.switchMap(([e,n])=>n?u.a.of(h.g.none):e?u.a.mergeStatic(t.contentUpdated.pipe(u.a.mapTo(h.g.none)),t.scrollPositionChanged.pipe(u.a.mapTo(h.g.none)),u.a.fromEvent(this.quill.root,"mousemove",{passive:!0}).pipe(u.a.auditTime(50),u.a.map(e=>{const t=document.elementFromPoint(e.clientX,e.clientY);try{const e=s.find(t,!0);return!Boolean(e)||e instanceof s?h.g.none:this._getMarksByBlot(e)}catch(e){return h.g.none}}))):u.a.of(h.g.none).pipe(u.a.delay(200))),u.a.distinctUntilChanged(h.g.getEq({equals:(e,t)=>e.length===t.length&&e.every((e,n)=>t[n]===e)}).equals)).subscribe(this.hoveredMarks))}_getMarksByBlot(e){return Object(o.pipe)(h.g.fromNullable(f.c.getMarksIdsByBlot(e)),h.g.filterMap(Object(r.flow)(a.filterMap(Object(r.flow)(e=>this._marks.get(e),h.g.fromNullable)),h.f.fromArray)))}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_markValidationMPTE(e,t){return Object(o.pipe)(_(e.action===d.a.Change.ActionType.update?{id:e.id,action:d.a.Change.ActionType.update,range:e.meta.range()}:{id:e.id,action:d.a.Change.ActionType.remove,removeType:e.meta.removeType,range:e.meta.range()},t),h.g.fold(()=>e,h.b.fold(n=>(this._log.warn("MPTE: Got invalid marks",{error:n}),Object(o.pipe)(t,h.g.fold(()=>e,t=>y.a.Change.useRange(e,t)))),t=>(this._log.info("MPTE: Range does not match with mark",{rangeMismatch:t}),e))))}_marksValidation(e,t,n){const i=e.filter(e=>!(e.action!==d.a.Change.ActionType.remove&&e.action!==d.a.Change.ActionType.update||c.c.is(e.meta.range())||Object(f.m)(e.id))).map(e=>({id:e.id,action:e.action,range:c.b.copy(e.meta.range())}));i.length>0&&p.b.Scheduler.inRic(u.a.of(void 0),2e3).pipe(u.a.map(()=>(function(e,t){return Object(o.pipe)(S(e),h.b.map(e=>Object(o.pipe)(t.map(t=>Object(o.pipe)(h.g.fromNullable(e.get(Object(b.d)(t.id))),e=>_(t,e))),a.array.sequence(h.g.option),h.g.getOrElse(()=>[]))))})(t,i)),u.a.first()).subscribe({next:h.b.fold(e=>this._log.warn("Cannot collect marks to validate",e),e=>e.forEach(h.b.fold(e=>{this._log.warn("Got invalid marks",{error:e,opsHistory:n})},e=>this._log.info("Range does not match with mark",{rangeMismatch:e,opsHistory:n}))))})}_createMarkModel(e){const t=new E(e.id,()=>this.quill.container.getBoundingClientRect(),()=>()=>{const t=e.meta.range();return c.b.isEmpty(t)?h.b.left(t):h.b.right(t)},e=>this.quill.getLeaf(e),(e,t)=>Object(f.r)(this.quill.getContents(e,t)));return this._marks.set(t.id,t),Object(b.e)(t.id),t}_getMarksModels(e){return e.reduce((e,t)=>{switch(t.action){case d.a.Change.ActionType.create:const n=this._createMarkModel(t);e.created.set(n.id,h.b.right(n));break;case d.a.Change.ActionType.update:this._marks.has(t.id)?e.created.set(t.id,h.b.right(this._marks.get(t.id))):e.updated.set(t.id,h.b.left(new m.b("Cannot update unknown mark")));break;case d.a.Change.ActionType.remove:if(!this._marks.has(t.id))throw e.removed.set(t.id,h.b.left(new m.b("Cannot remove unknown mark"))),new m.b("Cannot remove unknown mark");this._marks.delete(t.id),this._ensureActive(t.id),e.removed.set(t.id,h.b.right(void 0));break;default:Object(m.d)(t)}return e},d.a.Change.Result.getEmpty())}_getMarksModelsMPTE(e){return e.reduce((e,t)=>{switch(t.action){case d.a.Change.ActionType.create:case d.a.Change.ActionType.update:const n=this._createMarkModel(t);e.created.set(n.id,h.b.right(n));break;case d.a.Change.ActionType.remove:this._marks.delete(t.id),e.removed.set(t.id,h.b.right(void 0));break;default:Object(m.d)(t)}return e},d.a.Change.Result.getEmpty())}_getMarkAttributes(e){const t=Object(b.d)(e.id);switch(e.action){case d.a.Change.ActionType.create:return{[t]:{action:d.a.Change.ActionType.create,id:e.id,classes:e.meta.classes,order:e.meta.order}};case d.a.Change.ActionType.update:return{[t]:{action:d.a.Change.ActionType.update,id:e.id,classes:e.meta.classes,order:e.meta.order}};case d.a.Change.ActionType.remove:return{[t]:!1};default:return Object(m.d)(e)}}_ensureActive(e){Object(o.pipe)(this.activeMarks.getValue(),h.g.filter(t=>t.some(t=>t.id===e)),h.g.map(()=>{this.activeMarks.next(h.g.none)})),Object(o.pipe)(this.hoveredMarks.getValue(),h.g.filter(t=>t.some(t=>t.id===e)),h.g.map(()=>this.hoveredMarks.next(h.g.none)))}_findInsertsToUnwrap(e,t){return this.quill.scroll.path(e+1).reduce((n,[i,a])=>i instanceof b.a?((1===a&&!f.c.hasSameIdSibling(i,f.c.LOOKUP_DIRECTION.left)||a+t-1===i.length()&&!f.c.hasSameIdSibling(i,f.c.LOOKUP_DIRECTION.right))&&n.push(y.a.Change.getRemoveAction({range:()=>c.b.create(e,e+t)},y.a.Change.RemoveType.partial)(i.markId)),n):n,[])}_unwrapMarkExtension(e){const{toRemove:t}=e.reduce(({start:e,toRemove:t},n)=>(Object(f.k)(n)&&t.push(...this._findInsertsToUnwrap(e,l.a.getInsertLength(n))),{start:e+Object(f.d)(n),toRemove:t}),{start:0,toRemove:[]});t.length&&this.quill.updateContents(Object(f.s)(Object(f.n)(t,this._getMarkAttributes)),s.sources.API)}}O.DEFAULTS={}},lqtc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d}));var i,a=n("2Jhg"),r=n("LNSM"),o=n("D9EC"),s=n("6fbX"),l=n("+ukg"),c=n("0lfv");!function(e){let t,n;!function(e){e[e.SMALL=0]="SMALL",e[e.LARGE=1]="LARGE"}(t=e.Type||(e.Type={})),function(e){e[e.SHOW_ALL=0]="SHOW_ALL",e[e.HIDE_PREV=1]="HIDE_PREV",e[e.HIDE_NEXT=2]="HIDE_NEXT",e[e.HIDE_BOTH=3]="HIDE_BOTH"}(n=e.NavigationControlDisplay||(e.NavigationControlDisplay={}))}(i||(i={}));class d{constructor(e,t,n,u,p=o.e){this.type=e,this._stepMap=t,this._settings=n,this._modalOperations=u,this._onStart=p,this._steps=this.type===l.e.TourType.migration?d._migrationTour:d._welcomeTour,this._currentStepIndex=r.a.create(a.f.empty()),this._abort=()=>{this._settings.denaliWelcomeTourSeen(),this._modalOperations.onClose(),this._currentStepIndex.set(a.e)},this._getStepForIndex=e=>{var t;const n=this._steps[e],a=this._stepMap[n.stepId];switch(a.type){case i.Type.LARGE:return{stepId:n.stepId,type:a.type,index:e,content:a.renderContent(),description:a.renderDescription(),navigationControl:null!==(t=n.navigationControl)&&void 0!==t?t:i.NavigationControlDisplay.SHOW_ALL};case i.Type.SMALL:return{stepId:n.stepId,type:a.type,index:e,content:a.renderContent({type:this.type,abort:this._abort,goToNext:this.goToNext,goToPrev:this.goToPrev}),navigationControl:Boolean(n.navigationControl)?n.navigationControl:i.NavigationControlDisplay.HIDE_BOTH};default:return Object(s.d)(a)}},this.descriptionMeta=this._currentStepIndex.view(c.a.map(e=>({index:e,steps:this._steps.length}))).view(c.a.map(({index:e,steps:t})=>({index:e<1||e>=t-1?e:e-1,totalSteps:t-2}))),this.currentStep=this._currentStepIndex.view(c.a.map(this._getStepForIndex)),this.goToNext=()=>this._currentStepIndex.modify(c.a.flatMap(e=>{const t=e+1;return Boolean(this._steps[t])?Object(a.h)(t):(this._settings.denaliWelcomeTourSeen(),this._modalOperations.onClose(),a.e)})),this.goToPrev=()=>this._currentStepIndex.modify(c.a.map(e=>{const t=e-1;return Boolean(this._steps[t])?t:0}))}start(){this._currentStepIndex.set(Object(a.h)(0)),this._onStart()}}d._migrationTour=[{stepId:"welcomeOldUser"},{stepId:"fastApply",navigationControl:i.NavigationControlDisplay.HIDE_PREV},{stepId:"assistant"},{stepId:"checkTypes"},{stepId:"goals"},{stepId:"finalOldUser",navigationControl:i.NavigationControlDisplay.HIDE_NEXT}],d._welcomeTour=[{stepId:"welcomeNewUser"},{stepId:"fastApply",navigationControl:i.NavigationControlDisplay.HIDE_PREV},{stepId:"assistant"},{stepId:"checkTypes"},{stepId:"goals"},{stepId:"finalNewUser",navigationControl:i.NavigationControlDisplay.HIDE_NEXT}]},mAhp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("OA+g"),o=n("zR/0"),s=n("lrqh"),l=n("hoSD"),c=n("D9EC"),d=n("e12y"),u=n("xEVj"),p=n("3yNE");!function(e){let t,n;!function(e){e[e.default=0]="default",e[e.captureTab=1]="captureTab",e[e.f6Only=2]="f6Only"}(t=e.FocusBehavior||(e.FocusBehavior={})),function(e){e.from=e=>Object(r.flow)(e,s.g.tap(e=>e.focus()));const t=e=>{if(l.c.isFocusable(e))return s.g.some(e);const n=Array.from(e.children);for(let i=0;i<e.children.length;i++){const e=t(n[i]);if(s.g.isSome(e))return e}return s.g.none};e.focusRootOrFirstFocusable=e.from(t)}(n=e.FocusStrategy||(e.FocusStrategy={}));const i=d.a.stylesheet({focusLeaveTracker:[{position:"fixed"}]}),h=e=>a.createElement("div",{key:`leave-tracker-${l.f.alphanumeric(12)}`,tabIndex:0,onFocus:t=>(t.preventDefault(),e()),"aria-hidden":!0,className:i.focusLeaveTracker});e.create=e=>({component:i,section:l,behavior:d=t.default,focusStrategy:m=n.focusRootOrFirstFocusable,escapeStrategy:g})=>n=>{const f=a.useContext(e),{onMount:b,ref:y}=u.a.useElWatcher(),v=new o.a.Subject;return u.a.useSubscriptionTo(y.pipe(o.b.compact,o.a.switchMap(e=>{const n=d===t.captureTab?o.a.fromEvent(e,"keydown").pipe(o.a.filter(e=>"Tab"===e.key),o.a.tap(e=>e.preventDefault()),o.a.map(e=>e.shiftKey?p.a.FocusEvent.proceedBackwards:p.a.FocusEvent.proceedForwards)):o.a.EMPTY,i=Object(r.pipe)(g,s.g.fromNullable,s.g.map(t=>t(e)),s.g.getOrElse(()=>o.a.EMPTY));return f.register(l,o.a.mergeStatic(n,v,i)).pipe(o.a.filter(e=>e===p.a.FocusEvent.focused),o.a.tap(()=>Object(r.pipe)(m(e),s.g.tapLeft(()=>v.next(p.a.FocusEvent.proceedForwards)))))}))),a.createElement(i,Object.assign(Object.assign({},n),{mount:e=>{var t;b(e),null===(t=n.mount)||void 0===t||t.call(n,e)}}),Object(c.c)(h(()=>v.next(p.a.FocusEvent.proceedBackwards)),null)(d===t.default),n.children,Object(c.c)(h(()=>v.next(p.a.FocusEvent.proceedForwards)),null)(d===t.default))}}(i||(i={}))},mOEe:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return k}));var i=n("OA+g"),a=n("I7vG"),r=n("LNSM"),o=n("dE97"),s=n("GUi3"),l=n("yA7V"),c=n("jAb7"),d=n("GGUR"),u=n("zR/0"),p=n("viRF"),h=n("gy42"),m=n("uukV"),g=n("lrqh"),f=n("D9EC"),b=n("PrA7");function y(e){return t=>({id:t.id,categoryHuman:t.toLiteAlert().categoryHuman,lensId:t.lensId,getHighlightRanges:t.getHighlightRanges,content:Object(a.pipe)(t.transform,g.g.filter(()=>!(o.a.isSuperAlert(t)||o.a.isOneGap(t)||o.f.isSimple(t.extraProperties.cardType)||o.f.isFullSentence(t.extraProperties.cardType))),g.g.chain(Object(i.flow)(e,g.b.fold(e=>(b.Monitoring.Logging.getLogger("ReportViewModel.hydration").error("Could not hydrate alert",e),g.g.none),g.g.some))),g.b.fromOption(()=>t.highlightTexts))})}const v=24e3;class k{constructor(e,t,n,i,l,k,w,S,_,C){this._engine=e,this._profile=t,this._features=n,this._notificationsManager=i,this._htmlContent=l,this.reportData=r.a.create(g.g.none),this.downloadStarted=r.a.create(!1),this._log=b.Monitoring.Logging.getLogger("ReportViewModelImpl"),this._subs=new d.a.Keeper,this._requestSent=r.a.create(!1),this._visitLenses=(e,t)=>{e.view("currentLens","id").get()!==s.a.SpecialId.Plagiarism&&this._engine.sessionModel.extraSettings.checkedPlagiarism&&t.events.next({type:"switchToLens",id:s.a.SpecialId.Plagiarism,focusFirst:!1,actionSource:o.b.sidebar}),t.events.next({type:"switchToLens",id:s.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:o.b.sidebar})},this.beginDownload=()=>{this.downloadStarted.set(!0)},this._finishDownload=()=>{this.downloadStarted.set(!1),this._requestSent.set(!1),this.reportData.set(g.g.none)},this._getReportModel=e=>u.a.combineLatestStatic(this._engine.sessionModel.title.view(e=>Boolean(e)?e:"Untitled"),this._engine.sessionModel.recentDocumentStats.pipe(u.b.compact),this._engine.sessionModel.score.pipe(u.b.compact),this._engine.sessionModel.counters,u.a.combineLatestStatic(this._features.isPremium,e).pipe(u.a.map(([e,t])=>e?Object(a.pipe)(t,g.g.map(e=>({score:p.a.groupSum.concat(p.a.MAX,p.a.groupSum.inverse(p.a.fromRatio(e.percentile))),sources:e.count,state:m.a.PlagiarismCheckingState.CHECKED,sortedAlerts:this._getFilteredAlerts(o.a.isPlagiarism)})),g.g.alt(()=>g.g.some({state:m.a.PlagiarismCheckingState.NOT_CHECKED}))):g.g.none)),this._htmlContent).pipe(u.a.map(([e,t,n,i,a,r])=>{const s=this._getFilteredAlerts(Object(f.b)(Object(f.b)(o.a.isApplicableAlert,Object(f.m)(o.a.isMuted)),o.a.isRegistered));return g.g.some({sortedAlerts:this._getNonPremiumSortedAlerts(s),dedHTML:r,title:e,author:this._profile.get().fullName,stats:t,score:n.rank,criticalIssues:i.critical,advancedIssues:i.advanced,issues:this._calculateIssues(s),plagiarism:a})})),this._listenDownload=(e,t,n,i)=>{this._subs.push(this.downloadStarted.pipe(u.a.filter(Boolean),u.a.switchMap(()=>u.a.from(this._prepareDownload()).pipe(u.a.timeout(v),u.a.tap(()=>this._visitLenses(e(),n())),u.a.observeOn(u.a.asapScheduler),u.a.switchMap(()=>t().flush()),u.a.switchMapTo(this._getReportModel(i).pipe(u.a.first())),u.a.catchError(e=>(this._log.error("Error while preparing PDF report",e),this._finishDownload(),this._notificationsManager.enqueue("error").pipe(u.a.mapTo(g.g.none))))))).subscribe(h.b.toAtom(this.reportData)))},this._alertDataProcessor=y(k),this._listenDownload(w,S,_,C.view(c.a.lookup(s.a.SpecialId.Plagiarism)))}_prepareDownload(){return this._engine.sessionModel.extraSettings.checkedPlagiarism&&!this._features.isFree.get()?this._engine.plagiarismModel.recheck():Promise.resolve()}tryToInterrupt(){this._requestSent.get()||this._finishDownload()}_calculateIssues(e){return e.reduce((e,t)=>{const n=s.a.OutcomeId.fromOutcomeId(t.lensId),i=t.toLiteAlert(),a=i.categoryHuman;return e[n]=Boolean(e[n])?e[n]:{},e[n][a]=e[n][a]||0,e[n][a]+=i.cost,e},{})}generateReport(e,t,n){this._requestSent.get()||(this._requestSent.set(!0),this._subs.push(u.a.from(this._engine.sessionModel.generateReport(e,{headerTemplate:t,footerTemplate:n,format:"Letter",marginTop:"70px",marginBottom:"70px"})).pipe(u.a.tap(this._finishDownload),u.a.catchError(e=>(this._log.error("generateReport failed",e),this._notificationsManager.enqueue("error")))).subscribe()))}_getNonPremiumSortedAlerts(e){return e.map(this._alertDataProcessor)}_getFilteredAlerts(e){return Object(a.pipe)(this._engine.checkingDomain.state.get(),l.a.reduce([],(t,n)=>(e(n.alert)&&t.push(n.alert),t)))}dispose(){this._subs.dispose()}}var w;!function(e){e.Mock=class{constructor(){this.downloadStarted=r.a.create(!1),this.beginDownload=f.e,this.tryToInterrupt=f.e,this.generateReport=()=>{throw new Error("Method not implemented.")},this.reportData=r.a.create(g.g.none),this.dedHTML="",this.dispose=f.e}}}(w||(w={}))},mbuk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("D57K"),r=n("6fbX");!function(e){!function(e){!function(e){e.create="create",e.update="update",e.remove="remove"}(e.ActionType||(e.ActionType={})),function(e){e.getEmpty=function(){return{created:new Map,updated:new Map,removed:new Map}}}(e.Result||(e.Result={}))}(e.Change||(e.Change={}));var t=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t}(r.a);e.CollapsedMarkError=t}(i||(i={}))},"n+Au":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var i=n("ERkP"),a=n("I7vG"),r=n("vOOZ"),o=n("LNSM"),s=n("rk+4"),l=n("bO3R"),c=n("3rlE"),d=n("jAl6"),u=n("zR/0"),p=n("BoSw"),h=n("lrqh"),m=n("uYVq"),g=n("vgpX");const f=({reportViewModel:e,state:t})=>i.createElement(r.a.Fragment,null,Object(a.pipe)(e,h.g.map(e=>t.pipe(u.a.map(t=>i.createElement(b,{key:"downloadPdfReportButton",statsLoadingState:t.type,reportViewModel:e})))),h.g.toNullable));class b extends i.Component{constructor(){super(...arguments),this._loadingState=o.a.create(this.props.statsLoadingState),this._buttonState=o.a.combine(this.props.reportViewModel.downloadStarted,this._loadingState,(e,t)=>this._getButtonState(e,t))}_getButtonState(e,t){const n=this.context.performance;return e?{disabled:!0,className:g.preparingForReportLabel,children:i.createElement("span",{key:"stats-load-container",className:g.loaderContainer},n.report.preparingPdfReport,i.createElement(d.a,{size:20,variation:"gray",wrapperClassName:g.downloadPdfSpinner}),i.createElement(m.a,{reportViewModel:this.props.reportViewModel}))}:Object.assign({className:g.downloadPdfReportButton,children:i.createElement("span",{key:"download-button"},i.createElement(c.d.Download,{className:g.downloadIcon}),n.report.downloadPdfReport)},t===p.a.State.Type.READY?{disabled:!1}:{disabled:!0,title:t===p.a.State.Type.SHORT_CONTENT?n.notEnoughTextToGenerateReport:void 0})}componentWillUnmount(){this.props.reportViewModel.tryToInterrupt()}shouldComponentUpdate(){return!1}componentWillReceiveProps({statsLoadingState:e}){this._loadingState.set(e)}render(){return i.createElement(l.a.Caps,{name:"download-pdf-report",title:this._buttonState.view("title"),className:this._buttonState.view("className"),disabled:this._buttonState.view("disabled"),onClick:this.props.reportViewModel.beginDownload},this._buttonState.view("children"))}}b.contextType=s.a.Context},n61d:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){var t=function(){function e(e){this._predicate=e,this._queueMap=new Set,this._queue=[]}return e.prototype.put=function(e){var t,n=this,i=new Set,a=e.reduce((function(e,t){return i.has(t.id)||n._queueMap.has(t.id)||!n._predicate(t)||(i.add(t.id),e.push(t)),e}),[]);(t=this._queue).push.apply(t,a),a.forEach((function(e){var t=e.id;return n._queueMap.add(t)}))},e.prototype.take=function(e){for(var t=0,n=[];t<this._queue.length&&n.length<e;){var i=this._queue[t];this._predicate(i)&&n.push(i),this._queueMap.delete(i.id),t++}return this._queue=this._queue.slice(t),n},e.prototype.order=function(e){this._queue.sort(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nonEmpty",{get:function(){return this._queue.length>0},enumerable:!1,configurable:!0}),e}();e.LazyPredicateUniq=t}(i||(i={}))},nq2F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimToLastWholeWord=t.containsSpacesOnly=t.alphanumeric=t.isBreakWordChar=t.urlContainsProtocol=t.urlToDomain=t.decodeHTMLCodes=t.padStart=t.escapeRegExp=t.formatPrice=t.pluralize=t.replaceTabsWithSpaces=t.charCount=t.wordCount=t.getFirstWord=t.getFirstMatch=t.sanitize=t.toLowerCaseStart=t.toTitleCase=t.camelize=t.capitalize=t.nbsp=void 0;var i,a=n("D57K"),r=n("Pgl2"),o=n("/ySS");function s(e,t){var n;return Boolean(e)&&"undefined"!=typeof window?t?r.sanitize(e,(0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)({},null!==(n=t.returnHTML)&&void 0!==n&&n?{RETURN_DOM_FRAGMENT:!0,RETURN_DOM_IMPORT:!0}:{}),t.allowedTags?{ALLOWED_TAGS:t.allowedTags}:{}),t.forbidTags?{FORBID_TAGS:t.forbidTags}:{}),t.allowedAttrs?{ALLOWED_ATTR:t.allowedAttrs}:{}),"boolean"==typeof t.sanitizeDom?{SANITIZE_DOM:t.sanitizeDom}:{}),"boolean"==typeof t.allowDataAttrs?{ALLOW_DATA_ATTR:t.allowDataAttrs}:{}),{ALLOWED_URI_REGEXP:t.linkRegExp||i.URI_REGEXP})):r.sanitize(e):""}t.nbsp=String.fromCharCode(160),t.capitalize=function(e){return e?e[0].toUpperCase()+e.slice(1):""},t.camelize=function(e){return e?e.replace(/(?:^|[-_\s])(\w)/g,(function(e,t){return t?t.toUpperCase():""})):""},t.toTitleCase=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},t.toLowerCaseStart=function(e){return e.charAt(0).toLowerCase()+e.substr(1)},function(e){e.URI_REGEXP=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i}(i||(i={})),t.sanitize=s,t.getFirstMatch=function(e,t){var n=e.match(t);return n&&n[1]},t.getFirstWord=function(e){return e.split(/\s+/)[0]},t.wordCount=function(e){if(!e)return 0;var t=e.replace(/[\W\d]/gi," ").replace(/\s+/gi," ").trim().split(" ");return 1===t.length&&""===t[0]?0:t.length},t.charCount=function(e){return o.decode(e).length},t.replaceTabsWithSpaces=function(e){return e.replace(/\t/g,"    ")},t.pluralize=function(e,t,n){return 1===e?t:n},t.formatPrice=function(e,t){return void 0===t&&(t="en-US"),e.toLocaleString(t,{minimumFractionDigits:2,maximumFractionDigits:2})},t.escapeRegExp=function(e){return e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")},t.padStart=function(e,t,n){return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e))},t.decodeHTMLCodes=function(e){var t,n,i=document.createElement("div");return i.innerHTML=s(e),null!==(n=null!==(t=i.textContent)&&void 0!==t?t:i.innerText)&&void 0!==n?n:""},t.urlToDomain=function(e){if(!e)return"";var t=document.createElement("a");return t.href=e,t.hostname},t.urlContainsProtocol=function(e){return!!e.match("\\w+\\:.*")},t.isBreakWordChar=function(e){return e&&(e<48||58===e||59===e||63===e)||!1};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.alphanumeric=function(e){if(e<0)throw new TypeError("Length should not be negative: ".concat(e));return Array.from({length:e},(function(){return l.charAt(Math.random()*l.length)})).join("")},t.containsSpacesOnly=function(e){return null!==e.match(/^[^\S\r\n]+$/)},t.trimToLastWholeWord=function(e,t){return e.substr(0,t).split(" ").slice(0,-1).join(" ")}},"o5+S":function(e,t,n){"use strict";n.d(t,"n",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"d",(function(){return k})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return _})),n.d(t,"j",(function(){return E})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return T})),n.d(t,"g",(function(){return M})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return I})),n.d(t,"q",(function(){return R})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return L})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return D})),n.d(t,"h",(function(){return F}));var i=n("1aGC"),a=n("4ae2"),r=n("24uI"),o=n("FiSa"),s=n("+JVj"),l=n("bYZB"),c=(n("3s0z"),n("zR/0")),d=n("lrqh"),u=n("hoSD"),p=n("6fbX"),h=n("D9EC"),m=n("jlxt"),g=n("7FJK");function f(e,t){return e.filter(e=>{const t=e.meta.range();return t.start!==t.end&&"number"==typeof t.start&&"number"==typeof t.end&&!(-1===t.start&&-1===t.end)}).reduce((e,n)=>{const i=n.meta.range(),r=i.start<0?0:i.start;return e.compose((new a.a).retain(r).retain(i.end-r,t(n)))},new a.a)}const b=e=>e.getAttribute("data-mark-id");var y;function v(e,t,n=100){const i=e.length,a=e=>/^[\w\-]$/.test(e);let r=t-1,o=t;const l=[];for(;r>=0&&a(e[r])&&n>=t-r;)l.unshift(e[r]),r--;for(r++;o<i&&a(e[o])&&n>o-t;)l.push(e[o]),o++;return l.length>0?d.g.some(s.b.create(r,o,{value:l.join("")})):d.g.none}!function(e){function t(e){let t=e;const n=[];for(;Boolean(t);)t instanceof g.a&&n.push(t),t=t.parent;return n}let n;e.findUnderlineUp=function(e){return F(e,e=>e instanceof g.a&&Boolean(b(e.domNode)))},e.lookupUnderlinesUp=t,function(e){e[e.left=0]="left",e[e.right=1]="right"}(n=e.LOOKUP_DIRECTION||(e.LOOKUP_DIRECTION={})),e.isUnderlineWithId=e=>t=>t instanceof g.a&&t.markId===e;const i=e=>"children"in e,a=e=>i(e)&&e.children.head?[e,...a(e.children.head)]:[e],r=e=>i(e)&&e.children.tail?[e,...r(e.children.tail)]:[e];e.getSiblingBlots=(t,i)=>{const o=i===n.left?Boolean(t.prev)?r(t.prev):void 0:Boolean(t.next)?a(t.next):void 0;return null!=o?o:Boolean(t.parent)?e.getSiblingBlots(t.parent,i):[]},e.hasSameIdSibling=(t,n)=>e.getSiblingBlots(t,n).some(e.isUnderlineWithId(t.markId)),e.getMarksIdsByBlot=function(e){return t(e).map(e=>e.markId)}}(y||(y={}));const k=r.a.getOperationOffset,w=e=>r.a.isInsert(e)&&C(e),S=e=>-1!==e.indexOf(g.b),_=e=>-1!==e.indexOf(m.a.SynonymMark.id),C=e=>!r.a.isDelete(e)&&Boolean(e.attributes)&&Object.keys(e.attributes).some(e=>S(e)||_(e));function E(e,t="suffix"){return!(!r.a.isInsert(e)||"string"!=typeof e.insert)&&("suffix"===t?u.f.isBreakWordChar(e.insert.charCodeAt(0)):u.f.isBreakWordChar(e.insert.charCodeAt(e.insert.length-1)))}const O=e=>new a.a(e.ops),A=i.import("delta"),x=e=>new A(e.ops);function T(e){return c.a.fromEvent(e,"editor-change",(e,t,n,i)=>"text-change"===e?{name:"text-change",delta:O(t),oldDelta:O(n),source:i}:{name:"selection-change",range:t,oldRange:n,source:i})}function M(e){return"selection-change"===e.name}const j=e=>t=>"text-change"===t.name&&t.delta.ops.some(t=>!r.a.isRetain(t)||!!t.attributes&&Object.keys(t.attributes).some((t,n,i)=>!S(t)&&!_(t)&&e(t,i)));function I(e){return"text-change"===e.name&&e.delta.ops.some(e=>!r.a.isRetain(e))}function R(){if(Boolean(window.MutationObserver)||n("yNQd"),!Boolean(document.getSelection)){document.getSelection=()=>null}}function N(e){const t=d.b.unsafeGet(e.text),n=new a.a;let i=0;for(let e=0;e<t.length-1;e++)if("\r"===t[e]){const a=e-i;i=e,"\n"!==t[e+1]?(n.retain(a).delete(1).insert("\n"),i++):(n.retain(a).delete(1),i++)}const r=t.length-1,s=r-i;return"\r"===t[r]?n.retain(s).delete(1).insert("\n"):"\n"!==t[r]&&n.retain(s+1).insert("\n"),o.a.delta(n,t.length)}const L=([e,t])=>{if(u.c.Guardians.isBR(e.domNode)){const n=Array.from(e.parent.domNode.childNodes).findIndex(t=>t===e.domNode);return[e.parent.domNode,n+t]}return[e.domNode,t]};var P;!function(e){let t;function n(e){switch(e){case t.bold:case t.italic:case t.underline:case t.strike:case t.header:case t.list:case t.indent:return!1;case t.link:return!0;default:return Object(p.d)(e)}}function i(e){switch(e){case l.e.Type.italic:return{key:t.italic,value:!0};case l.e.Type.bold:return{key:t.bold,value:!0};case l.e.Type.orderedList:return{key:t.list,value:"ordered"};case l.e.Type.bulletList:return{key:t.list,value:"bullet"};case l.e.Type.dashedList:return{key:t.list,value:"dashed"};case l.e.Type.underline:return{key:t.underline,value:!0};case l.e.Type.link:return{key:t.link,value:void 0};case l.e.Type.header1:return{key:t.header,value:1};case l.e.Type.header2:return{key:t.header,value:2};case l.e.Type.strike:return{key:t.strike,value:!0};default:return Object(p.d)(e)}}!function(e){e.italic="italic",e.bold="bold",e.list="list",e.underline="underline",e.link="link",e.header="header",e.strike="strike",e.indent="indent"}(t=e.QuillFormatNames||(e.QuillFormatNames={})),function(e){e.is=function(e){switch(e){case"bold":case"italic":case"underline":case"strike":case"header":case"list":case"link":case"indent":return!0;default:return!1}}}(t=e.QuillFormatNames||(e.QuillFormatNames={})),e.mapEditorFormatToQuill=i,e.getQuillFormattingAsList=()=>[t.bold,t.italic,t.underline,t.strike,t.header,t.list,t.link],e.mapQuillFormatToEditor=Object(h.l)((e,t)=>Object.keys(l.e.Type).find(a=>{const r=i(a);return r.key===e&&(n(e)||r.value===t)}),(e,t)=>n(e)?e:e+"_"+t),e.mapQuillFormatsToDenali=(n,i)=>{const r=n.getFormat(i.start,s.b.size(i));return Object.keys(r).reduce((o,s)=>{if(t.is(s)){const t=r[s],c=e.mapQuillFormatToEditor(s,t);if(null!=c)if(c===l.e.Type.link){const e=a(n,i,t);e.length>0&&(o[l.e.Type.link]=e)}else o[c]=!0}return o},{})};const a=(e,t,n)=>{const i=s.b.size(t);return e.scroll.descendants(e=>"A"===e.domNode.nodeName,i>0?t.start:Math.max(0,t.start-1),i>0?i:1).map(t=>{const i=t.offset(e.scroll);return{url:n,rect:new D(t.domNode,()=>e.container.getBoundingClientRect()),range:s.b.create(i,i+t.length())}})};e.isBlockFormat=e=>{switch(e){case l.e.Type.bold:case l.e.Type.italic:case l.e.Type.strike:case l.e.Type.underline:case l.e.Type.link:return!1;case l.e.Type.header1:case l.e.Type.header2:case l.e.Type.orderedList:case l.e.Type.bulletList:case l.e.Type.dashedList:return!0;default:return Object(p.d)(e)}}}(P||(P={}));class D{constructor(e,t){this._el=e,this._rootClientRect=t}getRect(){return d.b.tryCatch(()=>{const e=this._rootClientRect();Object(p.g)(!u.c.Rect.eq.equals(e,u.c.Rect.empty),"Got an empty parent rect");let t=Array.from(this._el.getClientRects());if(!t.length&&this._el instanceof Range&&Boolean(this._el.startContainer)&&this._el.collapsed&&""===this._el.startContainer.textContent){const e=document.createRange();e.selectNodeContents(this._el.startContainer),t=Array.from(e.getClientRects())}return Object(p.g)(!t.every(e=>u.c.Rect.eq.equals(e,u.c.Rect.empty)),"Got an empty Rect"),{rootClientRect:e,clientRects:d.g.unsafeGet(d.f.fromArray(t))}},d.b.toError)}}const F=(e,t)=>{let n=e;for(;n;){if(Boolean(n)&&t(n))return n;n=n.parent}return null}},o79T:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ERkP"),a=n("ax6a"),r=n("e12y"),o=n("ps/9"),s=n("bO3R"),l=n("3kT7");const c=e=>i.createElement(s.a.Animated,Object.assign({},Object(s.c)(e,p.gray))),d={position:"relative",display:"inline-block",overflow:"hidden",outline:"none",border:0,verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer"}}},u={overflow:"hidden",padding:`0 ${r.a.rem(.5)}`,borderRadius:r.a.rem(o.t),backgroundColor:a.a.CoreNeutral60,color:a.a.CoreNeutral0,textTransform:"none",letterSpacing:r.a.rem(a.h.ButtonLetterSpacing),fontSize:r.a.rem(a.h.ButtonSize),lineHeight:r.a.rem(a.h.ButtonLineHeight),transitionDuration:r.a.seconds(.2),$nest:{"&[data-active='true'] > i[role='icon'] > svg, &:not([data-disabled='true']):hover > i[role='icon'] > svg, &:not([data-disabled='true'])[data-hovered='true'] > i[role='icon'] > svg":{fill:a.a.CoreNeutral0},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:a.a.CoreNeutral50,color:a.a.CoreNeutral0},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:a.a.CoreNeutral50,color:a.a.CoreNeutral0,$nest:{"&:hover":{backgroundColor:a.a.CoreNeutral50,color:a.a.CoreNeutral0}}},"&[data-disabled='true']":{backgroundColor:a.a.CoreNeutral60,color:a.a.CoreNeutral50},[`.${l.g} &`]:{padding:`0 ${r.a.rem(.5)}`,marginRight:r.a.px(2),borderRadius:0,backgroundColor:a.a.CoreNeutral60,$nest:{"&:first-child":{borderRadius:`${r.a.rem(o.t)} 0 0 ${r.a.rem(o.t)}`},"&:last-child":{marginRight:0,borderRight:"none",borderRadius:`0 ${r.a.rem(o.t)} ${r.a.rem(o.t)} 0`},"&[data-active='true']":{backgroundColor:a.a.CoreBlue50,color:a.a.CoreNeutral0,$nest:{"&:hover":{backgroundColor:a.a.CoreBlue40,color:a.a.CoreNeutral0}}}}}}},p=r.a.stylesheet({button:[d],gray:[d,u]})},oCNB:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("ERkP"),a=n("JAs9"),r=n("bO3R"),o=n("Z5Rd"),s=n("xEVj"),l=n("o79T"),c=n("lrqh"),d=n("ot6E"),u=n("e12y"),p=n("ps/9"),h=n("ax6a");const m=u.a.prefixedStylesheet("obtain_grades",{contentWrapper:[{padding:`${u.a.rem(1)} ${u.a.rem(2.75)} ${u.a.rem(1.25)} ${u.a.rem(1.25)}`,width:u.a.percent(100),maxWidth:u.a.rem(22.5),borderRadius:u.a.rem(p.t),background:h.a.BackgroundNotification,color:h.a.CoreNeutral0,marginRight:0,marginLeft:"auto"}],icon:[{display:"none"}],header:[{fontSize:u.a.rem(.875),lineHeight:u.a.rem(1.25),fontWeight:700,marginBottom:u.a.rem(.4375)}],body:[{fontSize:u.a.rem(.875),lineHeight:u.a.rem(1.3125),marginBottom:u.a.rem(.9375)}],gradeButtons:[{marginBottom:u.a.rem(.9375)}],gradeButton:[{width:u.a.rem(5),textAlign:"center"}],submitButton:[{fontWeight:700}]});var g;!function(e){const t={content:{wrapper:m.contentWrapper,icon:m.icon}},n=({viewModel:e})=>i.createElement(r.a.Group,{sticky:!0},Object.entries(e.grades).map(([t,n])=>i.createElement(l.a,{name:t,className:m.gradeButton,active:e.state.view(c.g.exists(e=>a.a.Outcomes.Students.Grade.eq.equals(e,n))),onClick:()=>e.selectScore(n),key:t},t)));e.ObtainGrades=({onClose:e,onShow:a,notification:r,viewModel:u})=>{const p=i.useContext(d.a.Context).obtainGrades;return s.a.useEffectOnDidMount(()=>{u.show().finally(a)}),i.createElement(o.b.Wrapper,{notification:r,onClose:()=>{u.reject().finally(e)},theme:t},i.createElement(o.b.Content,null,i.createElement("div",{className:m.header},p.title),i.createElement("div",{className:m.body},""!==u.document.title?p.titleMessage(u.document.title):p.contentMessage(u.document.content)),i.createElement("div",{className:m.gradeButtons},i.createElement(n,{viewModel:u})),i.createElement(l.a,{name:"submit",className:m.submitButton,disabled:u.state.view(c.g.isNone),onClick:()=>{u.submit().finally(e)}},"Submit")))}}(g||(g={}))},oN2O:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("D57K"),r=n("a5W6"),o=n("nJQv"),s=n("b+P9"),l=n("U75S"),c=n("OA+g");!function(e){e.make=function(e,t,n){return{lefts:e.slice(),focus:t,rights:n.slice()}},e.fromReadonlyArray=function(t,n){return void 0===n&&(n=0),l.nb(t)||l.pb(n,t)?s.none:s.some(e.make(Object(c.pipe)(t.slice(),r.takeLeft(n)),t[n],Object(c.pipe)(t.slice(),r.dropLeft(n+1))))},e.fromArray=e.fromReadonlyArray,e.fromReadonlyNonEmptyArray=function(t){return e.make([],t[0],t.slice(1))},e.fromNonEmptyArray=e.fromReadonlyNonEmptyArray,e.isOutOfBound=function(t,n){return t<0||t>=e.length(n)},e.length=function(e){return e.lefts.length+1+e.rights.length},e.toNonEmptyArray=function(e){return Object(c.pipe)(o.of(e.focus),(function(t){return o.concat(e.lefts,t)}),(function(t){return o.concat(t,e.rights)}))},e.toReadonlyNonEmptyArray=e.toNonEmptyArray,e.toArray=e.toNonEmptyArray,e.update=function(t){return function(n){return e.make(n.lefts,t,n.rights)}},e.modify=function(t){return function(n){return Object(c.pipe)(n,e.update(t(n.focus)))}},e.move=function(t,n){var i=t(n.lefts.length);return e.isOutOfBound(i,n)?s.none:e.fromArray(e.toNonEmptyArray(n),i)},e.findIndex=function(e){return function(t){return Object(c.pipe)(t.lefts,l.U(e),s.alt((function(){return e(t.focus)?s.some(t.lefts.length):s.none})),s.alt((function(){return Object(c.pipe)(t.rights,l.U(e),s.map((function(e){return t.lefts.length+1+e})))})))}},e.moveByFindFirst=function(t){return function(n){return Object(c.pipe)(n,e.findIndex(t),s.chain((function(t){return t===n.lefts.length?s.some(n):e.move((function(){return t}),n)})))}},e.up=function(t){return e.move(c.decrement,t)},e.down=function(t){return e.move(c.increment,t)},e.start=function(t){return r.isEmpty(t.lefts)?t:e.make([],t.lefts[0],r.snoc(Object(c.pipe)(t.lefts,r.dropLeft(1)),t.focus).concat(t.rights))},e.end=function(t){var n=t.rights.length;return 0===n?t:e.make(r.snoc(t.lefts,t.focus).concat(Object(c.pipe)(t.rights,r.takeLeft(n-1))),t.rights[n-1],[])},e.insertLeft=function(t){return function(n){return e.make(n.lefts,t,r.cons(n.focus,n.rights))}},e.insertRight=function(t){return function(n){return e.make(r.snoc(n.lefts,n.focus),t,n.rights)}},e.deleteLeft=function(t){var n=t.lefts.length;return e.fromArray(t.lefts.concat(t.rights),n>0?n-1:0)},e.deleteRight=function(t){var n=t.lefts.length,i=t.rights.length;return e.fromArray(t.lefts.concat(t.rights),i>0?n:n-1)};var t=function(t,n){return e.make(t.lefts.map(n),n(t.focus),t.rights.map(n))},n=function(t,n){var i=t.lefts.length;return e.make(t.lefts.map((function(e,t){return n(t,e)})),n(i,t.focus),t.rights.map((function(e,t){return n(i+1+t,e)})))},i=function(t,n){return e.make(r.array.ap(t.lefts,n.lefts),t.focus(n.focus),r.array.ap(t.rights,n.rights))},d=function(t,n){var i=t.lefts.map((function(i,a){return n(e.make(Object(c.pipe)(t.lefts,r.takeLeft(a)),i,r.snoc(Object(c.pipe)(t.lefts,r.dropLeft(a+1)),t.focus).concat(t.rights)))})),a=t.rights.map((function(i,a){return n(e.make(r.snoc(t.lefts,t.focus).concat(Object(c.pipe)(t.rights,r.takeLeft(a))),i,Object(c.pipe)(t.rights,r.dropLeft(a+1))))}));return e.make(i,n(t),a)},u=function(e,t,n){return e.rights.reduce(n,n(e.lefts.reduce(n,t),e.focus))},p=function(e,t,n){var i=e.rights.reduceRight((function(e,t){return n(t,e)}),t),a=n(e.focus,i);return e.lefts.reduceRight((function(e,t){return n(t,e)}),a)},h=function(e){return function(t,n){var i=t.lefts.reduce((function(t,i){return e.concat(t,n(i))}),e.empty),a=t.rights.reduce((function(t,i){return e.concat(t,n(i))}),e.empty);return e.concat(e.concat(i,n(t.focus)),a)}},m=function(t){var n=r.array.traverse(t);return function(i,a){return t.ap(t.ap(t.map(n(i.lefts,a),(function(t){return function(n){return function(i){return e.make(t,n,i)}}})),a(i.focus)),n(i.rights,a))}};e.map=function(e){return function(n){return t(n,e)}},e.mapWithIndex=function(e){return function(t){return n(t,e)}},e.ap=function(e){return function(t){return i(t,e)}},e.apFirst=function(t){return function(n){return Object(c.pipe)(n,e.map((function(e){return function(t){return e}})),e.ap(t))}},e.apSecond=function(t){return function(n){return Object(c.pipe)(n,e.map((function(){return function(e){return e}})),e.ap(t))}},e.of=function(t){return e.make([],t,[])},e.extend=function(e){return function(t){return d(t,e)}},e.duplicate=e.extend(c.identity),e.foldMap=function(e){return function(t){return function(n){return h(e)(n,t)}}},e.reduce=function(e,t){return function(n){return u(n,e,t)}},e.reduceRight=function(e,t){return function(n){return p(n,e,t)}},e.sequence=function(t){var n=r.array.sequence(t);return function(i){return t.ap(t.ap(t.map(n(i.lefts),(function(t){return function(n){return function(i){return e.make(t,n,i)}}})),i.focus),n(i.rights))}},e.extract=function(e){return e.focus},e.URI="Zipper",e.getShow=function(e){var t=r.getShow(e);return{show:function(n){return"Zipper(".concat(t.show(n.lefts),", ").concat(e.show(n.focus),", ").concat(t.show(n.rights),")")}}},e.getSemigroup=function(t){return{concat:function(n,i){return e.make(n.lefts.concat(i.lefts),t.concat(n.focus,i.focus),n.rights.concat(i.rights))}}},e.getMonoid=function(t){return Object(a.__assign)(Object(a.__assign)({},e.getSemigroup(t)),{empty:e.make([],t.empty,[])})},e.Functor={URI:e.URI,map:t},e.FunctorWithIndex={URI:e.URI,map:t,mapWithIndex:n},e.Applicative={URI:e.URI,map:t,ap:i,of:e.of},e.Apply={URI:e.URI,map:t,ap:i},e.Foldable={URI:e.URI,foldMap:h,reduce:u,reduceRight:p},e.Traversable={URI:e.URI,map:t,foldMap:h,reduce:u,reduceRight:p,traverse:m,sequence:e.sequence},e.Comonad={URI:e.URI,map:t,extend:d,extract:e.extract},e.zipper={URI:e.URI,map:t,of:e.of,ap:i,extend:d,extract:e.extract,reduce:u,reduceRight:p,foldMap:h,traverse:m,sequence:e.sequence,mapWithIndex:n}}(i||(i={}))},omiJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ERkP"),a=n("I7vG"),r=n("GUi3"),o=n("XxrX"),s=n("0mPX"),l=n("cVtq"),c=n("lrqh"),d=n("D9EC"),u=n("Ars8"),p=n("cqAx");const h=({alerts:e,plagiarism:t})=>t.length+e.length===0?null:i.createElement(p.a,{className:u.a.alertTableContainer},i.createElement("table",{className:u.a.alertTable},i.createElement("tbody",null,e.map((e,t)=>i.createElement(m,{key:e.id,alert:e,index:t})),t.map((t,n)=>i.createElement(g,{key:t.id,alert:t,index:n+e.length}))))),m=({alert:e,index:t})=>i.createElement("tr",null,i.createElement("td",{className:u.a.alertTableTdIndex},t+1,"."),i.createElement("td",{className:u.a.alertTableTdExample},Object(a.pipe)(e.content,c.b.fold(e=>i.createElement("span",{className:u.a.alertTableHighlightText},b(y(e))),e=>i.createElement(l.f,{replacementsLabels:e,onClick:()=>d.e,layoutDensity:o.a.Density.cozy,a11yContrast:!1})))),i.createElement("td",Object.assign({className:u.a.alertTableTd},s.a.renderToHtml(e.categoryHuman))),i.createElement("td",{className:u.a.alertTableTd},r.a.OutcomeId.fromOutcomeId(e.lensId))),g=({alert:e,index:t})=>i.createElement("tr",null,i.createElement("td",{className:u.a.alertTableTdIndex},t+1,"."),i.createElement("td",{className:u.a.alertTableTdExample},i.createElement("span",{className:u.a.alertTableHighlightText},b(y(e.highlightTexts)))),i.createElement("td",{className:u.a.alertTableTdPlagiarismSource},i.createElement(v,{alert:e})),i.createElement("td",{className:u.a.alertTableTd},r.a.OutcomeId.fromOutcomeId(e.lensId))),f=300;function b(e){return e.length>f?i.createElement(i.Fragment,null,e.substr(0,f-1),"…"):i.createElement(i.Fragment,null,e)}function y(e){return 1===e.length?e[0]:Array.from(new Set(e)).join("; ")}const v=({alert:e})=>i.createElement(i.Fragment,null,e.title,"web"===e.plagiarismType.source&&Object(a.pipe)(e.plagiarismType.url,c.g.map(e=>i.createElement("a",{href:e,className:u.a.plagiarismLink},e)),c.g.toNullable))},op3b:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i=n("e12y"),a=n("WIwS"),r=n("ps/9"),o=n("ax6a");const s=()=>({padding:`0 ${i.a.rem(1)}`}),l=()=>({paddingTop:i.a.rem(.5)}),c=i.a.keyframes({from:{opacity:0,transform:"scale(1, .8)"}}),d=i.a.keyframes({to:{opacity:0,transform:"scale(1, .8)"}}),u={position:"absolute",zIndex:r.l,minWidth:i.a.rem(11),outline:"none",transformOrigin:"top",willChange:"opacity, transform",$nest:{"@media print":{visibility:"hidden"}}},p={marginTop:i.a.rem(.5),transformOrigin:"bottom"},h={animation:`${d} ${i.a.seconds(.1)} linear forwards`,pointerEvents:"none"},m={animation:`${c} ${i.a.seconds(.1)} linear forwards`},g={display:"flex",flexDirection:"column",overflow:"hidden",marginLeft:i.a.rem(-1),paddingBottom:i.a.rem(.5),minWidth:i.a.rem(12),maxWidth:i.a.rem(18),borderRadius:i.a.rem(r.s),background:o.a.CoreNeutral0,boxShadow:o.b.Z300,color:a.k,fontSize:i.a.rem(.8),"-webkit-font-smoothing":"antialiased",$nest:{"&:before":{position:"absolute",marginTop:i.a.px(-2),width:i.a.percent(100),height:i.a.px(2),border:"1px solid transparent",content:"''"}}},f={$nest:{"&:first-letter":{textTransform:"capitalize"}}},b={paddingBottom:i.a.rem(.75),color:o.a.CoreNeutral90,fontSize:i.a.rem(.85),lineHeight:i.a.rem(1.2)},y={overflow:"hidden",paddingRight:i.a.rem(1),paddingLeft:i.a.rem(.5),color:a.c,textTransform:"none",textOverflow:"ellipsis",fontSize:i.a.rem(.8),lineHeight:i.a.rem(1.85),width:i.a.percent(100)},v={marginBottom:i.a.rem(.8),fontSize:i.a.rem(.7),lineHeight:i.a.rem(1.1),$nest:{"& b":{padding:i.a.rem(.25),borderRadius:r.u,background:a.g,color:o.a.CoreNeutral90,fontWeight:600}}},k={color:a.j,fontWeight:"normal",lineHeight:i.a.rem(2.1),paddingLeft:i.a.important(i.a.rem(.5))},w={height:i.a.rem(2)},S={paddingBottom:i.a.rem(.5),color:a.j,whiteSpace:"nowrap",fontWeight:"normal",fontSize:i.a.rem(1.25),lineHeight:i.a.rem(2),cursor:"pointer",textSizeAdjust:String(i.a.percent(100))},_={marginBottom:i.a.rem(.25),paddingTop:i.a.rem(.1),color:a.j,fontWeight:400,fontSize:i.a.rem(.8),lineHeight:i.a.rem(1.2)},C={color:o.a.CoreBlue50},E={color:i.a.important(a.c),lineHeight:i.a.rem(2),$nest:{"&:after":{background:i.a.important(a.c)}}},O={$nest:{"& .itemInsert, .itemRemove":{paddingBottom:i.a.rem(.3),whiteSpace:"normal",lineHeight:i.a.rem(1.5)}}},A={maxWidth:i.a.rem(19)},x={padding:`${i.a.rem(.75)} ${i.a.rem(1)}`,color:o.a.CoreNeutral40},T={paddingLeft:i.a.rem(.4)},M={color:o.a.CoreNeutral40,fontWeight:500},j={$nest:{"& svg":{stroke:o.a.CoreNeutral40}}},I={display:"block",width:i.a.percent(100),color:o.a.CoreNeutral90,textAlign:"left",whiteSpace:"pre-line",$nest:{"&:first-child":Object.assign({},l()),"&:hover":{backgroundColor:o.a.CoreBlue50,color:o.a.CoreNeutral0,$nest:{"& .inlineHeader":{color:o.a.CoreNeutral0},"& .inline-card-diff":{color:o.a.CoreNeutral0},"& .strike":{color:i.a.important(o.a.CoreNeutral0),$nest:{"&:after":{background:i.a.important(o.a.CoreNeutral0)}}}}}}},R=Object.assign(Object.assign({},i.a.stylesheet({container:[u],directionUp:[p],invisible:[h],visible:[m],bigTitle:[s(),l(),f,b],unknownWordTitle:[l(),f,y],explanation:[s(),v],footerButton:[k],footerButtonBig:[k],footerButtonShort:[k,w],inlineWrappedList:[S],maxWidthReached:[O],cardUphook:[A],title:[x],upgradeButton:[T],upgradeButtonText:[M],upgradeIcon:[j]})),{card:i.a.joinClasses(["inline-card-card",i.a.style(g)]),diff:i.a.joinClasses(["inline-card-diff",i.a.style(C)]),strike:i.a.joinClasses(["strike",i.a.style(E)]),inlineHeader:i.a.joinClasses(["inlineHeader",i.a.style(f,_)]),inlineHeaderOne:i.a.joinClasses(["inlineHeader",i.a.style(f,_,{marginBottom:0})]),itemInsert:i.a.joinClasses(["itemInsert",i.a.style(s(),I)]),itemRemove:i.a.joinClasses(["itemRemove",i.a.style(s(),I)])})},p7hf:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var i=n("ERkP"),a=n("LNSM"),r=n("vOOZ"),o=n("9NHN"),s=n("zR/0"),l=n("hoSD"),c=n("ot6E"),d=n("sWIT"),u=n("NIeu");class p extends i.Component{constructor(){super(...arguments),this.isDropZoneVisible=a.a.create(!1),this.isDropZoneHovered=a.a.create(!1),this.timeout=void 0,this.isDocumentUploading=a.a.create(!1),this.onLeave=()=>{this.isDropZoneVisible.set(!1),this.isDropZoneHovered.set(!1)},this.onDragOver=e=>(this.isDropZoneVisible.set(!0),this.isDropZoneHovered.set(this.props.canDrop(e)),Boolean(this.timeout)&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.onLeave(),100),e.stopPropagation(),e.preventDefault(),!1),this.onDrop=e=>{e.preventDefault(),e.stopPropagation(),this.onLeave(),this.props.canDrop(e)&&(this.isDocumentUploading.set(!0),this.props.documentUpload.upload({files:e.dataTransfer.files,notify:!0,allowMultiple:this.props.multiple,isDragNDrop:!0}).then(()=>this.isDocumentUploading.set(!1)))},this._subs=[]}componentDidMount(){this._subs=[s.a.fromEvent(document,"dragover").subscribe(this.onDragOver),s.a.fromEvent(document,"drop").subscribe(this.onDrop)]}componentWillUnmount(){this._unsubscribe(),this.props.documentUpload.navigated()}render(){return this.props.render(this.isDropZoneVisible,this.isDropZoneHovered,this.isDocumentUploading)}_unsubscribe(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}}const h=e=>{const t=i.useContext(c.a.Context);return i.createElement(p,Object.assign({},e,{canDrop:e=>l.c.hasParentWithClassName(e.target,u.dropzone),render:(e,n,a)=>i.createElement(r.a.div,Object.assign({},Object(o.c)(u.dropZoneElement,e.pipe(s.a.map(e=>e&&u.active)),n.pipe(s.a.map(e=>e&&u.hovered)),a.pipe(s.a.map(e=>e&&Object(o.c)(u.active,u.hovered).className)))),i.createElement(r.a.div,{className:u.dropzone},a.pipe(s.a.map(e=>e?i.createElement("div",{className:u.progressContainer,key:"uploading"},i.createElement("div",{className:u.message},t.modalUploadingDocumentText),i.createElement(d.a,{size:18})):i.createElement("div",{className:u.dropzoneMiddleblock,key:"dropAFile"},"Drop a text file here")))))}))}},pKPl:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var i=n("ERkP"),a=n("vOOZ"),r=n("p7l/"),o=n("xEVj"),s=n("zR/0"),l=n("gy42");class c extends i.Component{componentDidMount(){this.props.onMount&&this.props.onMount(this._editorWrapEl)}shouldComponentUpdate(){return!1}render(){const{theme:e={},children:t,onMouseDown:n}=this.props;return i.createElement("div",{className:e.editorContentWrap,onMouseDown:n},i.createElement(a.a.div,{className:e.editorContent,mount:e=>e&&(this._editorWrapEl=e)},t))}}const d=e=>{const t=i.useContext(r.a.Context),{ref:n,onMount:a}=o.a.useElWatcher();o.a.useSubscriptionTo(n.pipe(s.b.compactMap(n=>e.scrollEl.pipe(s.b.compact,s.a.first(),s.a.tap(i=>e.denaliEditor.attach(n,i,t.pipe(s.a.map(e=>e.rect)))))))),o.a.useSubscriptionTo(n.pipe(s.b.compactMap(t=>l.a.getResizeObservable(t).pipe(s.a.map(e=>e.height),s.a.distinctUntilChanged(),s.a.startWith(t.getBoundingClientRect().height),s.a.tap(l.b.toAtom(e.editorHeight)))))),i.useEffect(()=>()=>e.denaliEditor.dispose());const{theme:d={},children:u}=e;return i.createElement(c,{theme:d,onMount:a},u)}},pKiV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("9NHN"),s=n("D9EC"),l=n("lrqh"),c=n("1w6p"),d=n("e12y"),u=n("EiZq"),p=n("aIes"),h=n("zR/0");!function(e){let t;function n(e){return c.b.List.make(p.a.Sorted.getFoldableWithIndex(),i(e))}function i(t){return c.b.Knot.make(e.IdProvider,{cell:c.b.Knot.make(u.a.Cell,{item:c.b.Composite.make(e.CardStyleProvider,t)})})}!function(e){e.onMount="onMount"}(t=e.ActionsKind||(e.ActionsKind={})),e.cardListContent=n,e.cardList=function(t){return c.b.Knot.make(e.ScrollableBox,{content:n(t)})},e.ScrollableBox=c.b.Grid.make(({notify:e,view:n,slots:i})=>a.createElement(r.a.div,Object.assign({},Object(o.c)(n("disableUserActions").pipe(h.a.map(Object(s.c)(g.disableUserActions,void 0))),g.scrollContent),{"data-purpose":"scrollable-box",style:{height:n("height")},mount:n=>e({kind:t.onMount,element:l.g.fromNullable(n)})()}),i.content)),e.cell=i,e.CardStyleProvider=c.b.Grid.make(({slots:e})=>a.createElement("div",{className:g.cardWrapper},e.children)),e.IdProvider=c.b.Grid.make(({slots:e,state:t})=>a.createElement(r.a.div,{"data-id":t},e.cell))}(i||(i={}));const m={margin:`${d.a.rem(.5)} 0`,background:"none",userSelect:"none",$nest:{"&:before":{position:"absolute",left:d.a.rem(-.5),width:d.a.rem(.5),height:d.a.percent(100),background:"none",content:"''"}}},g=d.a.stylesheet({scrollContent:[{position:"relative",boxSizing:"content-box"}],disableUserActions:[{pointerEvents:"none"}],cardWrapper:[m]})},pgXu:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("ERkP"),a=n("9NHN"),r=n("ax6a"),o=n("e12y"),s=n("WIwS"),l=n("ps/9"),c=n("rk+4"),d=n("bO3R"),u=n("3rlE");const p=({upgradeAction:e,size:t,title:n,className:r})=>{const o=i.useContext(c.a.Context).goPremium,s=Boolean(n)?n:o;return i.createElement(d.a,Object.assign({name:"upgrade"},Object(a.c)(r,"big"===t?E.baseBig:"link"===t?E.link:E.baseSmall),{onClick:e}),"link"===t?i.createElement(u.d.PaidLink,{width:14,className:E.linkIcon}):i.createElement(u.d.Paid,{className:"big"===t?E.bigIcon:E.icon}),s)},h={background:r.a.CoreGreen60,borderRadius:o.a.rem(l.t),boxShadow:`0 2px 5px ${o.a.color(s.j).fade(.35).toRGBA().toString()}`,color:r.a.CoreNeutral0,textTransform:"uppercase",letterSpacing:o.a.rem(l.h),fontWeight:"bold",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:o.a.color(r.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:o.a.color(r.a.CoreGreen60).tint(.2).toRGBA().toString()}}},m={padding:`0 ${o.a.rem(3)} 0 ${o.a.rem(2)}`,fontSize:o.a.rem(.8125),lineHeight:o.a.rem(3)},g={padding:`0 ${o.a.rem(2)} 0 ${o.a.rem(.5)}`,fontSize:o.a.rem(.6875),lineHeight:o.a.rem(2)},f={background:r.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:o.a.color(r.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:o.a.color(r.a.CoreGreen60).tint(.2).toRGBA().toString()}}},b={padding:`0 ${o.a.rem(3)} 0 ${o.a.rem(2)}`,fontSize:o.a.rem(.8125),lineHeight:o.a.rem(3)},y={padding:`0 ${o.a.rem(2)} 0 ${o.a.rem(.5)}`,fontSize:o.a.rem(.6875),lineHeight:o.a.rem(2)},v={fill:r.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{fill:r.a.CoreNeutral0}}},k={marginRight:o.a.rem(.2)},w={color:r.a.CoreGreen60,fontSize:o.a.rem(.75),transition:"transform .2s ease-out",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{transform:"scale(1.05)"},"&:not([data-disabled='true']):active":{transition:"none",transform:"scale(1)"}}},S={color:r.a.CoreGreen60},_={fill:r.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:r.a.CoreGreen60}}},C={fill:r.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:r.a.CoreGreen60}}},E=o.a.stylesheet({base:[h],baseBig:[h,m],baseSmall:[h,g],baseUpHookRedesign:[h,f],baseBigUpHookRedesign:[m,f,b],baseSmallUpHookRedesign:[g,f,y],icon:[v],bigIcon:[v,k],link:[w],linkUpHookRedesign:[w,S],linkIconUpHookRedesign:[_],linkIcon:[C]})},q9Ib:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return w}));var i,a=n("OA+g"),r=n("I7vG"),o=n("94k3"),s=n("dE97"),l=n("GUi3"),c=n("yA7V"),d=n("PyeZ"),u=n("zR/0"),p=n("GGUR"),h=n("gy42"),m=n("BeBM"),g=n("XCjp"),f=n("lrqh"),b=n("D9EC"),y=n("6fbX"),v=n("PrA7");!function(e){let t,n;!function(e){e.getInlineHighlightFilter=e=>t=>!e.view(m.e.isSidebarOpened).get()||Object(r.pipe)(t,f.g.map(e=>s.a.State.isBulkApplied(e.state)),f.g.getOrElse(a.constTrue))}(t=e.ViewModel||(e.ViewModel={})),function(e){e.highlightMarkByInlineAlert=(e,t,n)=>({id:"highlightMarkByInlineAlert",when:Object(b.p)(l.a.isClosedId,l.a.isMainLens),what:m.e.Effect.Applicator.create(g.a.getHighlightSubscribtion(e,t,n).pipe(u.a.switchMapTo(u.a.NEVER)))})}(n=e.Effects||(e.Effects={}))}(i||(i={}));const k=300;class w{constructor(e,t,n,i,o,l,m,g,b,w,S){this._inlineManager=e,this._alertMarkRectGetter=t,this._closeEvent=n,this._checkingDomain=i,this._alertsReader=o,this._alertsService=l,this._telemetry=m,this._openInlineAlert=g,this._hovered=b,this.hydrate=w,this._inlineHighlightFilter=S,this._subs=new p.a.Keeper,this.events=new u.a.BehaviorSubject({type:d.b.Type.closed}),this._emitCloseWhen=u.b.listenWhenSome(e=>this._checkingDomain.state.pipe(u.a.map(c.a.get(e.id)),u.a.filter(f.g.isNone),u.a.merge(this._closeEvent),u.a.tap(this._inlineManager.closeCards))),this._toMarkAndAlert=Object(a.flow)(f.g.filter(e=>f.g.isSome(this._alertsReader.getInteractable(e.id))),f.g.map(e=>{Object(y.g)(!s.a.isInPremiumLens(e),"Can't hover plagiarism alert");const t={alert:e,highlightIndex:0};return Object.assign(Object.assign({},t),{getMarkRect:this._alertMarkRectGetter(t)})})),this.state=u.a.combineLatestStatic(this._inlineManager.hoveredMarkAlert.pipe(u.a.filter(this._inlineHighlightFilter),u.a.switchMap(this._emitCloseWhen)),this.events.pipe(u.a.tap(e=>{"unhovered"===e.type&&this._telemetry.gnarSpec.alertUnderlineHover(this._telemetry.pageId,"assistantOff",this._telemetry.pageSessionId)}))).pipe(u.a.debounce(([e,t])=>u.a.timer(f.g.isNone(e)&&"closed"!==t.type?k:0)),u.a.switchMap(([e,t])=>Object(r.pipe)(e,f.g.fold(()=>"hovered"===t.type?u.a.EMPTY:(this._hovered.next(f.g.empty()),u.a.of(f.g.none)),e=>{switch(this._hovered.next(f.g.some(e)),t.type){case d.b.Type.closed:return h.b.delay(f.g.some(e),k);case d.b.Type.opened:case d.b.Type.unhovered:case d.b.Type.hovered:case d.b.Type.addedToDictionary:case d.b.Type.ignored:case d.b.Type.applied:case d.b.Type.confirmed:case d.b.Type.undone:case d.b.Type.mounted:return u.a.of(f.g.some(e));default:return Object(y.d)(t)}}))),u.a.distinctUntilChanged(f.g.getEq(s.d.ordId).equals),u.a.map(this._toMarkAndAlert),u.a.share()),this._log=v.Monitoring.Logging.getLogger("InlineCardViewModelImpl",v.Logging.LogLevel.DEBUG),this._subs.push(this._listenAlertOpenings(),this._listenAlertIgnores(),this._listenAlertAddedToDictionary(),this._listenAlertApplies())}openAlert(e){this._openInlineAlert.next(e)}_listenAlertIgnores(){return this.events.pipe(u.a.filter(d.b.isAlertIgnoreAction)).subscribe(e=>Object(r.pipe)(this._alertsService.applyFeedback(e.alertId,{kind:o.a.AlertFeedbackType.IGNORE,subtype:o.a.FeedbackSubtype.Inline},s.b.text),f.b.fold(e=>this._log.error("error sending alert feedback",e),a.constVoid)))}_listenAlertAddedToDictionary(){return this.events.pipe(u.a.filter(d.b.isAlertAddToDictionaryAction)).subscribe(e=>Object(r.pipe)(this._alertsService.applyFeedback(e.alertId,{kind:o.a.AlertFeedbackType.ADD_TO_DICTIONARY,subtype:o.a.FeedbackSubtype.Inline},s.b.text),f.b.fold(e=>this._log.error("error sending alert feedback",e),a.constVoid)))}_listenAlertOpenings(){return this.events.pipe(u.a.filter(d.b.isAlertOpenAction)).subscribe(e=>{this.openAlert(e.alert)})}_listenAlertApplies(){return this.events.pipe(u.a.filter(d.b.isAlertApplyAction)).subscribe(e=>{Object(r.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:s.b.text,feedbackSubtype:o.a.FeedbackSubtype.Inline}),f.b.fold(e=>this._log.error("error applying alert",e),()=>void this._telemetry.gnarSpec.suggestedReplacementButtonClick(this._telemetry.pageId,"defaultCard","assistantOn",this._telemetry.pageSessionId)))})}dispose(){this._subs.dispose()}}!function(e){e.DATA_NAME="inline-card",e.isInlineCard=t=>!!t&&t.getAttribute("data-name")===e.DATA_NAME}(i||(i={}))},qE82:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("fOOC"),r=n("24uI"),o=n("4ae2"),s=n("6fbX"),l=n("lrqh"),c=function(){function e(e){this._delta=e,this._cursor={index:0,operationOffset:0}}return e.prototype.next=function(e){Object(s.g)(e>=0,"Length cannot be negative");var t=this._cursor.index;if(t>=this._delta.ops.length)return l.g.none;for(var n=r.a.operationLength(this._delta.ops[t]),i=e-(n-this._cursor.operationOffset);i>0&&t<this._delta.ops.length-1;)t++,i-=n=r.a.operationLength(this._delta.ops[t]);return i>0?(this._cursor={index:t+1,operationOffset:0},l.g.none):(this._cursor={index:t,operationOffset:n+i},l.g.some(this._delta.ops[t]))},e}();!function(e){const t=l.g.getMonoid(Object(a.getObjectSemigroup)());e.getEnrichedWithFormattingDelta=e=>n=>{const i=new c(e);return n.ops.reduce(([e,n],a)=>{const o=i.next(n);return r.a.isInsert(a)?[e.insert(a.insert,l.g.toUndefined(t.concat(l.g.chain(r.a.getAttrs)(o),r.a.getAttrs(a)))),0]:[e.push(a),r.a.operationLength(a)]},[new o.a,1])[0]}}(i||(i={}))},qPGH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("lrqh"),s=n("1w6p"),l=n("e12y");!function(e){let t;function n(t){return s.b.Knot.make(e.IdProvider,{card:s.b.Composite.make(e.CardStyleProvider,t)})}!function(e){e.onMount="onMount"}(t=e.ActionsKind||(e.ActionsKind={})),e.assistant=function(t){return s.b.Knot.make(e.AssistantBox,{content:n(t)})},e.AssistantBox=s.b.Grid.make(({notify:e,slots:n})=>a.createElement(r.a.div,{id:"assistant-feed-wrapper",mount:n=>e({kind:t.onMount,element:o.g.fromNullable(n)})()},n.content)),e.card=n,e.CardStyleProvider=s.b.Grid.make(({slots:e})=>a.createElement("div",{className:d.cardWrapper},e.children)),e.IdProvider=s.b.Grid.make(({slots:e,state:t})=>a.createElement(r.a.div,{"data-id":t},e.card))}(i||(i={}));const c={margin:`${l.a.rem(.5)} 0`,background:"none",userSelect:"none",$nest:{"&:before":{position:"absolute",left:l.a.rem(-.5),width:l.a.rem(.5),height:l.a.percent(100),background:"none",content:"''"}}},d=l.a.stylesheet({disableUserActions:[{pointerEvents:"none"}],cardWrapper:[c]})},rQ7a:function(e,t,n){"use strict";n.r(t),n.d(t,"literal",(function(){return o})),n.d(t,"string",(function(){return s})),n.d(t,"number",(function(){return l})),n.d(t,"boolean",(function(){return c})),n.d(t,"UnknownArray",(function(){return d})),n.d(t,"UnknownRecord",(function(){return u})),n.d(t,"refine",(function(){return p})),n.d(t,"nullable",(function(){return h})),n.d(t,"struct",(function(){return m})),n.d(t,"type",(function(){return g})),n.d(t,"partial",(function(){return f})),n.d(t,"array",(function(){return b})),n.d(t,"record",(function(){return y})),n.d(t,"tuple",(function(){return v})),n.d(t,"intersect",(function(){return k})),n.d(t,"union",(function(){return w})),n.d(t,"sum",(function(){return S})),n.d(t,"lazy",(function(){return _})),n.d(t,"readonly",(function(){return C})),n.d(t,"alt",(function(){return E})),n.d(t,"zero",(function(){return O})),n.d(t,"compose",(function(){return A})),n.d(t,"id",(function(){return x})),n.d(t,"URI",(function(){return T})),n.d(t,"Schemable",(function(){return M})),n.d(t,"WithUnknownContainers",(function(){return j})),n.d(t,"WithUnion",(function(){return I})),n.d(t,"WithRefine",(function(){return R}));var i=n("OA+g"),a=n("I7vG"),r=n("ST6u"),o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return-1!==e.findIndex((function(e){return e===t}))}}},s={is:function(e){return"string"==typeof e}},l={is:function(e){return"number"==typeof e&&!isNaN(e)}},c={is:function(e){return"boolean"==typeof e}},d={is:Array.isArray},u={is:function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},p=function(e){return function(t){return{is:function(n){return t.is(n)&&e(n)}}}},h=function(e){return{is:function(t){return null===t||e.is(t)}}},m=function(e){return Object(a.pipe)(u,p((function(t){for(var n in e)if(!(n in t&&e[n].is(t[n])))return!1;return!0})))},g=m,f=function(e){return Object(a.pipe)(u,p((function(t){for(var n in e){var i=t[n];if(void 0!==i&&!e[n].is(i))return!1}return!0})))},b=function(e){return Object(a.pipe)(d,p((function(t){return t.every(e.is)})))},y=function(e){return Object(a.pipe)(u,p((function(t){for(var n in t)if(!e.is(t[n]))return!1;return!0})))},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return Array.isArray(t)&&t.length===e.length&&e.every((function(e,n){return e.is(t[n])}))}}},k=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return e.some((function(e){return e.is(t)}))}}},S=function(e){return function(t){return Object(a.pipe)(u,p((function(n){var i=n[e];return i in t&&t[i].is(n)})))}},_=function(e){var t=Object(r.b)(e);return{is:function(e){return t().is(e)}}},C=i.identity,E=function(e){return function(t){return{is:function(n){return t.is(n)||e().is(n)}}}},O=function(){return{is:function(e){return!1}}},A=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},x=function(){return{is:function(e){return!0}}},T="io-ts/Guard",M={URI:T,literal:o,string:s,number:l,boolean:c,nullable:h,type:g,struct:m,partial:f,record:y,array:b,tuple:v,intersect:k,sum:S,lazy:function(e,t){return _(t)},readonly:C},j={UnknownArray:d,UnknownRecord:u},I={union:w},R={refine:p}},rTXf:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var i=n("ERkP"),a=n("I7vG"),r=n("vOOZ"),o=n("LNSM"),s=n("9NHN"),l=n("lrqh"),c=n("D9EC"),d=n("zI3C"),u=n("rk+4"),p=n("bO3R"),h=n("NmGF"),m=n("D6Vf"),g=n("BugA"),f=n("pgXu"),b=n("gy42"),y=n("zR/0"),v=n("xEVj"),k=n("OA+g"),w=n("ax6a"),S=n("e12y");const _={display:"flex",flexDirection:"column",maxHeight:"90vh",width:S.a.rem(41.5),backgroundColor:w.a.CoreNeutral0,textAlign:"left"},C={padding:`${S.a.rem(1.125)} ${S.a.rem(2)} ${S.a.rem(1)}`,paddingBottom:S.a.rem(1)},E={paddingBottom:0,backgroundColor:w.a.CoreNeutral0,flexShrink:0,$nest:{"&:after":{position:"absolute",bottom:0,display:"block",width:`calc(100% - ${S.a.rem(4)})`,height:S.a.px(1),background:w.a.CoreNeutral20,content:"''"}}},O={display:"block",margin:`${S.a.rem(.8125)} 0`,color:w.a.CoreNeutral90,fontWeight:w.h.SmallLightWeight,lineHeight:S.a.rem(1.5)},A={minHeight:S.a.rem(4)},x={display:"flex",$nest:{"&:not(:last-child)":{marginBottom:S.a.rem(1.25),borderBottom:`1px solid ${w.a.CoreNeutral20}`}}},T={marginBottom:S.a.rem(-.5),maxWidth:S.a.rem(27),justifyContent:"initial",flexWrap:"wrap",$nest:{"& > .setGoalsToneButton":{margin:`0 0 ${S.a.rem(.5)}`,marginLeft:S.a.important(0),$nest:{"&:not(:last-child)":{marginRight:S.a.rem(.5)}}}}},M={width:S.a.rem(7),textTransform:"capitalize",lineHeight:S.a.rem(2)},j={marginTop:S.a.rem(.8125)},I={margin:`0 0 ${S.a.rem(1.5)} ${S.a.rem(7)}`},R={margin:`0 0 ${S.a.rem(1.5)} ${S.a.rem(7)}`},N={position:"absolute",top:S.a.rem(2.5)},L={display:"flex",width:S.a.percent(100),justifyContent:"space-between"},P={color:w.a.CoreNeutral90,fontWeight:300,fontSize:S.a.rem(.8125)},D=S.a.stylesheet({wrapper:[_],modalBody:[C],modalHeader:[E],itemDescription:[O],modalFooter:[A],row:[x],toneButtons:[T],rowHeader:[M],extraContent:[j],title:[I],description:[R],image:[N],footerWrapper:[L],checkboxText:[P]}),F=({name:e,items:t,sticky:n,theme:a={},extraContent:o,children:s,isVisible:l})=>i.createElement(r.a.Fragment,null,l.view(r=>r?i.createElement("div",{className:D.row},i.createElement("div",null,i.createElement(g.e,{className:D.rowHeader},e),o),i.createElement("div",null,i.createElement(p.a.Group,{sticky:n,className:a.buttonsGroup},t.map(t=>i.createElement(p.a.White,Object.assign({className:a.button,name:`context-${e}-${t.key}`},t)))),i.createElement(g.l,{className:D.itemDescription},s))):null)),B=({items:e,current:t,isVisible:n,shouldDisable:i,itemTitle:a=k.identity})=>({sticky:!0,isVisible:n,items:e.map(e=>({key:e,active:t.view(t=>t===e),onClick:()=>t.set(e),disabled:i&&i(e),children:a(e)}))}),H=({blocks:e,features:t,showOnLoad:n,close:a,upgrade:r,reset:o,showOnLoadChanged:s})=>{const l=i.useContext(d.a.Context),c=b.b.toObservable(t),u=b.b.toObservable(e),p=b.b.toObservable(n),h=b.b.toObservable(a);return i.createElement(m.a,{className:D.wrapper},i.createElement(m.a.Header,{className:D.modalHeader},i.createElement(U,null)),i.createElement(m.a.Body,{name:"goalsBody",className:D.modalBody},i.createElement(V,{features:c,upgradeAction:r,blocks:u})),i.createElement(m.a.Footer,{className:D.modalFooter},i.createElement(q,{supportsSetGoalsLoader:c.pipe(y.a.map(e=>!e.demoMode&&l.has(d.a.Flag.supportsSetGoalsLoader))),onDone:h,reset:o,showOnLoad:p,showOnLoadChanged:s})))},V=({blocks:e,features:t,upgradeAction:n})=>{const o=i.useContext(u.a.Context).goals;return i.createElement(r.a.Fragment,null,y.a.combineLatestStatic(e,t).pipe(y.a.map(([{audience:e,formality:t,domain:s,intent:c,type:d,format:u},p])=>{const h=i.createElement(F,Object.assign({name:"domain"},B(Object.assign(Object.assign({},s),{itemTitle:e=>"mail"===e?"email":e})),{extraContent:i.createElement(r.a.div,{className:D.extraContent},p.isFree?i.createElement(f.a,{size:"link",upgradeAction:n}):null)}),s.current.view(e=>p.isFree?o.sections.domain.free:Boolean(e)?o.sections.domain[e]:"")),m=i.createElement(F,Object.assign({name:"intent"},(({items:e,isVisible:t,current:n},i)=>({isVisible:t,items:e.map(e=>({key:e,active:n.view(t=>Object(a.pipe)(t,l.g.exists(t=>t.has(e)))),onClick:()=>n.modify(t=>{const n=Object(a.pipe)(t,l.g.fold(()=>new Set,e=>new Set(e)));return n.has(e)?n.delete(e):n.add(e),l.g.some(n)}),children:i(e)}))}))(c,e=>o.sections.intent.options[e])),o.sections.intent.experimental),g=i.createElement(F,Object.assign({name:"audience"},B(e)),e.current.view(t=>Boolean(t)&&o.sections.audience[t](Object(a.pipe)(e.default,l.g.exists(e=>e===t))))),b=i.createElement(F,Object.assign({name:"formality"},B(t)),t.current.view(e=>Boolean(e)?o.sections.formality[e]:"")),y=i.createElement(F,Object.assign({name:"type"},B(d)),d.current.view(e=>Boolean(e)?o.sections.type.options[e]:"")),v=i.createElement(F,Object.assign({name:"format"},B(Object.assign(Object.assign({},u),{itemTitle:o.sections.format.formatTitle}))),u.current.view(e=>Boolean(e)?o.sections.format.options[e]:""));return p.isStudentsOFE?i.createElement(i.Fragment,null,h,m,g,b,y,v):i.createElement(i.Fragment,null,g,b,h,m)})))},U=()=>{const e=i.useContext(u.a.Context).goals,t=i.useContext(m.a.TitleIdContext);return i.createElement(i.Fragment,null,i.createElement(g.c,{id:t,className:D.title},e.title),i.createElement(W,null),i.createElement(g.a,{className:D.description},e.header))},q=({supportsSetGoalsLoader:e,showOnLoad:t,showOnLoadChanged:n,reset:a,onDone:l})=>{const d=i.useContext(u.a.Context),m=o.a.create(!1);return v.a.useSubscriptionTo(t.pipe(y.a.tap(b.b.toAtom(m)))),v.a.useSubscriptionTo(m.pipe(y.a.tap(n))),i.createElement(r.a.div,Object.assign({},Object(s.c)(e.pipe(y.a.map(Object(c.c)(D.footerWrapper,null))))),e.pipe(y.a.map(Object(c.c)(i.createElement(h.a,{checked:m,name:"set-goals"},i.createElement(g.l,{className:D.checkboxText},d.goals.footer.showModalOnStart)),null))),i.createElement(p.a.Group,null,i.createElement(p.a.Ghost,{name:"reset",onClick:a},d.goals.footer.reset),l.pipe(y.a.map(e=>i.createElement(p.a.Primary,{name:"closeSetContext",onClick:e},d.done)))))},W=()=>i.createElement("svg",{className:D.image,width:"69",height:"80",viewBox:"0 0 69 80"},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M28.935 70C12.955 70 0 57.045 0 41.065 0 25.085 12.955 12.13 28.935 12.13c15.98 0 28.936 12.954 28.936 28.935C57.87 57.045 44.917 70 28.936 70zm0-12.242c9.22 0 16.694-7.474 16.694-16.693 0-9.22-7.475-16.694-16.695-16.694s-16.693 7.475-16.693 16.695 7.474 16.693 16.693 16.693z",fill:"#4C7AF1"}),i.createElement("path",{d:"M28.935 57.758c-9.22 0-16.693-7.474-16.693-16.693 0-9.22 7.474-16.694 16.693-16.694 9.22 0 16.694 7.475 16.694 16.695s-7.475 16.693-16.695 16.693zm0-11.13a5.564 5.564 0 1 0 0-11.128 5.565 5.565 0 0 0 .001 11.129z",fill:"#BCDBFB"}),i.createElement("circle",{fill:"#FFF",cx:"28.935",cy:"41.065",r:"5.565"}),i.createElement("path",{stroke:"#4C7AF1",strokeLinecap:"round",strokeWidth:"1.5",d:"M15.024 68.016L9.46 78.5m32.274-10.484L47.298 78.5"}),i.createElement("path",{d:"M61.96 13.367a.65.65 0 0 1 .645.656.65.65 0 0 1-.646.655h-6.075L29.35 41.7a.636.636 0 0 1-.913 0 .663.663 0 0 1 0-.927L54.972 13.75V7.59a.65.65 0 0 1 .645-.656.65.65 0 0 1 .646.656v5.777h5.696zm3.17-3.215a.65.65 0 0 1 .646.655.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V4.372a.65.65 0 0 1 .646-.655.65.65 0 0 1 .644.655v5.78h5.696zm3.17-3.218a.65.65 0 0 1 .647.656.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V1.155A.65.65 0 0 1 61.96.5a.65.65 0 0 1 .645.655v5.78H68.3z",fill:"#4C7AF1"}),i.createElement("path",{d:"M49.267 20.486l-8.586 8.757",stroke:"#FFF",strokeWidth:"1.3"})))},rWEN:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var i,a=n("RxKi"),r=n("8Js9"),o=n("OA+g"),s=n("I7vG"),l=n("sq+9"),c=n("AS+/"),d=n("LNSM"),u=n("94k3"),p=n("hoSD"),h=n("lrqh"),m=n("tn8Q"),g=n("D9EC"),f=n("6fbX"),b=n("PrA7"),y=n("yA7V"),v=n("Xo/A"),k=n("lSTv"),w=n("7b34"),S=n("QxMx"),_=n("+X10"),C=n("QshB"),E=n("zR/0");!function(e){function t(t){return r=>Object(s.pipe)(t,w.a.foldMap(e.group)(i,a,n),Object(S.a)(e.group.concat)(r))}e.group=C.b.group,e.eq=C.b.eq,e.applyDiff=t,e.fromAlerts=function(e){const n=b.Monitoring.Logging.getLogger("DocumentCounters");return e.pipe(E.a.scan((e,n)=>{return{alerts:n,counters:t(y.a.Diff.toRegistered(y.a.diff(e.alerts,n)))(e.counters)}},{alerts:y.a.empty,counters:C.b.group.empty}),E.a.tap(({counters:e})=>{C.b.isValid(e)||n.error("Counters can not be below zero",C.b.show.show(e))}),E.a.map(({counters:e})=>e))};const n=e=>_.a.toUnmutedOnly(e.counters),i=Object(o.flow)(n,e.group.inverse),a=(t,a)=>e.group.concat(n(a),i(t))}(i||(i={}));var O,A=n("93Qa"),x=n("5p8x"),T=n("GUi3"),M=n("viRF");!function(e){function t(e){const{left:t,right:i}=Object(s.pipe)(e,x.d(h.g.fromNullable),x.e(e=>"GeneralScore"!==e),x.k((e,t)=>({lensId:n(e),score:M.b.fromNumber(t)})),x.l(Object(A.sequenceS)(h.b.either))),a=Object(s.pipe)(i,x.j(({lensId:e,score:t})=>Object(o.tuple)(e,t)),e=>new Map(Object.values(e)));return Object(s.pipe)(h.m.fromOptions(h.g.fromPredicate(Object(o.not)(x.i))(t),h.g.fromPredicate(Object(o.not)(h.e.isEmpty))(a)),h.g.getOrElse(()=>h.m.right(new Map)))}function n(e){return e===T.a.SpecialId.Plagiarism?h.b.right(T.a.SpecialId.Plagiarism):T.a.OutcomeId.toOutcomeId(e)}e.empty=new Map,e.eq=h.e.getEq(T.a.Id.ord,M.b.ord),e.fromCapi=function(e){return e.pipe(E.a.filter(Object(g.p)(u.a.CAPIEvent.is("finish"),u.a.CAPIEvent.is("async_check_finished"),u.a.CAPIEvent.is("feedback_ack"))),E.a.map(e=>e.outcomeScores),E.a.filter(g.i),E.a.map(t),E.a.tap(h.m.mapLeft(e=>{x.i(e)||b.Monitoring.Logging.getLogger("LensesScores").error("failed to parse capi scores",e)})),E.a.filter(Object(g.p)(h.m.isBoth,h.m.isRight)),E.a.map(e=>e.right))}}(O||(O={}));var j=n("aIes"),I=n("gy42"),R=n("kMag"),N=n("7qGb"),L=n("LTbp"),P=n("FiSa"),D=n("4ae2"),F=n("WOlp"),B=n("SGhz"),H=n("v0pb"),V=n("qE82"),U=n("U75S"),q=n("24uI"),W=n("dE97");const $=Object(g.l)(b.Monitoring.Logging.getLogger),z=Object(o.flow)(U.ub(({beingAppliedAlert:e,undo:t,reversedAlternative:n})=>L.o(()=>{const i={action:u.a.AlertFeedbackType.ACCEPTED,commit:()=>$("AlertManager.ops").debug(`_applyTransformJson(${e.toLiteString()}):commit()`),undo:t,reversedAlternative:e.registerReversedAlternative(n)},a=e.switchToApplied(i),r=W.t.create(a.state.from,H.a.create(e));return[a.id,r]},h.b.toError)),L.l);function G(e){const t=u.a.Alternative.compose(e.alternatives.map(r.c(e=>e.alternative)),e.currentFullText);return Object(s.pipe)(q.a.nonEmpty(t.composedDelta)?h.g.some(t):h.g.none,h.g.map(({composedDelta:t,reversedAlternatives:n})=>({changeWithFormatting:Object(s.pipe)(t,V.a.getEnrichedWithFormattingDelta(e.currentFullText),t=>P.a.delta(t,e.originalTextLength)),correctRevAlternatives:Object(s.pipe)(n,m.a.tapFailure(({rejected:e})=>b.Monitoring.Logging.getLogger("AlertManager.ops").error("failed to generate reverse alternative",e)),m.a.foldSuccess(h.a.map(t=>({reversedAlternative:t.reversedAlternative,alternative:r.b(e.alternatives[t.alternativeIndex]),alert:e.alerts[t.alternativeIndex].alert}))))})))}var K;!function(e){const t=Object(o.flow)((e,t)=>h.b.tryCatch(()=>W.t.create(e,t),h.b.toError),h.b.map(e=>Object(o.tuple)(e[0].id,e)),N.of);e.prepare=N.chain(Object(o.tupled)(t)),e.prepareFromAlert=L.d(e=>t(e.state.from,H.a.create(e)))}(K||(K={}));function Y(e,t){return h.b.fromPredicate(e,e=>{const n=new f.b(t,e.toString());return b.Monitoring.Logging.getLogger("AlertManager.ops").error(t,n),n})}const X=e=>Y(W.a.isNotDisposed,e);function Z(e){return L.d(h.g.fold(Object(o.constant)(L.j(void 0)),e))}var Q;(Q||(Q={})).mock={undoApplied:()=>L.j(void 0)};class J{constructor(e,t,n,i){this._positionManager=e,this._getContent=t,this._capiClient=n,this._alertsRepo=i,this._log=b.Monitoring.Logging.getLogger("AlertManager.ops"),this._sendUpdate=e=>L.o(()=>this.events.next({updated:new Map(e)}),h.b.toError),this._sendSingleUpdate=L.d(e=>this._sendUpdate([e])),this._flushChanges=L.o(()=>this.changes.next(P.a.flush()),h.b.toError),this.changes=new E.a.Subject,this.events=new E.a.Subject,this.undoApplied=(e,t)=>{return Object(s.pipe)(()=>this._positionManager.getTextLength(),N.chain(t=>{const i={alertsToUpdate:[],reversedDelta:new D.a,undo:o.constVoid},a=e.filter(W.a.isApplied).reduce((e,t)=>{const i=t.state.undoable;return W.s.isWithAlternative(i)?Object(s.pipe)(i.reversedAlternative,h.g.fold(()=>{F.y.withTransformJson(t._raw)&&this._log.error("No reversed delta registered for alert",{alert:t.toLiteString()}),n(e,t)},Object(o.flow)(e=>e(),h.b.map(e=>e.delta),h.b.fold(e=>{this._log.error("Could not retrieve reversed delta",{e,alert:t.toLiteString()})},i=>{n(e,t),Object(s.pipe)(i,u.a.Alternative.fromRawDelta,t=>t.rebase(e.reversedDelta),h.g.fold(()=>{e.reversedDelta=e.reversedDelta.compose(i)},({delta:t})=>{e.reversedDelta=e.reversedDelta.compose(t)}))})))):n(e,t),e},i);return a.alertsToUpdate.length>0?Object(s.pipe)(L.o(()=>{const e=Object(s.pipe)(a.reversedDelta,V.a.getEnrichedWithFormattingDelta(this._getContent()));this.changes.next(P.a.delta(e,t))},h.b.toError),L.a(this._flushChanges),L.a(Object(s.pipe)(a.undo,N.map(h.b.right))),L.b(Object(s.pipe)(a.alertsToUpdate,L.l,L.d(this._sendUpdate)))):L.j(void 0)}));function n(e,n){e.undo=Object(o.flow)(e.undo,n.state.undoable.undo),e.alertsToUpdate.push(K.prepare(()=>[H.a.create(n),H.a.create(n.changeState(t===W.a.State.Applied.Method.ByCard?W.a.State.init:W.a.State.Removed.create(W.a.State.Removed.Reason.bulkAcceptUserResponse)))]))}},this._dismissBatch=(e,t)=>Object(s.pipe)(this._flushChanges,L.b(Object(s.pipe)(e,h.a.map(Object(o.flow)(N.of,N.map(X("Cannot send feedback for already disposed")),L.d(e=>this._applyFeedbackToAlert(e,u.a.AlertFeedbackType.IGNORE,W.b.sidebar,this._commitFeedbackToCapi(e,{kind:u.a.AlertFeedbackType.IGNORE,subtype:t}))),K.prepareFromAlert)),L.l,L.d(this._sendUpdate)))),this._applyAlert=({alert:e,replacementText:t,source:n,method:i,feedbackSubtype:a,reason:r,gbPrompt:o})=>Object(s.pipe)(e,Y(W.a.isRegistered,"can not apply alert in non registered state"),N.of,L.a(this._flushChanges),L.d(e=>this._switchToBeingApplied(e,n,i)),L.d(({beingAppliedAlert:e,undo:n})=>Object(s.pipe)(e.getReplaceEither.bind(e),L.m,L.c(()=>new Error("Cannot apply alert with tJSON"),i=>{this._log.debug(`_applyAlert(${e.toLiteString()}, rrange: ${i})`);const s=i.start,l=i.end-i.start,c=(new D.a).retain(s).delete(t.length).insert(e.replaceText);return{alert:e,undo:n,reverseDelta:c,replacementText:t,removeLen:l,feedbackSubtype:a,pos:s,reason:r,gbPrompt:o}}))),L.d(this._applyAlertData)),this._applyTransformJson=({alerts:e,source:t,method:n,feedbackSubtype:i,drilldownSuggestionIds:a,reason:r,gbPrompt:l})=>Object(s.pipe)(this._flushChanges,L.b(Object(s.pipe)(e,L.n(e=>Object(s.pipe)(e.alternative,L.i(t=>Object(o.tuple)(t,function(e){switch(e._raw.point){case"AllCapsBoldification":return u.a.AlternativeReversed.fromAlternativeBoldified;case"Lists":return u.a.AlternativeReversed.fromAlternativeListified;default:return u.a.AlternativeReversed.fromAlternative}}(e.alert))))))),L.d(t=>L.o(()=>({alternatives:t,alerts:e,originalTextLength:this._positionManager.getTextLength(),currentFullText:this._getContent()}),h.b.toError)),L.i(G),Z(e=>Object(s.pipe)(e.correctRevAlternatives,h.a.map(({alert:e,alternative:o,reversedAlternative:c})=>Object(s.pipe)(this._switchToBeingApplied(e,t,n),L.e(e=>L.k(this._sendApplyTransformJsonFeedback(e.beingAppliedAlert,o.alternativeIndex,i,a,r,l))),L.i(e=>Object.assign(Object.assign({},e),{reversedAlternative:c})))),L.l,L.d(t=>Object(s.pipe)(L.o(()=>this.changes.next(e.changeWithFormatting),h.b.toError),L.a(this._flushChanges),N.apSecond(Object(s.pipe)(z(t),L.d(this._sendUpdate)))))))),this._alertFeedback=(e,t,n)=>{this._log.debug(`_alertFeedback(${e.toLiteString()}, feedbackType: ${t.kind}, source: ${n})`),W.a.isHidden(e)&&this._log.error("Sending feedback for a hidden alert",{alert:e,feedbackType:t.kind});const i=this._commitFeedbackToCapi(e,t);return Object(s.pipe)(e,X("Cannot send feedback for already disposed"),N.of,L.d(e=>t.kind!==u.a.AlertFeedbackType.LOOKED||e.isRead?u.a.FeedbackType.willRemoveAlert(t.kind)?Object(s.pipe)(this._flushChanges,L.b(this._applyFeedbackToAlert(e,t.kind,n,i)),K.prepareFromAlert,this._sendSingleUpdate):Object(s.pipe)(i,L.k):Object(s.pipe)(K.prepare(()=>[H.a.create(e),(e.isRead=!0,H.a.create(e))]),this._sendSingleUpdate,N.apFirst(i))))},this._alertBatchFeedback=(e,t,n)=>Object(s.pipe)(e,h.a.filterMap(e=>e.rawId),h.f.fromArray,h.g.fold(Object(o.constant)(o.constVoid),e=>this._sendFeedback({kind:t,alertIds:e,subtype:n}))),this._notifyAlertUpdated=Object(o.flow)(e=>[[e[0].id,e]],this._sendUpdate),this._releaseRef=(e,t)=>Object(s.pipe)(L.o(()=>{this._log.debug(`_releaseRef ${e} on (${t.toLiteString()}) refs: ${t._refNames}`,{shouldBeRemoved:W.a.shouldBeRemoved(t)}),W.a.shouldBeRemoved(t)&&this.events.next({removed:new Map([[t.id,H.a.create(t)]])})},h.b.toError)),this._changeMuteState=(e,t)=>{const n=Object(s.pipe)(e,m.a.fromArray(Object(o.flow)(X("Cannot send Mute feedback for already disposed"),h.b.chain(Y(e=>h.g.isSome(e.muteCategory)||W.a.belongsToAnySpecialCategory(e),"Alert is not muting")))));return Object(s.pipe)(n,m.a.foldSuccess(h.a.map(e=>K.prepare(()=>[H.a.create(e),(e.mute=t,H.a.create(e))]))),L.l,L.i(h.f.fromArray),Z(this._sendUpdate),L.i(Object(o.constant)(n)))},this._changeGapValue=(e,t)=>Object(s.pipe)(e,Y(W.a.isOneGap,"can not change gap value for a non one gap alert"),N.of,L.d(e=>K.prepare(()=>[H.a.create(e),H.a.create(e.changeGapValue(t))])),this._sendSingleUpdate),this._confirmApplied=Object(o.flow)(h.a.map(e=>K.prepare(()=>[H.a.create(e),H.a.create(e.changeState(W.a.State.Removed.create(W.a.State.Removed.Reason.bulkAcceptUserResponse)))])),L.l,L.d(this._sendUpdate)),this._changeTakeawayFeedback=(e,t)=>Object(s.pipe)(e,Y(W.a.isTakeaway,"can not change feedback for non-takeaway alert"),N.of,L.d(e=>{const n=H.a.create(e),i=e.setFeedback(t),a=H.a.create(i);return Object(s.pipe)(K.prepare(()=>[n,a]),this._sendSingleUpdate,L.i(()=>i))})),this._shortenItSummaryNotFound=e=>Object(s.pipe)(e,X("Cannot change state to not-found for already disposed"),h.b.chain(Y(W.a.isShortenIt,"cannot change state to not-found for a non shorten-it alert")),N.of,L.d(e=>{const t=H.a.create(e),n=e.changeSummaryState("notFound"),i=H.a.create(n);return Object(s.pipe)(K.prepare(()=>[t,i]),this._sendSingleUpdate,L.i(()=>n))})),this._commitShortenItSummaryRequest=e=>Object(s.pipe)(e,X("Cannot send shorten_it_submit message for already disposed"),h.b.chain(Y(W.a.isShortenIt,"cannot send shorten_it_submit for a non shorten-it alert")),N.of,L.d(e=>{const t=H.a.create(e),n=e.changeSummaryState("requestSent"),i=H.a.create(n);return Object(s.pipe)(K.prepare(()=>[t,i]),this._sendSingleUpdate,L.i(()=>n),N.apFirst(this._commitShortenItSubmitToCapi(e)))})),this._dismissShortenItTransformGroup=(e,t)=>Object(s.pipe)(e,X("Cannot dismiss transform group for already disposed"),h.b.chain(Y(W.a.isShortenIt,"cannot dismiss transform group for a non shorten-it alert")),N.of,L.d(e=>{const n=H.a.create(e),i=e.dismissTransformGroup(t),a=H.a.create(i);return Object(s.pipe)(K.prepare(()=>[n,a]),this._sendSingleUpdate,L.i(()=>i))})),this._changeToneAIToneAlternative=(e,t)=>Object(s.pipe)(e,Y(W.a.isToneAI,"Cannot change tone for a non-ToneAI alert."),N.of,L.d(e=>L.o(()=>{const n=[Object(o.tuple)(e.id,W.t.create(H.a.create(e),H.a.create(e.setSelectedToneAlternativeIdx(t))))];return this.events.next({updated:new Map(n)}),e},h.b.toError))),this._changeSentenceLevelBrandTonesFeedback=(e,t)=>Object(s.pipe)(e,Y(W.a.isSentenceLevelBrandTones,"Cannot change feedback for a non-Sentence Level Brand Tones alert."),N.of,L.d(e=>L.o(()=>{const n=[Object(o.tuple)(e.id,W.t.create(H.a.create(e),H.a.create(e.setFeedback(t))))];return this.events.next({updated:new Map(n)}),e},h.b.toError))),this._handleCapiError=e=>t=>{B.a.isDroppedError(t)?this._log.debug(`Stopped listening for ${e} message acknowledge`,t):B.b.isNotConnectedError(t)?this._log.warn(`Failed to send ${e} as CAPI was not connected`,t):this._log.error(`Failed to send ${e}`,t)},this._applyAlertData=({pos:e,removeLen:t,reverseDelta:n,undo:i,replacementText:a,alert:r,feedbackSubtype:o,reason:l,gbPrompt:c})=>Object(s.pipe)(L.o(()=>{let s=this._positionManager.getTextLength(),d=!1;const p={action:u.a.AlertFeedbackType.ACCEPTED,replacement:a,commit:()=>{d||this._log.debug(`_applyAlert(${r.toLiteString()}):commit()`)},reversedAlternative:h.g.none,undo:()=>{d=!0,this._log.debug(`_applyAlert(${r.toLiteString()}):undo()`);const e=this._positionManager.getTextLength();e!==s&&this._log.error(`Text has changed while uncommitted apply is present. Expected: ${s}, actual: ${e}`);const t=P.a.delta(n,e);this.changes.next(t),this.changes.next(P.a.flush()),i()}};return this._sendApplyTextFeedback(r,a,o,l,c)(),this.changes.next(P.a.delta((new D.a).retain(e).delete(t).insert(a),s)),this.changes.next(P.a.flush()),s=this._positionManager.getTextLength(),p},h.b.toError),L.d(e=>L.o(()=>r.switchToApplied(e),h.b.toError)),K.prepareFromAlert,this._sendSingleUpdate),this._sendApplyFeedback=(e,t)=>e.state.method===W.a.State.Applied.Method.ByCard?this._commitFeedbackToCapi(e,t):o.constVoid,this._sendApplyTextFeedback=(e,t,n,i,a)=>this._sendApplyFeedback(e,{kind:u.a.AlertFeedbackType.ACCEPTED,replacementText:t,subtype:n,reason:i,gbPrompt:a}),this._sendApplyTransformJsonFeedback=(e,t,n,i,a,r)=>{const o={kind:u.a.AlertFeedbackType.ACCEPTED,alternativeIndex:t,subtype:n,drilldownSuggestionIds:i,reason:a,gbPrompt:r},s=W.a.isOneGap(e)?Object.assign(Object.assign({},o),{gapValue:e.gapValue}):W.a.isShortenIt(e)?Object.assign(Object.assign({},o),{dismissedTransformGroups:Array.from(e.dismissedTransformGroups)}):o;return this._sendApplyFeedback(e,s)}}_applyFeedbackToAlert(e,t,n,i){return L.o(()=>{this._alertsRepo.removeFromCapiMapping(e);const a=this._createFeedbackUndoable(e,t,i);return e.changeState(W.a.State.Applied.create(a,n,W.a.State.Applied.Method.ByCard,H.a.create(e)))},h.b.toError)}_createFeedbackUndoable(e,t,n){return{action:t,replacement:e.replaceText,commit:n,undo:()=>this._alertsRepo.addToCapiMapping(e)}}_commitFeedbackToCapi(e,t){return Object(s.pipe)(e.rawId,h.g.fold(Object(o.constant)(()=>this._log.debug("skip feedback for local alert",e)),e=>this._sendFeedback(Object.assign({id:e},t))))}_sendFeedback(e){return()=>{h.l.toPromise(this._capiClient.sendFeedback(e)).catch(this._handleCapiError("alert feedback"))}}_commitShortenItSubmitToCapi(e){return Object(s.pipe)(e.rawId,h.g.fold(Object(o.constant)(()=>this._log.debug("skip shorten-it-submit for local alert",e)),e=>this._shortenItSubmit(e)))}_shortenItSubmit(e){return()=>{h.l.toPromise(this._capiClient.shortenItSubmit(e)).catch(this._handleCapiError("shorten-it-submit"))}}_switchToBeingApplied(e,t,n){return L.o(()=>(this._alertsRepo.removeFromCapiMapping(e),e.switchToBeingAppliedState(t,n)),h.b.toError)}}var ee,te,ne,ie,ae,re=n("a5W6");(ee||(ee={})).toString=h.b.fold(({id:e})=>`rid:${e}`,e=>`aid:${e.toString()}`),(te||(te={})).match=function(e){return t=>t instanceof W.e?e.alertAddOrUpdate(t):t instanceof Map?e.rangeChange(t):"_tag"in t?e.alertRemove(t):e.alertChange(t)},(ne||(ne={})).defaultValidator=W.a.isDuplicatedBy;class oe{constructor(e,t,n){this._positionManager=e,this._alertsRepo=t,this._alertDuplicateValidator=n,this._log=b.Monitoring.Logging.getLogger("AlertManager.pipeline",b.Logging.LogLevel.DEBUG),this._heuristicallyRemovedAlerts=new Map,this.process=e=>(this._log.trace(`process, to process = ${e.length}`),this._collectChanges(this._processAlertsBatch(e))),this.reset=e=>(this._cleanupPendingAlerts(e),this._finishAlertsChecking()),this._processAlertsBatch=e=>{const{toAdd:t,toUpdate:n,toAddOrUpdate:i,toRemoveUnfiltered:a,toChangeUnfiltered:r,toDispose:l,rangeChanges:c}=this._processBatch(e),d=e=>Object(s.pipe)(this._alertsRepo.getByAlertId(e),h.g.getOrElse(()=>t.get(e)||n.get(e)||l.get(e)));r.forEach(e=>Object(s.pipe)(h.g.fromNullable(i.get(e.id)),h.g.fold(()=>Object(s.pipe)(this._alertsRepo.getByRawAlertId(e.id),h.g.map(t=>{const a=t.copy(!1),r=oe._prepareUpdate(a,e);h.g.isSome(e.transformJson)?a.updateAlertWithManagedData(r):a.patchWithRawAlert(r),n.set(a.id,a),i.set(e.id,a)}),h.g.getOrElse(()=>this._log.info("Change from CAPI: Cannot find internal AlertId."))),t=>{const i=oe._prepareUpdate(t,e);n.has(t.id)?t.patchWithRawAlert(i):t.updateAlertWithManagedData(i)})));const p=a.reduce((e,a)=>{const r=Object(s.pipe)(a,h.b.fold(({id:e})=>Object(s.pipe)(this._alertsRepo.getByRawAlertId(e),h.g.map(e=>W.a.isRegistered(e)?e:void 0),h.g.getOrElse(()=>this._heuristicallyRemovedAlerts.has(e)?void this._heuristicallyRemovedAlerts.delete(e):i.get(e))),d));return void 0===r?(h.b.isLeft(a)?this._log.debug("Remove from CAPI: Cannot find internal AlertId. capiId: #"+JSON.stringify(a.left)):this._log.error("Cannot find existing alert by id",a.right),e):(Object(s.pipe)(this._getMergeTarget(a,i),h.g.filter(se(e=>e.lensId!==r.lensId?(this._log.warn("Trying to merge alerts from different lenses",{source:r,target:e}),!1):h.g.isNone(r.rawId)?(this._log.warn("Trying to merge into local alert",{source:r,target:e}),!1):r.references>e.references)),h.g.fold(()=>{e.set(r.id,{alert:r,reason:Object(s.pipe)(a,h.b.swap,h.g.fromEither,h.g.chain(e=>e.hint),h.g.chain(e=>e===u.a.AlertRemoveHint.NotFixed?h.g.some(W.a.State.Removed.Reason.capiDismiss):h.g.none),h.g.getOrElse(()=>W.a.State.Removed.Reason.capiDone))})},h.b.fold(e=>{this._log.debug("swap raw alerts with new alert",{source:r.toString(),newTarget:e.toString()}),this._alertsRepo.swapRaw(r,e);const a=h.g.unsafeGet(r.rawId);Object(f.g)(void 0===n.get(e.id),"Added alert should not be present in the updated alerts map",()=>n.get(e.id).toString());const o=r.copy();n.set(o.id,o),i.set(a,o),t.delete(e.id),l.set(e.id,e)},t=>{this._log.debug("swap raw alerts with existing alert",{source:r.toString(),existingTarget:t.toString()}),this._alertsRepo.swapRaw(r,t),e.set(t.id,{alert:t,reason:W.a.State.Removed.Reason.capiDismiss})}))),e)},new Map),m=new Map;return c&&c.forEach((e,t)=>{Object(s.pipe)(t,d,h.g.fromPredicate(i=>i?W.a.isInteractable(i)?!n.has(i.id)||(this._log.debug("skip range change on updateHolder alert",i.toLiteString()),!1):(this._log.debug("skip range change on non-interactable alert",i.toLiteString()),!1):(this._log.warn("got range changes for unknown alert",{alertId:t,alertRanges:e}),!1)),h.g.chain(n=>Object(s.pipe)(n.onRangeChange(e),h.g.map(e=>{switch(e.state){case W.a.Transition.State.Pending:return m.set(n.id,[n,e.removedRanges]);case W.a.Transition.State.Dispose:return Object(s.pipe)(n.rawId,h.g.fold(()=>this._log.debug("dispose by range change on unknown rid",n.id),e=>this._heuristicallyRemovedAlerts.set(e,n))),p.set(t,{alert:n,reason:W.a.State.Removed.Reason.textChange});default:return Object(f.d)(e)}}))))}),p.forEach(({alert:e})=>{this._log.trace("check cancellations from toRemove: "+e.toLiteString()),Object(s.pipe)(e.rawId,h.g.fold(()=>{t.get(e.id)&&(this._log.debug("cancel add local alert for: "+e.toLiteString()),t.delete(e.id),p.delete(e.id),l.set(e.id,e)),Object(f.g)(!1===n.has(e.id),"Added local alert should not be present in the updated alerts map",()=>n.get(e.id).toString())},a=>{const r=i.get(a);r&&(i.delete(a),t.delete(r.id)?(this._log.debug("cancel add for: "+r.toLiteString()),this._log.debug("cancel remove for: "+e.toLiteString()),p.delete(e.id),l.set(e.id,e),l.set(r.id,r)):n.delete(r.id)?(this._log.debug("cancel update for: "+r.toLiteString()),r.id!==e.id&&(this._log.debug("marking update to dispose: "+r.toLiteString()),l.set(r.id,r))):this._log.error("_addOrUpdateAlert toAdd || toUpdate mapping in unsync state!",r))})),this._log.trace("check if local orphan toRemove: "+e.toLiteString()),Object(s.pipe)(this._alertsRepo.getByAlertId(e.id),h.g.fold(()=>{this._log.debug("cancel delete for: "+e.toLiteString()),p.delete(e.id)},o.constVoid))}),l.size>0&&this._log.debug(`_cancelAlerts, to cancel = ${l.size}`,{alerts:Array.from(l.values()).map(e=>e.toLiteString())}),l.forEach(e=>{m.delete(e.id)&&this._log.debug("cancel startChecking for: "+e.toLiteString());try{e.dispose()}catch(t){this._log.warn("unexpected error on disposing canceled alert",t,e)}}),{toAdd:t,toUpdate:n,toRemove:p,toStartChecking:m}},this._collectChanges=({toAdd:e,toUpdate:t,toRemove:n,toStartChecking:i})=>{const{alertsToAdd:a,alertsToUpdate:r,alertsToRemove:o}=this._addAlerts(Array.from(e.values()),n);return t.size>0&&this._updateAlerts(Array.from(t.values()),r),i.size>0&&this._startAlertsChecking(Array.from(i.values()),r,a),o.size>0&&this._removeAlerts(o,r),{added:a,updated:r}},this._validateAlertAdd=e=>{try{const t=!W.a.isPremium(e)||void 0!==e.categoryHuman;return e._raw.impact!==F.y.Impact.Critical&&e._raw.impact!==F.y.Impact.Advanced&&h.g.isSome(e.rawId)&&this._log.warn("CAPI provides corrupted impact prop",{alert:e,raw:F.y.clearUserTextFields(e._raw)}),t||(this._log.error("CAPI provides corrupted alert",{alert:e,raw:F.y.clearUserTextFields(e._raw)}),e.dispose()),Object(s.pipe)(e.rawId,h.g.exists(e=>h.g.isSome(this._alertsRepo.getByRawAlertId(e))))?(this._log.warn("unexpected overlap on rawId for non-updatable alert",{alert:e,raw:F.y.clearUserTextFields(e._raw)}),e.dispose(),!1):e.lensType===T.a.Type.Plagiarism&&M.b.isMax(e.progress)?(this._log.info("CAPI provides a Plagiarism alert with an invalid progress",{alert:e,raw:F.y.clearUserTextFields(e._raw)}),e.dispose(),!1):t}catch(t){this._log.error("Cannot validate alert",t);try{e.dispose()}catch(e){this._log.warn("Cannot dispose invalid alert",e)}return!1}},this._recheckedAlerts=new Set,this._terminateAlertChecking=({id:e})=>{this._recheckedAlerts.delete(e)&&this._log.debug("Stopped watching checking state for alert",e)},this._applyRemoveToAlert=({alert:e,reason:t})=>(this._alertsRepo.removeFromCapiMapping(e),t!==W.a.State.Removed.Reason.textChange&&e.clearCapiId(),e.changeState(W.a.State.Removed.create(t))),this._finishAlertChecking=e=>{Object(f.g)(this._recheckedAlerts.delete(e.id),"tried to finish checking on alert which had not been marked as checking"),this._log.debug("Stopped watching checking state for alert",e.id);const t=H.a.create(e);return W.t.create(t,H.a.create(e.changeState(W.a.State.Registered.create(W.a.CheckingState.IDLE))))}}static _prepareUpdate(e,t){const n=Object.assign(Object.assign({},e.toRawAlert()),{rev:t.rev});return F.y.withTransformJson(n)&&Object(s.pipe)(t.transformJson,h.g.tap(e=>n.transformJson=e)),Object(s.pipe)(t.extraProperties,h.g.tap(e=>n.extra_properties=e)),Object(s.pipe)(t.muted,h.g.tap(e=>n.muted=e)),Object(s.pipe)(t.sdui,h.g.tap(e=>n.sdui=e)),n}_processBatch(e){return e.reduce((e,t)=>(te.match({alertAddOrUpdate:t=>{Object(s.pipe)(t.rawId,h.g.fold(()=>{e.toAdd.set(t.id,t)},n=>{Object(s.pipe)(this._alertsRepo.getByRawAlertId(n),h.g.filter(e=>e.allowUpdate),h.g.map(()=>{Object(s.pipe)(h.g.fromNullable(e.toAddOrUpdate.get(n)),h.g.map(t=>{this._log.debug("got overlap in batch on update"),e.toUpdate.delete(t.id),e.toDispose.set(t.id,t)})),e.toUpdate.set(t.id,t)}),h.g.getOrElse(()=>{Object(s.pipe)(h.g.fromNullable(e.toAddOrUpdate.get(n)),h.g.map(t=>{this._log.info("got overlap in batch on add"),e.toAdd.delete(t.id),e.toDispose.set(t.id,t)})),e.toAdd.set(t.id,t)})),e.toAddOrUpdate.set(n,t)}))},rangeChange:t=>{Object(f.g)(void 0===e.rangeChanges,"unexpected rangeChanges duplicate"),e.rangeChanges=t},alertRemove:t=>{e.toRemoveUnfiltered.push(t)},alertChange:t=>{e.toChangeUnfiltered.push(t)}})(t),e),{toAdd:new Map,toRemoveUnfiltered:[],toChangeUnfiltered:[],toUpdate:new Map,toAddOrUpdate:new Map,rangeChanges:void 0,toDispose:new Map})}_getMergeTarget(e,t){return Object(s.pipe)(e,h.b.swap,h.g.fromEither,h.g.chain(e=>e.mergedIn),h.g.chain(e=>{const n=Object(s.pipe)(this._alertsRepo.getByRawAlertId(e),h.g.map(e=>h.b.right(e)),h.g.alt(()=>Object(s.pipe)(h.g.fromNullable(t.get(e)),h.g.map(e=>h.b.left(e)))));return h.g.isNone(n)&&this._log.warn("Merge from CAPI: Cannot find alert to merge into.",{capiId:e}),n}),h.g.filter(se(e=>!!e.allowUpdate||(this._log.warn("Merge from CAPI: Trying to merge in a non-updatable alert, skipping. ",{target:e.toLiteString()}),!1))))}_addAlerts(e,t){return e.length>0&&this._log.debug("_addAlerts, count = "+e.length,{alerts:e.map(e=>e.toLiteString())}),Object(s.pipe)(e,re.filter(this._validateAlertAdd),re.reduce({alertsToAdd:new Map,alertsToUpdate:new Map,alertsToRemove:t},(e,t)=>{this._log.trace("Adding alert: "+t.toLiteString());const n=this._getAlertsWithMatchingRanges(t.getHighlightRanges()[0]),i=this._tryToMatchInvalid(t,n);switch(this._log.trace("Adding alert match result",{inc:t.id,match:i}),i.type){case ie.Type.Merged:{const n=i.result[1];W.a.isNotRegistered(n.alert)?W.a.isRemoved(n.alert)&&this._log.warn("unexpected merge into removed alert",{alert:n,newAlert:t}):this._alertsRepo.addToCapiMapping(n.alert),e.alertsToUpdate.set(n.id,i.result);break}case ie.Type.Restored:{const t=i.result[1];Object(f.g)(!e.alertsToRemove.has(t.id),"can't update alert which we wanted to remove earlier"),this._alertsRepo.addToCapiMapping(t.alert),e.alertsToUpdate.set(t.id,i.result);break}case ie.Type.Unmatched:{const a=i.result,r=n.filter(t=>W.a.isDuplicateCandidate(t)&&this._alertDuplicateValidator(a,t)&&!e.alertsToRemove.has(t.id));Object(f.g)(a.allowDuplicates||W.a.isApplicableAlert(a),"BaseAlertImpl must allow duplicates or be an ApplicableAlert type"),r.length>0&&this._log.info("Trying to add a duplicated alert",{newAlert:t.toString(),duplicates:r.map(e=>e.toString())});const o=a.allowDuplicates?{result:ae.Add,toRemove:h.g.none}:this._tryAddAlert(a,r);switch(o.result){case ae.Add:case ae.OverwriteExisting:this._log.debug("AllAlerts: Append alert to all alerts",a.toLiteString()),this._alertsRepo.addToCapiMapping(a),Object(f.g)(!e.alertsToRemove.has(a.id),"can't add alert which we wanted to remove earlier",()=>a.toLiteString()),this._alertsRepo.add(a),e.alertsToAdd.set(a.id,H.a.create(a)),Object(s.pipe)(o.toRemove,h.g.tap(t=>{if(e.alertsToAdd.has(t.id)){this._alertsRepo.removeFromCapiMapping(t);const e=t.changeState(W.a.State.Removed.create(W.a.State.Removed.Reason.canceled));this._terminateAlertChecking(e),this._alertsRepo.remove(e)}else this._log.debug("schedule to remove duplicate",t.toLiteString()),e.alertsToRemove.set(t.id,{alert:t,reason:W.a.State.Removed.Reason.duplicated});e.alertsToAdd.delete(t.id),e.alertsToUpdate.delete(t.id)}));break;case ae.Skip:this._log.debug("Skip alert with low priority",a.id);break;default:Object(f.d)(o.result)}break}default:Object(f.d)(i)}return e}))}_updateAlerts(e,t){this._log.debug(`_updateAlerts, to update = ${e.length}`,{alerts:e.map(e=>e.toLiteString())}),Object(s.pipe)(e,re.reduce(t,(e,t)=>(this._log.trace("Updating alert: "+t.toLiteString()),Object(s.pipe)(this._alertsRepo.getByRawAlertId(h.g.unsafeGet(t.rawId)),h.g.fold(()=>this._log.warn("tried to update unknown alert",t),n=>{const i=t._raw;t.dispose();const a=e.has(n.id)?e.get(n.id)[0]:H.a.create(n);n.enqueueRawAlertForUpdate(i),e.set(n.id,W.t.create(a,H.a.create(n)))})),e)))}_startAlertsChecking(e,t,n){this._log.debug(`_startAlertsChecking, to update = ${e.length}`,{alerts:e.map(([e,t])=>[e.toLiteString(),t])});const i=(e,t)=>{const n=e.changeState(W.a.State.Registered.create(W.a.CheckingState.CHECKING));return this._recheckedAlerts.add(e.id),H.a.create(t.size>0?n.enqueueRangesRemove(t):n)};Object(s.pipe)(e,re.reduce({updatedAlerts:t,addedAlerts:n},(e,[t,n])=>(Object(s.pipe)(this._alertsRepo.getByAlertId(t.id),h.g.fold(()=>{this._log.warn("tried to start checking unknown alert",{alert:t,ranges:n})},()=>{if(e.addedAlerts.has(t.id))e.addedAlerts.set(t.id,i(t,n));else{const a=e.updatedAlerts.has(t.id)?e.updatedAlerts.get(t.id)[0]:H.a.create(t);e.updatedAlerts.set(t.id,W.t.create(a,i(t,n)))}})),e)))}_removeAlerts(e,t){e.forEach((e,n)=>{Object(s.pipe)(this._alertsRepo.getByAlertId(n),h.g.fold(()=>{this._log.warn("tried to remove unknown alert",e)},()=>{const i=t.has(n)?t.get(n)[0]:H.a.create(e.alert),a=this._applyRemoveToAlert(e);this._terminateAlertChecking(a),t.set(n,W.t.create(i,H.a.create(a)))}))})}_getAlertsWithMatchingRanges(e){return Object(s.pipe)(this._positionManager.findIntersections(e),re.filter(Object(g.b)(R.a.is,R.b.isVisible)),re.filterMap(e=>this._alertsRepo.getByAlertId(e.meta.alertId)),re.filter(e=>!(W.a.isApplied(e)&&e.getAppliedRanges().length>0)))}_tryToMatchInvalid(e,t){return Object(f.g)(!e.isValid,"added alert should be invalid"),Object(f.g)(W.a.isRegistered(e),"added alert should be in registered state",()=>e.toString()),Object(s.pipe)(h.g.fromNullable(t.find(t=>!t.isValid&&t.canBeMergedWith(e))),h.g.fold(()=>({result:e,type:ie.Type.Unmatched}),t=>{Object(f.g)(Object(s.pipe)(t.rawId,h.g.forAll(Object(o.flow)(this._alertsRepo.getByRawAlertId,h.g.isNone))),"CAPI mapping should not contain invalid alerts"),this._log.debug(`Merging new alert (${e}) into the existing one aid(${t})`);const n=H.a.create(t);return t.patchWithRawAlert(e._raw),e.dispose(),t.allowUpdate&&W.a.isCapiDone(t)?{result:W.t.create(n,H.a.create(t.changeState(W.a.State.init))),type:ie.Type.Restored}:{result:W.t.create(n,H.a.create(t)),type:ie.Type.Merged}}))}_tryAddAlert(e,t){return Object(s.pipe)(h.f.fromArray(t),h.g.map(t=>{Object(f.g)(1===t.length,"Only one visible alert to one range is expected while _tryEnqueueAlert",`got ${t.map(e=>e.toString())} with input (${e.toString()})`);const n=t[0];return n.extraProperties.priority<=e.extraProperties.priority?{result:ae.OverwriteExisting,toRemove:h.g.some(n)}:(e.dispose(),{result:ae.Skip,toRemove:h.g.none})}),h.g.getOrElse(()=>({result:ae.Add,toRemove:h.g.none})))}_cleanupPendingAlerts(e){e.removed.forEach(e=>{this._heuristicallyRemovedAlerts.delete(e)&&this._log.info("unexpected alert remove from finish msg",e)}),this._heuristicallyRemovedAlerts.size>0&&this._log.info("we had heuristically removed alerts which were not confirmed by capi",{size:this._heuristicallyRemovedAlerts.size}),this._heuristicallyRemovedAlerts.clear()}_finishAlertsChecking(){return Object(s.pipe)(Array.from(this._recheckedAlerts.values()),re.filterMap(e=>{const t=this._alertsRepo.getByAlertId(e);h.g.isNone(t)&&(this._log.error("tried to finish checking on missing alert",e),this._recheckedAlerts.delete(e));const n=Object(s.pipe)(t,h.g.filter(e=>W.a.isRegistered(e)),h.g.map(e=>Object(o.tuple)(e.id,this._finishAlertChecking(e))));return h.g.isNone(n)&&this._log.error("tried to update checking state on non-registered alert",e),n}),e=>({updated:new Map(e)}))}}function se(e){return h.b.fold(e,e)}!function(e){let t;!function(e){e.Unmatched="Unmatched",e.Merged="Merged",e.Restored="Restored"}(t=e.Type||(e.Type={}))}(ie||(ie={})),function(e){e.Skip="Skip",e.Add="Add",e.OverwriteExisting="OverwriteExisting"}(ae||(ae={}));var le=n("Gz6z"),ce=n("4Gi8");class de{constructor(e,t,n,f,w,S,_,C=ne.defaultValidator,A=!1,x=new le.a){this._positionManager=e,this._alternativeManager=t,this._getContent=n,this._capiEvents=f,this._capiClient=w,this._documentCounters=S,this._transformRawAlert=_,this._alertDuplicateValidator=C,this._enforceSDUIOnlyMode=A,this._alertsRepository=x,this._state=d.a.create(k.a.empty),this.state=this._state.view(k.a.toCheckingResult),this.lensesScores=d.a.create(O.empty),this._log=b.Monitoring.Logging.getLogger("AlertManager",b.Logging.LogLevel.TRACE,b.Logging.LogColor.Manager.getColor()),this._subs=[],this._addAlerts=new E.a.Subject,this._removeAlerts=new E.a.Subject,this._changeAlerts=new E.a.Subject,this._flush=new E.a.Subject,this._alertsPerRevision=0,this._pipeline=new oe(this._positionManager,this._alertsRepository,this._alertDuplicateValidator),this._invalidateAlerts=()=>{this.flushAlerts();const[e,t]=p.a.partition(this._getAllAlertsAsArray(),e=>e.isValid);this._log.debug("Invalidate alerts...",{valid:e.length,invalid:t.length}),e.forEach(e=>{this._alertsRepository.removeFromCapiMapping(e),e.clearCapiId()}),t.forEach(e=>e.clearCapiId())},this._removeInvalidAlerts=e=>{this._log.debug(`Removing invalid alerts by type '${e}'...`);const t=this._getTypeFilter(e),n=this._getAllAlertsAsArray().filter(e=>!e.isValid&&W.a.isRegistered(e)&&t(e));n.forEach(e=>this._removeAlertBuffered(h.b.right(e.id))),this._log.debug(`${n.length} invalid alerts removed`),this.flushAlerts(),this._log.isEnabled(b.Logging.LogLevel.TRACE)&&this._log.trace("Removed alerts",n.map(e=>e.toString()))},this._onCapiEvent=e=>{try{switch("alert_received"===e.kind&&this._alertsPerRevision++,e.kind){case"alert_received":case"plagiarism_alert_received":if(!1===e.alert.hidden&&void 0===e.alert.cardLayout)return void this._log.warn("got alert with empty mapping",{pname:e.alert.pname});this._isValidSDUI(e.alert.id,e.alert.sdui,"alert_add")&&this._addAlertBuffered(W.a.create(this._transformRawAlert(e.alert),this._ops,this._positionManager,this._alternativeManager));break;case"alert_removed":this._log.debug(`Remove from capi #${e.alertId}, merged in #${h.g.getOrElse(()=>"None")(e.mergedIn)}, hint: ${h.g.getOrElse(()=>"None")(e.hint)}`),Object(s.pipe)(this._alertsRepository.getByRawAlertId(e.alertId),h.g.exists(W.a.isBulkApplied))||this._removeAlertBuffered(h.b.left({id:e.alertId,mergedIn:e.mergedIn,hint:e.hint}));break;case"alert_changed":this._log.debug("Alert change from capi #"+e.alertId),(void 0===e.sdui||this._isValidSDUI(e.alertId,e.sdui,"alert_change"))&&this._changeAlertBuffered({id:e.alertId,rev:e.rev,extraProperties:h.g.fromNullable(e.extraProperties),transformJson:h.g.fromNullable(e.transformJson),muted:h.g.fromNullable(e.muted),sdui:h.g.fromNullable(e.sdui)});break;case"finish":this._log.debug(`Alerts per revision (#${e.revision}): ${this._alertsPerRevision}`),this._alertsPerRevision=0,"idle"===this._capiClient.checkingState&&this._emitDomainEvent(this._pipeline.reset(e))}}catch(t){this._log.warn("Cannot handle alert event "+e.kind,t)}},this._emitDomainEvent=e=>{Object(s.pipe)(e,this._prepareDiff,v.a.createDiff,m.a.recover(e=>this._log.error("conflicts on diff creating",e)),e=>(this._log.debug("_emitDomainEvent",y.a.Diff.show.show(e)),e),k.a.applyDiff,h.j.map(m.a.recover(e=>this._log.error("conflicts on diff apply",e))),e=>this._state.modify(e))},this._prepareDiff=({added:e,updated:t=new Map,removed:n=new Map})=>(t.forEach((e,i)=>{Object(s.pipe)(e,r.d,W.a.fromAlertModel,W.a.shouldBeRemoved)&&(t.delete(i),n.set(i,e[0]))}),n.forEach(Object(o.flow)(W.a.fromAlertModel,this._disposeAlert)),{added:e,updated:t,removed:n}),this._disposeAlert=e=>{if(W.a.isApplied(e)&&e.state.undoable.commit(),W.a.isNotRegistered(e))try{this._alertsRepository.remove(e)}catch(t){this._log.error("can not remove alert",t),W.a.isNotDisposed(e)&&e.dispose()}else this._log.error("unexpected remove of registered alert",e.toString())},this._cardDSLDecoder=c.a(l.Schemable)(a.b),this._isValidSDUI=!1===this._enforceSDUIOnlyMode?o.constTrue:(e,t,n)=>void 0===t?(this._capiClient.sendDebugReport(e,`got unexpected empty sdui content during ${n}`)(),this._log.error(`skip alert on ${n} due to empty sdui content`,e),!1):Object(s.pipe)(this._cardDSLDecoder.decode(t.card),h.b.mapLeft(t=>{const i=l.draw(t);this._capiClient.sendDebugReport(e,i)(),this._log.error(`skip alert on ${n} due to incorrect sdui content`,{alertId:e,err:i})}),h.b.isRight),this._ops=new J(this._positionManager,this._getContent,this._capiClient,this._alertsRepository),this.loadScores=e=>{this.lensesScores.set(e)},this.undoApplied=this._ops.undoApplied,this.changes=this._ops.changes;const T=e.rangeChanged.pipe(E.a.map(({affected:e})=>e),E.a.filter(e=>e.length>0),E.a.map(e=>j.a.groupBy(e=>e.meta.alertId,e.filter(R.a.is))),E.a.filter(e=>e.size>0),E.a.tap(e=>this._log.debug("Range[s] changed",e)),E.a.share()),M=E.a.interval(250).pipe(E.a.startWith(0),E.a.merge(this._flush)),N=I.b.createIgnoreErrorsSubscriber(this._log);this._subs.push(N("_alertsInvalidation",this._capiEvents.pipe(E.a.filter(u.a.CAPIEvent.is("session_started")),E.a.tap(this._invalidateAlerts),E.a.switchMapTo(E.a.mergeStatic(this._capiEvents.pipe(E.a.filter(u.a.CAPIEvent.is("finish")),E.a.take(1),E.a.mapTo("alert")),this._capiEvents.pipe(E.a.filter(u.a.CAPIEvent.is("async_check_finished")),E.a.take(1),E.a.mapTo("plagiarism")))),E.a.tap(this._removeInvalidAlerts))),N("_capiEvents",this._capiEvents.pipe(E.a.tap(this._onCapiEvent))),N("_alertsProccesing",this._addAlerts.pipe(E.a.merge(this._removeAlerts),E.a.merge(this._changeAlerts),E.a.merge(T),E.a.buffer(M),E.a.filter(g.n),E.a.map(this._pipeline.process),E.a.tap(this._emitDomainEvent))),N("_alertsBuffer",T.pipe(E.a.merge(this._capiEvents.pipe(E.a.filter(u.a.CAPIEvent.is("before_finish","before_async_check_finish","async_check_finished")))),E.a.mapTo(I.b.voidValue),E.a.tap(this._flush))),N("_alertOpsAlertChanges",this._ops.events.pipe(E.a.tap(this._emitDomainEvent))),N("_lensesScoresChanges",O.fromCapi(this._capiEvents).pipe(E.a.tap(I.b.toAtom(this.lensesScores)))),N("documentCountersChanges",i.fromAlerts(this._state.view(v.a.iso.wrap)).pipe(E.a.tap(I.b.toAtom(this._documentCounters))))),Object(g.r)("alerts",()=>this.toString()),Object(g.r)("triggerRemove",e=>{this._removeAlertBuffered(h.b.right(e))})}flushAlerts(){this._flush.next()}loadAlerts(e){const t=new Map;return Object(g.n)(e)&&(this._log.debug(`${e.length} external alert(s) where loaded`),e.map(ce.a.splitById).map(({id:e,local:t})=>({id:e,alert:W.a.create(Object(s.pipe)(t,u.a.RawAlert.matchBy(o.identity,e=>Object.assign(Object.assign({},e),{transformJson:{highlights:e.transformJson.highlights,alternatives:Object(s.pipe)(e.transformJson.alternatives,h.g.map(u.a.Alternative.Group.fromSerialized))}}),o.identity),this._transformRawAlert),this._ops,this._positionManager,this._alternativeManager)})).forEach(({id:e,alert:n})=>{this._addAlertBuffered(n),e&&t.set(e,n.id)})),t}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{repo:this._alertsRepository}}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_getTypeFilter(e){switch(e){case"alert":return e=>!W.a.isPlagiarism(e);case"plagiarism":return e=>W.a.isPlagiarism(e);default:return Object(f.d)(e)}}_addAlertBuffered(e){this._log.trace(`_addAlert(${e.toLiteString()})`),this._addAlerts.next(e)}_changeAlertBuffered(e){this._log.trace(`_changeAlert(${e.id})`),this._changeAlerts.next(e)}_removeAlertBuffered(e){this._log.trace(`_removeAlert(${ee.toString(e)})`),this._removeAlerts.next(e)}_getAllAlertsAsArray(){return this._alertsRepository.toArray().filter(W.a.isNotRemoved)}}},rmZI:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var i,a,r=n("LNSM");!function(e){let t;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={})),e.adminSatisfactionReasons=["CreatingStrongCompanyBrand","SavingTimeWritingAndEditing","CentrallyManagingGrammarlyAccount","EnablingTeamToCommunicateWithCustomersEffectively","Other"],e.teamMemberSatisfactionReasons=["SavingTimeWritingAndEditing","SoundingFluentInEnglish","SoundingMoreProfessionalAndPolished","ImprovingOverallWritingSkills","FeelingConfidentWhenCommunicating","CommunicatingWithCustomersEffectively","Other"],e.dissatisfactionReasons=["DoesntIntegrateWithAnAppIUse","LowQualitySuggestions","FeaturesAreMissing","TechnicalDifficulties","NotSureWhatGrammarlyBusinessDoes","DidntFindItValuable","Other"]}(i||(i={})),function(e){e.isFirstQuestion=e=>!("answer1"in e||"answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e),e.isThirdQuestion=e=>"answer1"in e&&"answer2"in e&&!("answer3"in e),e.isCompleted=e=>"answer1"in e&&"answer2"in e&&"answer3"in e;const t=[i.Experience.Neutral,i.Experience.SomewhatDissatisfied,i.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&t.includes(e.answer1),e.getSecondQuestionAnswer=e=>e.answer2}(a||(a={}));class o{constructor(e,t){this._tracking=e,this.isAdmin=t,this.state=r.a.create({})}answer(e){const t=this.state.view(a.isFirstQuestion).get(),n=this.state.view(a.isSecondQuestion).get(),i=t?"answer1":n?"answer2":"answer3";this.state.modify(t=>Object.assign(Object.assign({},t),{[i]:e})),t?this._tracking.onFirstAnswer(e):n?this._tracking.onSecondAnswer(e):Boolean(e.trim())&&this._tracking.onThirdAnswer(e)}}},"s+3N":function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return _}));var i=n("OA+g"),a=n("I7vG"),r=n("lrqh"),o=n("6fbX"),s=n("7b34"),l=n("D9EC"),c=n("PrA7"),d=n("kMag"),u=n("dE97"),p=n("GUi3"),h=n("yA7V"),m=n("jAb7"),g=n("zR/0"),f=n("UEGg"),b=n("BeBM"),y=n("bFfh"),v=n("WOQ9");const k=Object(i.not)(u.a.isMuted),w=()=>b.e.create({alertSource:u.b.api,switchOrder:"lensOrder",currentLens:y.a.Closed.create(i.constFalse,r.c.fromEquals(i.constFalse))}),S=()=>b.e.create({alertSource:u.b.api,switchOrder:"lensOrder",currentLens:y.a.DraftAI.create()});class _{constructor(e,t,n,i,r,o,s,l,d,p=b.e.FocusFirstFilter.defaultFilter){this._checkingState=e,this._alertsReader=t,this._lenses=n,this._positionManager=i,this._lensPreviewVM=r,this._lensViewFactory=o,this._alertsHandlerFactory=s,this._capabilities=l,this._alertsFilterService=d,this._focusFirstFilter=p,this._transformAlertsDiffToApplicator=e=>t=>n=>b.e.hasItems(n)?n.patch({currentLens:e(t,k)(n.currentLens)}):n,this._log=c.Monitoring.Logging.getLogger("FocusedLensManagerImpl"),this._updateMetaSource=e=>t=>n=>e===n.currentLens.id&&b.e.hasItems(n)?b.e.Prism.getLensWithItems().modify(this._capabilities.updateMeta(t),n):n,this._lensAlerts=e=>{const t=this._alertsFilterService.alertVisibleInSidebar(e.id);return Object(a.pipe)(this._checkingState.get(),h.a.reduce([],(e,{alert:n})=>t(n)?[...e,n]:e),e=>e.sort(u.d.ord.compare))}}static _mapByActiveLensId(e,t,n,i){if(p.a.isOutcomeId(e))return i();switch(e){case p.a.SpecialId.Plagiarism:return t();case p.a.SpecialId.Premium:return n();case p.a.SpecialId.AllAlerts:case p.a.SpecialId.Priority:case p.a.SpecialId.PredictionTakeaways:case p.a.SpecialId.PredictionEmogenie:case p.a.SpecialId.RealTimeProofit:case p.a.SpecialId.FreePremiumAlerts:return i();default:return Object(o.d)(e)}}_conditionedApplicator(e,t){return n=>i=>e(i,n)?t(n)(i):i}static _filterALEvents(e,t){return n=>g.a.of(Object(a.pipe)(n,h.a.Diff.filter(t=>e(t.alert)),e=>(t.isEnabled(c.Logging.LogLevel.TRACE)&&t.trace("diff after filter",e),e))).pipe(g.a.filter(Object(i.not)(s.a.isEmpty)))}emptyState(e=p.a.SpecialId.AllAlerts){return b.e.create({currentLens:this._createLens({lensId:e,initialLens:this._lensPreviewVM.getLens(e).get(),visibleAlerts:[],alertHighlight:r.g.none,alertSource:u.b.api}),alertSource:u.b.api,switchOrder:"lensOrder"})}getLensEventsByLensId(e,t,n={}){const i=this._getActiveLensMeta(t),o=this._lensAlerts(i),s=this._createState(e,r.g.none,i,t,o),l=n.focusBehavior?this._getAlertToFocus(n.focusBehavior,s):r.g.none;e.currentLens.id===t&&b.e.hasItems(e)&&this._capabilities.getActiveAlertsCount(e.currentLens)!==o.length&&this._log.warn("Lens contains inconsistent number of alerts",i.id);const c=b.e.hasItems(s)?Object(a.pipe)(l,r.g.fold(()=>s,n=>this._createState(e,r.g.some(n),i,t,o))):s;return this._generateEventsFromState(c,this._alertsHandlerFactory(t))}getLensEventsByAlert(e,t,n){Object(o.g)(r.g.isSome(this._alertsReader.getById(n.alert.id)),"Can't focus non existing alert",n.alert.id);const i=this._getActiveLensMeta(t),a=e.currentLens.meta.id===t&&e.currentLens.meta.filter(n.alert)&&b.e.hasItems(e)?b.e.Prism.getLensWithItems().modify(this._capabilities.selectItemByAlert(n,[]),e):this._createState(e,r.g.some(n),i,t,this._lensAlerts(i));return this._generateEventsFromState(a,this._alertsHandlerFactory(t))}findClosestAlertHighlight(e,t){return Object(a.pipe)(this._positionManager.findClosestToPosition(e,e=>d.a.is(e)&&d.b.isVisible(e)&&!d.b.isApplied(e)&&Object(a.pipe)(this._alertsReader.getRegistered(e.meta.alertId),r.g.exists(n=>this._alertsFilterService.alertCanBeDisplayed(n)&&t(n)&&n.getHighlightRanges().some(t=>t.meta.id===e.meta.id)))),r.g.chain(e=>Object(a.pipe)(this._alertsReader.getRegistered(e.meta.alertId),r.g.map(t=>{const n={alert:f.a.fromModel(t),highlightIndex:t.getHighlightRanges().findIndex(t=>t.meta.id===e.meta.id)};return n.highlightIndex<0&&(this._log.error("findClosestAlertRange returned a range which doesn't exist in alert.highlightRanges",{alert:n.alert.toString(),range:JSON.stringify(e),positionManagerRanges:JSON.stringify(this._positionManager.findRanges(e=>d.a.is(e)&&e.meta.alertId===t.id)),hasPendingRanges:t.hasNewRangesForUpdate}),n.highlightIndex=0),n}))))}findNextAlertInText({alert:e,highlightIndex:t},n){const i=e.getHighlightRanges();return Object(o.g)(t<i.length,"AHI is out of highlightRanges length",`hr length: ${i.length}, ahi: ${t}`),this.findClosestAlertHighlight(i[t].end,n)}findNextAlertInTextByLens(e,t,n){return this.findNextAlertInText(e,this._alertsFilterService.alertVisibleInText(t,n))}findPremiumAlert(){return this._lensPreviewVM.getLens(p.a.SpecialId.Premium).get().count>0?Object(a.pipe)(this._checkingState.get(),h.a.find(Object(i.flow)(u.a.fromAlertModel,Object(l.b)(u.a.isRegistered,u.a.isPremium))),r.g.map(e=>({alert:f.a.fromModel(e.alert),highlightIndex:0}))):r.g.none}hasZeroFreeAlerts(e){return 0===this._lensPreviewVM.getLens(e.get()).get().priorityCount}_getMetaChangesObservable(e){return b.e.hasItems(e)&&e.currentLens.kind===b.f.persistent?this._lensPreviewVM.getLens(e.currentLens.id).view(this._updateMetaSource(e.currentLens.id)):b.e.hasItems(e)&&e.currentLens.type===b.i.lensview?this._lenses.pipe(g.a.distinctUntilChanged(m.a.eq.equals),g.a.map(Object(i.flow)(m.a.lookup(e.currentLens.id),r.g.map(this._updateMetaSource(e.currentLens.id)),r.g.getOrElse(()=>b.e.Effect.Applicator.Source.identity)))):b.e.Effect.Applicator.Source.empty}_generateEventsFromState(e,t){return g.a.mergeStatic(this._checkingState.pipe(g.a.pairwise(),g.a.map(([e,t])=>h.a.diff(e,t)),g.a.tap(e=>{this._log.isEnabled(c.Logging.LogLevel.TRACE)&&this._log.trace("new alerts diff",e)}),g.a.switchMap(_._filterALEvents(e.currentLens.meta.filter,this._log)),g.a.map(this._conditionedApplicator((e,t)=>{const n=this._alertsFilterService.getLensesFilter(e.currentLens.id),r=Object(a.pipe)(t,h.a.Diff.filter(Object(i.not)(({alert:e})=>n(e))));return s.a.isEmpty(r)||this._log.info("tried to send event with alerts that do not fit current lens, skipping",{diff:h.a.Diff.show.show(r)}),s.a.isEmpty(r)},this._transformAlertsDiffToApplicator(t)))),this._getMetaChangesObservable(e)).pipe(g.a.startWith(b.e.Effect.Applicator.Source.override(e)))}_getActiveLensMeta(e){const t=_._mapByActiveLensId(e,()=>this._lensPreviewVM.getLens(p.a.SpecialId.Plagiarism).get(),()=>this._lensPreviewVM.getLens(p.a.SpecialId.Premium).get(),()=>this._lensPreviewVM.getLens(e).get());return Object(o.g)(void 0!==t,`unknown lensId:${e}`),t}_createState({alertSource:e,switchOrder:t},n,i,s,l){Object(o.g)(r.g.forAll(({alert:e})=>r.g.isSome(this._alertsReader.getInteractable(e.id)))(n),"we can create state only with alert in registered state",()=>Object(a.pipe)(n,r.g.fold(()=>"null",e=>e.toString())));const c=this._createLens({lensId:s,initialLens:i,visibleAlerts:l,alertHighlight:n,alertSource:e});return b.e.create({currentLens:c,alertSource:e,switchOrder:t})}_createLens(e){const t=this._focusFirstFilter(e);return v.a.createWithInitialAlerts(this._lensViewFactory,this._alertsHandlerFactory,this._alertsFilterService,k,this._capabilities)(e.lensId,e.initialLens,e.visibleAlerts,t)}_getAlertToFocus(e,t){switch(e.kind){case b.e.Effect.FocusBehaviorType.noFocus:case b.e.Effect.FocusBehaviorType.unFocus:return r.g.none;case b.e.Effect.FocusBehaviorType.focusFirst:return b.e.hasItems(t)?this._capabilities.findFirstAlert(t.currentLens):r.g.none;case b.e.Effect.FocusBehaviorType.focusNext:return b.e.hasItems(t)?this._capabilities.findNextAlert(t.currentLens):r.g.none;case b.e.Effect.FocusBehaviorType.focusAlert:return r.g.some(e.alertHighlight);default:Object(o.d)(e)}}}},s9lZ:function(e,t,n){e.exports=n.p+"files/f3eff5948418ea16f395ca03499aad13/mutedAlerts.png"},sDKV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("LNSM"),o=n("vOOZ"),s=n("GGUR"),l=n("zR/0"),c=n("lrqh"),d=n("hoSD"),u=n("07Tf"),p=n("q4n/"),h=n("PrA7");!function(e){e.getSelectionHOCs=e=>({withNeutralForSelection:t=>(function(e,t){return class extends a.Component{constructor(){super(...arguments),this._el=r.a.create(c.g.none),this._subs=new s.a.Keeper,this._onMount=e=>{this._el.set(c.g.fromNullable(e)),this.props.onMount&&e&&this.props.onMount(e)},this._neutralForSelection=()=>this._el.pipe(l.a.switchMap(c.g.fold(()=>l.a.EMPTY,e=>l.a.mergeStatic(l.a.fromEvent(document,"mousedown",e=>e.target).pipe(l.a.filter(t=>!(t===e||d.c.isParent(e,t))),l.a.mapTo(!0)),l.a.fromEvent(document,"mouseup").pipe(l.a.mapTo(!1))).pipe(l.a.tap(t=>{e.style.pointerEvents=t?"none":"auto"}))))).subscribe(),this._preventOnMouseMove=()=>{const e=r.a.create(!1);return[t.dontFreezeWhen(e,"prevent-focus"),this._el.pipe(l.a.switchMap(c.g.fold(()=>l.a.EMPTY,e=>l.a.mergeStatic(l.a.fromEvent(e,"mousedown").pipe(l.a.mapTo(!0)),l.a.fromEvent(e,"mouseup").pipe(l.a.mapTo(!1))))),l.a.tap(t=>e.set(t))).subscribe()]}}componentDidMount(){this._subs.push(this._neutralForSelection(),...this._preventOnMouseMove())}componentWillUnmount(){this._subs.dispose()}render(){return a.createElement(e,Object.assign({},this.props,{onMount:this._onMount}))}}})(t,e),withSelectionEffect:(t,i)=>n.withSelectionEffect(t,e,i)});const t=e=>(class extends a.Component{render(){return a.createElement(e,Object.assign({},this.props))}});let n;e.getPassThrough=()=>({withNeutralForSelection:e=>t(e),withSelectionEffect:e=>t(e)}),e.Context=a.createContext(u.a.invariantContent("DenaliEditorSelection")),function(e){e.PlainContainer=({children:e,onMouseDown:t,onMount:n,className:i})=>a.createElement(o.a.div,{className:i,onMouseDown:t,mount:n},e),e.withSelectionEffect=function(e,t,n){return class extends a.Component{_onMouseDown(e){p.b.isLeftMouseButtom(e)&&n(t,e)}render(){return a.createElement(e,Object.assign({},this.props,{onMouseDown:this._onMouseDown}))}}},e.collapse=(e,t)=>{c.b.getOrElse(t=>h.Monitoring.Logging.getLogger("Selection").error(`Failed to set cursor to ${e.getCursor().index} on selection collapse. ${t}`))(e.setCursor(e.getCursor().index,0)),t.stopPropagation()},e.resetAsap=(e,t)=>{setTimeout(()=>{const{index:t,length:n}=e.getCursor();c.b.getOrElse(e=>h.Monitoring.Logging.getLogger("Selection").error(`Failed to set cursor to index: ${t}, length: ${n} on selection reset. ${e}`))(e.setCursor(t,n))},0),t.stopPropagation()},e.prevent=(e,t)=>{t.stopPropagation()}}(n=e.Effect||(e.Effect={}))}(i||(i={}))},skHh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("QLdX");!function(e){let t,n;!function(e){e.GetViewportAndRangeRect="GetViewportAndRangeRect"}(t=e.Kind||(e.Kind={})),function(e){e.create=e=>({id:Object(a.generateUUID)(),kind:t.GetViewportAndRangeRect,markId:e}),e.toString=e=>JSON.stringify(e)}(n=e.GetViewportAndRangeRect||(e.GetViewportAndRangeRect={})),e.toString=n.toString}(i||(i={}))},"sq+9":function(e,t,n){"use strict";n.r(t),n.d(t,"SE",(function(){return I})),n.d(t,"ap",(function(){return R})),n.d(t,"error",(function(){return L})),n.d(t,"success",(function(){return P})),n.d(t,"failure",(function(){return D})),n.d(t,"fromRefinement",(function(){return F})),n.d(t,"fromGuard",(function(){return B})),n.d(t,"literal",(function(){return H})),n.d(t,"string",(function(){return V})),n.d(t,"number",(function(){return U})),n.d(t,"boolean",(function(){return q})),n.d(t,"UnknownArray",(function(){return W})),n.d(t,"UnknownRecord",(function(){return $})),n.d(t,"mapLeftWithInput",(function(){return z})),n.d(t,"withMessage",(function(){return G})),n.d(t,"refine",(function(){return K})),n.d(t,"parse",(function(){return Y})),n.d(t,"nullable",(function(){return X})),n.d(t,"fromStruct",(function(){return Z})),n.d(t,"fromType",(function(){return Q})),n.d(t,"struct",(function(){return J})),n.d(t,"type",(function(){return ee})),n.d(t,"fromPartial",(function(){return te})),n.d(t,"partial",(function(){return ne})),n.d(t,"fromArray",(function(){return ie})),n.d(t,"array",(function(){return ae})),n.d(t,"fromRecord",(function(){return re})),n.d(t,"record",(function(){return oe})),n.d(t,"fromTuple",(function(){return se})),n.d(t,"tuple",(function(){return le})),n.d(t,"union",(function(){return ce})),n.d(t,"intersect",(function(){return de})),n.d(t,"fromSum",(function(){return ue})),n.d(t,"sum",(function(){return pe})),n.d(t,"lazy",(function(){return he})),n.d(t,"readonly",(function(){return me})),n.d(t,"map",(function(){return fe})),n.d(t,"alt",(function(){return be})),n.d(t,"compose",(function(){return ye})),n.d(t,"id",(function(){return ve})),n.d(t,"URI",(function(){return ke})),n.d(t,"Functor",(function(){return we})),n.d(t,"Alt",(function(){return Se})),n.d(t,"Category",(function(){return _e})),n.d(t,"Schemable",(function(){return Ce})),n.d(t,"WithUnknownContainers",(function(){return Ee})),n.d(t,"WithUnion",(function(){return Oe})),n.d(t,"WithRefine",(function(){return Ae})),n.d(t,"draw",(function(){return Ne})),n.d(t,"stringify",(function(){return Le}));var i=n("rbBt"),a=n("OA+g"),r=n("I7vG"),o=function(e){return{_tag:"Of",value:e}},s=function(e,t){return{_tag:"Concat",left:e,right:t}};var l=function(e,t,n){return{_tag:"Key",key:e,kind:t,errors:n}},c=function(e,t,n){return{_tag:"Index",index:e,kind:t,errors:n}},d=function(e,t){return{_tag:"Member",index:e,errors:t}};function u(){return{concat:s}}var p=n("rQ7a"),h=n("ST6u");function m(e){return function(t,n){return{decode:function(i){return t(i)?e.of(i):e.throwError(n(i))}}}}function g(e){return function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return{decode:function(i){return p.literal.apply(p,n).is(i)?e.of(i):e.throwError(t(i,n))}}}}}function f(e){return function(t){return function(n){return{decode:function(i){return e.mapLeft(n.decode(i),(function(e){return t(i,e)}))}}}}}function b(e){return function(t){return function(n){return C(e)({decode:t})(n)}}}function y(e){return function(t){return function(n){return{decode:function(i){return null===i?e.of(null):e.bimap(n.decode(i),(function(e){return t(i,e)}),(function(e){return e}))}}}}}function v(e){var t=M(e);return function(n){return function(i){return{decode:function(a){return t(i,(function(t,i){return e.mapLeft(i.decode(a[t]),(function(e){return n(t,e)}))}))}}}}}function k(e){var t=T(e);return function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return{decode:function(a){return t(i,(function(t,i){return e.mapLeft(i.decode(a[t]),(function(e){return n(t,e)}))}))}}}}}function w(e){return function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return{decode:function(i){for(var a=e.mapLeft(n[0].decode(i),(function(e){return t(0,e)})),r=function(r){a=e.alt(a,(function(){return e.mapLeft(n[r].decode(i),(function(e){return t(r,e)}))}))},o=1;o<n.length;o++)r(o);return a}}}}}function S(e){return function(t){return function(n){return{decode:function(i){return e.ap(e.map(n.decode(i),(function(e){return function(t){return Object(h.a)(e,t)}})),t.decode(i))}}}}}function _(e){return function(t){return function(n,i){var a=Object(h.b)(i);return{decode:function(i){return e.mapLeft(a().decode(i),(function(e){return t(n,e)}))}}}}}function C(e){return function(t){return function(n){return{decode:function(i){return e.chain(n.decode(i),t.decode)}}}}}function E(e){return function(){return{decode:e.of}}}function O(e){return function(t){return function(n){return{decode:function(i){return e.map(n.decode(i),t)}}}}}function A(e){return function(t){return function(n){return{decode:function(i){return e.alt(n.decode(i),(function(){return t().decode(i)}))}}}}}var x,T=function(e){return function(t,n){return t.reduce((function(t,i,a){return e.ap(e.map(t,(function(e){return function(t){return e.push(t),e}})),n(a,i))}),e.of([]))}},M=function(e){return function(t,n){var i=Object.keys(t);if(0===i.length)return e.of({});for(var a=e.of({}),r=function(i){a=e.ap(e.map(a,(function(e){return function(t){return e[i]=t,e}})),n(i,t[i]))},o=0,s=i;o<s.length;o++){r(s[o])}return a}},j=function(e){var t={};for(var n in e){var a=e[n];i.isRight(a)&&(t[n]=a.right)}return t},I=u(),R=function(e,t){return i.isLeft(e)?i.isLeft(t)?i.left(I.concat(e.left,t.left)):e:i.isLeft(t)?t:i.right(e.right(t.right))},N={URI:i.URI,_E:void 0,map:function(e,t){return Object(r.pipe)(e,i.map(t))},ap:R,of:i.right,chain:function(e,t){return Object(r.pipe)(e,i.chain(t))},throwError:i.left,bimap:function(e,t,n){return Object(r.pipe)(e,i.bimap(t,n))},mapLeft:function(e,t){return Object(r.pipe)(e,i.mapLeft(t))},alt:function(e,t){if(i.isRight(e))return e;var n=t();return i.isLeft(n)?i.left(I.concat(e.left,n.left)):n}},L=function(e,t){return o(function(e,t){return{_tag:"Leaf",actual:e,error:t}}(e,t))},P=i.right,D=function(e,t){return i.left(L(e,t))},F=function(e,t){return m(N)(e,(function(e){return L(e,t)}))},B=function(e,t){return F(e.is,t)},H=g(N)((function(e,t){return L(e,t.map((function(e){return JSON.stringify(e)})).join(" | "))})),V=B(p.string,"string"),U=B(p.number,"number"),q=B(p.boolean,"boolean"),W=B(p.UnknownArray,"Array<unknown>"),$=B(p.UnknownRecord,"Record<string, unknown>"),z=f(N),G=function(e){return z((function(t,n){return o(function(e,t){return{_tag:"Wrap",error:e,errors:t}}(e(t,n),n))}))},K=function(e,t){return(n=N,function(e,t){return function(i){return C(n)(m(n)(e,t))(i)}})(e,(function(e){return L(e,t)}));var n},Y=b(N),X=y(N)((function(e,t){return s(o(d(0,L(e,"null"))),o(d(1,t)))})),Z=function(e){return v(N)((function(e,t){return o(l(e,"required",t))}))(e)},Q=Z,J=function(e){return Object(r.pipe)($,ye(Z(e)))},ee=J,te=function(e){return(n=M(t=N),a=t.of(i.right(void 0)),r=t.of(i.left(void 0)),function(e){return function(o){return{decode:function(s){return t.map(n(o,(function(n,o){var l=s[n];return void 0===l?n in s?a:r:t.bimap(o.decode(l),(function(t){return e(n,t)}),(function(e){return i.right(e)}))})),j)}}}})((function(e,t){return o(l(e,"optional",t))}))(e);var t,n,a,r},ne=function(e){return Object(r.pipe)($,ye(te(e)))},ie=function(e){return(n=T(t=N),function(e){return function(i){return{decode:function(a){return n(a,(function(n,a){return t.mapLeft(i.decode(a),(function(t){return e(n,t)}))}))}}}})((function(e,t){return o(c(e,"optional",t))}))(e);var t,n},ae=function(e){return Object(r.pipe)(W,ye(ie(e)))},re=function(e){return(n=M(t=N),function(e){return function(i){return{decode:function(a){return n(a,(function(n,a){return t.mapLeft(i.decode(a),(function(t){return e(n,t)}))}))}}}})((function(e,t){return o(l(e,"optional",t))}))(e);var t,n},oe=function(e){return Object(r.pipe)($,ye(re(e)))},se=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k(N)((function(e,t){return o(c(e,"required",t))})).apply(void 0,e)},le=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.pipe)(W,ye(se.apply(void 0,e)))},ce=w(N)((function(e,t){return o(d(e,t))})),de=S(N),ue=function(e){return function(t){return(n=N,function(e){return function(t){return function(i){var a=Object.keys(i);return{decode:function(r){var o=r[t];return o in i?i[o].decode(r):n.throwError(e(t,o,a))}}}}})((function(e,t,n){return o(l(e,"required",L(t,0===n.length?"never":n.map((function(e){return JSON.stringify(e)})).join(" | "))))}))(e)(t);var n}},pe=function(e){return function(t){return Object(r.pipe)($,ye(ue(e)(t)))}},he=_(N)((function(e,t){return o(function(e,t){return{_tag:"Lazy",id:e,errors:t}}(e,t))})),me=a.identity,ge=function(e,t){return Object(r.pipe)(e,fe(t))},fe=O(N),be=A(N),ye=C(N),ve=E(N),ke="io-ts/Decoder",we={URI:ke,map:ge},Se={URI:ke,map:ge,alt:function(e,t){return Object(r.pipe)(e,be(t))}},_e={URI:ke,compose:function(e,t){return Object(r.pipe)(t,ye(e))},id:ve},Ce={URI:ke,literal:H,string:V,number:U,boolean:q,nullable:X,type:ee,struct:J,partial:ne,record:oe,array:ae,tuple:le,intersect:de,sum:pe,lazy:he,readonly:me},Ee={UnknownArray:W,UnknownRecord:$},Oe={union:ce},Ae={refine:K},xe=[],Te=function(e,t){return void 0===t&&(t=xe),{value:e,forest:t}},Me=function(e){return e.value+je("\n",e.forest)},je=function(e,t){for(var n,i="",a=t.length,r=0;r<a;r++){var o=r===a-1;i+=e+(o?"└":"├")+"─ "+(n=t[r]).value,i+=je(e+(a>1&&!o?"│  ":"   "),n.forest)}return i},Ie=(x={Leaf:function(e,t){return Te("cannot decode "+JSON.stringify(e)+", should be "+t)},Key:function(e,t,n){return Te(t+" property "+JSON.stringify(e),Re(n))},Index:function(e,t,n){return Te(t+" index "+e,Re(n))},Member:function(e,t){return Te("member "+e,Re(t))},Lazy:function(e,t){return Te("lazy type "+e,Re(t))},Wrap:function(e,t){return Te(e,Re(t))}},function(e){switch(e._tag){case"Leaf":return x.Leaf(e.actual,e.error);case"Key":return x.Key(e.key,e.kind,e.errors);case"Index":return x.Index(e.index,e.kind,e.errors);case"Member":return x.Member(e.index,e.errors);case"Lazy":return x.Lazy(e.id,e.errors);case"Wrap":return x.Wrap(e.error,e.errors)}}),Re=function(e){for(var t=[],n=e,i=[];;)switch(n._tag){case"Of":i.push(Ie(n.value));var a=t.pop();if(void 0===a)return i;n=a;break;case"Concat":t.push(n.right),n=n.left}},Ne=function(e){return Re(e).map(Me).join("\n")},Le=i.fold(Ne,(function(e){return JSON.stringify(e,null,2)}))},sv6e:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return p}));var i,a=n("ERkP"),r=n("BbAu"),o=n("OA+g"),s=n("mAhp"),l=n("zR/0"),c=n("lrqh"),d=n("hoSD"),u=n("07Tf");!function(e){let t;!function(e){e.editor="editor",e.checksFeed="checksFeed",e.navigation="navigation",e.menu="menu",e.title="title",e.support="support",e.formatting="formatting"}(t=e.Id||(e.Id={})),e.eq=c.c.getStructEq({id:c.c.eqString,order:c.c.eqNumber}),e.ord=Object(o.pipe)(c.h.ordNumber,c.h.contramap(d.e.pick("order"))),e.show=r.a({id:r.e,order:r.d}),e.create=e=>({id:e,order:Object.values(t).findIndex(t=>t===e)}),e.Context=a.createContext(u.a.invariantContent("Focus")),e.createComponent=s.a.create(e.Context),e.initTracking=(e,t)=>e.state.pipe(l.b.compact,l.a.skip(1),l.a.tap(e=>t.gnarSpec.focusSectionSwitched(t.pageId,e.id))).subscribe()}(i||(i={}));var p,h,m=n("SDjP");(h=p||(p={})).create=e=>({inFocus:e.focus.pipe(l.a.filter(e=>e.meta.source===m.a.Meta.FocusSource.TextView),l.a.map(e=>e.inFocus)),updateFocus:t=>e.focus.next(m.a.create(m.a.Meta.FocusSource.ChecksBackend)(t))}),h.legacyCreate=e=>({inFocus:e.isEditorFocused.pipe(l.a.skip(1),l.a.distinctUntilChanged()),updateFocus:t=>t&&requestAnimationFrame(()=>e.restoreFocus())})},tMFp:function(e,t,n){"use strict";var i=n("QLdX");n.d(t,"a",(function(){return i}))},"u4+s":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return p}));var i,a,r=n("93Qa"),o=n("OA+g"),s=n("I7vG"),l=n("cu2o"),c=n("lrqh"),d=n("D9EC"),u=n("hoSD");!function(e){e.Monthly="Monthly",e.Quarterly="Quarterly",e.Annual="Annual"}(i||(i={})),function(e){const t=c.a.reduce({annual:c.g.none,quarterly:c.g.none,monthly:c.g.none},(e,t)=>{switch(t.periodMonths){case 1:return Object.assign(Object.assign({},e),{monthly:c.g.some(t)});case 3:return Object.assign(Object.assign({},e),{quarterly:c.g.some(t)});case 12:return Object.assign(Object.assign({},e),{annual:c.g.some(t)});default:return e}});function n(e,t){return{pricePerYear:{value:e-t.value,currency:t.currency},percent:`${Math.round(100*(e-t.value)/e)}%`}}e.createOfferBasedOnAnnual=Object(o.flow)(t,Object(r.sequenceS)(c.g.Applicative),c.g.map(({annual:e,quarterly:t,monthly:i})=>({price:e.priceMoney,regularPrice:e.regularPriceMoney,discountPercent:"0%",periodInMonths:12,title:"Annual",savePricedBySwitchingFrom:{monthly:n(12*i.priceMoney.value,e.priceMoney),quarterly:n(4*t.priceMoney.value,e.priceMoney)}})))}(a||(a={}));class p{constructor(e,t,n,i,a,r,s){this.offer=e,this.currentPlan=t,this.nextPaymentDate=n,this._isCancelled=i,this._isOnTrial=a,this._queuedPlan=r,this._subscriptionOps=s,this._renew=e=>c.l.tryCatch(()=>!0===e?this._subscriptionOps.renew():Promise.resolve(),e=>({reason:"Renew failed",originalError:e})),this._getPlans=()=>c.l.tryCatch(()=>this._subscriptionOps.getPlans(),e=>({reason:"Could not get plans",originalError:e})),this._changePlan=e=>c.l.tryCatch(()=>this._subscriptionOps.changePlan(e),e=>({reason:"Changing plan failed",originalError:e})),this._extractAnnualPlan=Object(o.flow)(c.a.findFirst(e=>12===e.periodMonths),c.b.fromOption(()=>({reason:"Expectation failed, we did not receive the annual plan"})),c.b.filterOrElse(e=>l.a.eq.equals(e.priceMoney,this.offer.price),()=>({reason:"Expectation failed, we did not receive the annual plan with offered price"})),c.b.map(e=>e.id),c.l.fromEither),Object(d.r)("changePlanHookShowOffer",()=>p.enableDebugModeToShowOffer=!0)}get isMonthly(){return 1===this.currentPlan.periodMonths}get isQuarterly(){return 3===this.currentPlan.periodMonths}get savedPrice(){return this.isMonthly?this.offer.savePricedBySwitchingFrom.monthly:this.offer.savePricedBySwitchingFrom.quarterly}get currentPlanType(){return this.isMonthly?i.Monthly:this.isQuarterly?i.Quarterly:i.Annual}get daysToRenewal(){const e=this.nextPaymentDate.getTime(),t=u.d.Local.now().getTime();return Math.floor(Math.max(0,e-t)/u.d.MS_IN_DAY)}get shouldShowOffer(){return!!p.enableDebugModeToShowOffer||this.willSubscriptionRenewSoon&&!this.hasAlreadyChangedToAnnual&&!this._isOnTrial}get hasAlreadyChangedToAnnual(){return Object(s.pipe)(this._queuedPlan,c.g.exists(({periodMonths:e})=>12===e))}get willSubscriptionRenewSoon(){const e=this.daysToRenewal<2*u.d.DAYS_IN_WEEK;return(this.isMonthly||this.isQuarterly)&&e}changePlan(){return Object(s.pipe)(this._renew(this._isCancelled),c.l.chain(this._getPlans),c.l.chain(this._extractAnnualPlan),c.l.chain(this._changePlan))}static create({currentPlan:e,queuedPlan:t,nextPayDate:n,expirationDate:i,isCancelled:r,plans:o,isOnTrial:l},d){if(!Boolean(e))return c.b.left("Cannot load plans for change plan when user is freemium");if(!n&&!i)return c.b.left("Cannot change plan when nextPayDate and expirationDate are null");const u={renew:()=>d.renew(),changePlan:e=>d.changePlan(e),getPlans:()=>d.getPlans()},h=a.createOfferBasedOnAnnual(o);return Object(s.pipe)(h,c.b.fromOption(()=>"Cannot create offer, plans are incomplete, monthly or quarterly or annual are not presented in subscription status"),c.b.map(a=>new p(a,e,new Date(null!=n?n:i),null!=r&&r,null!=l&&l,c.g.fromNullable(t),u)))}}p.enableDebugModeToShowOffer=!1},uYVq:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("ERkP"),a=n("OA+g"),r=n("I7vG"),o=n("vOOZ"),s=n("uukV"),l=n("lrqh"),c=n("Ars8"),d=n("cqAx"),u=n("omiJ"),p=n("ksOW"),h=n("/kIX");class m extends i.Component{componentDidMount(){const e=this._el.children;this.props.onElementsReady({header:e[0].outerHTML,stats:e[1].outerHTML,text:e[2].outerHTML,footer:e[3].outerHTML})}render(){const{model:e}=this.props,t=(n=e.plagiarism,Object(r.pipe)(n,l.g.filter(e=>e.state===s.a.PlagiarismCheckingState.CHECKED),l.g.map(e=>e.sortedAlerts),l.g.getOrElse(()=>[])));var n;return i.createElement("div",{ref:e=>{null!==e&&(this._el=e)}},i.createElement(d.d,{title:e.title}),i.createElement(d.b,{model:e}),i.createElement("div",null,i.createElement(p.a,{html:e.dedHTML,title:e.title,alerts:e.sortedAlerts,plagiarism:t}),i.createElement(u.a,{alerts:e.sortedAlerts,plagiarism:t})),i.createElement(d.c,null))}}class g extends i.Component{_prepareHTML(e){return'<!doctype html><html lang="en" style="--rem: 23.8;"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Report</title><style>'+Object(h.a)()+"</style></head>"+`<body>${e}</body>`+"</html>"}render(){const{reportViewModel:e}=this.props;return i.createElement(o.a.div,{className:c.a.invisible},e.reportData.view(Object(a.flow)(l.g.map(t=>i.createElement(m,{model:t,onElementsReady:({header:t,footer:n,stats:i,text:a})=>e.generateReport(this._prepareHTML(i+a),t,n)})),l.g.toNullable)))}}},uukV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("LNSM"),r=n("D9EC"),o=n("lrqh");!function(e){let t,n;!function(e){e[e.CHECKED=0]="CHECKED",e[e.NOT_CHECKED=1]="NOT_CHECKED"}(t=e.PlagiarismCheckingState||(e.PlagiarismCheckingState={})),function(e){e.Mock=class{constructor(){this.downloadStarted=a.a.create(!1),this.beginDownload=r.e,this.tryToInterrupt=r.e,this.generateReport=()=>{throw new Error("Method not implemented.")},this.reportData=a.a.create(o.g.none),this.dedHTML="",this.dispose=r.e}}}(n=e.ViewModel||(e.ViewModel={}))}(i||(i={}))},vLzu:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return i}));var i,a=n("I7vG"),r=n("FGLS"),o=n("zR/0"),s=n("CvSs"),l=n("lrqh"),c=n("D9EC"),d=n("mEc7"),u=n("Pe9T");class p{constructor(e,t,n,a,l,c){this._doxApi=e,this._appRouter=t,this._notificationsManager=n,this._telemetry=a,this._environment=l,this._config=c,this._upload=e=>this._doxApi.createDocument(r.a.Create.file(e,r.a.UploadFileMode.plain)),this.uploadModel=new u.c.UploadModelImpl(e=>this._upload(e),(e,t)=>this._appRouter.navigate(d.a.routes.denali_editor.href({docId:e}),t),this._telemetry,this._notificationsManager,this._environment,this._config),this.state=this.uploadModel.state.pipe(o.a.pairwise(),o.a.map(([e,t])=>s.a.isInProgress(t)?i.State.loading:s.a.isOk(t)||s.a.isIdle(t)&&s.a.isOk(e)?i.State.uploaded:i.State.idle),o.a.startWith(i.State.idle))}isUploaded(e,t){const n=Object(a.pipe)(this._appRouter.locationState,l.g.chain(e=>l.g.fromNullable(e.uploadedFileType))),i=Object(a.pipe)(this._appRouter.locationState,l.g.chain(e=>l.g.fromNullable(e.uploadedFileName))),r=void 0!==e?Object(a.pipe)(n,l.g.exists(t=>t===e)):l.g.isSome(n),o=void 0!==t?Object(a.pipe)(i,l.g.exists(e=>t.test(e))):l.g.isSome(i);return r||o}dispose(){this.uploadModel.dispose()}}!function(e){let t;!function(e){e.idle="idle",e.loading="loading",e.uploaded="uploaded"}(t=e.State||(e.State={}));e.Mock=class{constructor(){this.uploadModel={navigated:c.e},this.state=o.a.EMPTY,this.dispose=c.e}isUploaded(e,t){throw new Error("Method not implemented.")}showUploadNotificationIfNeeded(){throw new Error("Method not implemented.")}}}(i||(i={}))},vVVP:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("a5W6"),a=n("OA+g"),r=n("I7vG"),o=n("5E2i"),s=n("kgbq"),l=n("mbuk"),c=n("+JVj"),d=n("lrqh"),u=n("6fbX"),p=n("hoSD"),h=n("QxMx"),m=n("D9EC"),g=n("PrA7"),f=n("dE97"),b=n("UEGg"),y=n("kFFO"),v=n("XpkH");class k{constructor(e,t,n,i,s,l,c,u){this._alert=e,this._alertsService=t,this._alertRangeService=n,this._changeMarksInDEd=i,this._create=s,this._update=l,this._remove=c,this._onTransitionEnd=u,this._currentState=v.b.from(v.c.initial),this._scheduledState=v.b.from(v.c.visible),this.id=this._alert("id").id,this._marksMap=new Map,this._alertRef=this._alertsService.takeReference(this._alert("_alertRef"),"mark"),this._shouldInitMark=!0,this._tryToUpdateRangesInAlert=e=>{if(!e.to.updateRanges||!Object(r.pipe)(this._alertRangeService.hasNewRangesForUpdate(this.id),d.b.fold(a.constFalse,o.a)))return d.g.none;const t=Object(r.pipe)(this._alertRangeService.applyPendingRangesUpdate(this.id),d.b.mapLeft(e=>w("markAlert").error("cannot apply pending ranges",e)),d.g.fromEither,d.g.chain(o.a),d.g.filter(({addedHighlightedRanges:e,removedHighlightedRanges:t})=>e.length>0||t.length>0));return Object(r.pipe)(t,d.g.map(e=>({commit:()=>e.removedHighlightedRanges[1](),ranges:{added:e.addedHighlightedRanges,removed:e.removedHighlightedRanges[0]}})))},this._dispose=()=>{this._marksMap.clear(),d.b.either.map(this._alertRef,e=>e.dispose())},this._disposeIfEmpty=()=>{0===this._marksMap.size&&this._dispose()},d.b.either.mapLeft(this._alertRef,e=>w("markAlert").warn("can not take alertRef",e))}get state(){return{current:this._currentState,scheduled:this._scheduledState}}get alert(){return this._alert()}scheduleApply(e){return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),Object(u.g)(e!==v.c.initial,`Cannot schedule change ${this.id} from ${this._currentState.visualState} to initial state`),this._currentState.visualState!==v.c.initial||e!==v.c.disposed&&!v.c.isApplied(e)?this._scheduledState&&this._scheduledState.forceUpdate?this._scheduledState=v.b.updateVisualState(this._scheduledState,e):this._currentState.visualState!==e||this._currentState.updateRanges?this._scheduledState=v.b.updateVisualState(this._currentState,e):this._scheduledState=null:(this._scheduledState=null,this._currentState=v.b.from(v.c.disposed),this._dispose()),this}scheduleUpdate(){this._throwWhenInFinaleState(),this._scheduledState=v.b.updateRanges(this._scheduledState||this._currentState,!0)}scheduleForceUpdate(){this._throwWhenInFinaleState(),this._scheduledState=v.b.forceUpdate(this._scheduledState||this._currentState,!0)}apply(){if(!v.a.isPending(this))return;this._throwWhenInFinaleState();const e=this._getTransition();Object(r.pipe)(this.change(),d.g.filter(e=>e.rawMark.length>0),d.g.map(t=>{this._handleBasicEvent(t.rawMark),t.commit(),this._onTransitionEnd(e,this)}))}applyWith(e){const t=[this,...e];this._handleMultipleHighlights(t,e=>e.change())}markByIndex(e){try{return this._throwWhenInFinaleState(),this._shouldInitMark&&(this._shouldInitMark=!1,this.apply()),this._markbyIndex(e)}catch(e){return d.g.none}}get mark(){return this.markByIndex(0)}_iterateOverMarkAlerts(e,t){e.forEach(({change:e,ma:n})=>{e.rawMark.forEach(e=>{"create"===e.action?n._setMarkAndCheckFinaleState(e.id,Object(r.pipe)(t.created.get(e.id)||d.b.left(new Error("Cannot get unknown mark")),d.g.fromEither)):"remove"===e.action&&n._removeMark(e.id)}),e.commit(),n._disposeIfEmpty()})}_handleMultipleHighlights(e,t){const n=e.map(e=>[e,t(e)]).filter(([e,t])=>Object(r.pipe)(t,d.g.filter(t=>0!==t.rawMark.length||(w("markAlert").warn("rawAction must have rawMark array",{rawAction:t.action,state:Object.assign(Object.assign({},e.toJSON()),{alert:void 0})}),!1)),d.g.isSome)).map(([e,t])=>({ma:e,change:d.g.unsafeGet(t)}));if(0===n.length)return;const i=p.a.flatMap(n.map(e=>e.change.rawMark)),a=this._changeMarksInDEd(i);this._iterateOverMarkAlerts(n,a)}get _mark(){return this._markbyIndex(0)}_markbyIndex(e){return this._marksMap.size>e?0===e?this._marksMap.values().next().value:Array.from(this._marksMap.values())[e]:d.g.none}_setMarkAndCheckFinaleState(e,t){this._throwWhenInFinaleState(),this._setMark(e,t)}_setMark(e,t){this._shouldInitMark=!1,this._marksMap.set(e,t)}_removeMark(e){this._marksMap.delete(e)}change(){Object(u.g)(v.a.isPending(this),"Next state should be scheduled to change it",()=>JSON.stringify({currentState:this._currentState,aid:this.id}));const e=this._commitTransition();return e.from.visualState!==e.to.visualState||e.to.forceUpdate||e.to.updateRanges?d.g.some(this._getRawActionForApply(e)):d.g.none}_handleBasicEvent(e){const t=this._changeMarksInDEd(e);e.forEach(e=>{if(e.action===l.a.Change.ActionType.remove)this._removeMark(e.id);else{const n=Object(r.pipe)(d.g.fromNullable(this._marksMap.get(e.id)),d.g.chain(o.a),d.g.alt(()=>Object(r.pipe)((e.action===l.a.Change.ActionType.create?t.created.get(e.id):t.updated.get(e.id))||d.b.left(new Error("Cannot get unknown mark")),d.g.fromEither)));this._setMark(e.id,n)}}),this._disposeIfEmpty()}_getTransition(){return Object(u.g)(v.a.isPending(this),"Next state should be scheduled to change it",()=>JSON.stringify({currentState:this._currentState,aid:this.id})),{from:this._currentState,to:this._scheduledState}}_commitTransition(){const e=this._getTransition();return this._currentState=Object.assign(Object.assign({},e.to),{updateRanges:!1,forceUpdate:!1}),this._scheduledState=null,e}_getRawActionForApply(e){switch(e.from.visualState){case v.c.initial:return Object(r.pipe)(this._tryToUpdateRangesInAlert(e),d.g.map(e=>e.commit())),{action:"create",commit:s.a,rawMark:this._getHighlightRanges(t=>this._create(()=>t,e)(t.meta.id))};default:switch(e.to.visualState){case v.c.disposed:const t=v.c.isApplied(e.from.visualState)||f.a.State.isRemoved(this.alert.state)&&b.a.isApplicableAlert(this.alert)&&this._getAppliedRanges(a.constVoid).length>0?this._getAppliedRanges((e,t)=>({id:t().meta.id,range:t})):this._getHighlightRanges(e=>({id:e.meta.id,range:()=>e}));return{action:"remove",commit:Object(r.pipe)(this._tryToUpdateRangesInAlert(e),d.g.map(({commit:e})=>e),d.g.getOrElse(()=>a.constVoid)),rawMark:t.map(e=>this._remove(e.range)(e.id))};case v.c.applied:const n=this._getHighlightRanges(e=>this._remove(()=>e)(e.meta.id));return{action:"replace",commit:Object(r.pipe)(this._tryToUpdateRangesInAlert(e),d.g.map(({commit:e})=>e),d.g.getOrElse(()=>a.constVoid)),rawMark:[...n,...this._getAppliedRanges((t,n)=>this._create(n,e)(n().meta.id))]};default:const i=()=>f.a.State.isBulkApplied(this._alert("_getRawActionForApply").state)?this._getAppliedRanges((e,t)=>t()):this._getHighlightRanges(o.a);return Object(r.pipe)(this._tryToUpdateRangesInAlert(e),d.g.map(({commit:t,ranges:n})=>this._getReplaceAction(e,i(),n.removed,t)),d.g.getOrElse(()=>({action:"update",commit:s.a,rawMark:i().map(t=>this._update(()=>t,e)(t.meta.id))})))}}}_getReplaceAction(e,t,n,i){return{action:"replace",commit:i,rawMark:[...n.map(e=>this._remove(()=>e)(e.meta.id)),...t.map(t=>this._create(()=>t,e)(t.meta.id))]}}_getAppliedRanges(e){return Object(r.pipe)(this._alertRangeService.getAppliedRanges(this.id),d.b.fold(e=>(w("markAlert").error("cannot get applied ranges",{error:e.message,alert:b.a.snapshot(this._alert("_getAppliedRanges"))}),[]),i.mapWithIndex(e)))}_getHighlightRanges(e){return Object(r.pipe)(this._alertRangeService.getHighlightRanges(this.id),d.b.fold(t=>(w("markAlert").warn("cannot get highlight ranges via range service",{error:t,alert:this._alert("_getHighlightRanges")}),Object(r.pipe)(this._alert("_getHighlightRanges_Fallback").getHighlightRanges(),i.map(e))),i.map(e)))}_throwWhenNotAllowedState(e){const t=this._alert("_throwWhenNotAllowedState");Object(u.g)(!(!b.a.isDefault(t)&&!b.a.isSuper(t))||(!Boolean(e)||f.a.State.isBulkApplied(t.state)||!v.c.isApplied(e)),`Applied state isn't allowed for ${this.id}`)}_throwWhenInFinaleState(e){Object(u.g)(Boolean(e)&&v.a.isOneOf(v.c.applied)(this)?e===v.c.disposed||f.a.State.isBulkApplied(this._alert("_throwWhenInFinaleState").state):v.a.notAnyOf(v.c.disposed)(this),`'${this._currentState.visualState}' MarkAlert '${this.id}' cannot be changed${Boolean(e)?` to '${e}' `:""}`)}toJSON(){return{current:this._currentState,scheduled:this._scheduledState,mark:{id:Object(r.pipe)(this._mark,d.g.map(e=>e.id),d.g.toUndefined),range:Object(r.pipe)(this._mark,d.g.map(e=>e.range),d.g.toUndefined)},alert:this._alert("toJSON")}}equals(e){return v.a.eq.equals(this,e)}hashCode(){return Object(y.b)(this.id)}}!function(e){e.compareTo=e=>{const t=Object(h.a)(c.b.distanceFrom)(e);return(e,n)=>Object(m.d)(Math.min(...e.alert.getHighlightRanges().map(t)),Math.min(...n.alert.getHighlightRanges().map(t)))}}(k||(k={}));const w=Object(m.l)(g.Monitoring.Logging.getLogger)},vXpH:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m}));var i=n("ERkP"),a=n("vOOZ"),r=n("9NHN"),o=n("bO3R"),s=n("3rlE"),l=n("D6Vf"),c=n("BugA"),d=n("TIXb");const u="modal-notification";var p,h;!function(e){e.TopLeft="topLeft",e.TopRight="topRight",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(p||(p={})),function(e){e.Left="Left",e.Right="Right"}(h||(h={}));class m extends i.Component{render(){const{title:e,content:t,position:n,icon:l,iconPosition:u,label:m,buttons:g,isCloseButton:f}=this.props;return i.createElement(a.a.Fragment,null,this.props.isVisibleAtom.view(a=>a&&i.createElement("div",Object.assign({id:this._id},Object(r.c)(d.modalNotification,u===h.Right?d.modalNotificationReverse:"",d[null!=n?n:p.BottomLeft])),!1!==f&&i.createElement(o.a,{name:"modal-notification-close",className:d.closeIcon,onClick:()=>this._closeModal()},i.createElement(s.d.Close,null)),(l||m)&&i.createElement("section",{className:d.iconSection},Boolean(m)?i.createElement("div",{className:d.label},m):null,Boolean(l)?i.createElement("div",{className:d.icon},l):null),i.createElement("section",{className:d.contentSection},i.createElement(c.j,{className:d.title},e),i.createElement(c.a,{className:d.content},t),g&&i.createElement("div",{className:d.btnGroup},g)))))}get _id(){return Boolean(this.props.id)?this.props.id:u}_closeModal(){this.props.isVisibleAtom.set(!1)}}!function(e){class t extends i.Component{render(){return i.createElement(i.Fragment,null,i.createElement(l.b,{positionType:"fixed",preventClose:!1,visible:this.props.isVisibleAtom,alignment:"none",overlayType:"transparent"}),i.createElement(e,Object.assign({key:"modal-notification"},this.props)))}}e.WithOverlay=t}(m||(m={}))},vz4c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return T}));var i,a,r,o,s,l,c=n("D57K"),d=n("I7vG"),u=n("2Jhg"),p=n("LNSM"),h=n("xlCj"),m=n("R+r4"),g=n("bYZB"),f=n("D8Xd"),b=n("zR/0"),y=n("GGUR"),v=n("CvSs"),k=n("gy42"),w=n("lrqh"),S=n("6fbX"),_=n("D9EC"),C=n("PrA7"),E=n("mEc7"),O=n("8iZ1");class A{constructor(e){this._closeModal=e,this.actions=new b.a.Subject,this._subscriptions=new y.a.Keeper,this._subscriptions.push(this.actions.subscribe(()=>this._closeProofitOrder()))}_closeProofitOrder(){this._closeModal()}dispose(){this._subscriptions.dispose()}}class x{constructor(e,t){this.details=e,this._ops=t,this.active=p.a.create(!1),this.recommended=this.details.enabled&&(this.details.turnaround===m.a.PlanType.Instant&&this.details.tier===m.a.PlanTier.Base||this.details.turnaround===m.a.PlanType.SixHours&&this.details.tier===m.a.PlanTier.Clarity),this.select=()=>{this._ops._selectPlan(this.details)},this.unselect=()=>{this._ops._selectPlan(null)},this.placeOrder=e=>this._ops._placeOrder(this.details,e)}toggleActive(e){return this.active.set(e),this}}!function(e){e.Order="Order",e.Success="Success"}(i||(i={})),function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2"}(a||(a={})),function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2",e[e.Step3=2]="Step3",e[e.Step4=3]="Step4"}(r||(r={})),(s=o||(o={})).selectPlanTier=function(e,t){return Object.assign(Object.assign({},e),{selectedPlanTier:t,selectedPlans:e.plans.filter(e=>e.details.tier===t).sort((e,t)=>t.details.turnaround-e.details.turnaround).slice(0,3)})},s.selectPlan=function(e,t){const n=w.g.getEq(m.a.Plan.eq),i=e=>n.equals(t,w.g.some(e.details)),a=e=>e.toggleActive(i(e));return Object.assign(Object.assign({},e),{plans:e.plans.map(a),selectedPlans:e.selectedPlans.map(a),selectedPlan:u.f.of(e.plans.find(i))})};class T{constructor(e,t,n,s,l,k,_){this._subscription=e,this._documentModel=t,this._ded=n,this._user=s,this._notificationsManager=l,this._router=k,this._config=_,this.modal=p.a.create(u.e),this.isVisibleModal=this.modal.lens(h.a.create(e=>e.nonEmpty(),(e,t)=>e?t:u.e)),this.viewState=p.a.create(u.e),this.subscriptionState=this._subscription.state,this.braintreeApi=this._subscription.braintreeApi,this.leftStep=p.a.create(r.Step1),this.rightStep=p.a.create(a.Step1),this._orderModalViewModelOption=u.e,this._initialNativeLanguage=w.g.none,this.viewStateAndSubscription=this.viewState.pipe(b.a.combineLatest(this._subscription.state)),this._subscriptions=new y.a.Keeper,this._closeModal=()=>this.modal.set(u.e),this.changeLeftStep=e=>{this.leftStep.set(e)},this.changeRightStep=e=>{this.rightStep.set(e)},this.placeOrderAfterAntiFraudCheck=e=>{this._log.info("Anti-fraud place order after check"),this._subscriptions.push(this.viewStateAndSubscription.pipe(b.a.first(),b.a.map(([e])=>e.get()),b.a.map(e=>e.selectedPlan.get()),b.a.switchMap(t=>t.placeOrder(Object(u.h)(e)))).subscribe(()=>this._onBillingSuccess(),()=>this.onBillingError()))},this.onBillingError=()=>{this._subscriptions.push(this._showPaymentError().subscribe())},this.requestPlans=this._ded.contentUpdated.pipe(b.a.filter(g.b.isTextMaybeWithFormatting),b.a.auditTime(1e3),b.a.startWith(void 0),b.a.switchMap(()=>Promise.all([this._proofit.getPlans(),this._user.getUserNativeLanguage()])),b.a.retryWhen(v.a.OperationRetrier.RetryStrategy.conditional(e=>"TimeoutError"===e.name||"NotConnectedError"===e.name,v.a.OperationRetrier.RetryStrategy.linear(2,1e3))),b.a.tap(([e,t])=>{this._initialNativeLanguage=Object(d.pipe)(t,w.b.getOrElse(()=>w.g.none));const n=[...e.turnaroundOptions,...e.clarityTurnaroundOptions].map(e=>new x(e,this)),i={words:e.words,selectedPlanTier:m.a.PlanTier.Base,plans:n,selectedPlans:[],selectedPlan:u.e,proofitState:u.e,statistics:u.e,userInputs:Object(d.pipe)(t,w.b.fold(()=>e.userInputs,t=>Object.assign(Object.assign({},e.userInputs),{nativeLanguage:t}))),priceOfferId:e.priceOfferId};this.viewState.set(Object(u.h)(o.selectPlanTier(i,m.a.PlanTier.Clarity)))}),b.a.catchError(e=>(this._log.error("Error querying proofit plan options",e),this._notificationsManager.enqueue("error").pipe(b.a.filter(f.a.isCloseAction),b.a.tap(()=>this.modal.set(u.e))))),b.a.finalize(()=>{this.viewState.set(u.e)}),b.a.share()),this.requestStatistics=()=>(this._log.info("Request Statistics"),this._proofit.getStatistics().pipe(b.a.retryWhen(v.a.OperationRetrier.RetryStrategy.conditional(e=>"NotConnectedError"===e.name,v.a.OperationRetrier.RetryStrategy.linear(2,1e3))),b.a.tap(e=>{this.viewState.modify(t=>t.map(t=>{var n=Object(c.__rest)(t,[]);return Object.assign(Object.assign({},n),{statistics:e})}))}),b.a.catchError(e=>(this._log.debug("Error querying proofit statistics",e),b.a.of(u.f.empty()))))),this.selectPlanTier=e=>{this.viewState.modify(t=>t.map(t=>o.selectPlan(o.selectPlanTier(t,e),w.g.none)))},this._selectPlan=e=>{this.viewState.modify(t=>t.map(t=>o.selectPlan(t,w.g.fromNullable(e))))},this._placeOrder=(e,t)=>(this._updateUserNativeLanguage(),this._proofit.placeOrder(e,this._getUserInputs(),this._getPriceOfferId(),t)),this._onBillingSuccess=()=>{this._subscriptions.push(this._showPaymentMessage().subscribe())},this._log=C.Monitoring.Logging.getLogger("ProofitView"),this._goToMyDocuments=()=>{window.PROOFIT_SUBMITTED=!0,this._router.navigate(E.a.routes.documents.href())},this._proofit=this._documentModel.proofit;const O=this._subscription.state.get().value;this.requirePaymentCheck=this._user.features.denali.requirePaymentCheck?p.a.create(!0):this.viewState.view(e=>e.flatMap(e=>e.selectedPlan).map(e=>e.details.requirePaymentCheck).getOrElse(!1)),this._subscriptions.push(this._proofit.state.pipe(b.a.tap(e=>this.viewState.modify(t=>t.map(t=>Object.assign(Object.assign({},t),{proofitState:e})))),b.a.switchMap(e=>e.fold(()=>b.a.EMPTY,b.a.of)),b.a.switchMap(e=>{switch(e.kind){case"submitted":return this._log.info("Document submitted for proofreading"),this._showSuccessModal();case"finished":case"cancelled":case"sending":return b.a.EMPTY;case"error":return this._log.error("Error sending document for proofreading:",e.errorType),this._createErrorNotification(e.errorType,O.paymentMethod);default:return Object(S.d)(e)}})).subscribe()),this._subscriptions.push(this.modal.pipe(b.a.pairwise(),b.a.filter(([e])=>e.exists(e=>e.type===i.Success))).subscribe(this._goToMyDocuments))}clearModals(){this._orderModalViewModelOption.forEach(e=>e.dispose()),this._orderModalViewModelOption=u.e}newOrderModalViewModel(){const e=new A(this._closeModal);return this._orderModalViewModelOption=Object(u.h)(e),e}closeModal(){this.modal.set(u.e),this.leftStep.set(r.Step1),this.rightStep.set(a.Step1)}showOrderModal(){this.modal.set(Object(u.h)({type:i.Order}))}selectUserInput(e,t){this.viewState.modify(n=>n.map(n=>Object.assign(Object.assign({},n),{userInputs:Object.assign(Object.assign({},n.userInputs),{[e]:t})})))}dispose(){this.clearModals(),this._subscriptions.dispose()}_showPaymentMessage(){return this._notificationsManager.enqueue("paymentSuccess")}_showPaymentError(){return this._notificationsManager.enqueue("paymentError")}_showSuccessModal(){return this._log.info("Show Success Modal"),this._proofit.jobDetails.pipe(b.a.switchMap(e=>e.fold(()=>b.a.EMPTY,b.a.of)),b.a.combineLatest(this._user.profile,({dueTime:e},{email:t})=>Object(u.h)({type:i.Success,payload:{email:t,dueDate:e}})),b.a.first(),b.a.tap(k.b.toAtom(this.modal)))}_createErrorNotification(e,t){switch(e){case"payment":return this._notificationsManager.enqueue("proofitPaymentDeclinedError",{paymentMethod:t}).pipe(b.a.filter(e=>"navigateToSubscription"===e),b.a.tap(()=>window.open(this._config.account.subscription,"_blank")));case"emptyDocument":return this._notificationsManager.enqueue("proofitEmptyDocumentError");case"alreadyProofread":return this._notificationsManager.enqueue("proofitDocumentProofreadError").pipe(b.a.filter(e=>"navigateToDocuments"===e),b.a.tap(this._goToMyDocuments));case"complexInternalStructure":return this._notificationsManager.enqueue("proofitComplexInternalStructureError").pipe(b.a.filter(e=>"navigateToDocuments"===e),b.a.tap(this._goToMyDocuments));case"unknown":return this._notificationsManager.enqueue("error");default:return Object(S.d)(e)}}_getUserInputs(){return this.viewState.get().map(({userInputs:e})=>e).getOrElse({nativeLanguage:w.g.none,dialect:w.g.none,quotationType:w.g.none,spaceType:w.g.none})}_updateUserNativeLanguage(){const e=this._getUserInputs();w.g.getEq(w.c.eqStrict).equals(e.nativeLanguage,this._initialNativeLanguage)||Object(d.pipe)(e.nativeLanguage,w.g.tap(e=>this._user.updateUserNativeLanguage(e)()))}_getPriceOfferId(){const e=this.viewState.get();return Object(S.g)(!e.isEmpty(),"Proofit view state should be initialized"),e.get().priceOfferId}}(l||(l={})).Mock=class{constructor(e,t=w.g.none){this._proofit=e,this._proofitLastJob=t,this.modal=p.a.create(u.e),this.isVisibleModal=p.a.create(!0),this.subscriptionState=O.a.mock().state,this.leftStep=p.a.create(r.Step1),this.rightStep=p.a.create(a.Step1),this.braintreeApi=O.a.mock().braintreeApi,this.requirePaymentCheck=p.a.create(!1),this.clearModals=_.e,this.showOrderModal=()=>{this.modal.set(Object(u.h)({type:i.Order}))},this.showSuccessModal=()=>{this.modal.set(u.e)},this.selectPlanTier=_.e,this.selectUserInput=_.e,this.changeLeftStep=_.e,this.changeRightStep=_.e,this.placeOrderAfterAntiFraudCheck=_.e,this.onBillingError=_.e,this.viewState=p.a.create(u.e),this.requestStatistics=()=>b.a.of(u.f.of({status:m.a.StatisticsStatus.Success,lastCompletedJobDate:this._proofitLastJob})),this.requestPlans=b.a.from(this._proofit.getPlans().then(e=>{this.viewState.set(Object(u.h)({words:e.words,plans:e.turnaroundOptions.map(e=>new x(e,this)).sort((e,t)=>t.details.turnaround-e.details.turnaround),selectedPlans:[],selectedPlan:u.e,selectedPlanTier:m.a.PlanTier.Base,proofitState:u.e,statistics:u.e,userInputs:{nativeLanguage:w.g.none,dialect:w.g.none,quotationType:w.g.none,spaceType:w.g.none},priceOfferId:e.priceOfferId}))}).catch(console.error)),this._updateActive=e=>this.viewState.modify(t=>t.map(t=>{var{plans:n}=t,i=Object(c.__rest)(t,["plans"]);const a=n.find(t=>t.details.turnaround===e);return Object.assign(Object.assign({},i),{plans:n.map(t=>t.toggleActive(t.details.turnaround===e)),selectedPlan:u.f.of(a)})})),this._placeOrder=()=>new Promise(e=>setTimeout(e,1e3)),this._selectPlan=_.e,this.dispose=_.e,this.viewStateAndSubscription=this.viewState.pipe(b.a.combineLatest(p.a.create(v.a.ok({plans:[]}))))}newOrderModalViewModel(){return new A(()=>null)}closeModal(){this.modal.set(u.e),this.isVisibleModal.set(!1)}}},wI8h:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("I7vG"),r=n("LNSM"),o=n("viRF"),s=n("hoSD"),l=n("lrqh"),c=n("D9EC"),d=n("6fbX"),u=n("4e/B");!function(e){let t,n,i,p,h,m;function g(e,{emogenie:{popup:{intensities:n}}}){switch(e){case t.VeryStrong:return n.veryStrong;case t.Strong:return n.strong;case t.Moderate:return n.moderate;case t.Slight:return n.slight;default:return Object(d.d)(e)}}!function(e){e[e.Low=1]="Low",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate",e[e.Strong=4]="Strong",e[e.VeryStrong=5]="VeryStrong"}(t||(t={})),e.intensitiesOrder=s.e.keys(t).map(e=>t[e]).filter(e=>"number"==typeof e).sort(),function(e){e.fromConfidence=function(e,n){const i=o.b.unwrap(e);return i<.25?t.Slight:i<.5?t.Moderate:i/n>.5?t.VeryStrong:t.Strong}}(n||(n={})),function(e){e.fromModel=function({name:e,confidence:t,feedback:i,emoji:r},o,s,c){const d=n.fromConfidence(t,s);return{emoji:r,name:e,intensity:d,intensityCaption:g(d,c),feedback:i,actions:{like:{name:`${e}-like`,tooltip:c.emogenie.popup.actions.like,active:Object(a.pipe)(i,l.g.exists(e=>e===u.a.FeedbackType.Like)),disabled:l.g.isSome(i),handler:()=>o(e,u.a.FeedbackType.Like)},dislike:{name:`${e}-dislike`,tooltip:c.emogenie.popup.actions.dislike,active:Object(a.pipe)(i,l.g.exists(e=>e===u.a.FeedbackType.Dislike)),disabled:l.g.isSome(i),handler:()=>o(e,u.a.FeedbackType.Dislike)}}}}}(i=e.Item||(e.Item={})),function(e){let t;!function(e){e.Report="Report",e.ZeroState="ZeroState"}(t=e.Type||(e.Type={})),e.isReport=t=>t.type===e.Type.Report}(p=e.View||(e.View={})),function(e){e.fromModel=function(e,t,n){const a=e.reduce((e,t)=>e+o.b.unwrap(t.confidence),0),[r,...s]=e.map(e=>i.fromModel(e,t,a,n));return{type:p.Type.Report,primaryItem:r,secondaryItems:s,onPopupClose:c.e,onPopupOpen:c.e}}}(h||(h={})),function(e){e.create=function(e,t,n){return{visualState:r.a.combine(e.emotions,t.documentLength.view("trimmed").view(e=>e<120),(t,i)=>i||0===t.length?{type:p.Type.ZeroState,tooltipText:i?l.g.some(n.emogenie.popup.textIsTooShortMessage):l.g.none}:h.fromModel(t,e.sendEmotionFeedback,n))}}}(m=e.ViewModel||(e.ViewModel={})),e.getIntensityTitle=g}(i||(i={}))},wt7H:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe})),n.d(t,"b",(function(){return ye}));var i,a=n("D57K"),r=n("ERkP"),o=n("a5W6"),s=n("OA+g"),l=n("I7vG"),c=n("prnJ"),d=n("NaPV"),u=n("1w6p"),p=n("D6Vf"),h=n("rTXf"),m=n("xEVj"),g=n("zR/0");!function(e){let t;e.Modal=u.b.Node.make(({state:e,view:n,notify:i})=>{m.a.useSubscriptionTo(n("source").pipe(g.a.first(),g.a.tap(e=>i({kind:t.open,source:e})())));const a=e.pipe(g.a.map(e=>i({kind:t.close,source:e.source,context:e.context,showOnLoad:e.showOnLoad})));return r.createElement(p.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:a},r.createElement(h.a,{blocks:n("blocks"),features:n("features"),close:a,upgrade:i({kind:t.upgrade}),reset:i({kind:t.reset}),showOnLoad:n("showOnLoad"),showOnLoadChanged:e=>i({kind:t.showOnLoadChanged,value:e})()}))}),function(e){e.open="open",e.close="close",e.upgrade="upgrade",e.reset="reset",e.showOnLoadChanged="showOnLoadChanged"}(t=e.ActionsKind||(e.ActionsKind={}))}(i||(i={}));var f=n("4Gmt"),b=n("6fbX"),y=n("lrqh"),v=n("kllO"),k=n("LNSM"),w=n("rXcq");class S{constructor(e,t){this._modalOperations=e,this._telemetry=t,this.shouldCloseWindow=!0,this.isContinueWritingCtaDisabled=k.a.create(!1),this.onLearnPremiumClick=()=>{this._trackButtonClick("learnPremium"),this._modalOperations.onClose()},this.onContinueWritingClick=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){this.isContinueWritingCtaDisabled.set(!0),yield this._trackButtonClick("continueWriting"),window.close(),this._modalOperations.onClose()})),this.onCloseClick=()=>{this._trackButtonClick("closePopup"),this._modalOperations.onClose()},this.trackPopupShow=()=>{this._telemetry.gnarSpec.confirmUpgradePopupShow(this._telemetry.pageId)},this._trackButtonClick=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){return this._telemetry.gnarSpec.confirmUpgradePopupClick(e,this._telemetry.pageId)}))}get showCtas(){return Boolean(window.opener)}}class _{constructor(e,t,n,i,r){this._modalOperations=e,this._telemetry=t,this._environment=n,this._config=i,this._premiumDemoDocId=r,this.shouldCloseWindow=!1,this.isContinueWritingCtaDisabled=k.a.create(!1),this.onLearnPremiumClick=()=>{this._trackButtonClick("learnPremium"),this._environment.actions.openPopup(new w.a(`${this._config.onlineEditor.docId}${this._premiumDemoDocId}`)),this._modalOperations.onClose()},this.onContinueWritingClick=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){this._trackButtonClick("continueWriting"),this._modalOperations.onClose()})),this.onCloseClick=()=>{this._trackButtonClick("closePopup"),this._modalOperations.onClose()},this.trackPopupShow=()=>{this._telemetry.gnarSpec.confirmUpgradePopupShow(this._telemetry.pageId)},this._trackButtonClick=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){return this._telemetry.gnarSpec.confirmUpgradePopupClick(e,this._telemetry.pageId)}))}get showCtas(){return!!this._premiumDemoDocId}}var C=n("+ukg");class E{constructor(e,t,n,i){this._userAccount=e,this._config=t,this._environment=n,this._telemetry=i,this.dismiss=()=>{this._userAccount.settings.incrementDunningDismissCount()},this.updatePayment=()=>{this._telemetry.gnarSpec.inProductDunningNoticationUpdatePaymentInformationButtonClick(this._telemetry.pageId),this._environment.actions.openPopup(new w.a(this._config.account.subscription))}}get isBusinessAdmin(){return C.g.isBusinessAdmin(this._userAccount.features.denaliUserType)}}var O=n("xlCj"),A=n("94k3"),x=n("Uwwq"),T=n("aIes"),M=n("Fgeo");const j=x.a.Category.Id.create(A.a.MutedAlerts.SpecialCategory.InQuotes);class I{constructor(e,t,n,i){this._denaliSettings=e,this._categoriesModel=t,this._features=n,this._telemetry=i,this._preferencesModel=this._denaliSettings.editorPreferences,this._newPreferences=k.a.create(this._denaliSettings.editorPreferences.get()),this.trackOpened=()=>{this._telemetry.gnarSpec.preferencesPopupShow(this._telemetry.pageId)},this.trackSuggestionManagementClicked=()=>void this._telemetry.gnarSpec.deactivatedSuggestionsSuggestionManagementClick(this._telemetry.pageId,"editorSettings",this._telemetry.pageSessionId),this.update=()=>{const e=this._newPreferences.get(),t=this._categoriesModel.getMutedSpecialCategories().has(j),n=this.muteQuotedAlerts.get(),i=t!==n,a=!M.d.eq.equals(this._preferencesModel.get(),e)||i;e.suggestionsVisualMode!==this._preferencesModel.get().suggestionsVisualMode&&this._telemetry.gnarSpec.suggestionsVisualModeFeatureToggled(this._telemetry.pageId,e.suggestionsVisualMode,this._telemetry.pageSessionId),a&&(this._denaliSettings.updateEditorPreferences(e),this._telemetry.gnarSpec.preferencesFormSuccess(this.autoScrollToNextAlert.get(),e.fontSize,n,this._telemetry.pageId,e.suggestionsVisualMode)),i&&(t?(this._categoriesModel.unmuteCategories([j]),this._telemetry.gnarSpec.muteQuotedAlertsFeatureToggled(this._telemetry.pageId,"unmuted",this._telemetry.pageSessionId)):(this._categoriesModel.muteCategories([j]),this._telemetry.gnarSpec.muteQuotedAlertsFeatureToggled(this._telemetry.pageId,"muted",this._telemetry.pageSessionId)))},this.autoScrollToNextAlert=this._newPreferences.lens("autoScrollToNextAlert").lens(T.b.O.unwrap(!this._features.autoJumpSettings.isDisabledByDefault)),this.mpte=Object(s.pipe)(this._features.enableMPTE,y.g.fold(()=>y.g.none,e=>e.settingVisible?Object(s.pipe)(y.g.some(e.enabled),y.g.map(T.b.O.unwrap),y.g.map(e=>this._newPreferences.lens("mpte").lens(e))):y.g.none)),this.fontSize=this._newPreferences.lens(O.a.create(e=>e.fontSize===M.e.Large,(e,t)=>Object.assign(Object.assign({},t),{fontSize:e?M.e.Large:M.e.Normal}))),this.suggestionsVisualMode=this._newPreferences.lens(O.a.create(e=>e.suggestionsVisualMode===M.l.Accessible,(e,t)=>Object.assign(Object.assign({},t),{suggestionsVisualMode:e?M.l.Accessible:M.l.Default}))),this.muteQuotedAlerts=k.a.create(this._categoriesModel.getMutedSpecialCategories().has(j))}}var R=n("8z+V"),N=n("gy42"),L=n("BoSw"),P=n("PrA7");class D{constructor(e,t,n,i){this.reportViewModel=e,this._documentModel=t,this._notificationsManager=n,this._modalOperations=i,this.state=g.a.defer(()=>N.b.promiseToStream(()=>this._documentModel.calculateStats())).pipe(g.a.combineLatest(this._documentModel.checkingState,(e,t)=>Object(l.pipe)(e,y.g.filter(()=>"idle"===t))),g.a.switchMap(y.g.fold(()=>g.a.of({type:L.a.State.Type.LOADING}).pipe(g.a.delay(150)),y.b.fold(e=>(P.Monitoring.Logging.getLogger("editor.toolbar").error("Error on requesting document stats",e),this._notificationsManager.enqueue("statisticsError").pipe(g.a.mapTo({type:L.a.State.Type.ERROR}),g.a.finalize(()=>this.onModalClose()))),e=>k.a.combine(this._documentModel.score,this._documentModel.counters,this._documentModel.documentLength.view("trimmed"),(t,n,i)=>Object(l.pipe)(t,y.g.fold(()=>({type:L.a.State.Type.SHORT_CONTENT}),t=>({type:L.a.State.Type.READY,documentIsEmpty:0===i,score:t,counters:n,stats:e}))))))),g.a.startWith({type:L.a.State.Type.EMPTY}),g.a.publishReplay(1),g.a.refCount()),this.onModalClose=()=>{this._modalOperations.onClose()}}}var F=n("eZux"),B=n("hoSD"),H=n("USP3");var V=n("lqtc"),U=n("XBrO");const q=({changePlanViewModel:e})=>r.createElement(p.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:e.close},r.createElement(U.a,{changePlanViewModel:e}));var W=n("n+Au"),$=n("bO3R"),z=n("wsrD"),G=n("BugA"),K=n("rmLU"),Y=n("JMYL");const X=()=>{const e=r.useContext(p.a.TitleIdContext);return r.createElement(G.c,{id:e},"Send Product Feedback")},Z=({feedbackViewModel:e,modalOperations:t})=>{const n=r.useContext(K.a.Context),i=k.a.create(!0);return r.useEffect(()=>{e.modalShown.next();const n=i.pipe(g.a.first(e=>!1===e)).subscribe(t.onClose);return()=>n.unsubscribe()},[e.modalShown,i,t.onClose]),r.createElement(p.b,{positionType:"fixed",visible:i,preventClose:!0,animate:!0},r.createElement(p.a,{className:Y.wrapper},r.createElement(p.a.Header,null,r.createElement(X,null)),r.createElement(p.a.Body,{className:Y.feedbackPopupBody,name:"feedbackBody"},r.createElement(G.i,{className:Y.description},"Tell us what you think. We promise to act on your feedback to make Grammarly even more awesome."),r.createElement(z.a,{autofocus:!0,value:e.currentText.lens("brief"),placeholder:"Brief description",className:Y.briefDescriptionInput}),r.createElement(z.d,{placeholder:"Type your feedback",className:Y.feedbackInput,value:e.currentText.lens("detailed")}),r.createElement(G.a,null,"If you have a support or billing-related request, please go to"," ",r.createElement("a",{href:n.support.mainPage,target:"_blank",className:Y.helpdesk},"Grammarly Helpdesk"))),r.createElement(p.a.Footer,{className:Y.feedbackPopupFooter},r.createElement($.a.Ghost,{name:"cancel",onClick:()=>i.set(!1)},"Cancel"),r.createElement($.a.Primary,{name:"send",disabled:e.currentText.view(e=>""===e.brief||""===e.detailed),onClick:()=>(i.set(!1),e.sendFeedback())},"Send"))))};var Q=n("rk+4"),J=n("3rlE"),ee=n("e12y"),te=n("ax6a"),ne=n("cQVk");const ie=e=>r.createElement(p.c,{positionType:"fixed",animate:!0,onClose:e.modalOperations.onClose},r.createElement(re,{preferencesViewModel:e.preferencesViewModel,close:e.modalOperations.onClose})),ae=()=>{const e=r.useContext(Q.a.Context),t=r.useContext(p.a.TitleIdContext);return r.createElement(G.c,{id:t},e.editorSettingsModalHeader)},re=({preferencesViewModel:e,close:t})=>{const n=r.useContext(Q.a.Context);return m.a.useEffectOnDidMount(e.trackOpened),m.a.useEffectOnWillUnmount(e.update),r.createElement(p.a,{className:me.popupWrapper},r.createElement(p.a.Header,{className:me.popupHeader},r.createElement(ae,null)),r.createElement(p.a.Body,{name:"preferencesBody",className:me.popupBody},r.createElement(de,{value:e.autoScrollToNextAlert,id:"autoScrollSwitcher",title:n.preferences.autoJumpToNextAlert,description:n.preferences.autoJumpToNextAlertDescription}),Object(s.pipe)(e.mpte,y.g.map(e=>{const t=window.ddebug,n=Boolean(t.mpte),i=t.engine.sessionModel.id;return r.createElement(de,{value:e,id:"mpteSwitcher",title:"Use new Editor engine (MPTE)",className:me.selectableLabel,description:`\n              NOTE: this setting will apply only after page reload.\n              (only for Grammarly users)\n\n              New engine can be unstable and contains bugs with marks, suggestions, synonyms, formatting, etc (every aspect of managing text).\n              If you noticed any perf degradations or bugs, please, report to slack channel #mpte-support with this debug code:\n              ${n?"MPTEENABLED-"+i:"MPTEDISABLED-"+i}.\n\n              You can ${e.get()?"opt-out":"opt-in"} ${e.get()?"from":"to"} this experiment, for now.\n              Click toggle, click on done button in modal and reload the page.`.trim()})}),y.g.toNullable),r.createElement(de,{value:e.muteQuotedAlerts,id:"muteCitedAlerts",title:n.preferences.muteQuotedAlerts}),r.createElement(de,{value:e.fontSize,id:"fontSizeIncreasedSwitcher",title:n.preferences.increaseFontSize}),r.createElement(de,{value:e.suggestionsVisualMode,id:"suggestionsVisualModeSwitcher",title:n.preferences.suggestionsVisualMode.title,description:n.preferences.suggestionsVisualMode.description}),r.createElement(ce,{onClick:e.trackSuggestionManagementClicked})),r.createElement(p.a.Footer,null,r.createElement($.a.Primary,{name:"pref-done-btn",className:me.doneButton,onClick:t},n.done)))},oe=({children:e})=>r.createElement(G.l,{className:me.description},e),se=({children:e})=>r.createElement("div",{className:me.bodySection},e),le=e=>{const t=r.useContext(K.a.Context),n=r.useContext(Q.a.Context).preferences;return r.createElement($.a,{name:"manage-suggestions",href:t.account.suggestions,target:"_blank",onClick:e.onClick,className:me.manageSuggestions},n.suggestionManagementLink,r.createElement(J.d.OuterLink,{className:me.manageSuggestionsIcon}))},ce=e=>{const t=r.useContext(Q.a.Context).preferences;return r.createElement(se,null,r.createElement(le,{onClick:e.onClick}),r.createElement(oe,null,t.suggestionManagementDescription))},de=({value:e,id:t,title:n,description:i,className:a})=>r.createElement(se,null,r.createElement("label",{className:B.c.classes(me.setting,a)},r.createElement("div",null,r.createElement(G.a,null,n),Boolean(i)?r.createElement(oe,null,i):null),r.createElement(ne.a,{checked:e,className:me.toggle,id:t}))),ue=ee.a.rem(2),pe=ee.a.rem(1),he=te.a.CoreBlue50,me=ee.a.prefixedStylesheet("preferencePopup",{popupWrapper:[{display:"flex",flexDirection:"column",width:ee.a.rem(27),userSelect:"none"}],popupHeader:[{padding:`${ee.a.rem(3)} ${ue} ${pe}`,backgroundColor:te.a.CoreNeutral0}],popupBody:[{padding:`0 ${ue}`}],doneButton:[{padding:ee.a.important(`0 ${pe}`)}],bodySection:[{padding:`${pe} 0`,borderTop:`1px solid ${te.a.CoreNeutral20}`,alignItems:"center"}],description:[{color:te.a.CoreNeutral50,marginTop:ee.a.rem(.5),whiteSpace:"pre-line"}],selectableLabel:[{userSelect:"text",cursor:"text"}],setting:[{display:"flex",cursor:"pointer",justifyContent:"space-between"}],toggle:[{marginLeft:ee.a.rem(1.75)}],manageSuggestions:[{display:"flex",alignItems:"center",color:he,fontSize:ee.a.rem(te.h.BodySize),fontWeight:te.h.BodyWeight,lineHeight:ee.a.rem(2),marginTop:ee.a.rem(-.3125)}],manageSuggestionsIcon:[{stroke:"currentColor"}]});var ge,fe,be;!function(e){e.Tour="Tour",e.WhatsNew="WhatsNew",e.Proofit="Proofit",e.Preferences="Preferences",e.Feedback="Feedback",e.ChangePlan="ChangePlan",e.Dunning="Dunning",e.ConfirmUpgrade="ConfirmUpgrade",e.SignOut="SignOut"}(ge||(ge={})),(be=fe||(fe={})).tour={type:ge.Tour},be.news={type:ge.WhatsNew},be.feedback={type:ge.Feedback},be.dunning={type:ge.Dunning},be.preferences={type:ge.Preferences},be.confirmUpgrade={type:ge.ConfirmUpgrade},be.changePlan=e=>({type:ge.ChangePlan,model:e}),be.setGoals=d.c.setGoals,be.performance=d.c.performance,be.signOut={type:ge.SignOut};class ye{constructor(e,t,n,i,a,r,o,s,l,c,d,u,p,h){this._userAccount=e,this._textResources=t,this._documentContext=n,this._upgradeViewModel=i,this._config=a,this._environment=r,this._feedbackViewModel=o,this._notificationsManager=s,this._documentModel=l,this._reportViewModel=c,this._telemetry=d,this._categoriesModel=u,this._router=p,this._logout=h}load(e){switch(e.type){case ge.ChangePlan:return this._loadChangePlanModal(e.model);case ge.Tour:return this._loadTour();case ge.WhatsNew:return this._loadWhatsNew();case ge.Preferences:return this._loadPreferences();case ge.Feedback:return this._loadFeedback();case ge.Dunning:return this._loadDunning();case ge.ConfirmUpgrade:return this._loadConfirmUpgrade();case d.d.SetGoals:return this._loadSetGoals(e.source);case d.d.Performance:return this._loadPerformance();case ge.Proofit:throw new Error(`Failed to load ${e} modal`);case ge.SignOut:return this._loadSignOut();default:return Object(b.d)(e)}}_loadTour(){return(new Image).src=n("cppq"),Promise.all([n.e(0),n.e(2),n.e(24)]).then(n.bind(null,"w2B9")).then(({TourModal:e,getSteps:t})=>n=>{const i=new V.b(y.g.unsafeGet(this._userAccount.features.denali.tour),t(this._textResources),this._userAccount.settings,n);return{instance:{type:ge.Tour},component:r.createElement(e,{tourViewModel:i})}})}_loadWhatsNew(){return Promise.all([n.e(23).then(n.bind(null,"b9Qk")).then(({newsMedia:e,initStaticNewsData:t,ordNews:n})=>{const i=Object.values(t(this._textResources)).map(t=>({id:t.id,date:t.date,content:Object.assign({title:t.title,body:t.body},e[t.id])})),a=o.sort(n)(Object.values(i).filter(e=>this._userAccount.features.denali.newsConfig[e.id].visible()));return a.forEach(e=>{(new Image).src=R.a.Content.isVideo(e.content)?e.content.poster:e.content.image}),a}),Promise.all([n.e(0),n.e(137)]).then(n.bind(null,"CqKJ"))]).then(([e,{WhatsNewPopup:t}])=>n=>({instance:{type:ge.WhatsNew},component:r.createElement(t,{newsVM:new R.b(this._userAccount.settings),content:e,modalOperations:n})}))}_loadSetGoals(e){return Promise.resolve(t=>{const n=function(e,t,n,a,r,o,d){const p={demoMode:e.features.demoMode,isFree:e.features.isFree.get(),isStudentsOFE:e.features.denali.isStudentsOFE},h=Object(l.pipe)(t.defaultContext.get(),y.g.fold(()=>(P.Monitoring.Logging.getLogger("createSetGoalsFlow").warn("Default context not yet set, using fallback",d),d),s.identity)),m=F.a.create(t.context.get(),h,p,e.settings.enableSetGoalsLoader.get()),g=k.a.combine(m.showSetGoalsLoader,m.localContext,(e,t)=>({blocks:m.blocks,context:t,showOnLoad:e,features:p,source:o}));return u.a.fromSideEffect(d=>{switch(d.kind){case i.ActionsKind.open:a.gnarSpec.goalsPopupShow(a.pageId,d.source);break;case i.ActionsKind.upgrade:a.gnarSpec.getPremiumButtonClick(a.pageId,"goPremium","setGoalsPopup"),n.openUpgradeUrl(H.a.Place.DenaliDocument.editorDenaliGoals);break;case i.ActionsKind.close:r.onClose();const u=()=>y.g.contains("academic")(d.context.domain)&&p.isStudentsOFE,g=u()&&y.g.isNone(d.context.outcomeContext)?Object.assign(Object.assign({},d.context),{outcomeContext:y.g.some(c.a.OutcomeContext.defaultAcademic)}):d.context;t.updateContext(g)&&a.gnarSpec.goalsFormSuccess(Object(l.pipe)(g.domain,y.g.getOrElse(()=>h.domain)),Object(l.pipe)(g.goals,y.g.map(e=>u()?[]:e),y.g.getOrElse(()=>h.goals),e=>Array.from(e)),a.pageId,o,Object(l.pipe)(g.outcomeContext,y.g.filter(u),y.g.map(B.e.pick("type")),y.g.toUndefined),Object(l.pipe)(g.audience,y.g.filter(Object(s.not)(u)),y.g.toUndefined),Object(l.pipe)(g.outcomeContext,y.g.filter(u),y.g.map(B.e.pick("citation")),y.g.toUndefined),Object(l.pipe)(g.style,y.g.filter(Object(s.not)(u)),y.g.toUndefined)),e.settings.enableSetGoalsLoader.get()!==d.showOnLoad&&(e.settings.updateSetGoalsLoader(d.showOnLoad),a.gnarSpec.showGoalsNewDocumentFormSuccess(d.showOnLoad,a.pageId,o));break;case i.ActionsKind.reset:m.localContext.set(c.a.unset);break;case i.ActionsKind.showOnLoadChanged:m.showSetGoalsLoader.set(d.value);break;default:Object(b.d)(d)}},g)}(this._userAccount,this._documentContext,this._upgradeViewModel,this._telemetry,t,e,c.a.defaultContextFallback);return{instance:{type:d.d.SetGoals,source:e},component:u.b.mount(i.Modal,n)}})}_loadPreferences(){const e=new I(this._userAccount.settings,this._categoriesModel,this._userAccount.features.denali,this._telemetry);return Promise.resolve(t=>({instance:{type:ge.Preferences},component:r.createElement(ie,{preferencesViewModel:e,modalOperations:t})}))}_loadFeedback(){return Promise.resolve(e=>({instance:{type:ge.Feedback},component:r.createElement(Z,{feedbackViewModel:this._feedbackViewModel,modalOperations:e})}))}_loadSignOut(){return n.e(26).then(n.bind(null,"uBz+")).then(({SignOutPopup:e})=>t=>{const n=e.Flow(t,this._telemetry,this._userAccount.settings,this._userAccount.features,this._logout);return{instance:{type:ge.SignOut},component:u.b.mount(e.View,n)}})}_loadDunning(){return Promise.all([n.e(0),n.e(136)]).then(n.bind(null,"Edy/")).then(({DunningPopup:e})=>t=>{const n=new E(this._userAccount,this._config,this._environment,this._telemetry);return{instance:{type:ge.Dunning},component:r.createElement(e,{dunningViewModel:n,modalOperations:t})}})}_loadConfirmUpgrade(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{ConfirmUpgradeModal:e}=yield n.e(135).then(n.bind(null,"mrj1"));return t=>{const n=Object(l.pipe)(this._router.query.get("premiumDemoDocId"),y.g.filter(e=>""!==e&&e!==this._documentModel.id),y.g.map(e=>new _(t,this._telemetry,this._environment,this._config,e)),y.g.getOrElse(Object(s.constant)(new S(t,this._telemetry))));return{instance:{type:ge.ConfirmUpgrade},component:r.createElement(e,{model:n})}}}))}_loadPerformance(){return Promise.resolve(e=>{const t=new D(this._reportViewModel,this._documentModel,this._notificationsManager,e),n=u.b.Knot.make(f.a.ModalView,{downloadButton:u.b.Node.make(()=>r.createElement(W.b,{reportViewModel:t.reportViewModel,state:t.state}))}),i=u.a.fromSideEffect(t=>{switch(t.action.kind){case f.a.ActionsKind.close:e.onClose();break;default:Object(b.d)(t.action.kind)}},t.state.pipe(g.a.map(e=>({root:e}))));return{instance:{type:d.d.Performance},component:u.b.mount(n,i)}})}_loadChangePlanModal(e){return Promise.resolve(t=>{const n=new v.a(e,t,this._notificationsManager,this._telemetry);return{instance:{type:ge.ChangePlan,model:e},component:r.createElement(q,{changePlanViewModel:n})}})}}},x98X:function(e,t,n){e.exports=n.p+"files/db93eceba2b0e3ad6331500e393c0ec8/ring-48.png"},xGXC:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("ERkP"),a=n("BugA"),r=n("hoSD"),o=n("e12y");const s={position:"absolute",width:o.a.percent(100),$nest:{"&:last-child:after":{position:"absolute",top:o.a.rem(3),width:o.a.percent(100),height:o.a.rem(3),content:"''",pointerEvents:"none"}}},l={transition:`transform ${o.a.seconds(.3)}`},c=o.a.stylesheet({flowPosition:[s],flowPositionAnimate:[l]}),d=e=>{const{offset:t}=e,{flowPosition:n,flowPositionAnimate:a}=e.theme||c;return i.createElement("div",{style:{transform:`translate3d(0, ${t}, 0)`},className:`${n} ${a}`},e.children)};var u=n("KvFL"),p=n("47ib");const h=["Conjunctions","Determiners","Fluency","Modifiers","Nouns","Numerals","Prepositions","Pronouns","Punctuation","Syntax","Spelling","Verbs","Word Order","Conciseness","References","Voice","Formality","Sensitivity","Variety","Vocabulary","Conventions"].map(e=>({id:e,title:e})),m=e=>i.createElement("span",null,i.createElement("span",{className:u.dotOptimized},"."),i.createElement("span",{className:u.dotOptimized},"."),i.createElement("span",{className:u.dotOptimized,onAnimationEnd:e.onTransitionEnd},".")),g=()=>{const[e,t]=i.useState(()=>r.a.shuffle(h)),n=i.useCallback(()=>{t(e=>{const t=e.slice(0),n=t.shift();return n&&t.push(n),t})},[]);return i.createElement("div",{className:u.wrapper},i.createElement("div",{className:u.checkingWrapper},e.slice(0,8).map(({id:e,title:t},r)=>i.createElement(d,{key:e,offset:`${100*r}%`,theme:p},i.createElement(a.a,{className:u.item},t,5===r&&i.createElement(m,{onTransitionEnd:n}))))))}},xN5S:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("6fbX");!function(e){class t extends a.a{}e.IncorrectTextLenError=t;class n extends a.a{}e.SelectionOutOfBoundError=n;class i extends a.a{constructor(e,t){super(e),this.stateDiff=t}}e.StateDiffRebaseError=i}(i||(i={}))},xdtP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ERkP"),a=n("FpF0");const r={MLA:"https://owl.purdue.edu/owl/research_and_citation/mla_style/mla_formatting_and_style_guide/mla_works_cited_electronic_sources.html",APA:"https://owl.purdue.edu/owl/research_and_citation/apa_style/apa_formatting_and_style_guide/reference_list_electronic_sources.html",Chicago:"https://owl.purdue.edu/owl/research_and_citation/chicago_manual_17th_edition/cmos_formatting_and_style_guide/web_sources.html"},o=e=>({type:t})=>i.createElement(a.a,{href:r[t],className:e},t)},xwB0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("OA+g"),r=n("aVfF"),o=n("GGUR"),s=n("zR/0"),l=n("gy42"),c=n("6fbX"),d=n("lrqh"),u=n("D9EC"),p=n("PrA7"),h=n("P3VO"),m=n("TRam"),g=n("QLdX");!function(e){class t extends c.a{}let n,i;e.TransportConnectionError=t,function(e){const n=[r.limitRetries(5),r.constantDelay(100)];e.createConnection=e=>h.a.create(e,m.a.TextView.is),e.connect=(e=n)=>n=>{const i=new Set,r=p.Monitoring.Logging.getLogger("MPTE.Transport.ChecksBackend",p.Logging.LogLevel.TRACE,p.Logging.LogColor.Manager.getColor("MPTE.TransportManager"));return r.isEnabled(p.Logging.LogLevel.DEBUG)&&(n.outgoingMessages.subscribe(e=>{r.debug("CHECKSBACKEND --\x3e TEXTVIEW",m.a.toShortString(e))}),n.incomingMessages.subscribe(e=>{r.debug("TEXTVIEW --\x3e CHECKSBACKEND",m.a.toShortString(e))})),Object(a.pipe)(s.c.fromTaskEither(d.l.tryCatch(()=>{const e=n.incomingMessages.pipe(s.a.filter(m.a.TextView.Pong.is),s.a.first(),s.a.takeUntil(s.a.timer(3e3)),s.a.throwIfEmpty(()=>"no ACK message in 3 seconds"),s.a.switchMap(e=>i.has(e.id)?s.a.of(l.b.voidValue):s.a.throwError(new Error(`pong uuid is not correct: ChecksBackend didn't send Ping with such id: ${e.id}`))),s.a.tap(()=>n.isReady.set(!0))).toPromise(),t=g.generateUUID();return i.add(t),n.outgoingMessages.next(m.a.ChecksBackend.Ping.create(t)),e},e=>new t(e)),e,e=>e instanceof t),s.d.splitBy("type"),s.d.match({[d.k.Type.InProgress]:Object(a.flow)(s.a.tap(()=>r.info("Connection with TextView is being established...")),s.a.switchMapTo(s.a.EMPTY)),[d.k.Type.Error]:Object(a.flow)(s.a.tap(e=>r.warn("TextView is still loading (error was encountered)..",e)),s.a.switchMapTo(s.a.EMPTY)),[d.k.Type.Success]:Object(a.flow)(s.a.tap(e=>r.info("connection with TextView established",e)),s.a.mapTo(d.b.right(l.b.voidValue))),[d.k.Type.Fatal]:Object(a.flow)(s.a.tap(e=>r.fatal("Connection with TextView failed",e)),s.a.map(d.b.left))}))}}(n=e.ChecksBackend||(e.ChecksBackend={})),function(e){const t=Object(u.p)(m.a.ChecksBackend.StateDiff.is,m.a.ChecksBackend.Ack.is,m.a.ChecksBackend.Start.is,m.a.ChecksBackend.Command.is);e.createConnection=e=>h.a.create(e,m.a.ChecksBackend.is),e.connect=e=>n=>{const i=p.Monitoring.Logging.getLogger("MPTE.Transport.TextView",p.Logging.LogLevel.TRACE,p.Logging.LogColor.Manager.getColor("MPTE.TransportManager")),r=Object(a.pipe)(s.c.fromTaskEither(Object(a.pipe)(d.l.tryCatch(()=>n.incomingMessages.pipe(s.a.filter(m.a.ChecksBackend.Ping.is),s.a.tap(e=>n.outgoingMessages.next(m.a.TextView.Pong.create(e.id))),s.a.mapTo(l.b.voidValue),s.a.first()).toPromise(),()=>new Error("Failed to establish connection with ChecksBackend")),d.l.map(()=>[e.events.subscribe(n.outgoingMessages),n.incomingMessages.pipe(s.a.filter(t)).subscribe(t=>e.pushCommand(t))])),[],a.constFalse),s.d.splitBy("type"),s.d.match({[d.k.Type.InProgress]:Object(a.flow)(s.a.tap(()=>i.info("Waiting for Ping from ChecksBackend...")),s.a.switchMapTo(s.a.EMPTY)),[d.k.Type.Error]:Object(a.flow)(s.a.tap(e=>i.fatal("Connection with ChecksBackend failed",e)),s.a.map(d.b.left)),[d.k.Type.Success]:Object(a.flow)(s.a.tap(()=>i.info("connection to ChecksBackend established")),s.a.map(e=>d.b.right(e.value))),[d.k.Type.Fatal]:Object(a.flow)(s.a.tap(e=>i.fatal("Connection to ChecksBackend failed",e)),s.a.map(d.b.left))}));return new s.a.Observable(e=>{const t=new o.a.Keeper;return t.push(r.pipe(s.a.map(d.b.map(e=>{t.push(...e)})),s.a.tap(t=>e.next(t))).subscribe()),()=>{t.dispose()}})}}(i=e.TextView||(e.TextView={}))}(i||(i={}))},yB2L:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("ERkP"),r=n("vOOZ"),o=n("9NHN"),s=n("zR/0"),l=n("gy42"),c=n("hoSD"),d=n("ax6a"),u=n("zI3C"),p=n("3rlE"),h=n("jAl6"),m=n("e12y"),g=n("SD38"),f=n("CXK/"),b=n("viRF");!function(e){const t=10,n=100,i=1e3;function d(e){return 0===e?"":e>=i?`${Math.min(Math.trunc(e/i),9)}k+`:String(e)}const m=({className:e,isChecking:t,type:n,animateFade:i=!0})=>{const{state:l,complete:c}=f.a.fadeOutState(t);return a.createElement(r.a.div,Object.assign({},Object(o.c)(V.loader,e)),i?l.pipe(s.a.map(e=>"end"===e?a.createElement("div",{key:"checking-complete",className:"checking-complete"}):a.createElement(h.a,{key:"spinner",variation:n,size:"100%",className:"fadeOut"===e?V.fadeOut:void 0,onTransitionEnd:c}))):t.pipe(s.a.map(e=>e?a.createElement(h.a,{variation:n,size:"100%"}):a.createElement("div",{className:"checking-complete"}))))},g=({name:e,theme:t={},count:i,type:s="white",suffix:p=""})=>{const m=a.useContext(u.a.Context);return a.createElement(r.a.div,Object.assign({},Object(o.c)(V.roundCounter,l.b.mapMaybeObservable(s,h.a.getClassName(V)),t.counterWrapper),{"data-role":"counter"}),a.createElement("svg",{viewBox:"0 0 32 32",className:V.circular},a.createElement("g",null,a.createElement("circle",{r:"15.75",cx:"16",cy:"16"}),a.createElement("text",Object.assign({x:"16",y:"17"},c.c.svgVerticalAlignment(m.has(u.a.Flag.supportsSVGDominantBaseline)),{fontSize:i>=n?14:18,"data-name":e},Object(o.c)(C,t.counterContent)),d(i),p))))},y=({name:e,theme:t={},count:n,type:i="white",suffix:s=""})=>{const p=a.useContext(u.a.Context);return a.createElement(r.a.div,Object.assign({},Object(o.c)(V.ovalCounter,l.b.mapMaybeObservable(i,h.a.getClassName(V)),t.counterWrapper),{"data-role":"counter"}),a.createElement("svg",{viewBox:"0 0 32 20",className:V.circular},a.createElement("rect",{width:"32",height:"20",rx:"10"}),a.createElement("text",Object.assign({x:"16",y:"10.5"},c.c.svgVerticalAlignment(p.has(u.a.Flag.supportsSVGDominantBaseline)),{fontSize:11,"data-name":e},Object(o.c)(C,t.counterContent)),d(n),s)))};e.Counter=({theme:e={},count:t,type:i="white"})=>{const r=t>=n?y:g;return a.createElement(r,{theme:Object.assign(Object.assign({},e),{counterWrapper:Object(o.c)(e.counterWrapper,V.flexCounter).className}),count:t,type:i})},e.OutcomeCounter=({name:e,theme:i={},count:s,type:p="white",suffix:m,fontSize:g=12})=>{const f=a.useContext(u.a.Context);return a.createElement(r.a.div,Object.assign({},Object(o.c)(V.outcomeCounter,l.b.mapMaybeObservable(p,h.a.getClassName(V)),i.counterWrapper),{"data-role":"counter"}),a.createElement("svg",{viewBox:"0 0 32 18",className:V.circular},a.createElement("rect",Object.assign({},function(e,i){return i||e>=n?{width:32}:e>=t?{x:4,width:24}:{x:7,width:18}}(s,Boolean(m)),{height:18,rx:9})),a.createElement("text",Object.assign({x:"50%",y:"10px"},c.c.svgVerticalAlignment(f.has(u.a.Flag.supportsSVGDominantBaseline)),{fontSize:g,"data-name":e},Object(o.c)(C,i.counterContent)),d(s),m)))},e.MainMeter=({count:e,isChecking:t,className:n})=>{const i=0===e;return a.createElement("div",Object.assign({},Object(o.c)(V.meter,n)),a.createElement(m,{isChecking:t,type:i?"green":"red"}),0===e?a.createElement(p.d.Grammarly,null):a.createElement(g,{count:e,type:"red",name:"toolbar-mistakes"}))},e.LensNavMeter=({count:e,isChecking:t})=>a.createElement("div",{className:V.lensNavMeter},a.createElement(m,{isChecking:t,type:"red"}),a.createElement(g,{count:e,type:"white",name:"toolbar-mistakes"})),e.PlagiarismMeter=({count:e,isChecking:t,className:n})=>a.createElement("div",Object.assign({},Object(o.c)(V.plagiarismMeter,n)),a.createElement(m,{isChecking:t,type:"violet",animateFade:!1}),a.createElement(r.a.div,{className:V.wrapper},e.pipe(s.a.combineLatest(t),s.a.map(([e,t])=>0===e?a.createElement(p.d.NotificationInfo,{className:V.plagiarismIcon,key:"icon",width:20}):!t&&a.createElement(y,{count:e,type:"violet",key:"value",suffix:a.createElement("tspan",{fontSize:8,dominantBaseline:"center"},"%")})),s.a.startWith(null)))),e.PlagiarismOutcomesMeter=({count:t,isChecking:n,className:i})=>a.createElement("div",Object.assign({},Object(o.c)(V.plagiarismMeter,i)),a.createElement(m,{isChecking:n,type:"cyan",animateFade:!1}),a.createElement(r.a.div,{className:V.wrapper},t.pipe(s.a.combineLatest(n),s.a.map(([t,n])=>b.a.isMin(t)?a.createElement(p.d.CheckmarkOutcomes,{className:V.plagiarismOutcomeIcon,key:"icon",width:20}):!n&&a.createElement(e.OutcomeCounter,{count:b.a.prism.reverseGet(t),type:"cyan",key:"value",suffix:a.createElement("tspan",{fontSize:11},"%")})),s.a.startWith(null))))}(i||(i={}));const y={position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"visible",margin:"auto",width:m.a.percent(100),height:m.a.percent(100)},v={position:"absolute",width:m.a.percent(150),height:m.a.percent(150),transform:"translate(-17%, -17%)"},k={position:"relative",display:"inline-flex"},w={width:m.a.percent(100),height:m.a.percent(100)},S={minWidth:m.a.rem(2),width:m.a.percent(100),height:m.a.rem(1.25)},_={maxWidth:m.a.rem(2),height:m.a.rem(1.25)},C=m.a.joinClasses(["counterText",m.a.style({fontWeight:"bold",textAnchor:"middle",fill:d.a.CoreNeutral0})]),E={fill:g.ui150,$nest:{"& .counterText":{fill:g.ui500}}},O={fill:d.a.CoreRed50,$nest:{"& .counterText":{fill:d.a.CoreNeutral0}}},A={fill:d.a.CoreGreen50,$nest:{"& .counterText":{fill:d.a.CoreNeutral0}}},x={fill:d.a.CoreBlue50,$nest:{"& .counterText":{fill:d.a.CoreNeutral0}}},T={fill:"transparent",$nest:{"& .counterText":{fill:g.ui500}}},M={fill:g.purple500,$nest:{"& .counterText":{fill:d.a.CoreNeutral0}}},j={fill:g.yellow600,$nest:{"& .counterText":{fill:d.a.CoreNeutral0}}},I={fill:d.a.CoreYellow20,$nest:{"& .counterText":{fill:d.a.CoreYellow80}}},R={fill:d.a.CoreYellow60,$nest:{"& .counterText":{fill:d.a.CoreNeutral0}}},N={fill:d.a.CoreCyan50,$nest:{"& .counterText":{fill:d.a.CoreNeutral0}}},L={width:m.a.rem(1.5),height:m.a.rem(1.5)},P={margin:`0 ${m.a.rem(.25)}`},D={width:m.a.rem(2),height:m.a.rem(1.25)},F={margin:`${m.a.rem(-1)} 0`},B={$nest:{"&:not([data-disabled='true'])[data-active='true'], &:not([data-disabled='true'])[data-hovered='true']":{fill:d.a.CoreCyan50}}},H={width:m.a.rem(2),height:m.a.rem(1.125),position:"relative"},V=m.a.stylesheet({fadeOut:[{opacity:0,transition:"opacity .5s linear"}],circular:[y],loader:[v],wrapper:[k],roundCounter:[k,w],ovalCounter:[k,S],flexCounter:[k,_],gray:[E],red:[O],green:[A],blue:[x],white:[T],violet:[M],yellow:[j],yellowPremium:[I],orange:[R],cyan:[N],meter:[k,L],lensNavMeter:[k,L,P],plagiarismMeter:[k,D],plagiarismIcon:[F],plagiarismOutcomeIcon:[F,B],outcomeCounter:[k,{position:"absolute",left:0},H]})},yNQd:function(e,t){window.MutationObserver=window.MutationObserver||function(e){function t(e){this.i=[],this.m=e}function n(t){var n,i={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(n in t)i[n]!==e&&t[n]!==e&&(i[n]=t[n]);return i}function i(t,i){var s=r(t,i);return function(c){var d,u=c.length;i.a&&3===t.nodeType&&t.nodeValue!==s.a&&c.push(new n({type:"characterData",target:t,oldValue:s.a})),i.b&&s.b&&a(c,t,s.b,i.f),(i.c||i.g)&&(d=function(t,i,r,s){function c(e,i,r,o,l){var c,u,p,h=e.length-1;for(l=-~((h-l)/2);p=e.pop();)c=r[p.j],u=o[p.l],s.c&&l&&Math.abs(p.j-p.l)>=h&&(t.push(n({type:"childList",target:i,addedNodes:[c],removedNodes:[c],nextSibling:c.nextSibling,previousSibling:c.previousSibling})),l--),s.b&&u.b&&a(t,c,u.b,s.f),s.a&&3===c.nodeType&&c.nodeValue!==u.a&&t.push(n({type:"characterData",target:c,oldValue:u.a})),s.g&&d(c,u)}function d(i,r){for(var p,h,m,g,f,b=i.childNodes,y=r.c,v=b.length,k=y?y.length:0,w=0,S=0,_=0;S<v||_<k;)(g=b[S])===(f=(m=y[_])&&m.node)?(s.b&&m.b&&a(t,g,m.b,s.f),s.a&&m.a!==e&&g.nodeValue!==m.a&&t.push(n({type:"characterData",target:g,oldValue:m.a})),h&&c(h,i,b,y,w),s.g&&(g.childNodes.length||m.c&&m.c.length)&&d(g,m),S++,_++):(u=!0,p||(p={},h=[]),g&&(p[m=o(g)]||(p[m]=!0,-1===(m=l(y,g,_,"node"))?s.c&&(t.push(n({type:"childList",target:i,addedNodes:[g],nextSibling:g.nextSibling,previousSibling:g.previousSibling})),w++):h.push({j:S,l:m})),S++),f&&f!==b[S]&&(p[m=o(f)]||(p[m]=!0,-1===(m=l(b,f,S))?s.c&&(t.push(n({type:"childList",target:r.node,removedNodes:[f],nextSibling:y[_+1],previousSibling:y[_-1]})),w--):h.push({j:m,l:_})),_++));h&&c(h,i,b,y,w)}var u;return d(i,r),u}(c,t,s,i)),(d||c.length!==u)&&(s=r(t,i))}}function a(t,i,a,r){for(var o,s,l={},c=i.attributes,u=c.length;u--;)s=(o=c[u]).name,r&&r[s]===e||(d(i,o)!==a[s]&&t.push(n({type:"attributes",target:i,attributeName:s,oldValue:a[s],attributeNamespace:o.namespaceURI})),l[s]=!0);for(s in a)l[s]||t.push(n({target:i,type:"attributes",attributeName:s,oldValue:a[s]}))}function r(e,t){var n=!0;return function e(i){var a={node:i};return!t.a||3!==i.nodeType&&8!==i.nodeType?(t.b&&n&&1===i.nodeType&&(a.b=s(i.attributes,(function(e,n){return t.f&&!t.f[n.name]||(e[n.name]=d(i,n)),e}))),n&&(t.c||t.a||t.b&&t.g)&&(a.c=function(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i,e);return n}(i.childNodes,e)),n=t.g):a.a=i.nodeValue,a}(e)}function o(e){try{return e.id||(e.mo_id=e.mo_id||u++)}catch(t){try{return e.nodeValue}catch(e){return u++}}}function s(e,t){for(var n={},i=0;i<e.length;i++)n=t(n,e[i],i,e);return n}function l(e,t,n,i){for(;n<e.length;n++)if((i?e[n][i]:e[n])===t)return n;return-1}t._period=30,t.prototype={observe:function(e,n){for(var a={b:!!(n.attributes||n.attributeFilter||n.attributeOldValue),c:!!n.childList,g:!!n.subtree,a:!(!n.characterData&&!n.characterDataOldValue)},r=this.i,o=0;o<r.length;o++)r[o].s===e&&r.splice(o,1);n.attributeFilter&&(a.f=s(n.attributeFilter,(function(e,t){return e[t]=!0,e}))),r.push({s:e,o:i(e,a)}),this.h||function(e){!function n(){var i=e.takeRecords();i.length&&e.m(i,e),e.h=setTimeout(n,t._period)}()}(this)},takeRecords:function(){for(var e=[],t=this.i,n=0;n<t.length;n++)t[n].o(e);return e},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var c=document.createElement("i");c.style.top=0;var d=(c="null"!=c.attributes.style.value)?function(e,t){return t.value}:function(e,t){return"style"!==t.name?t.value:e.style.cssText},u=1;return t}(void 0)},ythQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y}));var i=n("ERkP"),a=n("OA+g"),r=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("bYZB"),c=n("bO3R"),d=n("wJHk"),u=n("3rlE"),p=n("lrqh"),h=n("6fbX"),m=n("E/Yu"),g=n("zGI0"),f=n("MfJJ");const b=({viewModel:e})=>i.createElement(o.a.div,{className:f.wrapper},i.createElement(c.a.Ghost,{className:f.toolbarBtn,name:"head",animationMode:d.a.FromCenter,title:e.head.title,active:e.head.active,onClick:e.head.onClick},i.createElement(u.d.Formatting.Head,null)),e.visualState.view(t=>t===m.a.VisualState.Expanded&&i.createElement(v,{viewModel:e,theme:{panel:Object(s.c)(f.panel,f.panelAnimateIn).className,item:f.item,separator:f.separator}}))),y=({viewModel:e})=>i.createElement(v,{viewModel:e,theme:{panel:f.panelHorizontal,item:f.itemMini,itemIcon:f.iconMini,separator:f.verticalSeparator}}),v=({viewModel:e,theme:t})=>i.createElement(o.a.div,{key:"formatting-wrapper",className:t.panel},e.list.map((e,n)=>g.a.Item.isViewItem(e)?i.createElement(k,{theme:{itemClass:t.item,iconClass:t.itemIcon},key:n,item:e}):i.createElement("div",{key:n,className:t.separator}))),k=({item:e,theme:t})=>{const n=S(e.name,t.iconClass);return i.createElement(c.a,{name:`rtfToolbar-${e.name}`,title:i.createElement(w,{item:e,labelClass:n.labelClass}),titleAlign:"topCenter",active:e.active,className:t.itemClass,key:e.name,onClick:e.onClick,ariaLabel:e.title},n.icon)},w=({item:e,labelClass:t})=>i.createElement("div",{className:f.tooltip},Object(r.pipe)(e.tooltip,p.g.fold(a.constNull,e=>i.createElement("span",Object.assign({},Object(s.c)(f.label,t)),e))),Object(r.pipe)(e.nestedItem,p.g.fold(a.constNull,p.b.fold(e=>i.createElement("span",{className:f.hotkeyLabel},e),a.constVoid)))),S=(e,t)=>{switch(e){case l.e.Type.bold:return{icon:i.createElement(u.d.Formatting.Bold,{className:t}),labelClass:f.bold};case l.e.Type.italic:return{icon:i.createElement(u.d.Formatting.Italic,{className:t}),labelClass:f.italic};case l.e.Type.underline:return{icon:i.createElement(u.d.Formatting.Underline,{className:t}),labelClass:f.underline};case l.e.Type.header1:return{icon:i.createElement(u.d.Formatting.Header1,{className:t}),labelClass:f.h1};case l.e.Type.header2:return{icon:i.createElement(u.d.Formatting.Header2,{className:t}),labelClass:f.h2};case l.e.Type.link:return{icon:i.createElement(u.d.Formatting.Link,{className:t}),labelClass:f.link};case l.e.Type.bulletList:return{icon:i.createElement(u.d.Formatting.BulletList,{className:t})};case l.e.Type.orderedList:return{icon:i.createElement(u.d.Formatting.OrderedList,{className:t})};case"clear":return{icon:i.createElement(u.d.Formatting.Clear,{className:t})};default:return Object(h.d)(e)}}},"yzK/":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var i,a,r=n("OA+g"),o=n("4ae2"),s=n("FiSa"),l=n("94k3"),c=n("zR/0"),d=n("gy42"),u=n("lrqh"),p=n("0LFZ"),h=n("TRam"),m=n("tMFp"),g=n("5VIZ");!function(e){e.create=function(e,t,n,i,a){return Object(r.pipe)(n,c.a.switchMap((n,f)=>Object(r.pipe)(function(e,n){const i=Object(r.pipe)(a.state.get().textState.text,u.b.map(e=>(new o.a).insert(e))),p=Object(r.pipe)(e.text.text,u.b.map(e=>(new o.a).insert(e))),h=Object(r.pipe)(Object(r.tuple)(i,p),u.b.map2((e,t)=>e.diff(t)),u.b.map(e=>s.a.delta(e,a.getTextLength())));return c.a.defer(()=>{const e=u.b.unsafeGet(h);return n||0!==e.length?(t.alternativeManager.pushChanges(e),t.positionManager.pushChanges(e),t.obsCapiClient.pushChanges(e)(),n?Object(r.pipe)(t.obsCapiClient.events,c.a.filter(l.a.CAPIEvent.is("session_started")),c.a.take(1),c.a.mapTo(d.b.voidValue)):c.a.of(d.b.voidValue)):c.a.of(d.b.voidValue)})}(n,0===f),c.a.tap(()=>{i.next(h.a.MPTE.RestartComplete.create(m.a.generateUUID()))}),c.a.switchMapTo(c.a.mergeStatic(...e)),c.a.startWith({change:()=>Object(r.tuple)(g.a.StateDiff.empty,p.a.fromInit(n)),source:"StateDiffDispatcher.create"}))))}}(i||(i={})),function(e){e.fromMSChange=function(e){return t=>Object(r.pipe)(e(t.marksState),([e,n])=>[Object.assign(Object.assign({},g.a.StateDiff.empty),{marks:e}),Object.assign(Object.assign({},t),{marksState:n})])},e.withSource=function(e){return c.a.map(t=>({change:t,source:e}))}}(a||(a={}))},z1Kw:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ERkP"),a=n("rk+4"),r=n("bO3R"),o=n("BugA"),s=n("hoSD"),l=n("XUeO");const c=({payload:e,close:t})=>{const n=i.useContext(a.a.Context);return i.createElement("div",null,i.createElement(o.e,null,n.proofitSuccessModal.title),i.createElement("div",{className:l.timeWrapper},i.createElement(o.d,{className:l.time,"data-name":"success-time"},s.d.Local.shortTime(e.dueDate)),i.createElement("div",{className:l.date,"data-name":"success-date"},s.d.Local.fullDate(e.dueDate))),i.createElement(o.a,{className:l.description},n.proofitSuccessModal.description(e.email)),i.createElement(r.a.Primary,{name:"got-it",onClick:t},n.actions.gotIt))}},zGI0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i,a=n("OA+g"),r=n("bYZB"),o=n("zR/0"),s=n("gy42"),l=n("lrqh");!function(e){let t,n,i,c;!function(t){t.toBindingProvider=(t,n)=>i=>r=>Object(a.pipe)(i,l.a.filter(e.isItem),l.a.chain(i=>Object(a.pipe)(i.hotkey,l.g.map(a=>a.map(a=>({action:i.name,hotkey:r(a),isActive:n(i.name),bind:o.a.tap(()=>t({event:i.name,source:e.Source.Hotkey}))}))),l.g.getOrElse(()=>[]))))}(t=e.Scheme||(e.Scheme={})),e.isItem=e=>"string"!=typeof e,function(e){e.isViewItem=e=>"string"!=typeof e}(n=e.Item||(e.Item={})),function(t){t.isView=t=>t.source===e.Source.View,t.isHotkey=t=>t.source===e.Source.Hotkey}(i=e.MenuEvent||(e.MenuEvent={})),function(e){e.Hotkey="Hotkey",e.View="View"}(c=e.Source||(e.Source={})),e.toMenuEvents=(e,t)=>t.pipe(o.a.map(t=>[t.event,r.g.toTextRange(e()),t.source])),e.linkEvents=function(e,t){return e.pipe(o.a.mergeMap(([e,n,i])=>s.b.toObservable(t[e].call(null,n,i))))}}(i||(i={}))},zN6a:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return w}));var i,a=n("I7vG"),r=n("LNSM"),o=n("GUi3"),s=n("dE97"),l=n("IyPE");!function(e){e.group=function(e){return Object.values(e.reduce((e,{lensName:t,isFree:n,cost:i})=>(void 0===e[t]&&(e[t]={lensName:t,free:0,premium:0}),e[t][n?"free":"premium"]+=i,e),{})).sort((e,t)=>t.premium-e.premium)}}(i||(i={}));var c,d=n("yA7V"),u=n("B/RW"),p=n("zR/0"),h=n("GGUR"),m=n("rXcq"),g=n("lrqh"),f=n("D9EC"),b=n("6fbX"),y=n("PrA7"),v=n("Pe9T"),k=n("+ukg");(c||(c={})).Mock=class{constructor(){this.events=new p.a.Subject,this.advancedAlerts=r.a.create(g.g.none),this.openUpgradeUrl=f.e,this.fromGbVoxUpHookLens=f.e,this.enableGBVoxHookLens=f.e,this.displayValue=()=>""}};class w{constructor(e,t,n,i,r,l,c){this._checkingDomain=e,this._lensPreviewVM=t,this._docId=n,this._environment=i,this._upgradeHook=r,this._config=l,this._uphookFormat=c,this._log=y.Monitoring.Logging.getLogger("UpgradeViewModel"),this._subs=new h.a.Keeper,this.events=new p.a.Subject,this.advancedAlerts=this._lensPreviewVM.getLens(o.a.SpecialId.Premium).view(({count:e})=>e>0?Object(a.pipe)(g.g.some({count:e,alerts:()=>this._formatLiteAlerts(this._getGroupedLiteAlerts(e=>s.a.isPremium(e)))}),g.g.filter(({alerts:e})=>Object(f.n)(e()))):g.g.none),this._subs.push(this._listenHookEvents())}_listenHookEvents(){return this.events.pipe(p.a.tap(e=>{switch(e.kind){case u.a.ActionsKind.onUpgradeButtonMount:break;case u.a.ActionsKind.onUpgrade:this.openUpgradeUrl(v.i.Place.DenaliDocument.editorDenaliUpgradeInline);break;default:Object(b.d)(e)}})).subscribe()}_formatLiteAlerts(e){const t=e.slice(0,5),n=e.slice(5).map(e=>e.count).reduce(f.s,0);return n>0?[...t,{group:"",category:"",categoryHuman:"more...",count:n,lensName:"more...",bundleInfo:g.g.some("more...")}]:t}openUpgradeUrl(e){Object(a.pipe)(g.b.tryCatchError(()=>this._upgradeHook.fromDenaliDocument(e,this._docId,this._getGroupedLiteAlerts(Object(f.m)(s.a.isPlagiarism)),this._getGroupedLensAlerts(Object(f.m)(s.a.isPlagiarism)))),g.b.chain(this._environment.actions.openUrl),g.b.getOrElse(e=>this._log.fatal("unexpected error on open upgrade page",e)))}fromGbVoxUpHookLens(){Object(a.pipe)(g.b.tryCatchError(()=>this._upgradeHook.fromGbVoxUpHookLens()),g.b.chain(this._environment.actions.openPopup),g.b.getOrElse(e=>this._log.fatal("unexpected error on open upgrade page",e)))}enableGBVoxHookLens(){Object(a.pipe)(g.b.tryCatchError(()=>new m.a(this._config.account.styleGuide)),g.b.chain(this._environment.actions.openPopup),g.b.getOrElse(e=>this._log.fatal("unexpected error on open admin style guide page",e)))}displayValue(e){return Object(a.pipe)(this._uphookFormat,g.g.map(t=>t===k.p.layoutGroup?e.lensName:Object(a.pipe)(e.bundleInfo,g.g.getOrElse(()=>e.categoryHuman))),g.g.getOrElse(()=>e.categoryHuman))}_noRemovedFilter(e){return t=>!s.a.isRemoved(t)&&e(t)}_getGroupedLiteAlerts(e){return Object(a.pipe)(this._checkingDomain.state.get(),d.a.reduce([],(t,n)=>(this._noRemovedFilter(e)(n.alert)&&t.push(n.alert.toLiteAlert()),t)),Object(a.pipe)(this._uphookFormat,g.g.map(e=>e===k.p.layoutGroup?l.a.groupByGroup:l.a.groupByBundleInfo),g.g.getOrElse(()=>l.a.group)))}_getGroupedLensAlerts(e){return Object(a.pipe)(this._checkingDomain.state.get(),d.a.reduce([],(t,n)=>(this._noRemovedFilter(e)(n.alert)&&t.push(n.alert.toLensAlert()),t)),i.group)}dispose(){this._subs.dispose()}}},zTZn:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("ERkP"),a=n("OA+g"),r=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("94k3"),c=n("D9EC"),d=n("6fbX"),u=n("lrqh"),p=n("e12y"),h=n("rk+4"),m=n("FuGm"),g=n("6lhv"),f=n("zR/0");class b extends g.a{}const y=(e,t)=>{const n=e=>e+" "+M.transitionDelay;return e&&e.type===m.a.SuccessType.large&&t.type===m.a.SuccessType.small?{prev:{start:{main:M.fadeOutEnd,secondary:M.fadeOutEnd},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:M.visible,secondary:M.fadeInStart},end:{main:M.visible,secondary:M.fadeInEnd}}}:e&&e.type===m.a.SuccessType.small&&t.type===m.a.SuccessType.large?{prev:{start:{main:M.fadeOutEnd,secondary:M.fadeOutStart},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:M.visible,secondary:M.visible},end:{main:M.visible,secondary:M.visible}}}:{prev:{start:{main:M.fadeOutStart,secondary:M.fadeOutStart},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:n(M.fadeInStart),secondary:n(M.fadeInStart)},end:{main:n(M.fadeInEnd),secondary:n(M.fadeInEnd)}}}},v=(e,t,n,a=!1,r)=>{switch(t){case m.a.SuccessType.zero:return a?i.createElement(e.Birthday,{key:"nothing-to-check",animate:n,onComplete:r}):i.createElement(e.NothingToCheck,{key:"nothing-to-check",animate:n,onComplete:r});case m.a.SuccessType.small:case m.a.SuccessType.large:return i.createElement(e.NoIssuesFound,{key:"no-issues-found",animate:n,onComplete:r});case m.a.SuccessType.applied:case m.a.SuccessType.premiumOnboardingStart:case m.a.SuccessType.premiumOnboardingComplete:return i.createElement(e.EverythingIsClear,{key:"everything-is-clear",animate:n,onComplete:r});default:return Object(d.d)(t)}},k=({state:e,preventAnimation:t,illustrations:n,alertsListType:p,children:g,scoreStatus:k})=>{const w=i.useContext(h.a.Context),S=e.get(),_=k.view(e=>Object(r.pipe)(e,u.g.map(e=>e===l.a.Message.ScoresStatus.SENSITIVE),u.g.getOrElse(a.constFalse)));return i.createElement(o.a.Fragment,null,n.view(n=>i.createElement(o.a.div,{className:M.successContainer},e.pipe(f.a.pairwise(),f.a.map(([e,a])=>((e,t,n,a=!0,r)=>{switch(t.type){case m.a.SuccessType.zero:return n.type===m.a.SuccessType.large||n.type===m.a.SuccessType.small?!0===t.showBirthday?i.createElement(e.Birthday,{key:"no-issue-found-to-nothing-to-check",animate:a,onComplete:r}):i.createElement(e.NoIssueFoundToNothingToCheck,{key:"no-issue-found-to-nothing-to-check",animate:a}):v(e,t.type,a,t.showBirthday,r);case m.a.SuccessType.applied:return v(e,t.type,a,!1,r);case m.a.SuccessType.large:case m.a.SuccessType.small:return n.type===m.a.SuccessType.zero?i.createElement(e.NothingToNoIssueFound,{key:"nothing-to-no-issue-found",animate:a,onComplete:r}):v(e,t.type,a&&n.type!==m.a.SuccessType.large&&n.type!==m.a.SuccessType.small,!1,r);default:return Object(d.d)(t)}})(n,a,e,!t)),f.a.startWith(v(n,S.type,!t,S.type===m.a.SuccessType.zero&&S.showBirthday))),i.createElement(b,{className:M.animationWrapper,state:e.pipe(f.a.map(e=>((e,t,n)=>{const a=t.successLens;switch(e.type){case m.a.SuccessType.zero:return!0===e.showBirthday?{type:m.a.SuccessType.zero,title:"It’s our birthday!",firstLine:i.createElement(i.Fragment,null,"Time to let ",i.createElement("s",null,"lose")," loose.")}:Object.assign(Object.assign({},a.emptyText),{type:m.a.SuccessType.zero});case m.a.SuccessType.small:return Object.assign(Object.assign({},"priority"===n?a.priorityFirstCheck:a.smallText),{type:m.a.SuccessType.small});case m.a.SuccessType.large:return Object.assign(Object.assign({},"priority"===n?a.priorityFirstCheck:a.largeText),{type:m.a.SuccessType.large});case m.a.SuccessType.applied:return{title:a.fixedText.titles[Object(c.q)(9)],type:m.a.SuccessType.applied,secondLine:e.nonPriorityAlertsLeft?e.isAllAlerts?t.priorityList.successState.allAlertsHint:t.priorityList.successState.outcomesHint:void 0};default:return Object(d.d)(e)}})(e,w,p))),stateToClassMapper:y},({state:e,view:t})=>i.createElement("div",{"data-name":"success-lens-text",key:e.type,className:M.textWrapper},i.createElement(o.a.Fragment,null,_.view(n=>n?i.createElement("div",{className:M.successContent},null!=g?i.createElement(o.a.span,Object.assign({},Object(s.c)(M.successText,t.pipe(f.a.map(e=>e.main)))),g):null):i.createElement(i.Fragment,null,i.createElement(o.a.div,Object.assign({},Object(s.c)(M.successTitle,t.pipe(f.a.map(e=>e.main)))),e.title),i.createElement("div",{className:M.successContent},i.createElement(o.a.div,{key:"firstLine",className:t.pipe(f.a.map(e=>e.main))},e.firstLine),i.createElement(o.a.div,{key:"secondLine",className:t.pipe(f.a.map(e=>e.secondary))},e.secondLine),null!=g?i.createElement(o.a.span,Object.assign({},Object(s.c)(M.successText,t.pipe(f.a.map(e=>e.main)))),g):null)))))))))},w={display:"flex",flexDirection:"column",height:p.a.percent(100),justifyContent:"flex-start",alignItems:"center"},S={marginTop:p.a.rem(11.5)},_={marginTop:p.a.rem(2),textAlign:"center",wordSpacing:p.a.rem(.06),fontWeight:"bold",fontSize:p.a.rem(.9375)},C={marginTop:p.a.rem(.8),textAlign:"center",whiteSpace:"pre-line",wordSpacing:p.a.rem(.06),fontSize:p.a.rem(.875),lineHeight:p.a.rem(1.5)},E={position:"relative",display:"flex",width:p.a.percent(100),justifyContent:"center"},O={opacity:1,transition:`opacity ${p.a.seconds(.15)}`},A={opacity:0,transition:`opacity ${p.a.seconds(.15)}`},x={transitionDelay:p.a.seconds(.15)},T={right:p.a.rem(-.825)},M=p.a.stylesheet({successContainer:[w],successIcon:[S],successTitle:[_],successContent:[C],animationWrapper:[E],textWrapper:[{position:"absolute"}],fadeOutStart:[O],fadeOutEnd:[O,{opacity:0}],fadeInStart:[A],fadeInEnd:[A,{opacity:1}],visible:[{opacity:1}],transitionDelay:[x],backButton:[T],successText:[{display:"flex",flexDirection:"column",alignItems:"center"}]})}}]);