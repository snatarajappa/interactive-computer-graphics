/* [@grammarly-license] license information can be found in https://denali-static.grammarly.com/licenses.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"++u8":function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(a||(a={}))},"+5S2":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r}));var a={};n.r(a),n.d(a,"getNormalizedPosition",(function(){return f})),n.d(a,"getPositionInViewport",(function(){return h})),n.d(a,"isAboveViewportTop",(function(){return b})),n.d(a,"willFitViewport",(function(){return y})),n.d(a,"getCardPadding",(function(){return v})),n.d(a,"ContentOffset",(function(){return C})),n.d(a,"InfinityScrollGetter",(function(){return O})),n.d(a,"Mover",(function(){return S}));var r={};n.r(r),n.d(r,"CARDS_BEYOND_VIEWPORT",(function(){return I})),n.d(r,"CARDS_AROUND_ACTIVE",(function(){return j})),n.d(r,"CARD_VISIBILITY_DEFAULT_SETTING",(function(){return T})),n.d(r,"manageCardsVisibility",(function(){return N})),n.d(r,"freezeActiveCardOnCardsListUpdate",(function(){return L})),n.d(r,"manageCardsInert",(function(){return P}));var i={};n.r(i),n.d(i,"getScrollObserver",(function(){return F})),n.d(i,"getPlaceholderState",(function(){return D})),n.d(i,"getAssistantHeight",(function(){return R})),n.d(i,"getCardsViewportState",(function(){return $})),n.d(i,"getCardsRect",(function(){return M}));var o=n("OA+g"),s=n("I7vG"),c=n("lrqh"),l=n("6fbX"),d=n("zR/0"),u=n("BeBM"),p=n("NW9S"),m=n("NbEL"),g=n("EjiM");const f=(e,t)=>n=>{const a=p.a.FromViewportTop.ISO.unwrap(e),r=p.a.FromViewportTop.ISO.unwrap(n),i=a-r;return p.a.FromViewportTop.ISO.wrap(i<-t.top?a+t.top:i>t.bottom?a-t.bottom:r)},h=(e,t,n)=>a=>{const r=Object(g.b)({cardTop:a,cardHeight:e.positionState.height,viewportHeight:n.height,padding:t});return p.a.FromViewportTop.ISO.modify(p.a.concatC(-r))(a)},b=e=>t=>p.b.FromWindowTop.ISO.modify(p.a.concatC(e.scrollTop.get()+e.paddingTop.get()))(t)<e.viewport.get().top,y=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.currentLens.items,e=>Object(s.pipe)(e.get(n),c.g.map(({value:e})=>0===Object(g.b)({cardTop:r.converters.windowToViewport(a),cardHeight:e.positionState.height,viewportHeight:r.viewport.height,padding:{before:0,after:0}}))),c.g.unsafeGet)},v=(e,t)=>Object(s.pipe)(t.get(e),c.g.map(({index:e})=>({before:Object(s.pipe)(t.getAt(e-1),c.g.map(e=>e.positionState.height),c.g.getOrElse(()=>0)),after:Object(s.pipe)(t.getAt(e+1),c.g.map(e=>e.positionState.height),c.g.getOrElse(()=>0))})),c.g.getOrElse(()=>({before:0,after:0})));var C,O,w,S;!function(e){e.CARD_CONTENT_OFFSET_REM=3.4,e.WITH_LABEL_CARD_CONTENT_OFFSET_REM=e.CARD_CONTENT_OFFSET_REM+1,e.contentOffsetGetter=(t=e.CARD_CONTENT_OFFSET_REM,n=e.WITH_LABEL_CARD_CONTENT_OFFSET_REM)=>(e,a)=>Math.round((e?n:t)*a)}(C||(C={})),(w=O||(O={})).cardPositionGetter=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(u.e.getLens).get(),c.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),c.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(n),c.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`})),c.b.map(({value:e})=>Object(s.pipe)(a,c.g.fold(()=>Object(o.flow)(p.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop,r.converters.viewportToWindow)(e.positionState.absTop),o.identity))))))},w.cardPositionInViewportGetter=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(u.e.getLens).get(),c.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),c.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(n),c.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`})),c.b.chain(({value:t})=>Object(s.pipe)(a,c.g.map(r.converters.windowToViewport),c.g.alt(()=>c.g.some(Object(o.flow)(p.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop)(t.positionState.absTop))),c.g.map(h(t,v(n,e),r.viewport)),c.g.map(r.converters.viewportToWindow),c.b.fromOption(()=>({kind:"error",reason:"Cannot get card position in viewport"})))))))},function(e){const t=(e,t,n,a)=>{const r=a.viewport.get(),i=a.scrollTop.get(),o=p.a.converters(i,p.b.FromWindowTop.ISO.unwrap(r.top),a.paddingTop.get());return c.b.tryCatchError(()=>Object(s.pipe)(u.e.getLens(n),c.g.chain(t=>t.items.get(e)),c.g.map(e=>p.a.AbsTop.ISO.wrap(e.value.positionState.absTop)),c.g.map(e=>o.absTopToViewportTop(e)),c.g.fold(()=>{throw new l.b("Cannot get offset for unknown card")},e=>{const n=o.windowToViewport(t);return p.a.FromViewportTop.ISO.unwrap(e)-p.a.FromViewportTop.ISO.unwrap(n)})))};e.moveCardToPositionSyncGetter=(e,n)=>a=>Object(s.pipe)(t(a.id,a.position,e.get(),n),c.b.chain(e=>n.moveCardsBy(e,"moveCardToPositionAnimated"))),e.moveCardToPositionAnimatedGetter=(e,n)=>a=>Object(s.pipe)(t(a.id,a.position,e.get(),n),c.b.fold(e=>d.a.throwError(e),e=>n.moveCardsByAnimated(e,"moveCardToPositionAnimated")))}(S||(S={}));var k=n("GUi3"),A=n("+w1e"),E=n("TC4P"),x=n("gy42");const I=5,j=100,T={cardsBeyondViewport:I,cardsAroundActive:j},N=(e,t,n,a,r=T,i=x.b.Scheduler.rafScheduler)=>{const o=e=>!e.positionState.visible&&E.a.isAnimatable(e)&&e.visualState.incomplete?(a.next({type:A.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),n.completeTransition(e.visualState.transitionId)(e)):e,s=e.pipe(d.a.map(u.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),l=Object(g.g)(n)(s,t.viewport,t.scrollTop,t.paddingTop,i).pipe(d.a.map(({viewport:e,scrollTop:t,paddingTop:n})=>({viewport:e,scrollTop:t,paddingTop:n,completeTransition:o})),d.a.map(Object(g.f)({cardsBeyondViewport:r.cardsBeyondViewport,cardsAroundActive:r.cardsAroundActive,changePosition:n})));return{id:"manageCardsVisibility",when:k.a.isWithAlertsId,what:u.e.Effect.Applicator.create(l)}},L=(e,t,n)=>{const a=Object(s.pipe)(e,d.a.map(u.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t}))),Object(g.a)(n),d.a.switchMap(x.b.Scheduler.rafScheduler),d.a.filter(e=>0!==e),d.a.tap(e=>t.moveCardsBy(e,"freezeActiveCardOnCardsListUpdate")));return{id:"freezeActiveCardOnCardsListUpdate",when:k.a.isWithAlertsId,what:u.e.Effect.Applicator.create(d.a.mergeStatic(d.a.mergeStatic(a).pipe(d.a.switchMapTo(d.a.NEVER))))}},P=(e,t,n,a=x.b.Scheduler.rafScheduler)=>{const r=e.pipe(d.a.map(u.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),i=Object(g.g)(n)(r,t.viewport,t.scrollTop,t.paddingTop,a).pipe(d.a.map(({viewport:e,scrollTop:t,paddingTop:n})=>({viewport:e,scrollTop:t,paddingTop:n})),d.a.map(Object(g.c)(n)));return{id:"manageCardsInert",when:k.a.isWithAlertsId,what:u.e.Effect.Applicator.create(i)}};var B=n("D9EC");const F=e=>x.b.toBooleanWithDebounce(e.scrollTop.pipe(d.a.skip(1)),100,!0).pipe(d.a.startWith(!1),d.a.shareReplay({bufferSize:1,refCount:!0})),D=(e,t)=>{const n=F(t),a=e.view(u.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})));return d.a.combineLatestStatic(d.a.combineLatestStatic(n,a.pipe(d.a.map(c.g.forAll(({currentLens:e})=>Object(s.pipe)(u.k.getActiveItem(e),c.g.forAll(e=>!E.a.isAnimatable(e)||!e.visualState.incomplete&&!e.positionState.animationInProgress))))),B.a).pipe(d.a.distinctUntilChanged()),a.pipe(d.a.filter(c.g.forAll(e=>e.currentLens.isCardsHeightValid)),d.a.map(c.g.map(({currentLens:e})=>{const t=e.cardsHeight;return Object(s.pipe)(u.k.getActiveItem(e),c.g.map(({positionState:e})=>[{top:0,height:e.absTop},{top:e.absTop+e.height,height:t-(e.absTop+e.height)}]),c.g.getOrElse(()=>[{top:0,height:t},{top:0,height:0}]))})),d.a.distinctUntilChanged(c.g.getEq(m.c.eqDimensionsTuple).equals)),(e,t)=>e?t:c.g.none).pipe(d.a.startWith(c.g.none),d.a.shareReplay({bufferSize:1,refCount:!0}))},R=(e,t,n)=>{return Object(g.e)(n)(e.view(u.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))).pipe(d.b.compact,d.a.map(({currentLens:e})=>e.cardsHeight),d.a.startWith(0),d.a.combineLatest(t.paddingTop,t.viewport,(e,t,n)=>e+t+p.b.FromWindowTop.ISO.unwrap(n.top)))},$=(e,t,n)=>{return Object(g.e)(n)(e.view(u.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))).pipe(d.a.switchMap(c.g.fold(()=>d.a.of(m.a.hidden),e=>e.currentLens.items.size>0?d.a.combineLatestStatic(t.scrollTop,t.viewport,t.paddingTop).pipe(d.a.map(([t,n,a])=>{const r=p.a.converters(t,p.b.FromWindowTop.ISO.unwrap(n.top),a),i=e.currentLens.items,l=Object(s.pipe)(i.getAt(0),c.g.map(e=>Object(s.pipe)(e.positionState.absTop,Object(o.flow)(p.a.AbsTop.ISO.wrap,r.absTopToViewportTop))),c.g.unsafeGet),d=c.g.unsafeGet(i.getAt(i.size-1)),u=p.a.AbsTop.ISO.wrap(d.positionState.absTop),g=d.positionState.height,f=r.absTopToViewportTop(u);return p.a.FromViewportTop.ISO.unwrap(f)+g<0?m.a.above:p.a.FromViewportTop.ISO.unwrap(l)>n.height?m.a.below:m.a.hidden})):d.a.of(m.a.hidden))),d.a.distinctUntilChanged(),d.a.debounce(e=>e===m.a.hidden?d.a.EMPTY:d.a.timer(300)),d.a.shareReplay({bufferSize:1,refCount:!0}))},M=(e,t)=>{const n=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(u.e.getLens).get(),c.g.chain(({items:e,cardsHeight:t})=>Object(s.pipe)(e.getAt(0),c.g.map(e=>{const a=Object(o.flow)(p.a.AbsTop.ISO.wrap,n.converters.absTopToViewportTop,n.converters.viewportToWindow)(e.positionState.absTop);return{top:a,bottom:p.b.FromWindowTop.ISO.modify(p.a.concatC(t))(a)}}))))}},"+w1e":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var a,r,i,o,s,c=n("RxKi"),l=n("0UWf"),d=n("AS+/"),u=n("D9EC"),p=n("lrqh"),m=n("6fbX"),g=n("UEGg"),f=n("++u8");!function(e){let t,n,a;function r(t){return t.type===e.Type.takeawayCorrectlyDetected||t.type===e.Type.takeawayIncorrectlyDetected}function i(t){return t.type===e.Type.bulkApply}function o(t){return t.type===e.Type.bulkDismiss}function s(t){return t.type===e.Type.bulkIgnore}function m(t){return t.type===e.Type.bulkHighlight}function h(t){return t.type===e.Type.bulkUndo}function b(t){return t.type===e.Type.bulkIndividualUndo}function y(t){return t.type===e.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.sentenceLevelBrandTonesFeedback="sentenceLevelBrandTonesFeedback",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(n=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case g.a.Type.super:return n.superCard;case g.a.Type.default:default:return n.defaultCard}},e.isAlertApplyAction=function(t){return t.type===e.Type.alertApply},e.isAlertFeedbackAction=function(t){return t.type===e.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(t){return t.type===e.Type.takeawayDismiss},e.isTakeawayResolveAction=function(t){return t.type===e.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=r,e.isTakeawayAction=function(t){return r(t)||t.type===e.Type.takeawayDismiss||t.type===e.Type.takeawayResolve},e.isSentenceLevelBrandTonesFeedbackAction=function(t){return t.type===e.Type.sentenceLevelBrandTonesFeedback},e.isToneAIChangeToneAlternativeAction=function(t){return t.type===e.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(t){return t.type===e.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(t){return t.type===e.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(t){return t.type===e.Type.alertIgnore},e.isAlertResolveAction=function(t){return t.type===e.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(t){return t.type===e.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(t){return t.type===e.Type.alertApplyFormSubmit},e.isGbPromptApply=function(t){return t.type===e.Type.gbPromptApply},e.isGbPromptDismiss=function(t){return t.type===e.Type.gbPromptDismiss},e.isGbPromptShow=function(t){return t.type===e.Type.gbPromptShow},e.isMuteCategoryAction=function(t){return t.type===e.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(t){return t.type===e.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(t){return t.type===e.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(t){return t.type===e.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(t){return t.type===e.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(t){return t.type===e.Type.hover},e.isAlertCardShow=function(t){return t.type===e.Type.alertCardShow},e.isBulkAcceptItemShow=function(t){return t.type===e.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(t){return t.type===e.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(t){return t.type===e.Type.alertMinicardButtonClick},e.isMiniItemClick=function(t){return t.type===e.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===f.a.Type.collapseButtonClick},e.isOnboardingClose=function(t){return t.type===e.Type.onboardingClose},e.isNavigation=function(t){return t.type===e.Type.openSetGoals||t.type===e.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(t){return t.type===e.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(t){return t.type===e.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(t){return t.type===e.Type.changeUserInput},e.isFocusUserInput=function(t){return t.type===e.Type.focusUserInput},e.isBulkApply=i,e.isBulkDismiss=o,e.isBulkIgnore=s,e.isBulkHighlight=m,e.isBulkUndo=h,e.isBulkIndividualUndo=b,e.isBulkLooksGood=y,e.isBulkAction=Object(u.p)(i,o,s,m,b,y,h),e.isMutedAlertSuggestionsManagementClick=function(t){return t.type===e.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(t){return t.type===e.Type.sduiCardAction},function(t){const n=d.a(l.a)(c.a.ActionListSchema);t.eq=p.c.fromEquals((t,a)=>t.type===e.Type.sduiCardAction&&t.type===a.type&&t.cardId===a.cardId&&n.equals(t.actions,a.actions))}(a=e.SDUICardAction||(e.SDUICardAction={})),e.isOpenIdeasGallery=function(t){return t.type===e.Type.openIdeasGallery}}(a||(a={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(r||(r={})),function(e){e.isReviewEdit=function(e){return e.type===a.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===a.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===a.Type.shortenItKeepEdit}}(i||(i={})),function(e){let t;function n(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=n,e.isCardExpand=function(e){return n(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(o||(o={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),Object(m.e)(void 0)},"0A/6":function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("LNSM"),c=n("lrqh"),l=n("9T0W"),d=n("+w1e"),u=n("D/5U"),p=n("sWLkM"),m=n("rq0W");const g=({children:e,mount:t})=>a.createElement(o.a.div,{"data-role":"animation-wrapper",className:u.a.animationWrapper,mount:t},e),f=e=>Object(i.pipe)(c.g.fromNullable(e.activeAlert),c.g.fold(()=>e.id,e=>e.id));class h extends a.Component{constructor(){super(...arguments),this._elementState=l.a.emptyWithName("card")}_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:d.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:n}=this.props;if(!t.visualState.incomplete)return a.createElement(g,{mount:this.props.mount},a.createElement(o.a.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const h=n||m.c,{main:b,shade:y}=h(t.visualState),v=s.a.create(void 0===y?c.g.none:Object(i.pipe)(t.visualState.from,c.g.map(e=>({state:e,className:y}))));return!Boolean(b)&&c.g.isNone(v.get())&&requestAnimationFrame(()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId})),a.createElement(l.a.Context.Provider,{value:this._elementState},a.createElement(g,{mount:this.props.mount},v.view(Object(r.flow)(c.g.map(({state:n,className:r})=>a.createElement(o.a.div,{className:r,key:"shade"+n+f(t),onAnimationEnd:n=>{p.b.get(n.animationName)!==r&&u.b.get(n.animationName)!==r||(e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame(()=>v.set(c.g.none)))}},this._stateToElement(n))),c.g.toUndefined)),a.createElement(o.a.div,{className:b,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:d.a.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}}var b=n("9NHN"),y=n("ax6a"),v=n("e12y"),C=n("WIwS"),O=n("ps/9"),w=n("3rlE"),S=n("BugA");class k extends a.Component{constructor(){super(...arguments),this._ref=a.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:i,className:s,hideActivateButton:c,hideDot:l}=this.props;return a.createElement(o.a.div,Object.assign({"data-aid":t,mount:e=>this._ref.current=e,onClick:t=>{const a=e();n.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:a},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(b.c)(s,F.wrapper,null!=l&&l?null:F.miniCard)),a.createElement(S.a,Object.assign({},Object(b.c)(F.contentWrapper,null!=l&&l?F.contentWrapperWithoutDot:F.contentWrapperWithDot)),r),a.createElement("div",{className:F.iconContainer},i&&a.createElement("div",{className:A},i),null!=c&&c?null:a.createElement("div",{className:E},a.createElement(w.d.Arrow,{className:F.activeTopIcon}),a.createElement(w.d.Arrow,{className:F.activeBottomIcon}))))}}const A=v.a.joinClasses(["baseMiniCounterContainer",v.a.style({position:"absolute",height:v.a.percent(100),top:0,right:0,zIndex:O.i,margin:"auto 0",background:y.a.CoreNeutral0,opacity:1})]),E=v.a.joinClasses(["baseMiniActivateBtnSelector",v.a.style({position:"absolute",top:0,right:0,height:v.a.percent(100),zIndex:O.i,display:"flex",flexDirection:"column",margin:"auto 0",background:y.a.CoreNeutral0,opacity:0,justifyContent:"center"})]),x={position:"relative",display:"flex",overflow:"hidden",borderRadius:v.a.rem(O.t),background:y.a.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:y.a.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:v.a.seconds(.2)},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},I={overflow:"hidden",color:C.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:v.a.rem(1.5)},j={margin:`0 ${v.a.rem(3)} 0 ${v.a.rem(2)}`},T={paddingLeft:v.a.rem(.5)},N={position:"absolute",top:0,right:v.a.rem(.5),bottom:0,display:"flex"},L={display:"flex",margin:`${v.a.rem(.1)} 0 ${v.a.rem(-1.25)}`,transform:"rotate(180deg)"},P={$nest:{"&:before":{position:"absolute",width:v.a.px(10),height:v.a.px(10),borderRadius:v.a.percent(50),content:"''",transform:"scale(.5)"}}},B={$nest:{"&:before":{margin:`auto 0 auto ${v.a.rem(.75)}`}}},F=v.a.stylesheet({wrapper:[x],contentWrapper:[I],contentWrapperWithDot:[j],contentWrapperWithoutDot:[T],iconContainer:[N],activeTopIcon:[L],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[P],miniCard:[P,B]});var D=n("qZUR");class R extends a.Component{constructor(){super(...arguments),this._ref=a.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:i,className:s,hideActivateButton:c,hideDot:l}=this.props;return a.createElement(o.a.div,Object.assign({"data-aid":t,tabIndex:0,role:"button","aria-disabled":!1,mount:e=>this._ref.current=e,onClick:t=>{const a=e();n.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:a},clickPoint:{x:t.clientX,y:t.clientY}})},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.target.click(),e.preventDefault())},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(b.c)(s,Y.wrapper,null!=l&&l?null:Y.miniCard)),a.createElement(S.a,Object.assign({},Object(b.c)(Y.contentWrapper,null!=l&&l?Y.contentWrapperWithoutDot:Y.contentWrapperWithDot)),r),a.createElement("div",{className:Y.iconContainer},i&&a.createElement("div",{className:$},i),null!=c&&c?null:a.createElement("div",{className:M},a.createElement(w.d.Arrow,{className:Y.activeTopIcon}),a.createElement(w.d.Arrow,{className:Y.activeBottomIcon}))))}}const $=v.a.joinClasses(["baseMiniCounterContainer",v.a.style({position:"absolute",height:v.a.percent(100),top:0,right:0,zIndex:O.i,margin:"auto 0",background:y.a.CoreNeutral0,opacity:1})]),M=v.a.joinClasses(["baseMiniActivateBtnSelector",v.a.style({position:"absolute",top:0,right:0,height:v.a.percent(100),zIndex:O.i,display:"flex",flexDirection:"column",margin:"auto 0",opacity:0,justifyContent:"center"})]),_={position:"relative",display:"flex",overflow:"hidden",borderRadius:v.a.rem(O.t),background:y.a.CoreNeutral0,boxShadow:D.a.z100,cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:y.a.CoreNeutral10,transitionDuration:v.a.seconds(.2)},"&:focus":{background:y.a.CoreNeutral10,boxShadow:`${D.a.z100}, 0 0 0 2px rgb(99 142 235)`,outline:"none"},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},W={overflow:"hidden",color:C.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:v.a.rem(1.5)},H={margin:`0 ${v.a.rem(3)} 0 ${v.a.rem(2)}`},G={paddingLeft:v.a.rem(.5)},q={position:"absolute",top:0,right:v.a.rem(.5),bottom:0,display:"flex"},V={display:"flex",margin:`${v.a.rem(.1)} 0 ${v.a.rem(-1.25)}`,transform:"rotate(180deg)"},z={$nest:{"&:before":{position:"absolute",width:v.a.px(10),height:v.a.px(10),borderRadius:v.a.percent(50),content:"''",transform:"scale(.5)"}}},U={$nest:{"&:before":{margin:`auto 0 auto ${v.a.rem(.75)}`}}},Y=v.a.stylesheet({wrapper:[_],contentWrapper:[W],contentWrapperWithDot:[H],contentWrapperWithoutDot:[G],iconContainer:[q],activeTopIcon:[V],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[z],miniCard:[z,U]});var X,K=n("D9EC"),Z=n("rk+4"),Q=n("bO3R"),J=n("zR/0"),ee=n("3bJT");!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(X||(X={}));const te=({actions:e,isLastCard:t})=>{const n=a.useContext(Z.a.Context).successLens.fixedText.titles,r=s.a.create(X.stage0),i=()=>e.next({type:d.b.Type.switchToNext});return a.createElement(o.a.div,{className:le.successWrapper},a.createElement(S.i,{className:le.successText,onAnimationEnd:()=>{r.set(X.stage1)}},n[Object(K.q)(n.length)]),a.createElement(o.a.span,null,r.view(e=>e>=X.stage1&&a.createElement("span",{onAnimationEnd:()=>r.set(X.stage2)},a.createElement(w.d.CheckmarkAnimated,{className:le.successCheckMark})))),a.createElement(o.a.span,{className:le.successBtnHolder},t.pipe(J.a.combineLatest(r,(e,t)=>t<X.stage2?null:e?a.createElement(Q.a.Caps,{className:le.doneBtn,name:"done",key:"done-btn",onClick:i},"Done"):a.createElement(Q.a.Caps,{className:le.successBtn,name:"next",key:"next-card",onClick:i},"Next")))))},ne=v.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),ae={fontWeight:"bold",lineHeight:v.a.rem(2),animation:`${ne} ${v.a.seconds(.2)} linear forwards`},re={position:"relative",borderRadius:v.a.rem(O.s),background:y.a.CoreNeutral0,boxShadow:`0 ${v.a.rem(.625)} ${v.a.rem(O.a)} 0 rgba(198, 203, 222, .45)`},ie={display:"flex",padding:`${v.a.rem(1.5)} ${v.a.rem(2)}`,alignItems:"center"},oe={marginLeft:v.a.rem(1),minWidth:0,minHeight:0,width:v.a.rem(1.325),height:v.a.rem(1.325),animation:`${ne} ${v.a.seconds(.2)} linear forwards`},se={float:"right",width:v.a.rem(4),textAlign:"center",animation:`${ne} ${v.a.seconds(.2)} linear forwards`},ce={backgroundColor:y.a.CoreGreen50,color:y.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:C.a}}},le=Object.assign(Object.assign({},v.a.stylesheet({successText:[ae],successCheckMark:[oe],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[se],doneBtn:[se,ce]})),{fullCard:v.a.joinClasses([ee.b.fullCardSelector,v.a.style(re)]),successWrapper:v.a.joinClasses([ee.b.successWrapperSelector,v.a.style(re,ie)])});var de,ue;(ue=de||(de={})).Mini=k,ue.MiniContrast=R,ue.Card=h,ue.Success=te},"0Hf4":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("lyoF");const r=Object(a.a)()},"0PmZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("ERkP"),r=n("9NHN"),i=n("e12y"),o=n("rk+4"),s=n("bO3R"),c=n("3rlE"),l=n("BugA");const d=({onLeftClick:e,onRightClick:t,currentMatch:n,totalMatch:i,replaceOneMatch:d=!0,disableOnEnd:u=!0,style:p})=>{const g=a.useContext(o.a.Context).card.matchesNavigation;return 0===i?null:1===i&&d?a.createElement("div",Object.assign({},Object(r.c)(m.matchesRow,!!Boolean(p.matchesRow)&&p.matchesRow)),a.createElement(l.h,Object.assign({},Object(r.c)(m.matchesCount,!!Boolean(p.matchesCount)&&p.matchesCount)),g.numberOfMatches(i))):a.createElement("div",Object.assign({},Object(r.c)(m.matchesRow,!!Boolean(p.matchesRow)&&p.matchesRow)),a.createElement(s.a.Ghost,{disabled:u&&0===n,name:"left",title:g.prev,onClick:e},a.createElement(c.d.Arrow,Object.assign({},Object(r.c)(m.leftButtonIcon,!!Boolean(p.leftButtonIcon)&&p.leftButtonIcon)))),a.createElement(l.h,Object.assign({},Object(r.c)(m.matchesCount,!!Boolean(p.matchesCount)&&p.matchesCount)),g.currentMatchPosition(n+1,i)),a.createElement(s.a.Ghost,{disabled:u&&n===i-1,name:"right",title:g.next,onClick:t},a.createElement(c.d.Arrow,Object.assign({},Object(r.c)(m.rightButtonIcon,!!Boolean(p.rightButtonIcon)&&p.rightButtonIcon)))))},u={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:i.a.rem(.25)}}},p={textTransform:"uppercase",letterSpacing:i.a.px(.8),lineHeight:i.a.rem(2)},m=i.a.stylesheet({matchesRow:[u],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[p]})},"0mPX":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("aIes");const r=["b","i","br","ul","li"];var i;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:r.concat(["a"]),linkRegExp:t}:{allowedTags:r};return a.d.setInnerHTML(e,n)}}(i||(i={}))},"17O8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("ERkP"),o=n("OA+g"),s=n("I7vG"),c=n("vOOZ"),l=n("9NHN"),d=n("zR/0"),u=n("gy42"),p=n("nb6X"),m=n("hoSD"),g=n("6fbX"),f=n("lrqh"),h=n("D9EC"),b=n("ax6a"),y=n("p7l/"),v=n("e12y"),C=n("xEVj");!function(e){let t;!function(e){e.toSelector=function(e){switch(e){case"top":case"topCenter":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.middle)};case"topRight":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.right)};case"topLeft":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.left)};case"bottom":case"bottomCenter":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.middle)};case"bottomRight":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.right)};case"bottomLeft":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.left)};case"left":return{align:"left",selector:p.a.Selector.preferBy("left",p.a.Selector.Placement.middle)};case"right":return{align:"right",selector:p.a.Selector.preferBy("right",p.a.Selector.Placement.middle)};case"auto":case"center":return{align:m.c.Rect.Axis.vertical,selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.middle)};default:return Object(g.d)(e)}}}(t=e.Alignment||(e.Alignment={})),e.ByPoint=e=>{var{point:t,className:n}=e,a=Object(r.__rest)(e,["point","className"]);return i.createElement(c.a.div,Object.assign({role:"positioned-container",style:t.pipe(d.a.map(f.g.mapOrDefault(p.a.toCss,{})))},Object(l.c)(x.wrapper,n,t.pipe(d.a.map(e=>f.g.isNone(e)?x.hidden:""))),a))};const n=t=>{var n;const{rect:r,onMount:s}=C.a.useRectWatcher(),c=u.b.toObservable(t.rect),l=u.b.toObservable(t.pinTargetRect),m=b(t.align),g=a(c,r,m,null!==(n=t.selector)&&void 0!==n?n:p.a.Selector.preferTopMiddle,l,"relative"===t.position);return i.createElement(e.ByPoint,{mount:s,className:t.className,point:g.pipe(d.a.map(f.g.map(e=>e.tangentialPoint)))},!0===t.withPin&&g.pipe(d.a.map(Object(o.flow)(f.g.chain(e=>e.median),f.g.map(t=>i.createElement(e.Pin,{point:t,key:"pin"})),f.g.toNullable))),t.children)};e.ByAbsoluteRect=e=>i.createElement(n,Object.assign({},e,{position:"absolute"})),e.ByRelativeRect=e=>i.createElement(n,Object.assign({},e,{position:"relative"})),e.Pin=e=>{const t=u.b.toObservable(e.point).pipe(d.a.map(e=>e.side),d.a.map(e=>E[e])),n=u.b.toObservable(e.point).pipe(d.a.map(e=>e.point),d.a.map(({x:e,y:t})=>({top:t,left:e})));return i.createElement(c.a.i,Object.assign({role:"pin",style:n},Object(l.c)(t,E.wrapper)))};const a=(e,t,n,a,r,o)=>d.a.combineLatestStatic(e,i.useContext(y.a.Context).pipe(d.a.map(e=>e.rect)),t.pipe(d.a.distinctUntilChanged(f.g.getEq(m.c.Box.eq).equals)),r).pipe(d.a.map(([e,t,r,i])=>Object(s.pipe)(r,f.g.map(r=>{const c=p.a.QualifiedVariants.build(t,r,n(e));let l=a(c).point;const d=Object(s.pipe)(p.a.toRect(r,l),f.g.fromEither,f.g.chain(t=>Object(s.pipe)(m.c.Rect.getMedian(e,t),f.g.map(e=>({anchorMedian:e,bodyRect:t})))),f.g.chain(({anchorMedian:e,bodyRect:t})=>{if(void 0!==i){const n=m.c.Rect.stickToSide(m.c.Rect.Side.invert(e.side),i)(t);return l=p.a.fromRect(n),Object(s.pipe)(m.c.Rect.getMedian(i,n),f.g.map(({side:e,point:t})=>({side:e,point:m.c.Rect.Point.relativeTo(t,n)})))}return Object(s.pipe)(f.g.some(e),f.g.map(({side:e,point:n})=>({side:e,point:m.c.Rect.Point.relativeTo(n,t)})))}));return{tangentialPoint:p.a.relativeTo(l,o?e:t),median:d}})))),b=(e=m.c.Rect.Axis.both)=>Object(h.v)(m.c.Rect.Axis,e)?t=>p.a.Variants.byAxis(e,t):t=>({[e]:p.a.Zone.bySide(e,t)})}(a||(a={}));const O={position:"absolute",border:`${v.a.px(7)} solid ${b.a.BackgroundTooltip}`,transform:`translate(${v.a.px(-7)}, ${v.a.px(-7)})`},w={borderTopColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${v.a.px(7)})`}}},S={borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",$nest:{"& + *":{transform:`translateX(${v.a.px(-7)})`}}},k={borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${v.a.px(-7)})`}}},A={borderTopColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateX(${v.a.px(7)})`}}},E=v.a.stylesheet({wrapper:[O],top:[w],right:[S],bottom:[k],left:[A]}),x=v.a.stylesheet({hidden:[{visibility:"hidden",opacity:0}],wrapper:[{position:"absolute",transition:"opacity .2s"}]})},"3bJT":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b}));var a=n("ax6a"),r=n("e12y"),i=n("WIwS"),o=n("ps/9");const s={position:"relative",borderRadius:r.a.rem(o.s),background:a.a.CoreNeutral0,boxShadow:`0 ${r.a.rem(.625)} ${r.a.rem(o.a)} 0 rgba(198, 203, 222, .45)`},c={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},l={$nest:{"&:before":{backgroundColor:i.c}}},d={$nest:{"&:before":{backgroundColor:i.l}}},u={$nest:{"&:before":{backgroundColor:a.a.CoreRed50}}},p={$nest:{"&:before":{backgroundColor:a.a.CoreBlue50}}},m={$nest:{"&:before":{backgroundColor:a.a.CoreGreen50}}},g={$nest:{"&:before":{backgroundColor:a.a.CorePurple50}}},f={$nest:{"&:before":{backgroundColor:a.a.CoreNeutral50}}},h={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},b=Object.assign(Object.assign({},r.a.stylesheet({dot:[c],dotAdvanced:[d],dotCritical:[l],dotCorrectness:[u],dotClarity:[p],dotEngagement:[m],dotDelivery:[g],dotVox:[f]})),{fullCard:r.a.joinClasses([h.fullCardSelector,r.a.style(s)])})},"3gHY":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a,r,i,o,s=n("OA+g"),c=n("I7vG"),l=n("5E2i"),d=n("Ni70"),u=n("6fbX"),p=n("lrqh"),m=n("D9EC"),g=n("hoSD"),f=n("PrA7"),h=n("dE97"),b=n("GUi3"),y=n("zR/0"),v=n("gy42"),C=n("4GD7"),O=n("+w1e"),w=n("NW9S"),S=n("+5S2"),k=n("EjiM"),A=n("XxrX"),E=n("BeBM");class x extends u.a{}!function(e){e.cardSuggestedPositionGetter=(e,t)=>(n,a,r,i)=>{const o="cardTop"===i?0:t(a);return Object(c.pipe)(e(n,Object(c.pipe)(r,p.g.map(w.b.FromWindowTop.ISO.modify(w.a.concatC(-o))))),p.b.map(e=>({top:e,contentOffset:o})))},e.getSuperScrollMapper=(t,n,a)=>{const r=S.a.Mover.moveCardToPositionAnimatedGetter(t,n),i=S.a.Mover.moveCardToPositionSyncGetter(t,n),o=S.a.ContentOffset.contentOffsetGetter();return{setCardPosition:(e,t,n,s)=>{const c={top:s,contentOffset:o(t,a.get())};return(n?r({id:e,position:s}):y.a.of(i({id:e,position:s})).pipe(y.a.map(p.b.unsafeGet))).pipe(y.a.mapTo(c),y.a.startWith(c),y.a.distinctUntilChanged())},getCardSuggestedPosition:e.cardSuggestedPositionGetter(S.a.InfinityScrollGetter.cardPositionGetter(t,n),e=>o(e,a.get())),getCardSuggestedPositionInViewport:e.cardSuggestedPositionGetter(S.a.InfinityScrollGetter.cardPositionInViewportGetter(t,n),e=>o(e,a.get())),willFitViewport:(e,a)=>Object(c.pipe)(t.get(),t=>!!E.e.hasItems(t)&&S.a.willFitViewport(t,n)(e,a)),isAboveViewportTop:S.a.isAboveViewportTop(n)}}}(a||(a={})),function(e){e.getMapper=(e,t,n)=>{return{moveAlertHighlightInViewport:(t,n,a)=>e.ensureAlertHighlightInViewport(t,w.b.FromWindowTop.ISO.unwrap(n),a),getMarkAlertPosition:a=>Object(c.pipe)(e.getMarkByAlert(a),p.b.fromOption(()=>new x("getMarkByAlert returned O.none")),p.b.chain(r=>Object(c.pipe)(r.getRect(),p.b.map(d.b.relativeToViewport),p.b.map(e=>e.top),p.b.orElse(()=>(n.debug("Cached alert is missing, falling back to flush"),(n=>(t.flushChanges(),Object(c.pipe)(e.getMarkByAlert(n),p.b.fromOption(()=>new Error("getMarkByAlert returned O.none")),p.b.chain(e=>Object(c.pipe)(e.getRect(),p.b.map(d.b.relativeToViewport),p.b.map(e=>e.top))))))(a))),p.b.map(w.b.FromWindowTop.ISO.wrap))),p.b.mapLeft(e=>(e instanceof x||n.warn("Cannot getMarkAlertPosition",e),e)),p.g.fromEither,e=>y.a.of(e))}}}(r||(r={}));class I{constructor(e,t,n){this._cardPositions=e,this._alignMarkToItem=t,this._alignItemToMark=n,this._log=f.Monitoring.Logging.root.getLogger("AlignmentViewModel"),this.alignMarkToCard=(e,t,n)=>Object(c.pipe)(e,this._alignMarkToItem({animation:t,suggestedPosition:n})),this.alignCardToMark=(e,t,n)=>Object(c.pipe)(e,this._alignItemToMark({animation:t,fitCardIntoViewport:n}))}alignCardTo(e,t,n){const a=n!==C.a.Animation.NO_ANIMATION;return y.a.defer(()=>y.a.of(p.b.unsafeGet(this._cardPositions.getCardSuggestedPosition(e.id,e.renderOptions.features.has(A.a.Features.showLabel),p.g.some(t),"cardTop")))).pipe(y.a.switchMap(t=>this._cardPositions.setCardPosition(e.id,e.renderOptions.features.has(A.a.Features.showLabel),a,t.top)),y.a.mapTo(v.b.voidValue),y.a.catchError(e=>(this._log.error("Cannot align card to required top",e),y.a.EMPTY)),y.a.share())}}!function(e){e.Mock=class{constructor(){this.alignCardToMark=()=>y.a.EMPTY,this.alignCardTo=()=>y.a.EMPTY,this.alignMarkTo=()=>y.a.EMPTY,this.alignMarkToCard=()=>y.a.EMPTY}}}(i||(i={})),function(e){let t,n;!function(e){let t;!function(e){e.below="below",e.above="above",e.intersects="intersects"}(t=e.RelativePosition||(e.RelativePosition={})),e.getRelativePosition=(e,n,a)=>n.top+a>e.bottom?t.below:e.top>n.bottom?t.above:t.intersects}(t||(t={})),e.createAlignmentOnTypingEffect=(e,t,n,a,r)=>{const i=e.view(E.e.mapper(({currentLens:e})=>Object(c.pipe)(p.g.some(e),p.g.filter(Object(k.d)(r))))).pipe(y.a.map(p.g.chain(a),p.g.filter(r.isValidToAlign)),y.b.compactMap(e=>n.pipe(y.a.switchMap(v.b.Scheduler.rafScheduler),y.a.switchMap(()=>t.alignCardToMark(e,C.a.Animation.NO_ANIMATION,!1)))));return{id:"alignmentOnTyping",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(i.pipe(y.a.switchMapTo(y.a.NEVER)))}},e.createAlignOnDisjointedAreasEffect=(e,n,a,r)=>{const i=e.view(Object(s.flow)(E.e.getLens,p.g.filter(e=>p.g.isNone(E.k.getActiveItem(e))&&e.isCardsHeightValid&&e.items.size>0))),o=i.pipe(y.a.map(p.g.isSome),y.a.distinctUntilChanged(),y.a.switchMap(v.b.orEmpty(a.changes.pipe(y.a.startWith(v.b.voidValue),y.a.switchMap(v.b.Scheduler.rafScheduler),y.a.map(()=>p.g.some((e=>{const t=e.viewport.getValue();return{top:Math.min(t.text.top,t.wrapper.top),bottom:t.text.bottom}})(a))),y.a.map(p.g.filter(e=>e.top-e.bottom!=0))))),y.a.withLatestFrom(i.pipe(y.a.map(p.g.map(({items:e})=>e))),p.g.map2((a,i)=>Object(c.pipe)(S.c.getCardsRect(e,r),p.g.map(e=>({top:w.b.FromWindowTop.ISO.unwrap(e.top),bottom:w.b.FromWindowTop.ISO.unwrap(e.bottom)})),p.g.chain(e=>Object(c.pipe)(((e,n,a)=>{const r=Object(c.pipe)(e.getAt(0),p.g.map(e=>e.positionState.height),p.g.getOrElse(()=>0)),i=t.getRelativePosition(n,a,r);switch(i){case t.RelativePosition.above:return Object(c.pipe)(e.getAt(0),p.g.map(e=>({card:e,top:n.top})));case t.RelativePosition.below:return Object(c.pipe)(e.getAt(0),p.g.map(e=>({card:e,top:n.bottom-e.positionState.height})));case t.RelativePosition.intersects:return p.g.none;default:return Object(u.d)(i)}})(i,a,e),p.g.map(({card:e,top:t})=>n.alignCardTo(e,w.b.FromWindowTop.ISO.wrap(t),C.a.Animation.NO_ANIMATION)))),p.g.getOrElse(()=>y.a.EMPTY)))),y.a.switchMap(p.g.fold(()=>y.a.EMPTY,l.a)));return{id:"alignOnDisjointedAreas",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(o.pipe(y.a.switchMapTo(y.a.NEVER)))}},e.createAlignOnResizeSideEffect=(e,t,n,a,r,i=v.b.Scheduler.rafScheduler)=>{const o=e.view(E.e.mapper(({currentLens:e,alertSource:t})=>p.g.some({currentLens:e,alertSource:t}))).view(p.g.filter(({currentLens:e})=>Object(k.d)(r)(e))).view(p.g.chain(({currentLens:e,alertSource:t})=>Object(c.pipe)(a(e),p.g.filter(r.isValidToAlign),p.g.map(n=>({item:n,source:t,lensId:e.id}))))),s=v.a.windowResize.pipe(y.a.throttleTime(100),y.a.merge(n),y.a.withLatestFrom(o,(e,t)=>t),y.a.switchMap(i),y.a.switchMap(p.g.fold(()=>y.a.EMPTY,({item:e})=>t.alignCardToMark(e,C.a.Animation.NO_ANIMATION,!1))));return{id:"alignOnResizeSideEffect",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(s.pipe(y.a.switchMapTo(y.a.NEVER)))}},function(e){e.skip="skip"}(n=e.SkipAlertActionSource||(e.SkipAlertActionSource={})),e.createAlignmentSideEffect=(t,n,a=((e,t)=>t),r,i,o,s,c=v.b.Scheduler.rafScheduler)=>{const l=e._createAlignmentSource(t,n,a,r,i,o,s,c);return{id:"alignmentSideEffect",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(l.pipe(y.a.switchMapTo(y.a.EMPTY)))}},e._createAlignmentSource=(e,t,a=((e,t)=>t),r,i,o,d,u=v.b.Scheduler.rafScheduler)=>{const f=Object(m.p)(O.b.isAlertMinicardButtonClick,O.b.isSwitchToClosestByViewport,O.b.isAlertCardShow,O.a.isCardExpand,O.b.isBulkAcceptItemShow,O.b.isBulkHighlight),b=y.a.mergeStatic(e.pipe(y.a.map(E.e.mapper(({currentLens:e,alertSource:t})=>p.g.some({currentLens:e,alertSource:t}))),y.a.startWith(p.g.none),y.a.map(p.g.map(e=>e.currentLens.id)),y.a.pairwise(),y.a.filter(([e,t])=>Object(c.pipe)(p.g.map2((e,t)=>e!==t)(e,t),p.g.exists(l.a))),y.a.mapTo(p.g.none)),e.pipe(y.a.map(E.e.mapper(({currentLens:e,alertSource:t})=>p.g.some({currentLens:e,alertSource:t}))),y.a.filter(p.g.exists(({currentLens:e})=>Object(k.d)(i)(e))),y.a.map(p.g.chain(({currentLens:e,alertSource:t})=>Object(c.pipe)(r(e),p.g.filter(i.isValidToAlign),p.g.map(n=>({item:n,source:t,lensId:e.id}))))))).pipe(y.a.distinctUntilChanged(Object(s.flow)(p.g.map2((e,t)=>e.lensId===t.lensId&&e.source===t.source&&e.item.activeAlert.id===t.item.activeAlert.id&&e.item.visualState.transition.type===t.item.visualState.transition.type&&e.item.activeHighlightIndex===t.item.activeHighlightIndex),p.g.exists(l.a)))),S=Object(m.p)(O.b.isBulkHighlight,O.b.isAlertMinicardButtonClick),A=t.pipe(y.a.filter(f),y.a.map(p.g.some),y.a.startWith(p.g.none),y.a.pairwise(),y.a.filter(Object(s.flow)(Object(s.tupled)(p.g.map2((e,t)=>!O.b.isAlertCardShow(t)||!O.b.isAlertMinicardButtonClick(e))),p.g.getOrElse(s.constFalse))),y.a.map(([,e])=>Object(c.pipe)(e,p.g.filter(S))),y.a.startWith(p.g.none)).pipe(y.a.switchMap(e=>b.pipe(y.a.filter(p.g.exists(e=>e.source===h.b.sidebar)),y.a.map(p.g.chain(t=>p.g.some(Object.assign(Object.assign({},t),{clickPoint:Object(c.pipe)(e,p.g.map(g.e.pick("clickPoint")))}))))))),x=b.pipe(y.a.filter(p.g.exists(e=>e.source!==h.b.sidebar)),y.a.map(e=>Object(c.pipe)(e,p.g.chain(e=>p.g.some(Object.assign(Object.assign({},e),{clickPoint:p.g.none}))))));return y.a.mergeStatic(A,x).pipe(y.a.startWith(p.g.none),y.a.pairwise(),y.a.map(([e,t])=>Object(c.pipe)(t,p.g.map(n=>({lensId:n.lensId,card:n.item,source:n.source,animate:Object(c.pipe)(e,p.g.forAll(({lensId:e})=>e===n.lensId)),clickPoint:Object(c.pipe)(t,p.g.chain(g.e.pick("clickPoint")),p.g.map(Object(s.flow)(g.e.pick("y"),w.b.FromWindowTop.ISO.wrap)))})))),y.a.switchMap(p.g.fold(()=>y.a.EMPTY,u)),y.a.withLatestFrom(e),y.a.switchMap(([{card:e,source:t,animate:r,clickPoint:i,lensId:s},l])=>Object(c.pipe)(a(e,t),t=>{return E.e.hasItems(l)&&l.currentLens.items.has(e.id)&&s===l.currentLens.id&&t!==n.skip?((e,t,n,a)=>{if(n===h.b.text)return Object(c.pipe)(e,d({animation:t?C.a.Animation.ANIMATE_ALL:C.a.Animation.NO_ANIMATION,fitCardIntoViewport:!0}));if(n===E.c.forceText)return Object(c.pipe)(e,d({animation:C.a.Animation.NO_ANIMATION,fitCardIntoViewport:!1}));{const r=n===h.b.sidebar?t?C.a.Animation.ANIMATE_ALL:C.a.Animation.ANIMATE_MARK:C.a.Animation.NO_ANIMATION;return Object(c.pipe)(e,o({animation:r,suggestedPosition:a}))}})(e,r,t,i):y.a.NEVER})))}}(o||(o={}))},"4GD7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("bYZB"),o=n("lrqh"),s=n("6fbX"),c=n("PrA7"),l=n("zR/0"),d=n("gy42"),u=n("NW9S"),p=n("XxrX");!function(e){let t;!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(t=e.Animation||(e.Animation={}));const n=c.Monitoring.Logging.root.getLogger("AlignmentViewModel");function a(e,t){return Object(r.pipe)(e,o.b.fold(({kind:e,reason:t})=>{switch(e){case"error":n.error("Cannot align card to mark",{reason:t});break;case"notFound":n.info("Item does not exist, alignment is canceled",{reason:t});break;default:Object(s.d)(e)}return l.a.EMPTY},e=>l.a.of({mark:t,card:e})))}e.alignMarkToItem=function(e,s){return({animation:c,suggestedPosition:m})=>({id:g,renderOptions:{features:f},activeHighlightIndex:h,activeAlert:b})=>Object(r.pipe)(e.getMarkAlertPosition({alert:b,highlightIndex:h}),l.b.compact,l.a.map(e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(g,f.has(p.a.Features.showLabel),o.g.none,"cardContentTop")})),l.a.switchMap(({cardPosition:e,mark:t})=>a(e,t)),l.a.switchMap(({card:e,mark:t})=>s.setCardPosition(g,f.has(p.a.Features.showLabel),!1,u.b.FromWindowTop.ISO.modify(u.a.concatC(-e.contentOffset))(t)).pipe(l.a.distinctUntilChanged(),l.a.mapTo(Object(r.pipe)(m,o.g.filter(t=>s.willFitViewport(g,u.b.FromWindowTop.ISO.modify(u.a.concatC(-e.contentOffset))(t))),o.g.getOrElse(()=>u.b.FromWindowTop.ISO.modify(u.a.concatC(e.contentOffset))(e.top)))))),l.a.switchMap(n=>e.moveAlertHighlightInViewport({alert:b,highlightIndex:h},n,c===t.ANIMATE_ALL?i.a.fake:i.a.none)),l.a.mapTo(d.b.voidValue),l.a.catchError(e=>(n.error("Cannot align mark to card",e),l.a.EMPTY)),l.a.share())},e.alignItemToMark=function(t,s){return({animation:c,fitCardIntoViewport:m})=>({id:g,renderOptions:{features:f},activeAlert:h,activeHighlightIndex:b})=>Object(r.pipe)(t.getMarkAlertPosition({alert:h,highlightIndex:b}),l.a.switchMap(o.g.fold(()=>l.a.EMPTY,e=>l.a.of(e))),l.a.map(e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(g,f.has(p.a.Features.showLabel),o.g.some(e),"cardContentTop")})),l.a.switchMap(({cardPosition:e,mark:t})=>a(e,t)),l.a.switchMap(({card:n,mark:a})=>l.a.mergeStatic(s.setCardPosition(g,f.has(p.a.Features.showLabel),c===e.Animation.ANIMATE_ALL,u.b.FromWindowTop.ISO.modify(u.a.concatC(-n.contentOffset))(a)),d.b.orEmpty(t.moveAlertHighlightInViewport({alert:h,highlightIndex:b},u.b.FromWindowTop.ISO.modify(u.a.concatC(n.contentOffset))(n.top),c===e.Animation.ANIMATE_ALL?i.a.initial:i.a.none))(m))),l.a.mapTo(d.b.voidValue),l.a.catchError(e=>(n.error("Cannot align card to mark",e),l.a.EMPTY)),l.a.share())}}(a||(a={}))},"5Ax0":function(e,t,n){"use strict";var a=n("maj8"),r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,d=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116,h="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function C(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}function O(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},O.prototype=C.prototype;var S=w.prototype=new O;S.constructor=w,a(S,C.prototype),S.isPureReactComponent=!0;var k={current:null},A=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var a,r={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,a)&&!E.hasOwnProperty(a)&&(r[a]=t[a]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===r[a]&&(r[a]=c[a]);return{$$typeof:i,type:e,key:o,ref:s,props:r,_owner:k.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var j=/\/+/g,T=[];function N(e,t,n,a){if(T.length){var r=T.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=a,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:a,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function P(e,t,n){return null==e?0:function e(t,n,a,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case i:case o:c=!0}}if(c)return a(r,t,""===n?"."+B(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var d=n+B(s=t[l],l);c+=e(s,d,a,r)}else if(null===t||"object"!=typeof t?d=null:d="function"==typeof(d=h&&t[h]||t["@@iterator"])?d:null,"function"==typeof d)for(t=d.call(t),l=0;!(s=t.next()).done;)c+=e(s=s.value,d=n+B(s,l++),a,r);else if("object"===s)throw a=""+t,Error(b(31,"[object Object]"===a?"object with keys {"+Object.keys(t).join(", ")+"}":a,""));return c}(e,"",t,n)}function B(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var a=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?R(e,a,n,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n)),a.push(e))}function R(e,t,n,a,r){var i="";null!=n&&(i=(""+n).replace(j,"$&/")+"/"),P(e,D,t=N(t,i,a,r)),L(t)}var $={current:null};function M(){var e=$.current;if(null===e)throw Error(b(321));return e}var _={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:function(e,t,n){if(null==e)return e;var a=[];return R(e,a,null,t,n),a},forEach:function(e,t,n){if(null==e)return e;P(e,F,t=N(null,null,t,n)),L(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return R(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw Error(b(143));return e}},t.Component=C,t.Fragment=s,t.Profiler=l,t.PureComponent=w,t.StrictMode=c,t.Suspense=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.cloneElement=function(e,t,n){if(null==e)throw Error(b(267,e));var r=a({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)A.call(t,d)&&!E.hasOwnProperty(d)&&(r[d]=void 0===t[d]&&void 0!==l?l[d]:t[d])}var d=arguments.length-2;if(1===d)r.children=n;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:i,type:e.type,key:o,ref:s,props:r,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="16.14.0"},"5l2B":function(e,t,n){e.exports=n.p+"files/eabe5d072b56b38a23c37e1b991c215d/inter-lightitalic.woff2"},"5o4I":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("m6JR"),i=n("lrqh");!function(e){e.eq=Object(r.getStructEq)({alert:Object(r.contramap)(e=>e.id)(r.eqStrict),highlightIndex:r.eqStrict}),e.getEq=()=>e.eq,e.getHighlightRange=e=>i.a.lookup(e.highlightIndex)(e.alert.getHighlightRanges())}(a||(a={}))},"5vGs":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("ERkP"),r=n("uDCn"),i=n("KeH5"),o=n("D9EC"),s=n("+w1e");const c=({card:e,actions:t})=>a.createElement(r.a,{key:e.id,content:e.cardDSL.value,prevContent:e.prevCardDSL,transitions:[...e.transitions],designSystem:i.a,notify:(n,a)=>t.next({type:s.b.Type.sduiCardAction,sourceId:n,cardId:e.id,actions:a}),onAnimationEnd:()=>t.next({type:s.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onMount:o.e})},"5z3N":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return B}));var a,r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("5E2i"),c=n("9NHN"),l=n("lrqh"),d=n("rk+4"),u=n("GUi3"),p=n("dE97"),m=n("UEGg"),g=n("XxrX"),f=n("bO3R"),h=n("H37f"),b=n("3rlE"),y=n("26kZ"),v=n("BugA"),C=n("3bJT"),O=n("es5d");!function(e){e.none="none",e.persistent="persistent",e.new="new"}(a||(a={}));const w=({className:e,vox:t,isMinimalCard:n})=>{const{vox:{styleGuide:a}}=r.useContext(d.a.Context);return r.createElement("div",Object.assign({},Object(c.c)(e,O.a.voxTitle,n?O.a.minimalTitle:void 0)),r.createElement("span",null,t.companyName," ",a))},S=({logoUrl:e,className:t})=>r.createElement("img",Object.assign({alt:"company logo",src:e},Object(c.c)(t,O.a.voxLogo))),k=({title:e,layoutDensity:t})=>r.createElement(v.a,{className:Object(o.pipe)(t,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>O.a.minimalTitle,()=>O.a.toneTitle))},r.createElement(h.b,{emojiClassName:O.a.toneLogo},e));function A(e){return u.a.outcomeTypeMatch({correctness:C.a.dotCorrectness,clarity:C.a.dotClarity,premium:C.a.dotAdvanced,engagement:C.a.dotEngagement,delivery:C.a.dotDelivery,vox:C.a.dotVox})(e.lensType)}function E(e){return u.a.outcomeTypeMatch({correctness:r.createElement(b.d.Correctness,{className:O.a.cardLogo}),clarity:r.createElement(b.d.ClarityOutcome,{className:O.a.cardLogo}),premium:r.createElement(b.d.Star,{className:O.a.cardLogo}),engagement:r.createElement(b.d.EngagementOutcome,{className:O.a.cardLogo}),delivery:r.createElement(b.d.DeliveryOutcome,{className:O.a.cardLogo}),vox:null})(e.lensType)}const x=({companyLogoUrl:e})=>{const t=r.useContext(d.a.Context).card.sentenceLevelBrandTones;return r.createElement(v.l,{className:O.a.sentenceLevelBrandTonesLabel},Boolean(e)?r.createElement("img",{alt:"company logo",src:e,className:O.a.toneLogo}):null,r.createElement("span",{className:O.a.sentenceLevelBrandTonesOffBrand},t.offBrandCardTitle)," ",t.detected)};function I(e,t,n,a,d,u){const{extraProperties:f}=e;return m.a.isTakeaway(e)?function(e,t,n){return{style:"",description:r.createElement("div",{className:Object(o.pipe)(t,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>O.a.minimalTitle,()=>void 0))},l.g.contains(p.q.correctlyDetected)(e.takeawayFeedback)&&e.takeawayIsLikelyToBeRead?r.createElement(b.d.ValidationOk,Object.assign({width:16},Object(c.c)(O.a.cardLogo,O.a.takeawayIcon))):r.createElement(b.d.Megaphone,Object.assign({width:16},Object(c.c)(O.a.cardLogo,O.a.takeawayIcon))),t===g.a.Density.minimal?n:e.lensName)}}(e,n,u):m.a.isSentenceLevelBrandTones(e)?function(e){const t=Object(o.pipe)(e.extraProperties.sentenceLevelBrandTones,l.g.chain(e=>e.companyLogoUrl),l.g.fold(i.constNull,s.a));return{style:"",description:r.createElement(x,{companyLogoUrl:t})}}(e):m.a.isShortenIt(e)?j(e,n,d,u):m.a.isToneAI(e)?function(e){return{style:A(e),description:r.createElement(v.a,{className:O.a.minimalTitle},e.title)}}(e):m.a.isEthicalAI(e)?function(e){return{style:"",description:r.createElement("div",null,void 0!==e.emojiID?r.createElement(h.c,{id:e.emojiID,className:O.a.toneLogo}):r.createElement(b.d.EthicalAI.Heart,Object.assign({},Object(c.c)(O.a.cardLogo))),r.createElement(v.l,{className:O.a.ethicalAILabel},e.miniCardTitle))}}(e):m.a.isSuggestedSnippet(e)?function(e){return{style:A(e),description:r.createElement(v.a,{className:O.a.minimalTitle},e.title)}}(e):l.g.isSome(f.tone)?function(e,t){return{style:A(e),description:r.createElement(k,{title:e.title,layoutDensity:t})}}(e,n):t?l.g.isSome(f.vox)?function(e,t){return{style:C.a.dotVox,description:r.createElement(r.Fragment,null,Object(o.pipe)(e.logoUrl,l.g.fold(()=>null,e=>r.createElement(S,{logoUrl:e,className:O.a.cardLogo}))),r.createElement(w,{vox:e,isMinimalCard:t===g.a.Density.minimal}))}}(f.vox.value,n):m.a.isFree(e)?j(e,n,d,u):function(e,t,n,a){return{style:Object(o.pipe)(a,g.a.CardVisualMode.match({onRegular:()=>A(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,Object(o.pipe)(a,g.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),r.createElement("div",Object.assign({},Object(c.c)(O.a.dualItemLabel,Object(o.pipe)(n,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>O.a.minimalTitle,()=>void 0)))),r.createElement("span",{className:O.a.dualItemLabel},e.lensName,r.createElement(L,{highlightStyle:t}))))}}(e,a,n,d):null}function j(e,t,n,a){return Object(o.pipe)(t,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>(function(e,t,n){return{style:Object(o.pipe)(t,g.a.CardVisualMode.match({onRegular:()=>A(e),onContrast:()=>""})),description:Boolean(n)?n:r.createElement(r.Fragment,null,Object(o.pipe)(t,g.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),r.createElement(v.a,{className:O.a.minimalTitle},e.miniCardTitle))}})(e,n,a),()=>(function(e,t){return{style:Object(o.pipe)(t,g.a.CardVisualMode.match({onRegular:()=>A(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,Object(o.pipe)(t,g.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),e.lensName)}})(e,n)))}const T=({label:e})=>r.createElement("span",{className:O.a.fluencyLabel},e,r.createElement(f.b,{iconWidth:10,buttonClass:O.a.fluencyInfo,iconClass:O.a.fluencyInfo,title:r.useContext(d.a.Context).card.fluency.tooltip})),N=({style:e,description:t})=>r.createElement("span",Object.assign({},Object(c.c)(O.a.lens,O.a.dot,e)),t),L=({highlightStyle:e})=>{const t=r.useContext(d.a.Context);if(e===a.none)return null;const n=e===a.new?r.createElement("div",{className:O.a.newPremiumLabel},t.premiumAlertLabel.new,r.createElement(b.d.Paid,{className:O.a.newPremiumLabelIcon,width:12})):r.createElement(b.d.Paid,{className:O.a.premiumPersistentTooltipIcon,width:10});return r.createElement(y.a,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},n)},P=({style:e,description:t,extraStyle:n})=>r.createElement("span",Object.assign({},Object(c.c)(n,O.a.lensMinimal,O.a.lens,O.a.dot,e)),t),B=e=>Object(o.pipe)(I(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.cardVisualMode,e.children),l.g.fromNullable,l.g.map(t=>r.createElement("div",{className:e.className},Object(o.pipe)(e.activeAlert.extraProperties.fluencyMessage,l.g.fold(()=>Object(o.pipe)(e.layoutDensity,g.a.Density.matchOrDefault(g.a.Density.minimal)(()=>r.createElement(P,Object.assign({},t)),()=>r.createElement(N,Object.assign({},t)))),n=>Object(o.pipe)(e.layoutDensity,g.a.Density.match(r.createElement(r.Fragment,null,r.createElement(N,Object.assign({},t)),r.createElement(T,{label:n})),r.createElement(N,Object.assign({},t)),r.createElement(P,{style:t.style,extraStyle:O.a.minimalTitle,description:e.activeAlert.miniCardTitle}))))))),l.g.fold(()=>r.createElement("div",{"data-purpose":"label-placeholder"}),t=>r.createElement(F,null,t,e.badge))),F=({children:e})=>r.createElement("div",{className:O.a.labelContainer},e)},"6lhv":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n("ERkP"),r=n("a5W6"),i=n("I7vG"),o=n("LNSM"),s=n("vOOZ"),c=n("zR/0"),l=n("gy42"),d=n("lrqh"),u=n("D9EC");class p extends a.Component{constructor(){super(...arguments),this._state=this.props.state.pipe(c.a.startWith(void 0),c.a.map((e,t)=>({state:e,key:t})),c.a.pairwise(),c.a.map(([e,t])=>{const n=this.props.stateToClassMapper(e.state,t.state);return{prev:{key:e.key,state:e.state,view:f(n.prev)},next:{key:t.key,state:t.state,view:f(n.next)}}})),this._elements=o.a.create(g.empty),this._done=new c.a.Subject,this._subs=[]}componentDidMount(){const{children:e}=this.props;this._subs.push(this._state.pipe(c.a.map(({prev:t,next:n})=>{const a=e;return void 0===e?g.empty:[Object(i.pipe)(t.state,d.g.fromNullable,d.g.map(e=>a({state:e,view:t.view,type:"prev",done:()=>this._done.next("prev")})),d.g.chain(d.g.fromNullable),d.g.map(e=>({key:t.key,entry:e}))),Object(i.pipe)(a({state:n.state,view:n.view,type:"next"}),d.g.fromNullable,d.g.map(e=>({key:n.key,entry:e})))]})).subscribe(l.b.toAtom(this._elements)),this._done.subscribe(e=>{"prev"===e&&this._elements.modify(([e,t])=>[d.g.none,t]),"next"===e&&this._elements.set(g.empty)}))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{children:e,className:t,onMount:n,onMouseDown:i}=this.props;return e?a.createElement(s.a.div,{className:t,mount:n,onMouseDown:i},this._elements.view(r.array.compact).view(e=>e.map(e=>a.createElement(a.Fragment,{key:e.key},e.entry)))):null}}const m=e=>({start:e,end:e});var g;function f({start:e,end:t}){return c.a.Observable.create(n=>{n.next(e);const a=requestAnimationFrame(()=>requestAnimationFrame(()=>n.next(t)));return()=>cancelAnimationFrame(a)})}!function(e){e.empty=[d.g.none,d.g.none]}(g||(g={}));const h=e=>{const t=e.content.pipe(c.a.map(t=>({className:e.classes.rendered,el:t,onTransitionEnd:u.e})),c.a.map(d.g.some),c.a.startWith(d.g.none),c.a.pairwise(),c.a.map(([t,n])=>Object(i.pipe)(t,d.g.fold(()=>d.g.map(c.a.of)(n),t=>Object(i.pipe)(n,d.g.map(n=>{const a=new c.a.Subject;return c.a.mergeStatic(c.a.of({className:e.classes.removing,el:t.el,onTransitionEnd:()=>a.next()}),c.a.raceStatic(a.pipe(c.a.first()),c.a.timer(e.timeout)).pipe(c.a.mapTo(n)))}))))),c.b.compact,c.a.switchAll(),c.a.shareReplay({refCount:!0,bufferSize:1}));return a.createElement(s.a.div,{className:t.pipe(c.a.map(e=>e.className)),onTransitionEnd:t.pipe(c.a.map(e=>e.onTransitionEnd))},t.pipe(c.a.map(e=>e.el)))}},"72zh":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"7pZ3":function(e,t,n){e.exports=n.p+"files/de9b0866cf73188ae7ca0292a439d6a4/inter-mediumitalic.woff"},"7wg/":function(e,t,n){e.exports=n.p+"files/88b63c27cdce33467477f6b31373c11b/inter-italic.woff"},"8Zga":function(e,t,n){e.exports=n.p+"files/39a510c28179c25e0e4f65524d8d5394/inter-light.woff"},"8cdc":function(e,t,n){e.exports=n.p+"files/d5e790be1041e248afed3159b60a25a8/inter-bolditalic.woff2"},"8uad":function(e,t,n){"use strict";n.d(t,"a",(function(){return le}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("uqkn"),c=n("E0zP"),l=n("XxrX"),d=n("zR/0"),u=n("0A/6"),p=n("LNSM"),m=n("lrqh"),g=n("D9EC"),f=n("PrA7"),h=n("rk+4"),b=n("+w1e"),y=n("bO3R"),v=n("3rlE"),C=n("BlMh"),O=n("BugA"),w=n("aIes"),S=n("yZqL"),k=n("ax6a"),A=n("e12y");const E=A.a.style({margin:`${A.a.rem(1)} 0`}),x=A.a.style({marginLeft:A.a.rem(.5),lineHeight:A.a.rem(1.3125),fontSize:A.a.rem(.875),color:k.a.CoreNeutral90}),I=A.a.style({display:"flex",flexDirection:"column",$nest:{"& > *:not(:last-child)":{marginBottom:A.a.rem(1)}}}),j=A.a.style({marginLeft:A.a.rem(1)}),T={color:k.a.CoreRed60,fontSize:A.a.rem(.75),lineHeight:A.a.rem(1.125)},N=A.a.style(T),L=A.a.style(T,{visibility:"hidden"}),P=A.a.style({padding:0}),B=A.a.style({paddingTop:A.a.rem(.5),display:"flex"}),F=A.a.style({marginLeft:"auto"}),D=A.a.style({paddingTop:A.a.rem(.25)}),R=A.a.style({display:"flex",flexDirection:"row",columnGap:A.a.rem(.5),alignItems:"center"}),$=A.a.style({flex:3,textAlign:"center"}),M=A.a.style({color:k.a.CoreNeutral50});var _=n("HUX/");const W=({card:e,actions:t})=>Object(i.pipe)(e.visualState.transition,m.g.fromPredicate(e=>"feedback_form"===e.type),m.g.fold(()=>(f.Monitoring.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null),n=>"survey"===n.formType?a.createElement(H,{card:e,data:n,actions:t}):a.createElement(G,{card:e,data:n,actions:t}))),H=({card:e,data:t,actions:n})=>{const r=a.useContext(h.a.Context).card.feedbackForm,i=p.a.create(void 0),s=p.a.create(!1),c=a=>n.next(Object.assign({alertId:e.activeAlert.id,reason:a},t.submitActionType===b.b.Type.alertApplyFormSubmit?{type:b.b.Type.alertApplyFormSubmit,alertApplyActionProps:t.alertApplyActionProps}:{type:b.b.Type.alertIgnoreFormSubmit}));return a.createElement(S.a,{onFocus:()=>n.next({type:b.b.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:Object(_.b)(e.renderOptions),visualState:e.visualState,body:a.createElement(a.Fragment,null,a.createElement(O.g,{className:E},t.survey.question||r.dismissReason),a.createElement("div",{className:I},a.createElement(C.a.Group,{selectedItemIndex:i,items:t.survey.options.map(e=>a.createElement("div",{className:x},e.text)),onChange:()=>s.set(!1)}))),mainActions:a.createElement(a.Fragment,null),footer:a.createElement(a.Fragment,null,a.createElement(o.a.div,{"aria-hidden":s,className:s.view(Object(g.c)(N,L))},r.error),a.createElement("div",null,a.createElement(y.a.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=i.get();return void 0===e?s.set(!0):w.d.callOnce(()=>c(t.survey.options[e].key))()}},r.submit),a.createElement(y.a.Ghost,{className:j,name:"skipCardFeedbackForm",onClick:w.d.callOnce(()=>c("skipped"))},r.skip))),subActions:a.createElement(a.Fragment,null)})},G=({card:e,data:t,actions:n})=>{const r=a.useContext(h.a.Context).card.gbPrompt,i=()=>n.next({type:b.b.Type.gbPromptDismiss,alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt});return a.createElement(S.a,{onFocus:()=>n.next({type:b.b.Type.gbPromptShow,alertId:e.activeAlert.id}),theme:Object.assign(Object.assign({},Object(_.b)(e.renderOptions)),{wrapper:P}),visualState:e.visualState,header:a.createElement("div",{className:B},a.createElement(v.d.Draggable,null),a.createElement(O.g,{className:D},t.gbPrompt.title),a.createElement(y.a,{name:"dismissGbPromptFeedbackForm",className:F,onClick:w.d.callOnce(i)},a.createElement(v.d.Close,null))),body:t.gbPrompt.description,mainActions:a.createElement(a.Fragment,null),footer:a.createElement("div",{className:R},a.createElement(y.a.Primary,{name:"submitGbPromptFeedbackForm",className:$,onClick:w.d.callOnce(()=>n.next({type:b.b.Type.gbPromptApply,alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt}))},a.createElement(v.d.StyleGuideRule,null),r.addRule),a.createElement(y.a.Flat,{name:"dismissGbPromptFeedbackForm",className:M,onClick:w.d.callOnce(i)},r.dismiss)),subActions:a.createElement(a.Fragment,null)})};var q=n("jSKJ"),V=n("oWeJ"),z=n("xEVj"),U=n("H9T+");const Y=A.a.style({marginRight:A.a.rem(-.5),marginTop:A.a.rem(.5)}),X=A.a.style({padding:`0 ${A.a.rem(1.625)} !important`,marginRight:A.a.rem(.125)}),K=A.a.style({marginRight:0}),Z=({card:e,actions:t,showLabel:n=!0})=>{const r=a.useRef(p.a.create(!1));z.a.useEffectOnWillUnmount(()=>{r.current.get()||Object(i.pipe)(e.muteCategory,m.g.map(n=>t.next({type:b.b.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:n.id})))});const o=a.useContext(h.a.Context).card.mutedAlertCard;return a.createElement(S.a,{onFocus:()=>t.next({type:b.b.Type.mutedAlertSuccessShow}),theme:Object(_.b)(e.renderOptions),visualState:e.visualState,body:a.createElement(a.Fragment,null,n?a.createElement(U.j,{alert:e.activeAlert,options:e.renderOptions}):null,a.createElement(O.a,null,o.description(Object(i.pipe)(e.muteCategory,m.g.fold(()=>"",e=>e.description))))),mainActions:a.createElement(a.Fragment,null),footer:a.createElement("div",{className:Y},a.createElement(y.a.Primary,{name:"gotIt",className:X,onClick:()=>w.d.callOnce(()=>t.next({type:b.b.Type.switchToNext}))()},o.successButtonLabel),a.createElement(y.a.Ghost,{name:"turnBackOn",onClick:w.d.callOnce(()=>{r.current.set(!0),Object(i.pipe)(e.muteCategory,m.g.map(n=>t.next({type:b.b.Type.undoMuteAlertCategory,categoryId:n.id,viewType:e.activeAlert.type,id:e.id})))})},o.undoButtonLabel,a.createElement(v.d.Undo,{color:k.a.CoreBlue50,className:K}))),subActions:a.createElement(y.a.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:b.b.Type.mutedAlertSuggestionManagementClick})},o.settingsLabel,a.createElement(v.d.OuterLink,null))})};var Q=n("S3HV"),J=n("5vGs"),ee=n("r/bb"),te=n("IdhR"),ne=n("0PmZ");function ae(e,t,n){const{activeAlert:a,activeHighlightIndex:r}=t,i=a.getHighlightRanges(),o=(r+("left"===e?i.length-1:1))%i.length;n.next({type:b.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const re=({card:e,actions:t,selectedLabelIndex:n,isChecking:r})=>{const i=a.useContext(h.a.Context),o=p.a.create(!1);return z.a.useSubscriptionTo(r.pipe(d.a.tap(e=>o.set(e)))),a.createElement(U.r,{applyMessage:e.activeAlert.todoAction,checkingMessage:i.card.checking,title:i.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:b.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n.get(),id:e.id,eligibleForSurvey:s.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:s.a.isEligibleForGbPrompt(e),cardType:b.b.getCardType(e)})}})},ie=({card:e,actions:t})=>a.createElement(ne.a,{onLeftClick:()=>ae("left",e,t),onRightClick:()=>ae("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var oe=n("eLeT");const se=({activeAlert:e,selectedLabelIndex:t,actions:n})=>{const r=a.useContext(h.a.Context);return a.createElement("div",{className:oe.a.optionsContainer},e.labels.map((e,i)=>a.createElement(a.Fragment,{key:`option-${i}`},a.createElement(C.a.Item,{className:oe.a.optionLabel,onChange:()=>{t.set(i),n.next({type:b.b.Type.alternativeReplacementRadioButtonClick,index:i})},checked:t.view(e=>e===i)},a.createElement(O.a,{className:oe.a.optionRadio},e.label)),a.createElement(O.l,{className:oe.a.optionExample},e.replacementTexts.join("; ")),a.createElement(O.l,{className:oe.a.optionSecondaryAttribute},r.card.matchesNavigation.numberOfMatches(e.matches)))))},ce=({card:e,actions:t,isChecking:n,isCheckingGlobal:r})=>{const i=p.a.create(0);return a.createElement(S.a,{visualState:e.visualState,onFocus:()=>t.next({type:b.b.Type.alertCardShow,cardType:b.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object.assign({wrapper:oe.a.superWrapper,content:r.pipe(d.a.map(Object(g.c)(oe.a.loadingWrapperInvisible,oe.a.loadingWrapper)))},Object(_.a)(e.renderOptions.layoutDensity)),extra:a.createElement(U.c,{isChecking:r}),body:a.createElement(a.Fragment,null,a.createElement(U.j,{alert:e.activeAlert,options:e.renderOptions}),a.createElement(U.q,{alert:e.activeAlert}),a.createElement(U.l,{card:e,isChecking:n}),a.createElement(U.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),a.createElement(se,{activeAlert:e.activeAlert,selectedLabelIndex:i,actions:t})),mainActions:a.createElement(U.e,{card:e,feedbackActions:t}),footer:a.createElement(a.Fragment,null,a.createElement(U.h,{card:e}),a.createElement(re,{selectedLabelIndex:i,card:e,actions:t,isChecking:n})),navigation:a.createElement(ie,{card:e,actions:t}),subActions:a.createElement(te.a,{actions:t,card:e,mode:"mini"})})};var le,de;(de=le||(le={})).Full=({card:e,actions:t})=>{const{isChecking:n,isCheckingGlobal:i,transform:c}=s.a.useCardStates(e),l=e=>a.createElement(q.a,{card:e,actions:t,isChecking:n,transform:c,isCheckingGlobal:i});return a.createElement(o.a.Fragment,null,e.pipe(d.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()),d.a.map(Object(r.flow)(s.a.match({super:e=>a.createElement(ce,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}),takeaway:l,sentenceLevelBrandTones:l,synfony:l,shortenIt:l,toneAI:l,ethicalAI:l,sdui:e=>a.createElement("div",{className:Object(_.a)(e.renderOptions.layoutDensity).container},a.createElement(J.a,{card:e,actions:t})),suggestedSnippet:l,default:l}),s.a.foldCard))))},de.Mini=({card:e,actions:t})=>a.createElement(o.a.Fragment,null,e.pipe(d.a.map(e=>l.a.Density.matchL(()=>a.createElement(de.MiniSingleLined,{card:e,actions:t}),()=>a.createElement(de.MiniTwoLined,{card:e,actions:t}),()=>a.createElement(de.MiniTwoLined,{card:e,actions:t}))(e.renderOptions.layoutDensity)))),de.MiniSingleLined=({card:e,actions:t})=>{function n(e){return a.createElement(V.a.Standard,{card:e,actions:t})}return Object(i.pipe)(e,s.a.match({super:n,takeaway:n,sentenceLevelBrandTones:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return a.createElement(Q.a.Mini,{card:e,actions:t})},sdui:n,suggestedSnippet:n,default:n}),s.a.foldCard)},de.MiniTwoLined=({card:e,actions:t})=>{function n(e){return a.createElement(V.a.TwoLined,{card:e,actions:t})}return Object(i.pipe)(e,s.a.match({super:n,takeaway:n,sentenceLevelBrandTones:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return a.createElement(Q.a.Mini,{card:e,actions:t,twoLined:!0})},sdui:n,suggestedSnippet:n,default:n}),s.a.foldCard)},de.Success=({cardData:e,actions:t,isLastCard:n})=>{function r(){return a.createElement(u.a.Success,{actions:t,isLastCard:n})}return Object(i.pipe)(e,c.a.match({takeaway:r,default:r,sentenceLevelBrandTones:r,synfony:r,super:r,shortenIt:r,toneAI:r,ethicalAI:r,sdui:r,suggestedSnippet:function(e){return a.createElement(ee.a.Success,{card:e,actions:t})}}),s.a.foldCard)},de.FeedbackForm=({cardData:e,actions:t})=>{function n(e){return a.createElement(W,{card:e,actions:t})}return Object(i.pipe)(e,c.a.match({takeaway:n,default:n,sentenceLevelBrandTones:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,sdui:n,suggestedSnippet:n}),s.a.foldCard)},de.MutedAlert=({cardData:e,actions:t})=>{function n(e){return a.createElement(Z,{card:e,actions:t})}return Object(i.pipe)(e,c.a.match({takeaway:n,default:n,sentenceLevelBrandTones:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,sdui:n,suggestedSnippet:n}),s.a.foldCard)}},"9+0S":function(e,t,n){e.exports=n.p+"files/28aa0d261b04149285b4ec9850b7ae97/inter-medium.woff2"},"9/oM":function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return T}));var a=n("D57K"),r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("5E2i"),c=n("vOOZ"),l=n("9NHN"),d=n("LNSM"),u=n("lrqh"),p=n("6fbX"),m=n("hoSD"),g=n("MsKq"),f=n("p7l/"),h=n("LXcl"),b=n("zR/0"),y=n("gy42"),v=n("SGQG"),C=n("bO3R"),O=n("3rlE"),w=n("17O8"),S=n("BugA");const k=({alignment:e,rect:t,onClose:n,className:a,children:i,icon:s,pinTargetRect:d,hideCloseButton:p,onMount:m})=>r.createElement(w.a.ByRelativeRect,Object.assign({rect:t,className:v.a.notificationContainer},w.a.Alignment.toSelector(e),{pinTargetRect:d,withPin:!0}),r.createElement(c.a.div,Object.assign({},Object(l.c)(v.a.stepWrapper,a),{mount:m}),Object(o.pipe)(s,u.g.fold(()=>r.createElement(O.d.Grammarly,{className:v.a.alertIcon}),e=>r.createElement(e,{className:v.a.alertIcon}))),i,!(null!=p&&p)&&r.createElement(C.a,{name:"onboard-close",className:v.a.closeIconWrapper,onClick:()=>n&&n()},r.createElement(O.d.Close,{className:v.a.closeIcon,width:12})))),A=e=>{var{title:t,description:n}=e,i=Object(a.__rest)(e,["title","description"]);return r.createElement(k,Object.assign({},i),r.createElement("span",{className:v.a.content},Boolean(t)?r.createElement(S.i,{className:v.a.header},t):null,r.createElement(S.a,{className:v.a.description},n)))},E=({className:e,onClick:t,customStyle:n})=>r.createElement(c.a.div,Object.assign({},Object(l.c)(v.a.pulseWrapper,e),{style:n,onClick:()=>t&&t()}),r.createElement("div",{className:v.a.pulseOptimized}));var x;function I(e){const t=r.useContext(I.Context),{stepId:n,onboardingViewModel:i}=e,s=Object(a.__rest)(e,["stepId","onboardingViewModel"]),c=j(n,i||t),l=r.useContext(f.a.Context).pipe(b.a.map(e=>e.rect));return Object(o.pipe)(c,u.g.fold(()=>r.Children.only(e.children),e=>r.createElement(T,Object.assign({},s,{onboardingStep:e,viewportRect:l}))))}!function(e){e.leftTop="leftTop",e.leftCenter="leftCenter",e.leftBottom="leftBottom",e.center="center",e.rightTop="rightTop",e.rightCenter="rightCenter",e.rightBottom="rightBottom"}(x||(x={}));const j=(e,t)=>(Object(p.g)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?u.g.some(t.subscribeForStep(e)):u.g.none);class T extends r.Component{constructor(){super(...arguments),this._subs=[],this._wrapperElement=d.a.create(u.g.none),this._containerElement=d.a.create(u.g.none),this._exactTargetRect=d.a.create(u.g.none),this._visibilityState=d.a.create(!1),this._spotStyle=d.a.create({}),this._onEventActionTaken=(e,t=!0)=>n=>{var a;const r=e.state.get();if("popup"===r||t&&"dot"===r){const r=n.target;if(m.c.isDisabled(r))return;const i=t||m.c.hasParentWithClassName(r,v.a.containerDiv);if("findFirstButton"===(null===(a=this.props.dotPosition)||void 0===a?void 0:a.kind)&&!m.c.hasParentWithAttribute(r,"role","button"))return;i&&e.actionTaken()}else"dot"===r&&(n.preventDefault(),n.stopPropagation())}}componentWillUnmount(){const e=this.props.onboardingStep;"popup"===e.state.get()&&e.popupIgnored(),this._subs.forEach(e=>e.unsubscribe())}componentDidMount(){const e=this.props.dotPosition;e?this._subs.push(b.a.mergeStatic(this.context,this.props.onboardingStep.state.pipe(b.a.filter(e=>"dot"===e||"popup"===e))).pipe(b.a.delay(500),b.a.withLatestFrom(this._wrapperElement,this._containerElement),b.a.switchMap(([t,n,a])=>Object(o.pipe)(Object(i.tuple)(n,a),Object(i.tupled)(u.g.map2((t,n)=>{switch(e.kind){case"findFirstButton":return y.b.toObservable(e.buttonOrder).pipe(b.a.switchMap(a=>b.a.of(void 0).pipe(b.a.delay(500),b.a.map(()=>{const[r,i]=P(t,n,e.position,a);return this._exactTargetRect.set(i),r}))));case"dotAtPosition":return b.a.of(N(e.position));default:return Object(p.d)(e)}})),u.g.fold(()=>b.a.EMPTY,s.a)))).subscribe(e=>{this._spotStyle.set(e),this._visibilityState.set(!0)})):this._visibilityState.set(!0)}render(){const e=this.props.onboardingStep;return r.createElement(c.a.div,Object.assign({key:"onboarding-wrapper"},Object(l.c)(v.a.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName),{mount:e=>this._wrapperElement.set(u.g.fromNullable(e))}),r.createElement("div",Object.assign({key:"container",ref:e=>this._containerElement.set(u.g.fromNullable(e))},Object(l.c)(v.a.containerDiv,this.props.themes&&this.props.themes.containerClassName),{onClickCapture:this._onEventActionTaken(e,"onclick"===this.props.eventType),onMouseEnter:t=>"onhover"===this.props.eventType&&this._onEventActionTaken(e,!1)(t)}),this.props.children),d.a.combine(e.state,this._visibilityState,(t,n)=>{if(!n)return null;switch(t){case"dot":const t=this.props.themes&&this.props.themes.spotClassName;return this.props.onboardingStep.dotShown(),r.createElement(E,Object.assign({customStyle:this._spotStyle,key:"spot"},Object(l.c)(v.a.onboardingSpot,t),{onClick:()=>e.dotClicked()}));case"popup":return r.createElement(A,{key:"step",title:this.props.title,alignment:this.props.alignment,rect:this._containerElement.view(u.g.fold(()=>m.c.Rect.empty,m.c.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,icon:u.g.fromNullable(this.props.icon),onClose:()=>e.popupClosed(),pinTargetRect:this._exactTargetRect.view(u.g.orUndefined)});default:return null}}))}}T.contextType=g.a.Context,T.defaultProps={alignment:"left"};const N=e=>{switch(e){case x.leftTop:return{top:0,left:0};case x.leftCenter:return{top:"50%",left:0};case x.leftBottom:return{top:"100%",left:0};case x.rightTop:return{top:0,left:"100%"};case x.rightCenter:return{top:"50%",left:"100%"};case x.rightBottom:return{top:"100%",left:"100%"};case x.center:return{top:"50%",left:"50%"};default:return Object(p.d)(e)}},L=(e,t,n)=>{switch(n){case x.rightTop:return{top:0,left:e.left-t.left+e.width};case x.center:return{top:e.top-t.top+e.height/2,left:e.left-t.left+e.width/2};default:return Object(p.d)(n)}},P=(e,t,n,a)=>{const r=t.querySelectorAll('[role="button"]'),o=r.length>0&&(void 0===a?r[r.length-1]:r[a]);if(Boolean(o)){const t=m.c.Rect.fromEl(Object(i.unsafeCoerce)(o)),a=m.c.Rect.fromEl(e);return[L(t,a,n),u.g.some(t)]}return[{top:"50%",left:"50%"},u.g.none]};var B;(B=I||(I={})).Context=r.createContext(null),B.ContextMock=({children:e})=>r.createElement(B.Context.Provider,{value:new h.a,children:e})},"91hE":function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"f",(function(){return f}));var a,r,i,o,s,c,l,d,u,p,m,g,f,h,b,y,v,C=n("hoSD"),O=n("f9Xq");(a||(a={})).create=function(e,t,n){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:n}},(r||(r={})).create=function(e,t,n){return{type:"row",left:e,right:t,spacing:n}},(i||(i={})).create=function(e){return{type:"column",children:e}},s=o||(o={}),c=s.Type="block",s.create=function(e,t,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),i=3;i<a;i++)r[i-3]=arguments[i];return{type:c,name:e,parts:r,spacing:t,innerSpacing:n}},s.isBlock=function(e){return e.type===c},s.hasOnlyTextParts=function(e){return e.parts.every(l.isText)},function(e){var t=e.Type="text";e.create=function(e,n,a,r,i,o){return{type:t,text:e,size:n,format:a,textColor:r,backgroundColor:i,outlineColor:o}},e.isText=function(e){return e.type===t}}(l||(l={})),(d||(d={})).create=function(e,t){return{label:e,preview:t}},(u||(u={})).create=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"alternativeChoice",alternatives:t}},function(e){var t,n=e.Type="button";(t=e.Action||(e.Action={})).isTransitionAction=function(e){return"transition"===e.type},t.isApplyAlternativeAction=function(e){return"applyAlternative"===e.type},t.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}},e.create=function(e,t,a,r,i,s){return{type:n,id:e+"#"+C.f.alphanumeric(4),name:e,tooltip:i,kind:r,state:O.a.ButtonState.Enabled,label:{type:o.Type,name:"",parts:[l.create(t,O.a.TextSize.Regular,[],O.a.Color.CoreNeutral0,void 0,void 0)],spacing:s},actions:a}},e.createIcon=function(e,t,a,r,i){return{type:n,id:e+"#"+C.f.alphanumeric(4),name:e,tooltip:i,kind:r,state:O.a.ButtonState.Enabled,label:{type:o.Type,name:"icon-button-"+e,spacing:g.create("0","0.25","0","0.25"),parts:[m.create(t,void 0)]},actions:a}}}(p||(p={})),function(e){var t,n=e.Type="icon";(t=e.Source||(e.Source={})).createKnown=function(e){return{kind:"known",name:e}},t.createUrl=function(e,t,n){return{kind:"url",url:e,name:t,size:n}},e.create=function(e,t){return{type:n,source:e,backgroundColor:t}}}(m||(m={})),(g||(g={})).create=function(e,t,n,a){return{top:e,bottom:n,left:a,right:t}},function(e){e.Type="count";e.create=function(e,t){return{type:"count",backgroundColor:t,value:e}}}(f||(f={})),((b=h||(h={})).Choice||(b.Choice={})).create=function(e,t,n){return{type:"sliderChoice",id:"slider-choice-".concat(t.toLowerCase(),"#").concat(C.f.alphanumeric(4)),icon:e,label:t,actions:n}},b.create=function(e,t){return{type:"slider",fillColor:e,choices:t}},((v=y||(y={})).Choice||(v.Choice={})).create=function(e,t,n,a){return{id:"alternative-slider-choice-".concat(t.toLowerCase(),"#").concat(C.f.alphanumeric(4)),icon:e,label:t,actions:n,preview:a}},v.create=function(e,t){return{type:"alternativeSlider",fillColor:e,choices:t}}},AHUR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("6fbX"),o=n("lrqh"),s=n("U75S");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){c(e,t,n[t])}))}return e}!function(e){var t,n=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Downward,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return l({},e,t)};switch(a){case t.Downward:return Object(r.pipe)(o(e,n(e)),(function(e){return o(e,u(e,n,a,o))}));case t.Upward:return Object(r.pipe)(o(e,u(e,n,a,o)),(function(e){return o(e,n(e))}));default:Object(i.d)(a)}},c=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Upward,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return l({},e,t)};if(void 0===e)return e;switch(a){case t.Downward:return Object(r.pipe)(e,o.g.fromPredicate(n),o.g.fold((function(){}),(function(e){return s(e,m(e,n,a,s))})));case t.Upward:return Object(r.pipe)(s(e,m(e,n,a,s)),(function(e){return n(e)?e:void 0}));default:Object(i.d)(a)}};!function(e){e.Downward="Downward",e.Upward="Upward"}(t=e.IterationFlow||(e.IterationFlow={})),e.forEach=function e(t,n){var a=function(t,n){return t.forEach((function(t){return e(t,n)}))},r=t.type;switch(r){case"column":a(t.children,n);break;case"strongAlertRef":e(t.child,n);break;case"row":a(t.left,n),a(t.right,n);break;case"block":a(t.parts,n);break;case"button":e(t.label,n);break;case"alternativeChoice":t.alternatives.forEach((function(e){var t=e.label,r=e.preview;return a([t,r],n)}));break;case"alternativeSlider":t.choices.forEach((function(t){return e(t.preview,n)}));break;case"icon":case"text":case"count":case"slider":break;default:Object(i.d)(r)}n(t)};var d=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Upward,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return l({},e,t)};return e.map((function(e){return n(e,a,r,i)}))},u=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Upward,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return l({},e,t)},s=e.type;switch(s){case"column":return{children:d(e.children,a,r,o)};case"strongAlertRef":return{child:n(e.child,a,r,o)};case"row":return{left:d(e.left,a,r,o),right:d(e.right,a,r,o)};case"block":return{parts:d(e.parts,a,r,o)};case"button":return{label:n(e.label,a,r,o)};case"alternativeChoice":return{alternatives:e.alternatives.map((function(e){return o(e,{label:n(e.label,a,r,o),preview:n(e.preview,a,r,o)})}))};case"alternativeSlider":return{choices:e.choices.map((function(e){return o(e,{preview:n(e.preview,a,r,o)})}))};case"icon":case"text":case"count":case"slider":return{};default:Object(i.d)(s)}};e.mapMerge=n;var p=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Downward,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return l({},e,t)};return e.reduce((function(e,t){var i=c(t,n,a,r);return void 0===i||e.push(i),e}),new Array)},m=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Upward,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return l({},e,t)},o=e.type;switch(o){case"column":return{children:p(e.children,n,a,r)};case"strongAlertRef":return{child:c(e.child,n,a,r)};case"row":return{left:p(e.left,n,a,r),right:p(e.right,n,a,r)};case"block":return{parts:p(e.parts,n,a,r)};case"button":return{label:c(e.label,n,a,r)};case"alternativeChoice":return{alternatives:e.alternatives.map((function(e){return r(e,{label:c(e.label,n,a,r),preview:c(e.preview,n,a,r)})}))};case"alternativeSlider":return{choices:e.choices.map((function(e){return r(e,{preview:c(e.preview,n,a,r)})}))};case"icon":case"text":case"count":case"slider":return{};default:Object(i.d)(o)}};e.filter=c;e.getAlertIds=function(e){var t=e.type;switch(t){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"icon":case"row":case"slider":case"text":case"column":return o.g.none;case"strongAlertRef":return o.g.some(e.alertIds);default:Object(i.d)(t)}},e.getSDUIId=function(e){return o.g.fromNullable(e.sduiId)},e.removeStrongAlertRef=function(e){return function(n){var i=Object(r.pipe)(n,s.ub((function(e){return e.alertIds})),s.Y,(function(e){return new Set(e)}));return Object(r.pipe)(c(e,(function(e){return!n.some(g(e))&&!f(e)}),t.Upward),o.g.fromNullable,o.g.map((function(e){return a.mapMerge(e,(function(e){return"strongAlertRef"!==e.type?e:l({},e,{alertIds:e.alertIds.filter((function(e){return!i.has(e)}))})}))})))}};var g=e.isEqual=function(e){return function(t){return e.type===t.type&&JSON.stringify(e)===JSON.stringify(t)}},f=e.isEmpty=function(e){if(void 0===e)return!0;var t=e.type;switch(t){case"column":return s.nb(e.children);case"strongAlertRef":return void 0===e.child;case"row":return s.nb(e.left)&&s.nb(e.right);case"block":return s.nb(e.parts);case"button":return void 0===e.label;case"alternativeChoice":return s.nb(e.alternatives);case"alternativeSlider":return s.nb(e.choices);case"count":case"icon":case"slider":case"text":return void 0===e;default:Object(i.d)(t)}}}(a||(a={}))},AK7F:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n("lrqh"),r=n("D9EC"),i=n("kFFO"),o=n("973I"),s=n("XxrX");const c=a.c.fromEquals((e,t)=>e.id===t.id&&e.visibilityState===t.visibilityState&&o.a.eq.equals(e.positionState,t.positionState)),l=e=>Object(i.a)({itemId:e.id,visibilityState:e.visibilityState,positionState:Object(i.a)(e.positionState)});var d,u;!function(e){e.id="PriorityToggleHintId",e.Kind="PriorityToggleHint",e.create=(e,n)=>new t(e,n,s.a.defaultOptions),e.hidden="hidden",e.visible="visible",e.isVisible=t=>t.visibilityState===e.visible,e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.isPriorityToggleHint=t=>t.id===e.id,e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState);class t{constructor(t,n,a){this.visibilityState=t,this.positionState=n,this.renderOptions=a,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return c.equals(this,e)}hashCode(){return l(this)}}}(d||(d={})),function(e){e.id="PriorityToggleId",e.Kind="PriorityToggle",e.isCollapsed=e=>"collapsed"===e.visibilityState,e.isExpanded=e=>"expanded"===e.visibilityState,e.isHidden=e=>"hidden"===e.visibilityState,e.create=(e,n)=>new t(e,n,s.a.defaultOptions),e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState),e.isPriorityToggle=t=>t.id===e.id,e.isPriorityItem=Object(r.p)(e.isPriorityToggle,d.isPriorityToggleHint);class t{constructor(t,n,a){this.visibilityState=t,this.positionState=n,this.renderOptions=a,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return c.equals(this,e)}hashCode(){return l(this)}}}(u||(u={}))},BT8e:function(e,t,n){"use strict";n.d(t,"b",(function(){return Y})),n.d(t,"a",(function(){return X}));var a=n("ax6a"),r=n("e12y"),i=n("0Hf4"),o=n("ps/9");const s=e=>({$nest:{[`&[data-indent="${e}"]`]:{marginLeft:r.a.rem(.5*e)}}}),c=(e,t,n,a)=>({$nest:{[`&[data-indent="${t}"]`]:{counterIncrement:`card-list${t}`,counterReset:a,$nest:{"&:before":{content:`'${e}' '\\A\\00a0' counter(card-list${t}, ${n}) '. '`}}}}}),l=e=>[c(e,0,"decimal","card-list1 card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),c(e,1,"lower-alpha","card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),c(e,2,"lower-roman","card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),c(e,3,"decimal","card-list4 card-list5 card-list6 card-list7 card-list8"),c(e,4,"lower-alpha","card-list5 card-list6 card-list7 card-list8"),c(e,5,"lower-roman","card-list6 card-list7 card-list8"),c(e,6,"decimal","card-list7 card-list8"),c(e,7,"lower-alpha","card-list8"),c(e,8,"lower-roman","none")],d="cards-replacements_labels-",u={list:`${d}list`,item:`${d}item`,diff:`${d}diff`,columnList:`${d}columnList`,itemInsert:`${d}itemInsert`,deleteAll:`${d}deleteAll`,crossed:`${d}crossed`,deleteQuote:`${d}deleteQuote`,deletePunctuation:`${d}deletePunctuation`,deleteDoubleComma:`${d}deleteDoubleComma`,deleteApostrophe:`${d}deleteApostrophe`,deleteLetter:`${d}deleteLetter`,deletePunctuationBeforeLetter:`${d}deletePunctuationBeforeLetter`,itemOriginal:`${d}itemOriginal`,itemOriginalStrikeThrough:`${d}itemOriginalStrikeThrough`,itemOriginalContent:`${d}itemOriginalContent`,spacesOnlyContent:`${d}spacesOnlyContent`,removeOrContainer:`${d}removeOrContainer`,itemContext:`${d}itemContext`,itemContextShifted:`${d}itemContextShifted`,or:`${d}or`,arrowInsertsList:`${d}arrowInsertsList`,cozyArrowInsertsList:`${d}cozyArrowInsertsList`,inlineHeader:`${d}inlineHeader`,fullSentenceBackground:`${d}fullSentenceBackground`,minimalFullSentenceBackground:`${d}minimalFullSentenceBackground`,fullSentenceDelete:`${d}fullSentenceDelete`,fullSentenceDeleteCollapsed:`${d}fullSentenceDeleteCollapsed`,fullSentenceHidden:`${d}fullSentenceHidden`,fullSentenceListItem:`${d}fullSentenceListItem`,fullSentenceBulletListItem:`${d}fullSentenceBulletListItem`,fullSentenceDashedListItem:`${d}fullSentenceDashedListItem`,fullSentenceOrderedListItem:`${d}fullSentenceOrderedListItem`,fullSentenceOrderedListItemWithFormatting:d+"fullSentenceOrderedListItemWithFormatting",fullSentenceDashedListItemWithFormatting:d+"fullSentenceDashedListItemWithFormatting",fullSentenceBulletListItemWithFormatting:d+"fullSentenceBulletListItemWithFormatting",fullSentenceInsert:`${d}fullSentenceInsert`,fullSentenceInsertPunctuation:`${d}fullSentenceInsertPunctuation`,toneAIInsert:`${d}toneAIInsert`,itemRemove:`${d}itemRemove`,oneGapInsert:`${d}oneGapInsert`,oneGapInput:`${d}oneGapInput`,drilldownInsertGroup:`${d}drilldownInsertGroup`,drilldownArrowButton:`${d}drilldownArrowButton`,drilldownIcon:`${d}drilldownIcon`,drilldownOriginalRow:`${d}drilldownOriginalRow`,drilldownBackButton:`${d}drilldownBackButton`,collapsibleDelete:`${d}collapsibleDelete`,collapsibleInsert:`${d}collapsibleInsert`,collapsiblePartContent:`${d}collapsiblePartContent`},p={position:"relative",overflow:"hidden",margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 0`,padding:`${r.a.rem(.25)} ${r.a.rem(.5)}`,borderRadius:r.a.rem(o.t),color:a.a.CoreNeutral0,textAlign:"left",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:r.a.rem(1.5),cursor:"pointer",transitionDuration:".2s",overflowWrap:"break-word"},m={position:"relative",fontWeight:"bolder",overflow:"clip",$nest:{"&:after":{position:"absolute",top:"-8%",left:r.a.rem(.3125),width:"1px",height:"120%",background:a.a.CoreNeutral0,content:"''",opacity:.8}}},g={position:"relative",marginRight:r.a.rem(.5),whiteSpace:"nowrap"},f=e=>({overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${r.a.rem(1)} 0`,padding:e?0:r.a.rem(.5),maxHeight:r.a.rem(12),borderRadius:r.a.rem(o.t),background:e?a.a.CoreNeutral0:a.a.CoreNeutral10,color:a.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${o.e}, ${o.f}`}),h={position:"relative",marginRight:r.a.rem(.5),maxWidth:`calc(100% - ${r.a.rem(.5)})`,overflowWrap:"break-word",$nest:{"&:after":{display:"inline-block",marginLeft:r.a.rem(.5),color:a.a.CoreNeutral50,content:"'→'",verticalAlign:"middle"}}},b={textDecoration:"line-through",color:a.a.CoreRed40,textDecorationLine:"line-through"},y=[s(0),s(1),s(2),s(3),s(4),s(5),s(6),s(7),s(8)],v={display:"flex",alignItems:"flex-start",flexWrap:"wrap",fontFeatureSettings:`${o.e}, ${o.f}`},C=e=>({background:e?a.a.CoreBlue50:a.a.BackgroundCardApply,maxWidth:"100%",$nest:{"&[data-hovered='true']":{background:e?a.a.CoreBlue40:a.a.CoreGreen50},"&[data-disabled='true']":{background:e?a.a.CoreBlue40:a.a.CoreGreen40}}}),O={$nest:{"&:after":{transform:"rotate(-25deg)"}}},w={paddingRight:r.a.rem(.35),$nest:{"&:after":{transform:"rotate(25deg)"}}},S=e=>({color:e?a.a.CoreBlue50:a.a.CoreGreen60,fontWeight:600}),k={paddingRight:r.a.rem(.3125),$nest:{"&:before":{content:"' '"},"&:after":{transform:"rotate(25deg)"}}},A={textDecoration:"line-through",whiteSpace:"pre-wrap",$nest:{"&:before":{content:"' '"},"&:after":{background:"transparent !important",content:"' '"}}},E={display:"flex",flexBasis:"100%"},x={margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 2px`,color:a.a.CoreNeutral60},I={display:"flex",minWidth:"50%",flexWrap:"wrap",flexBasis:"content"},j={marginBottom:r.a.rem(.25),color:a.a.CoreNeutral60,fontWeight:400,fontSize:r.a.rem(.8),lineHeight:r.a.rem(1.2),$nest:{"&:first-letter":{textTransform:"capitalize"}}},T={color:a.a.CoreRed50,textDecoration:"line-through",fontWeight:600},N=Object.assign(Object.assign({},T),{textDecoration:"none"}),L={fontWeight:"bold",color:a.a.CorePurple50},P={background:a.a.CoreRed50,$nest:{"&[data-hovered='true'], &[data-disabled='true']":{background:a.a.CoreRed40}}},B={$nest:{"&:before":{content:"'¶\\A\\00a0-\\00a0'"}}},F={$nest:{"&:before":{content:"'¶\\A\\00a0\\2022\\00a0'"}}},D={width:"100%",marginTop:r.a.rem(.5),marginBottom:r.a.rem(.25),boxSizing:"border-box",$nest:{"&[data-disabled='true']":{background:a.a.CoreNeutral40}}},R={marginTop:r.a.rem(.5),lineHeight:`calc(${r.a.rem(2)} - ${r.a.px(2)})`,padding:`0 ${r.a.rem(.5)}`,border:r.a.important(`${r.a.px(1)} solid ${a.a.CoreNeutral50}`),color:a.a.CoreNeutral90,boxSizing:"border-box",$nest:{"&:placeholder-shown":{borderColor:r.a.important(a.a.CoreNeutral20)}}},$=i.a.style(p,C(!1)),M={margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 0`,$nest:{[`& .${u.itemInsert}`]:{transitionProperty:"background",margin:0},[`& > .${u.itemInsert}:first-child:not(:last-child)`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${u.drilldownArrowButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},_={boxShadow:"inset 1px 0px 0px rgba(255, 255, 255, 0.3)",paddingLeft:r.a.rem(.1875),paddingRight:r.a.rem(.3125)},W={width:r.a.rem(1),height:r.a.rem(1),minWidth:r.a.rem(1),minHeight:r.a.rem(1),verticalAlign:"top",marginTop:r.a.rem(.25),$nest:{"& > svg":{transform:"scale(0.75)"},"& > svg *":{fill:r.a.important("white")}}},H={width:r.a.percent(100),marginBottom:r.a.rem(.5),display:"flex",$nest:{"& > *":{marginRight:r.a.rem(.5)}}},G={background:a.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:a.a.CoreNeutral10}}},q={display:"inline-block",width:r.a.rem(1),lineHeight:r.a.rem(.625),height:r.a.rem(.625),margin:`0 ${r.a.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:r.a.rem(o.u)},V={lineHeight:r.a.rem(.2),verticalAlign:"super",marginLeft:"1px"},z=Object.assign(Object.assign({},q),{backgroundColor:a.a.CoreRed10}),U=Object.assign(Object.assign({},q),{backgroundColor:a.a.CoreGreen10}),Y={list:r.a.joinClasses([u.list,r.a.style(v),i.a.style(v)]),item:r.a.joinClasses([u.item,r.a.style(p),i.a.style(p)]),itemInsert:r.a.joinClasses([u.itemInsert,r.a.style(p,C(!1)),$]),deleteAll:r.a.joinClasses([u.deleteAll,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),crossed:r.a.joinClasses([u.crossed,r.a.style(m)]),deleteQuote:r.a.joinClasses([u.deleteQuote,r.a.style(m,O),i.a.style(m,O)]),deletePunctuation:r.a.joinClasses([u.deletePunctuation,r.a.style(m,w),i.a.style(m,w)]),deleteDoubleComma:r.a.joinClasses([u.deleteDoubleComma,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),deleteApostrophe:r.a.joinClasses([u.deleteApostrophe,r.a.style(m,k),i.a.style(m,k)]),deleteLetter:r.a.joinClasses([u.deleteLetter,r.a.style(A),i.a.style(A)]),deletePunctuationBeforeLetter:r.a.joinClasses([u.deletePunctuationBeforeLetter,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),itemOriginal:r.a.joinClasses([u.itemOriginal,r.a.style(h),i.a.style(h)]),itemOriginalStrikeThrough:r.a.joinClasses([u.itemOriginalStrikeThrough,r.a.style(b),i.a.style(b)]),itemOriginalContent:r.a.joinClasses([u.itemOriginalContent,r.a.style({color:a.a.CoreNeutral90}),i.a.style({color:a.a.CoreNeutral90})]),spacesOnlyContent:r.a.joinClasses([u.spacesOnlyContent,r.a.style({whiteSpace:"pre"})]),removeOrContainer:r.a.joinClasses([u.removeOrContainer,r.a.style(E),i.a.style(E)]),itemContext:r.a.joinClasses([u.itemContext,r.a.style(g)]),itemContextShifted:r.a.joinClasses([u.itemContextShifted,r.a.style(g,{marginRight:"2px"}),i.a.style(g,{marginRight:"2px"})]),or:r.a.joinClasses([u.or,r.a.style(x),i.a.style(x)]),arrowInsertsList:r.a.joinClasses([u.arrowInsertsList,r.a.style(I),i.a.style(I)]),columnList:r.a.joinClasses([u.columnList,r.a.style(I,{flexDirection:"column",alignItems:"flex-start",maxWidth:"100%"}),i.a.style(I)]),cozyArrowInsertsList:r.a.joinClasses([u.arrowInsertsList,r.a.style(I,{flex:2,flexBasis:"0%"}),i.a.style(I)]),inlineHeader:r.a.joinClasses([u.inlineHeader,r.a.style(j),i.a.style(j)]),toneAIInsert:r.a.joinClasses([u.toneAIInsert,r.a.style(L),i.a.style(L)]),fullSentenceBackground:r.a.joinClasses([u.fullSentenceBackground,r.a.style(f(!1)),i.a.style(f(!1))]),minimalFullSentenceBackground:r.a.joinClasses([u.minimalFullSentenceBackground,r.a.style(f(!1),{lineHeight:r.a.rem(1.3125)}),i.a.style(f(!1),{lineHeight:r.a.rem(1.3125)})]),fullSentenceDelete:r.a.joinClasses([u.fullSentenceDelete,r.a.style(T),i.a.style(T)]),fullSentenceDeleteCollapsed:r.a.joinClasses([u.fullSentenceDeleteCollapsed,r.a.style(N),i.a.style(N)]),fullSentenceHidden:r.a.joinClasses([u.fullSentenceHidden,r.a.style({display:"none"})]),fullSentenceListItem:r.a.joinClasses([u.fullSentenceListItem,r.a.style(...y),i.a.style(...y)]),fullSentenceBulletListItem:r.a.joinClasses([u.fullSentenceBulletListItem,r.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}}),i.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}})]),fullSentenceDashedListItem:r.a.joinClasses([u.fullSentenceDashedListItem,r.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}}),i.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}})]),fullSentenceOrderedListItem:r.a.joinClasses([u.fullSentenceOrderedListItem,r.a.style(...l(""),...y),i.a.style(...l(""),...y)]),fullSentenceOrderedListItemWithFormatting:r.a.joinClasses([u.fullSentenceOrderedListItemWithFormatting,r.a.style(...l("¶"),...y,S(!1)),i.a.style(...l("¶"),...y,S(!1))]),fullSentenceBulletListItemWithFormatting:r.a.joinClasses([u.fullSentenceBulletListItemWithFormatting,r.a.style(...y,F,S(!1)),i.a.style(...y,F)]),fullSentenceDashedListItemWithFormatting:r.a.joinClasses([u.fullSentenceDashedListItemWithFormatting,r.a.style(...y,B,S(!1)),i.a.style(...y,B)]),fullSentenceInsert:r.a.joinClasses([u.fullSentenceInsert,r.a.style(S(!1))]),fullSentenceInsertPunctuation:r.a.joinClasses([u.fullSentenceInsertPunctuation,r.a.style(S(!1))]),diff:r.a.joinClasses([u.diff,r.a.style({fontWeight:"bolder"}),i.a.style({fontWeight:"bolder"})]),itemRemove:r.a.joinClasses([u.itemRemove,r.a.style(p,P)]),oneGapInsert:r.a.joinClasses([u.oneGapInsert,r.a.style(p,C(!1),D),$]),oneGapInput:r.a.joinClasses([u.oneGapInput,r.a.style(R)]),drilldownInsertGroup:r.a.joinClasses([u.drilldownInsertGroup,r.a.style(M)]),drilldownArrowButton:r.a.joinClasses([u.drilldownArrowButton,r.a.style(_)]),drilldownIcon:r.a.joinClasses([u.drilldownIcon,r.a.style(W)]),drilldownOriginalRow:r.a.joinClasses([u.drilldownOriginalRow,r.a.style(H)]),drilldownBackButton:r.a.joinClasses([u.drilldownBackButton,r.a.style(G)]),collapsibleDelete:r.a.joinClasses([u.collapsibleDelete,r.a.style(z)]),collapsibleInsert:r.a.joinClasses([u.collapsibleInsert,r.a.style(U)]),collapsiblePartContent:r.a.joinClasses([u.collapsiblePartContent,r.a.style(V)])};r.a.cssRule(`.${u.fullSentenceDelete} + .${u.fullSentenceInsert}`,{marginLeft:r.a.rem(.25)});const X=Object.assign(Object.assign({},Y),{itemInsert:r.a.joinClasses([u.itemInsert,r.a.style(p,C(!0)),$]),oneGapInsert:r.a.joinClasses([u.oneGapInsert,$,r.a.style(p,C(!0),D)]),fullSentenceOrderedListItemWithFormatting:r.a.joinClasses([u.fullSentenceOrderedListItemWithFormatting,i.a.style(...l("¶"),...y,S(!1)),r.a.style(...l("¶"),...y,S(!0))]),fullSentenceBulletListItemWithFormatting:r.a.joinClasses([u.fullSentenceBulletListItemWithFormatting,r.a.style(...y,F,S(!0)),i.a.style(...y,F)]),fullSentenceDashedListItemWithFormatting:r.a.joinClasses([u.fullSentenceDashedListItemWithFormatting,r.a.style(...y,B,S(!0)),i.a.style(...y,B)]),fullSentenceInsert:r.a.joinClasses([u.fullSentenceInsert,r.a.style(S(!0))]),fullSentenceInsertPunctuation:r.a.joinClasses([u.fullSentenceInsertPunctuation,r.a.style(S(!0))]),fullSentenceBackground:r.a.joinClasses([u.fullSentenceBackground,r.a.style(f(!0)),i.a.style(f(!1))]),minimalFullSentenceBackground:r.a.joinClasses([u.minimalFullSentenceBackground,r.a.style(f(!0),{lineHeight:r.a.rem(1.3125)}),i.a.style(f(!0),{lineHeight:r.a.rem(1.3125)})])})},BWF9:function(e,t,n){e.exports=n.p+"files/b788e8a0ec2b2ab3fe6f0d17e4508835/inter-bold.woff"},BeBM:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"l",(function(){return v})),n.d(t,"j",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return O})),n.d(t,"h",(function(){return S})),n.d(t,"g",(function(){return k})),n.d(t,"b",(function(){return A}));var a,r,i,o,s,c=n("GRZr"),l=n("OA+g"),d=n("I7vG"),u=n("xlCj"),p=n("lrqh"),m=n("D9EC"),g=n("6fbX"),f=n("hoSD"),h=n("GUi3"),b=n("zR/0"),y=n("kFFO");!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(a||(a={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.closed="closed"}(r||(r={})),function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(i||(i={})),function(e){function t(e){return Object(d.pipe)(e.cardIndex,p.g.chain(t=>e.items.getAt(t)))}e.getActiveItem=t,e.getActiveItemIndex=t=>Object(l.flow)(e.getActiveItem,p.g.chain(e=>t.get(e.id)),p.g.map(e=>e.index)),e.getActiveItemOfType=function(e){return Object(l.flow)(t,p.g.filter(e))}}(o||(o={})),function(e){e.withFilter=e=>t=>(n,a)=>t(n,Object(m.b)(e,a)),e.compose=function(e){return(t,n)=>Object(c.fold)(Object(c.getEndomorphismMonoid)())(e.map(e=>e(t,n)))}}(s||(s={}));const v=e=>"withPriorityList"in e&&e.withPriorityList;var C,O;!function(e){e.hasItems=function(e){return e.kind===i.active||e.kind===i.persistent}}(C||(C={}));class w{constructor(e){this._data=e}static create(e){return new w(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new w(Object.assign(Object.assign({},this._data),e))}hashCode(){let e=7;return e=31*(e=31*(e=31*e+Object(y.b)(this.alertSource))+Object(y.b)(this.switchOrder))+this.currentLens.hashCode()}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}}!function(e){function t(e,t,n){return a=>{switch(a.currentLens.kind){case i.active:return e(a);case i.persistent:return t(a);case i.abstract:return n(a);default:return Object(g.d)(a.currentLens)}}}let n,o,s,c;function m(e){return e.currentLens.kind===i.persistent}function y(e){return h.a.isOutcomeId(e.currentLens.id)||h.a.isMainLens(e.currentLens.id)||e.currentLens.id===h.a.SpecialId.PredictionTakeaways||e.currentLens.id===h.a.SpecialId.PredictionEmogenie}e.withCardLensSnapshot=(e,t)=>n=>{const a=n.currentLens.items.size>50,r=Object(d.pipe)(n.currentLens.cardIndex,p.g.getOrElse(()=>0)),[i,o]=a?[Math.max(r-25,0),r+25]:[0,50];return{alertSource:n.alertSource,switchOrder:n.switchOrder,lens:{id:n.currentLens.id,card:Object(d.pipe)(t(n.currentLens),p.g.map(e)),items:n.currentLens.items.values().slice(i,o).map(e),sample:a}}},e.snapshot=(n,a)=>t(e.withCardLensSnapshot(n,a),e.withCardLensSnapshot(n,a),e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}})),e.genericMapper=t,e.mapper=e=>t(e,e,()=>p.g.none),e.getActiveItem=t=>e.mapper(({currentLens:e})=>t(e)),e.getActiveAlertHighlight=t=>Object(l.flow)(e.getActiveItem(t),p.g.map(e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex}))),e.getActiveAlert=t=>Object(l.flow)(e.getActiveItem(t),p.g.map(e=>e.activeAlert)),e.getLens=e.mapper(({currentLens:e})=>p.g.some(e)),function(e){e.mapper=function(e,t){return n=>t[e(n)](n)}}(n=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===r.lensview},e.isPersistent=m,e.hasCards=function(e){return e.currentLens.kind===i.active||m(e)},e.hasItems=function(e){return e.currentLens.kind===i.active||e.currentLens.kind===i.persistent},e.hasSuccess=y,e.isWithPriorityList=function(e){return y(e)&&v(e.currentLens)},e.isForceSidebar=t=>(e.isLensview(t)||t.currentLens.type===r.plagiarism)&&t.alertSource===a.forceSidebar,e.isSidebarOpened=t=>!e.is(h.a.SpecialId.Closed)(t),function(e){e.defaultFilter=f.e.pick("alertHighlight")}(o=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>u.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e})),e.getLensWithItems=()=>u.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e}))}(s=e.Prism||(e.Prism={})),function(e){let t,n,a,r,i,o,s,c,d;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let n;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=b.a.EMPTY}(n=e.Source||(e.Source={}))}(n=e.Applicator||(e.Applicator={})),function(e){let n;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=b.a.EMPTY}(n=e.Source||(e.Source={}))}(a=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(r=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(i=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===h.a.SpecialId.Closed}e.isSidebarClosed=t,e.isSidebarOpen=Object(l.not)(t),e.always=l.constTrue}(o=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const n=b.a.delayWhen(()=>b.a.of(void 0),e),a=Object.assign(Object.assign({},t.what),{source:n(t.what.source)});return Object.assign(Object.assign({},t),{what:a})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(c=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:c.noFocus},e.unFocus={kind:c.unFocus},e.focusNext={kind:c.focusNext},e.focusFirst={kind:c.focusFirst},e.focusAlert=e=>({kind:c.focusAlert,alertHighlight:e})}(d=e.FocusBehavior||(e.FocusBehavior={}))}(c=e.Effect||(e.Effect={}))}(w||(w={})),function(e){e.defaultOptions={focusBehavior:w.Effect.FocusBehavior.focusFirst}}(O||(O={}));var S,k,A;!function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(S||(S={})),function(e){e.getDefault=()=>S.allAlerts}(k||(k={})),function(e){e.skip=l.constFalse,e.force=l.constTrue,e.proceed=e=>e.positionState.animationInProgress}(A||(A={}))},BlMh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("vOOZ"),o=n("9NHN"),s=n("ax6a"),c=n("e12y"),l=n("SD38");!function(e){e.Item=({className:e,children:t,onChange:n,checked:a,tabIndex:s,id:c})=>r.createElement(i.a.label,Object.assign({},Object(o.c)(p.radio,e)),a.view(e=>r.createElement(r.Fragment,{key:`radio-${c}`},r.createElement("input",{onChange:n,tabIndex:Boolean(s)?s:-1,type:"radio",checked:e,className:p.radioInputHidden}),r.createElement("span",{className:d}))),t),e.Group=({items:t,selectedItemIndex:n,itemWrapperClassName:a,onChange:o})=>r.createElement(i.a.Fragment,null,t.map((t,i)=>r.createElement(e.Item,{id:i,key:i,onChange:()=>{n.set(i),o&&o(i)},checked:n.view(e=>i===e),className:a},t)))}(a||(a={}));const d=c.a.joinClasses(["radioInput",c.a.style({display:"inline-block",boxSizing:"border-box",minWidth:c.a.rem(1),width:c.a.rem(1),height:c.a.rem(1),border:`${c.a.rem(.125)} solid ${l.ui500}`,borderRadius:c.a.percent(50),backgroundColor:s.a.CoreNeutral0,content:"' '"})]),u={outline:"none",appearance:"none","-webkit-appearance":"none",$nest:{"&:checked + .radioInput":{border:`${c.a.rem(.25)} solid ${s.a.CoreBlue50}`}}},p=c.a.stylesheet({radioInputHidden:[u],radio:[{display:"inline-flex",cursor:"pointer",alignItems:"center"}]})},BwCH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("zR/0");class r{static copy(e,t){this._clearSelection();const n=this._createHiddenSpan(e);return this.select(n),this._copy(e,t).then(()=>{n.parentElement.removeChild(n)}).catch(e=>{throw n.parentElement.removeChild(n),e})}static select(e){if(Boolean(window.getSelection)&&Boolean(document.createRange)){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else if("createTextRange"in document.body&&"selection"in document){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}}static _clearSelection(){const e=Boolean(window.getSelection)?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()}static _createHiddenSpan(e){const t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t}static _copy(e,t){return new Promise((n,a)=>{try{const r=t?window.clipboardData.setData("text",e):document.execCommand("copy");Boolean(r)?n():a(new Error("Copy API doesn't work"))}catch(e){a(e)}})}}r.copyApiAvailable=new a.a.BehaviorSubject(!0);try{a.a.fromEvent(window,"click").pipe(a.a.first()).subscribe(()=>{document.queryCommandSupported("copy")||r.copyApiAvailable.next(!1)})}catch(e){r.copyApiAvailable.next(!1)}},C53H:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var a=n("a5W6"),r=n("OA+g"),i=n("I7vG"),o=n("24uI"),s=n("94k3"),c=n("lrqh"),l=n("dE97"),d=n("JSz4"),u=n("KBak"),p=n("f3nf");const m={ignoreWhitespaceRemoves:!0},g=Object(r.flow)(f,d.a);function f(e,t=m){return n=>Object(i.pipe)(n.alternatives,v(e,{isFullSentence:l.f.isFullSentence(n.cardType),isShortenIt:l.f.isShortenIt(n.cardType),isToneAI:l.f.isToneAI(n.cardType),isCitation:l.f.isCitation(n.cardType)}),c.b.chain(p.a.create(Object.assign(Object.assign({},t),{drilldown:n.drilldown}))))}const h=e=>Object(r.flow)(v(e,{isFullSentence:!1,isShortenIt:!1,isToneAI:!1,isCitation:!1}),c.b.map(c.f.map(({ops:e,text:t})=>Object(i.pipe)(e,function(e){return Object(r.flow)(a.reduce({currPos:0,diff:[]},(t,n)=>(o.a.isDelete(n)?(t.diff.push({textChunk:e.substr(t.currPos,n.delete),type:n.type===s.a.AlternativeOperation.Type.Main||n.type===s.a.AlternativeOperation.Type.Important?u.a.Type.Delete:u.a.Type.Retain}),t.currPos+=n.delete):o.a.isInsert(n)?t.diff.push({textChunk:o.a.isInsertString(n)?n.insert:"",type:n.type===s.a.AlternativeOperation.Type.Main?u.a.Type.Insert:u.a.Type.Retain}):(t.diff.push({textChunk:e.substr(t.currPos,n.retain),type:u.a.Type.Retain}),t.currPos+=n.retain),t)),e=>e.diff)}(t),function(e){return t=>Object(i.pipe)(t,a.findFirst(t=>t.type===u.a.Type.Delete&&t.textChunk===e.trim()),c.g.map(e=>[e,{textChunk:Object(i.pipe)(t,a.reduce("",(t,n)=>u.a.NoInvert.eq.equals(n,e)?t:(t+=n.textChunk,t))),type:u.a.Type.Insert}]),c.g.getOrElse(()=>t))}(t),b,y))));function b(e){return Object(i.pipe)(e,a.reduceWithIndex([],(t,n,a)=>{const r=e[t-1];return void 0!==r&&u.a.isDelete(a)&&u.a.isInsert(r)?(n.push(r),n[t-1]=a):n.push(a),n}))}function y(e){return Object(i.pipe)(e,a.reduceWithIndex([],(t,n,a)=>{const r=e[t-1];return void 0!==r&&u.a.isInsert(a)&&u.a.isDelete(r)?(n[t-1]=Object.assign(Object.assign({},r),{invertedChunk:a.textChunk}),n.push(Object.assign(Object.assign({},a),{invertedChunk:r.textChunk}))):n.push(Object.assign(Object.assign({},a),{invertedChunk:""})),n}))}function v(e,t){const n=Object(r.flow)(e,e=>e.delta.reduce((e,t)=>o.a.isInsertString(t)?e+t.insert:e,""));return Object(r.flow)(function(e,{isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}){return l=>Object(i.pipe)(l,a.filterMap(a=>Object(i.pipe)(a.type,c.g.map(i=>{if(s.a.Alternative.hasOptionalContext(a.ops)){const[c,...l]=a.ops,d=s.a.AlternativeOperation.length(c);return{text:e(d,a.lengthAffected-d),ops:l,type:i,isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}}return{text:e(0,a.lengthAffected),ops:a.ops,type:i,isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}}))),c.f.fromArray)}(n,t),c.b.fromOption(()=>new Error("Alternative array is empty")))}},CxAE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("9NHN"),c=n("vOOZ"),l=n("zR/0"),d=n("lrqh"),u=n("ax6a"),p=n("e12y"),m=n("rk+4"),g=n("wOnQ"),f=n("uqkn"),h=n("IVzZ"),b=n("+w1e"),y=n("XxrX"),v=n("6lhv"),C=n("gOzB"),O=n("H37f"),w=n("BugA"),S=n("xEVj"),k=n("aIes"),A=n("0A/6"),E=n("H9T+"),x=n("RWgj"),I=n("cVtq"),j=n("J/IC");!function(e){e.BundleMini=({card:e,actions:t})=>r.createElement(A.a.Mini,Object.assign({},Object(s.c)(x.b.wrapper,x.b.bundleContainer),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:r.createElement(w.m,{className:x.b.alertsCounter},e.alerts.length),inert:e.positionState.inert,hideDot:!0}),r.createElement(c.a.div,{className:N.content},r.createElement(O.c,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:N.emoji}),r.createElement("div",{className:x.b.highlightedText},h.a.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:n,isCheckingGlobal:a})=>{const s=r.useContext(m.a.Context),u=S.a.useAtomOf(e.activeAlert.toneAlternatives),p=r.useCallback(n=>{"focused"!==e.visualState.transition.type&&"expanded"!==e.visualState.transition.type||t.next({type:b.b.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:n})},[t,e.visualState.transition.type,e.activeAlert.id,e.id]);return Object(o.pipe)(e.transform,d.g.filter(g.j.isToneAI),d.g.fold(()=>null,o=>r.createElement(E.s,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:n=>r.createElement(r.Fragment,null,r.createElement(E.j,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.a.Regular,{a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)},s.beta)}),r.createElement(c.a.Fragment,null,u.pipe(l.a.map(e=>r.createElement(j.a,{toneAlternatives:e,onSelectToneAlternative:p})))),0===e.activeAlert.selectedToneAlternativeIdx?r.createElement("div",{className:B.replacementContainer},e.activeAlert.highlightTexts[0]):r.createElement(v.b,{classes:{rendered:B.replacement,removing:B.replacementHidden},timeout:250,content:l.a.of(r.createElement(I.g,{label:o.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:B.replacementContainer,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)}))}),0!==e.activeAlert.selectedToneAlternativeIdx?r.createElement(E.r,{title:s.card.todoAction(o.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:k.d.callOnce(()=>t.next({type:b.b.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:b.b.getCardType(e),eligibleForSurvey:f.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.a.isEligibleForGbPrompt(e)}))}):null),mainActions:Object(i.constant)(r.createElement(E.e,{card:e,feedbackActions:t})),subActions:Object(i.constant)(r.createElement(E.n,{card:e,actions:t})),cardFooter:Object(i.constant)(r.createElement(E.h,{card:e}))})))}}(a||(a={}));const T={width:p.a.rem(1),height:p.a.rem(1),marginRight:p.a.rem(.5)},N=p.a.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[T]}),L={transition:`opacity ${p.a.seconds(E.u)}`},P={width:p.a.percent(100),background:u.a.CoreNeutral10,borderRadius:p.a.px(4),fontSize:p.a.rem(.875),lineHeight:p.a.rem(1.5),fontFeatureSettings:"'ss03' on",padding:p.a.px(8),marginTop:p.a.px(12),boxSizing:"border-box"},B=p.a.stylesheet({replacement:[L],replacementHidden:[L,{opacity:0}],replacementContainer:[P]})},"D/5U":function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return R}));var a=n("e12y"),r=n("ps/9"),i=n("3bJT");const o="linear",s=a.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),c=a.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),l=a.a.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),d=a.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),u=a.a.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),p=a.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),m=a.a.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),g=a.a.keyframes({"0%, 100%":{opacity:0}}),f=a.a.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),h=a.a.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),b=a.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),y=a.a.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),v=a.a.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),C=a.a.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),O={position:"relative",margin:`${a.a.rem(.5)} ${a.a.rem(2)} ${a.a.rem(.5)} 0`,userSelect:"none"},w={position:"absolute",width:a.a.percent(100),pointerEvents:"none"},S={opacity:0,animation:`${s} ${a.a.seconds(r.d/4/1e3)} ${o} ${a.a.seconds(r.d/1e3)} forwards`},k={transformOrigin:"top",animation:`${c} ${a.a.seconds(r.d/1e3)} ${o} forwards`},A={transformOrigin:"bottom",animation:`${l} ${a.a.seconds(r.d/1e3)} ${o} forwards`},E={transformOrigin:"top",willChange:"contents"},x={animation:`${d} ${a.a.seconds(r.d/1e3)} ${o} forwards`},I={animation:`${u} ${a.a.seconds(r.d/1e3)} ${o} forwards`},j={animation:`${p} ${a.a.seconds(r.d/1e3)} ${o} reverse forwards`},T={animation:`${p} ${a.a.seconds(r.d/1e3)} ${o} forwards`},N={animation:`${m} ${a.a.seconds(r.d/1e3)} ${o} forwards`},L={animation:`${m} ${a.a.seconds(r.d/1e3)} ${o} reverse forwards`},P={transformOrigin:"top",animation:`${f} ${a.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.successWrapperSelector} > *`]:{animation:`${h} ${a.a.seconds(r.d/1e3)} ${o} forwards`}}},B={position:"absolute",width:a.a.percent(100),transformOrigin:"top",animation:`${b} ${a.a.seconds(r.d/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${y} ${a.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${g} ${a.a.seconds(r.d/1e3)} ${o} none`},[`& .${i.b.fullCardSelector}`]:{transform:`translateY(${a.a.rem(-1)})`}}},F={transformOrigin:"top",animation:`${v} ${a.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${C} ${a.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${g} ${a.a.seconds(r.d/1e3)} ${o} none`}}},D=a.a.stylesheet({wrapper:[O],animationWrapper:[{position:"relative"}],shade:[w],focused2renderedMain:[S],focused2renderedShade:[w,k],focused2renderedShadeClockwise:[w,A],rendered2focusedMainBase:[E],rendered2focusedMain:[E,x],rendered2focusedMainClockwise:[E,I],addedMain:[j],rendered2removedShade:[w,T],openedMain:[N],closedMain:[L],focused2successMain:[P],focused2successShade:[B],success2FocusedMain:[F]}),R=new Map([[c,D.focused2renderedShade],[l,D.focused2renderedShadeClockwise],[p,D.rendered2removedShade],[b,D.focused2successShade]])},DFPs:function(e,t,n){e.exports=n.p+"files/2126cfb653b81bad8401da0a98c6bd25/inter-bold.woff2"},DPCN:function(e,t,n){"use strict";(function(t){function a(e,t){if(e===t)return 0;for(var n=e.length,a=t.length,r=0,i=Math.min(n,a);r<i;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0}function r(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=n("XLvf"),o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function d(e){return!r(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var u=e.exports=b,p=/\s*function\s+([^\(\s]*)\s*/;function m(e){if(i.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function f(e){if(c||!i.isFunction(e))return i.inspect(e);var t=m(e);return"[Function"+(t?": "+t:"")+"]"}function h(e,t,n,a,r){throw new u.AssertionError({message:n,actual:e,expected:t,operator:a,stackStartFunction:r})}function b(e,t){e||h(e,!0,t,"==",u.ok)}function y(e,t,n,o){if(e===t)return!0;if(r(e)&&r(t))return 0===a(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(d(e)&&d(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===a(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(r(e)!==r(t))return!1;var c=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==c&&c===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,n,a){if(null==e||null==t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=v(e),o=v(t);if(r&&!o||!r&&o)return!1;if(r)return e=s.call(e),t=s.call(t),y(e,t,n);var c,l,d=w(e),u=w(t);if(d.length!==u.length)return!1;for(d.sort(),u.sort(),l=d.length-1;l>=0;l--)if(d[l]!==u[l])return!1;for(l=d.length-1;l>=0;l--)if(c=d[l],!y(e[c],t[c],n,a))return!1;return!0}(e,t,n,o))}return n?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function C(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function O(e,t,n,a){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(a=n,n=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),a=(n&&n.name?" ("+n.name+").":".")+(a?" "+a:"."),e&&!r&&h(r,n,"Missing expected exception"+a);var o="string"==typeof a,s=!e&&r&&!n;if((!e&&i.isError(r)&&o&&C(r,n)||s)&&h(r,n,"Got unwanted exception"+a),e&&r&&n&&!C(r,n)||!e&&r)throw r}u.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=g(f((t=this).actual),128)+" "+t.operator+" "+g(f(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var a=new Error;if(a.stack){var r=a.stack,i=m(n),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},i.inherits(u.AssertionError,Error),u.fail=h,u.ok=b,u.equal=function(e,t,n){e!=t&&h(e,t,n,"==",u.equal)},u.notEqual=function(e,t,n){e==t&&h(e,t,n,"!=",u.notEqual)},u.deepEqual=function(e,t,n){y(e,t,!1)||h(e,t,n,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(e,t,n){y(e,t,!0)||h(e,t,n,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(e,t,n){y(e,t,!1)&&h(e,t,n,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function e(t,n,a){y(t,n,!0)&&h(t,n,a,"notDeepStrictEqual",e)},u.strictEqual=function(e,t,n){e!==t&&h(e,t,n,"===",u.strictEqual)},u.notStrictEqual=function(e,t,n){e===t&&h(e,t,n,"!==",u.notStrictEqual)},u.throws=function(e,t,n){O(!0,e,t,n)},u.doesNotThrow=function(e,t,n){O(!1,e,t,n)},u.ifError=function(e){if(e)throw e};var w=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}}).call(this,n("fRV1"))},"Dbx/":function(e,t,n){"use strict";n.r(t);var a=n("e12y"),r=n("BWF9"),i=n.n(r),o=n("DFPs"),s=n.n(o),c=n("L9r+"),l=n.n(c),d=n("8cdc"),u=n.n(d),p=n("7wg/"),m=n.n(p),g=n("uwfv"),f=n.n(g),h=n("8Zga"),b=n.n(h),y=n("Egmf"),v=n.n(y),C=n("My8q"),O=n.n(C),w=n("5l2B"),S=n.n(w),k=n("VLye"),A=n.n(k),E=n("9+0S"),x=n.n(E),I=n("7pZ3"),j=n.n(I),T=n("fNos"),N=n.n(T),L=n("ZEPo"),P=n.n(L),B=n("c/4S"),F=n.n(B);a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:300,src:`url('${v.a}') format('woff2'), url('${b.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:700,src:`url('${s.a}') format('woff2'), url('${i.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:400,src:`url('${F.a}') format('woff2'), url('${P.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:500,src:`url('${x.a}') format('woff2'), url('${A.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:300,src:`url('${S.a}') format('woff2'), url('${O.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:400,src:`url('${f.a}') format('woff2'), url('${m.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:500,src:`url('${N.a}') format('woff2'), url('${j.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:700,src:`url('${u.a}') format('woff2'), url('${l.a}') format('woff')`,fontDisplay:"swap"})},Egmf:function(e,t,n){e.exports=n.p+"files/7f67ab6aeebccf32e1fdc69b4b9a01de/inter-light.woff2"},"Ei+9":function(e,t,n){"use strict";n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return U})),n.d(t,"a",(function(){return M}));var a={};n.r(a),n.d(a,"sendToSignIn",(function(){return x})),n.d(a,"sendToIdeasGallery",(function(){return I})),n.d(a,"handleGbPrompt",(function(){return j}));var r=n("91hE"),i=n("7qGb"),o=n("OA+g"),s=n("I7vG"),c=n("ZTXN"),l=n("LNSM"),d=n("94k3"),u=n("lrqh"),p=n("6fbX"),m=n("D9EC"),g=n("XF5a"),f=n("PrA7"),h=n("zI3C"),b=n("dE97"),y=n("HqKA"),v=n("GUi3"),C=n("+w1e"),O=n("zR/0"),w=n("GGUR"),S=n("aIes"),k=n("rXcq"),A=n("K4Sz"),E=n("4GD7");const x=(e,t)=>Object(o.flow)(O.a.filter(e=>e.type===C.b.Type.toSignIn),O.a.map(()=>n=>(e.actions.openUrl(new k.a(t.funnel.signin).addParams({utm_medium:"internal",utm_source:"upHook",utm_campaign:"editorDenalianonymousUserGenericSignInPrompt"})),n))),I=(e,t)=>Object(o.flow)(O.a.filter(C.b.isOpenIdeasGallery),O.a.tap(()=>e.actions.openPopup(new k.a(t.ideas.galleryURL))),O.a.switchMapTo(O.a.EMPTY)),j=(e,t,n,a,r)=>i=>O.a.mergeStatic(Object(s.pipe)(i,O.a.filter(C.b.isGbPromptShow),O.a.tap(e=>T(e.alertId,n,a,e=>N(e,r))),O.a.switchMapTo(O.a.EMPTY)),Object(s.pipe)(i,O.a.filter(C.b.isGbPromptApply),O.a.tap(i=>T(i.alertId,n,a,n=>L(e,t,i,n,r))),O.a.switchMapTo(O.a.EMPTY)),Object(s.pipe)(i,O.a.filter(C.b.isGbPromptDismiss),O.a.tap(e=>T(e.alertId,n,a,t=>P(e,t,r))),O.a.switchMapTo(O.a.EMPTY))),T=(e,t,n,a)=>Object(s.pipe)(t.getById(e),u.g.map(e=>e),u.g.tap(a),u.g.tapLeft(()=>{n.error(`Can't find alert: ${e}`)})),N=(e,t)=>t.onShow(e.patternName),L=(e,t,n,a,r)=>b.h.isVox(n.gbPrompt)?B(e,t,n,a,r):D(e,t,n.gbPrompt,a,r),P=(e,t,n)=>b.h.isVox(e.gbPrompt)?F(t,n):R(t,n),B=(e,t,n,a,r)=>{var i;e.actions.openPopup(new k.a(t.account.styleGuide).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",action:"createRule",source:Array.from(new Set(a.highlightTexts)).join(","),target:(null!==(i=a.labels[n.alertApplyActionProps.alternativeIndex])&&void 0!==i?i:{replacementTexts:[""]}).replacementTexts[0]})),r.onAccept(a.patternName)},F=(e,t)=>t.onDismiss(e.patternName),D=(e,t,n,a,r)=>{e.actions.openPopup(new k.a(t.account.writingStyle).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",categoryTitle:n.categoryTitle})),r.onAccept(a.patternName)},R=(e,t)=>t.onDismiss(e.patternName);var $,M,_=n("UEGg"),W=n("uqkn"),H=n("YJiV"),G=n("W39u"),q=n("TC4P"),V=n("BeBM"),z=n("bFfh");!function(e){const t=(e,t,n,a)=>{return Object(s.pipe)(a(t=>(t.lensId===e.id||v.a.isMainLens(e.id))&&!b.a.isPremium(t),"middleOfTheViewport"),u.g.fold(()=>O.a.EMPTY,a=>Object(s.pipe)(n(e),u.g.filter(e=>e.activeAlert.id===a.alert.id),u.g.fold(()=>O.a.of(a),e=>((e,n)=>Object(s.pipe)(t,u.g.map(t=>t.alignMarkToCard(e,E.a.Animation.ANIMATE_ALL,u.g.none).pipe(O.a.switchMapTo(O.a.EMPTY))),u.g.getOrElse(()=>O.a.of(n))))(Object(o.unsafeCoerce)(e),a)))))};e.changeAlertEffect=(e,n,a,r,i,o,c,l)=>({id:"changeAlertEffect",when:v.a.isWithAlertsId,what:V.e.Effect.SwitchAlert.create(n.actionEvents.pipe(O.a.switchMap(n=>{const d=e.get();if(!V.e.hasCards(d))return O.a.throwError(new p.b("Cannot update state without cards"));switch(n.type){case C.b.Type.alertMinicardButtonClick:return Object(s.pipe)(i.getRegistered(n.alertHighlight.alert.id),u.g.fold(()=>(l.error("somehow we got click on non registered alert",{alert:_.a.snapshot(n.alertHighlight.alert),alertInRepo:Object(s.pipe)(i.getById(n.alertHighlight.alert.id),u.g.map(_.a.fromModel),u.g.map(_.a.snapshot)),state:V.e.snapshot(H.a.snapshot,r)(d)}),O.a.EMPTY),()=>O.a.of(n.alertHighlight)));case C.b.Type.cardMatchesNavigationButtonClick:const e=n.transitionTo;switch(e.kind){case"anotherAlert":return Object(s.pipe)("right"===n.direction?a.nextAlert(e.card):Object(s.pipe)(a.prevAlert(e.card),u.g.orElse(a.anyRegisteredAlert(e.card))),u.g.fold(()=>O.a.EMPTY,e=>O.a.of({alert:e,highlightIndex:0})));case"sameAlert":return Object(s.pipe)(i.getRegistered(e.card.activeAlert.id),u.g.fold(()=>O.a.EMPTY,()=>O.a.of({alert:e.card.activeAlert,highlightIndex:e.highlightIndex})));default:return Object(p.d)(e)}case C.b.Type.switchToClosestByViewport:return t(d.currentLens,o,r,c);default:return O.a.EMPTY}}),O.a.map(e=>({alertHighlight:e,alertSource:b.b.sidebar,options:{order:"lensOrder"}}))))}),e.createSendActiveAlertFeedbacksEffect=function(e,t,n,a,r){const i=e.pipe(O.a.map(V.e.getActiveAlert(t)),O.a.distinctUntilChanged(u.g.getEq(u.c.fromEquals((e,t)=>_.a.eq.equals(e,t)&&e.patternName===t.patternName)).equals),O.a.map(u.g.filter(e=>u.g.isSome(a.getRegistered(e.id))&&!b.a.isInPremiumLens(e))),O.a.switchMap(u.g.fold(()=>O.a.EMPTY,t=>O.a.Observable.create(()=>(Object(s.pipe)(n.applyFeedback(t.id,{kind:d.a.AlertFeedbackType.LOOKED,subtype:y.b.getSubTypeFromLens(e.get().currentLens.id)},b.b.sidebar),u.b.fold(r.handler("Failed to send LOOKED feedback").error,m.e)),()=>{u.g.isSome(a.getRegistered(t.id))&&Object(s.pipe)(n.applyFeedback(t.id,{kind:d.a.AlertFeedbackType.CLOSED,subtype:y.b.getSubTypeFromLens(e.get().currentLens.id)},b.b.sidebar),u.b.fold(r.handler("Failed to send CLOSED feedback: ").error,m.e))})))));return{id:"sendActiveAlertFeedbacksEffect",when:o.constTrue,what:V.e.Effect.Applicator.create(i.pipe(O.a.switchMapTo(O.a.NEVER)))}}}($||($={}));class U{constructor(e,t,n,a,i,l,g,v,E,x,I,j,T,N=new h.b,L={bufferTransitions:!0,showGbPrompt:!1},P=u.g.none){this._ops=e,this._navigationEvents=t,this._cardFactory=n,this._alertsService=a,this._sduiService=i,this._markOnboardingAsSeen=l,this._markMuteQuotedAdviceAsDismissed=g,this._sendToUrlExperiment=E,this._getActiveItemWithAlert=I,this._checksFeedCapabilities=j,this._lensState=T,this._platformEnvironment=N,this._settings=L,this._sduiManager=P,this._log=f.Monitoring.Logging.getLogger("CardsViewModelImpl",f.Logging.LogLevel.DEBUG),this._subs=new w.a.Keeper,this._flushCompleteTransition=new O.a.Subject,this._flushPositionAnimation=new O.a.Subject,this.actionEvents=new O.a.Subject,this.completePositionAnimation=new O.a.Subject,this.changePosition=new O.a.Subject,this._transitionBuffer=O.a.interval(100).pipe(O.a.startWith(0),O.a.merge(this._flushCompleteTransition)),this._positionAnimationBuffer=O.a.interval(100).pipe(O.a.startWith(0),O.a.merge(this._flushPositionAnimation)),this._startTransitionStateChanges=this.actionEvents.pipe(O.a.filter(C.a.isStartTransitionTo),O.a.map(e=>t=>M.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,e.transition]]),t))),this._completeTransitionStateChanges=this.actionEvents.pipe(O.a.filter(C.a.isCompleteTransitionTo),this._settings.bufferTransitions?O.a.buffer(this._transitionBuffer):O.a.map(e=>[e]),O.a.filter(m.n),O.a.map(e=>t=>{const n=t.currentLens,a=this._applyCompleteVSChange(n,e.map(e=>[e.id,e.transitionId]));return this._log.isEnabled(f.Logging.LogLevel.TRACE)&&this._log.trace("batch transition complete",{events:e,diff:S.a.Sorted.diff(n.items,a.items)}),V.e.Prism.getLens().set(a,t)})),this._changePositionEffect=this.changePosition.pipe(O.a.map(({id:e,height:t})=>n=>{const a=Object(s.pipe)(A.a.update(n.currentLens.items,e,e=>this._checksFeedCapabilities.changePosition(G.a.PositionState.changeHeight(e.positionState,t))(e)),u.b.fold(()=>n.currentLens.items,o.identity));return M.itemsLens.set(a,n)})),this._transitionEndStateChanges=this.completePositionAnimation.pipe(O.a.buffer(this._positionAnimationBuffer),O.a.filter(m.n),O.a.map(e=>t=>{const n=t.currentLens.items,a=e.map(e=>[e,!1]).reduce((e,[t,n])=>Object(s.pipe)(A.a.update(e,t,e=>this._checksFeedCapabilities.changePosition(G.a.PositionState.changeAnimationInProgress(e.positionState,n))(e)),u.b.fold(()=>e,o.identity)),n);return M.itemsLens.set(a,t)})),this._switchToNextChanges=this.actionEvents.pipe(O.a.filter(e=>e.type===C.b.Type.switchToNext),O.a.map(()=>e=>e.patch({currentLens:Object(s.pipe)(V.e.hasItems(e)?this._checksFeedCapabilities.findNextAlert(e.currentLens):u.g.none,u.g.fold(()=>Object(s.pipe)(V.e.getActiveAlert(this._getActiveItemWithAlert)(e),u.g.fold(()=>{throw new p.b("Can not switch from non-existing card")},t=>this._checksFeedCapabilities.release(t)(e.currentLens))),t=>V.e.hasItems(e)?this._checksFeedCapabilities.selectItemByAlert(t,[])(e.currentLens):e.currentLens)),switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._dismissMuteQuotedAdvice=this.actionEvents.pipe(O.a.filter(C.b.isDismissMuteQuotedAdvice),O.a.tap(this._markMuteQuotedAdviceAsDismissed),O.a.map(()=>e=>{const t=e.currentLens.items.filter(Object(o.flow)(this._checksFeedCapabilities.hasActiveAlert,u.g.map(e=>e.alert),u.g.exists(_.a.isInQuotes))).keys().map(e=>[e,!1]).reduce((e,[t])=>Object(s.pipe)(A.a.update(e,t,this._cardFactory.hideMuteQuotedAdvice),u.b.fold(()=>e,o.identity)),e.currentLens.items);return M.itemsLens.set(t,e)})),this._changeUserInput=this.actionEvents.pipe(O.a.filter(C.b.isChangeUserInput),O.a.tap(({alertId:e,userInput:t})=>{this._alertsService.changeGapValue(e,t)}),O.a.map(({cardId:e,userInput:t})=>n=>{const a=Object(s.pipe)(n.currentLens.items.update(e,this._checksFeedCapabilities.updateUserInput(Boolean(t)?u.g.some(t):u.g.none)),u.b.fold(()=>n.currentLens.items,o.identity));return M.itemsLens.set(a,n)})),this._shortenItDismissEdit=this.actionEvents.pipe(O.a.filter(C.d.isDismissEdit),O.a.map(({alertId:e,group:t,itemId:n})=>a=>Object(s.pipe)(this._alertsService.dismissShortenItTransformGroup(e,t),u.b.map(e=>({newAlert:e,itemId:n})),u.b.chainW(({newAlert:e,itemId:t})=>A.a.update(a.currentLens.items,t,this._checksFeedCapabilities.updateWithAlerts([e]))),u.b.fold(e=>(this._log.error("Error updating card/alert with dismissed transform groups.",e),a),e=>M.itemsLens.set(e,a))))),this._focusChecksFeedItem=this.actionEvents.pipe(O.a.filter(C.b.isMiniItemClick),O.a.map(e=>t=>t.patch({currentLens:Object(s.pipe)(t.currentLens.items.find(t=>t.id===e.id),u.g.fold(()=>(this._log.error("Can not switch from non-existing item"),t.currentLens),()=>Object(o.unsafeCoerce)(Object(s.pipe)(t.currentLens,this._checksFeedCapabilities.selectItemById(e.id,[]))))),switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._collapseChecklistItem=this.actionEvents.pipe(O.a.filter(C.b.isChecklistItemCollapseButtonClick),O.a.map(()=>e=>e.patch({currentLens:V.e.hasItems(e)?this._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._toneAIChangeToneAlternative=this.actionEvents.pipe(O.a.filter(C.b.isToneAIChangeToneAlternativeAction),O.a.map(({itemId:e,alertId:t,selectedToneAlternativeIdx:n})=>Object(s.pipe)(this._alertsService.changeToneAIToneAlternative(t,n),u.b.map(t=>({newAlert:t,itemId:e})))),O.a.map(e=>this._updateToneAICard(e))),this._synfonyDrilldown=this.actionEvents.pipe(O.a.filter(C.e.isDrilldown),O.a.map(({cardId:e,wordIndex:t})=>n=>Object(s.pipe)(A.a.update(n.currentLens.items,e,e=>{const n=e;return W.a.changeSynfonySelection(Object(s.pipe)(n.synfonySelection,u.g.getOrElse(()=>[]),e=>u.g.some(e.concat([t]))))(n)}),u.b.fold(()=>n,e=>V.e.Prism.getLens().compose(z.a.Prism.items).set(e,n))))),this._synfonyBack=this.actionEvents.pipe(O.a.filter(C.e.isBack),O.a.map(({cardId:e})=>t=>Object(s.pipe)(A.a.update(t.currentLens.items,e,e=>{const t=e;return W.a.changeSynfonySelection(Object(s.pipe)(t.synfonySelection,u.g.map(e=>e.slice(0,-1))))(t)}),u.b.fold(()=>t,e=>V.e.Prism.getLens().compose(z.a.Prism.items).set(e,t))))),this._sendToUrl=Object(s.pipe)(this._sendToUrlExperiment,u.g.map(e=>Object.entries(e).filter(([e])=>"handleGbPrompt"!==e||this._settings.showGbPrompt).map(([e,t])=>[t(this.actionEvents),e]))),this._sendFeedback=Object(o.flow)((e,t)=>this._alertsService.applyFeedback(e,Object.assign(Object.assign({},t),{subtype:y.b.getSubTypeFromLens(this._lensState.get().currentLens.id)}),b.b.sidebar),u.b.fold(this._log.handler("error calling alert service to send a feedback").error,m.e)),this._showSurveyForm=new c.a,this._showSurveyFormEffect=Object(s.pipe)(this._showSurveyForm,O.a.map(e=>t=>M.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,"survey"===e.formType?Object.assign({type:"feedback_form",formType:"survey",clockwise:!0,survey:e.survey},e.submitActionType===C.b.Type.alertApplyFormSubmit?{submitActionType:C.b.Type.alertApplyFormSubmit,alertApplyActionProps:e.alertApplyActionProps}:{submitActionType:C.b.Type.alertIgnoreFormSubmit}):{type:"feedback_form",formType:"gbPrompt",clockwise:!0,gbPrompt:e.gbPrompt,alertApplyActionProps:e.alertApplyActionProps}]]),t))),this._showMutedAlertSuccessEffect=this.actionEvents.pipe(O.a.filter(C.b.isMuteCategoryAction),O.a.map(e=>t=>M.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"muted",clockwise:!0}]]),t))),this._undoMutedAlertEffect=this.actionEvents.pipe(O.a.filter(C.b.isUndoMuteCategoryAction),O.a.map(e=>t=>M.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"focused",clockwise:!0}]]),t))),this._handleAlertIgnore=Object(o.flow)(Y(({alertId:e,drilldownSuggestionIds:t})=>()=>this._sendFeedback(e,{kind:d.a.AlertFeedbackType.IGNORE,drilldownSuggestionIds:t}),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(O.a.filter(C.b.isAlertIgnoreAction)).subscribe(t=>e(t)())),this._handleApplyAlerts=Object(o.flow)(Y(e=>()=>this._applyAlert(e),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(O.a.filter(C.b.isAlertApplyAction)).subscribe(t=>e(t)())),this._sduiActionsHandler=this.actionEvents.pipe(O.a.filter(C.b.isSDUICardAction),O.a.skipBy(C.b.SDUICardAction.eq),O.a.map(({cardId:e,sourceId:t,actions:n})=>a=>(this._log.info("sdui card action:",{cardId:e,actions:n}),Object(p.g)(u.g.isSome(this._sduiService),"sduiService must be initialized to handle sdui actions"),Object(s.pipe)(n,u.a.reduce(a,(a,i)=>{switch(i.type){case"notify":return u.g.unsafeGet(this._sduiService).sendUserAction(t,i.userAction),a;case"removeCard":const c=n.some(r.d.Action.isApplyAlternativeAction)?a:M.itemsLens.set(Object(s.pipe)(A.a.update(a.currentLens.items,e,e=>this._checksFeedCapabilities.remove(o.constTrue,o.constTrue)(e)),u.b.fold(()=>a.currentLens.items,o.identity)),a);return Object(s.pipe)(a.currentLens.items.get(e),u.g.filterMap(e=>Object(s.pipe)(this._checksFeedCapabilities.hasActiveAlert(e.value),u.g.map(e=>e.alert),u.g.filter(e=>!_.a.isPremium(e)&&!n.some(r.d.Action.isApplyAlternativeAction)),u.g.map(t=>Object(o.tuple)(e.value,t)))),u.g.fold(()=>c,([e,t])=>(requestAnimationFrame(()=>this.actionEvents.next({type:C.b.Type.alertIgnore,alertId:t.id,id:e.id,eligibleForSurvey:t.dismissSurvey,drilldownSuggestionIds:t.alertType===b.a.Type.Synfony?Object(s.pipe)(e.synfonySelection,u.g.getOrElse(()=>[])):void 0})),a)));case"applyAlternative":return Object(s.pipe)(a.currentLens.items.get(e),u.g.map(e=>e.value),u.b.fromOption(()=>new Error(`unknown cardId: ${e}`)),u.b.bimap(e=>this._log.error("error in processing applyAlternative action",e),e=>{const t=Object(s.pipe)(this._checksFeedCapabilities.hasActiveAlert(e),u.g.map(e=>e.alert));u.g.isNone(t)?this._log.error("error in processing applyAlternative action: card must have active alert"):requestAnimationFrame(()=>this.actionEvents.next({type:C.b.Type.alertApply,id:e.id,eligibleForSurvey:t.value.acceptSurvey,eligibleForGbPrompt:t.value.gbPrompt,alertId:t.value.id,alternativeIndex:i.alternativeIndex,cardType:C.b.getCardType({activeAlert:t.value})}))}),()=>a);case"closeCard":return a.patch({currentLens:V.e.hasItems(a)?this._checksFeedCapabilities.unselectItem()(a.currentLens):a.currentLens,switchOrder:"lensOrder",alertSource:b.b.sidebar});case"nextCard":case"prevCard":case"transition":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"transition":return a;case"removeAlert":return Object(s.pipe)(a.currentLens.items.get(e),u.g.map(e=>e.value),u.b.fromOption(()=>new Error(`unknown cardId: ${e}`)),u.b.chain(e=>Object(s.pipe)(this._checksFeedCapabilities.hasActiveAlert(e),u.g.map(e=>e.alert),u.b.fromOption(()=>new Error("error in processing applyAlternative action: card must have active alert")))),u.b.bimap(e=>this._log.error("error in processing applyAlternative action",e),e=>Object(s.pipe)(this._sduiManager,u.g.fold(()=>this._log.warn("WARN _sduiManager is not passed to cards view model"),t=>requestAnimationFrame(()=>t.pushRemovedAlerts([[e.id],"removeAlert"])))))),a;case"selectAlternative":return a;case"openLink":return this._platformEnvironment.actions.openPopup(new k.a(i.url)),a;default:return Object(p.e)(i),a}}),e=>e.patch({alertSource:b.b.sidebar}))))),this.hovered=this.actionEvents.pipe(O.a.filter(C.b.isHoverAction),O.a.tap(()=>this._ops.flush()),O.a.scan((e,t)=>"hover"===t.kind?u.g.some(t.id):Object(s.pipe)(e,u.g.filter(e=>e!==t.id)),u.g.none),O.a.share()),this.flushTransitionTo=()=>this._flushCompleteTransition.next(),this.flushPositionAnimation=()=>this._flushPositionAnimation.next(),this._subs.push(this._handleAlertFeedbacks(),this._applyTakeawayFeedbacks(),this._sendTakeawayFeedbacks(),this._handleIgnoreFormSubmit(),this._handleApplyFormSubmit(),this._handleGbPromptDismiss(),this._handleGbPromptApply(),this._handleAlertIgnore(x),this._handleAlertResolve(),this._handleApplyAlerts(x),this._dismissAlertsBatch(),this._newFeatureSeen(),this._handleSentenceLevelBrandTonesFeedback(),this._handleDrilldown(),this._handleSnippetsOpenExternalLink()),Object(s.pipe)(v,u.g.tap(({model:e,openSuggestionsManagement:t})=>this._subs.push(this._handleCommitMuteCategories(e),this._handleSuggestionsManagementClick(t))))}_applyStartVSChange(e,t){return t.reduce((e,[t,n])=>Object(s.pipe)(A.a.update(e,t,e=>this._checksFeedCapabilities.transitionTo(n)(e)),u.b.fold(()=>e,o.identity)),e)}_applyCompleteVSChange(e,t){return t.reduce((e,[t,n])=>Object(s.pipe)(e.items.get(t),u.g.map(({value:e})=>e),u.g.fold(()=>e,a=>q.a.isAnimatable(a)&&"removed"===a.visualState.transition.type?this._checksFeedCapabilities.removeItemById(t)(e):Object(s.pipe)(A.a.update(e.items,t,e=>q.a.isAnimatable(e)&&e.visualState.transitionId===n?this._checksFeedCapabilities.completeTransition(n)(e):e),u.b.fold(()=>e,t=>z.a.Prism.items.set(t,e))))),e)}_handleSentenceLevelBrandTonesFeedback(){return this.actionEvents.pipe(O.a.filter(C.b.isSentenceLevelBrandTonesFeedbackAction)).subscribe(({alertId:e,feedbackType:t})=>(this._alertsService.changeSentenceLevelBrandTonesFeedback(e,t),this._sendFeedback(e,{kind:t===b.l.accurate?d.a.EmotionSentenceFeedbackType.EMOTION_SENTENCE_LIKE:d.a.EmotionSentenceFeedbackType.EMOTION_SENTENCE_DISLIKE})))}_handleSnippetsOpenExternalLink(){return this.actionEvents.pipe(O.a.filter(C.b.isSnippetsOpenExternalLink)).subscribe(({externalLink:e})=>this._platformEnvironment.actions.openPopup(new k.a(e)))}_updateToneAICard(e){return t=>Object(s.pipe)(e,u.b.chainW(({newAlert:e,itemId:n})=>A.a.update(t.currentLens.items,n,this._checksFeedCapabilities.updateWithAlerts([e]))),u.b.fold(e=>(this._log.error("Error updating card with ToneAI alert.",e),t),e=>V.e.Prism.getLens().compose(z.a.Prism.items).set(e,t)))}_handleAlertFeedbacks(){return this.actionEvents.pipe(O.a.filter(C.b.isAlertFeedbackAction)).subscribe(({alertId:e,feedbackType:t})=>this._sendFeedback(e,{kind:t}))}_applyTakeawayFeedbacks(){return this.actionEvents.pipe(O.a.filter(C.b.isTakeawayDetectionFeedbackAction)).subscribe(({alertId:e,type:t})=>this._alertsService.changeTakeawayFeedback(e,t===C.b.Type.takeawayCorrectlyDetected?b.q.correctlyDetected:t===C.b.Type.takeawayIncorrectlyDetected?b.q.incorrectlyDetected:Object(p.d)(t)))}_sendTakeawayFeedbacks(){return this.actionEvents.pipe(O.a.filter(C.b.isTakeawayAction)).subscribe(e=>{switch(e.type){case C.b.Type.takeawayCorrectlyDetected:return e.isLikelyToBeRead?this._sendFeedback(e.alertId,{kind:d.a.AlertFeedbackType.ACKNOWLEDGED,text:e.takeawayText}):this._sendFeedback(e.alertId,{kind:d.a.AlertFeedbackType.ACCEPTED,replacementText:e.takeawayText});case C.b.Type.takeawayIncorrectlyDetected:return this._sendFeedback(e.alertId,{kind:d.a.AlertFeedbackType.IGNORE});case C.b.Type.takeawayDismiss:return this._sendFeedback(e.alertId,{kind:d.a.AlertFeedbackType.IGNORE,pnameQualifier:e.isLikelyToBeRead?d.a.PNameQualifier.likelyToBeReadTakeaway:d.a.PNameQualifier.unlikelyToBeReadTakeaway});case C.b.Type.takeawayResolve:return this._sendFeedback(e.alertId,{kind:d.a.AlertFeedbackType.ACKNOWLEDGED,pnameQualifier:e.isLikelyToBeRead?d.a.PNameQualifier.likelyToBeReadTakeaway:d.a.PNameQualifier.unlikelyToBeReadTakeaway});default:Object(p.d)(e)}})}_handleAlertResolve(){return this.actionEvents.pipe(O.a.filter(C.b.isAlertResolveAction)).subscribe(({alertId:e})=>this._sendFeedback(e,{kind:d.a.AlertFeedbackType.ACKNOWLEDGED}))}_handleIgnoreFormSubmit(){return this.actionEvents.pipe(O.a.filter(C.b.isAlertIgnoreFeedbackFormSubmit)).subscribe(({alertId:e,reason:t})=>{this._sendFeedback(e,{kind:d.a.AlertFeedbackType.IGNORE,reason:t})})}_handleApplyFormSubmit(){return this.actionEvents.pipe(O.a.filter(C.b.isAlertApplyFeedbackFormSubmit)).subscribe(e=>{this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{reason:e.reason})),e.alertApplyActionProps.actionsToDispatchAfterSurvey&&e.alertApplyActionProps.actionsToDispatchAfterSurvey.forEach(e=>this.actionEvents.next(e))})}_handleGbPromptDismiss(){return this.actionEvents.pipe(O.a.filter(C.b.isGbPromptDismiss)).subscribe(e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:d.a.GbPromptFeedbackType.DISMISSED})))}_handleGbPromptApply(){return this.actionEvents.pipe(O.a.filter(C.b.isGbPromptApply)).subscribe(e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:d.a.GbPromptFeedbackType.ACCEPTED})))}_handleCommitMuteCategories(e){return this.actionEvents.pipe(O.a.filter(C.b.isMutedAlertCardDismissedAction)).subscribe(t=>Object(s.pipe)(e.muteCategories([t.categoryId]),u.b.fold(this._log.handler("error calling categories model to commit muted category").error,m.e)))}_handleSuggestionsManagementClick(e){return this.actionEvents.pipe(O.a.filter(C.b.isMutedAlertSuggestionsManagementClick)).subscribe(e)}_applyAlert(e){return Object(s.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:b.b.sidebar,feedbackSubtype:y.b.getSubTypeFromLens(this._lensState.get().currentLens.id),drilldownSuggestionIds:e.drilldownSuggestionIds,reason:e.reason,gbPrompt:e.gbPrompt}),u.b.fold(this._log.handler("error calling alert service to apply an alert").error,m.e))}_handleDrilldown(){return this.actionEvents.pipe(O.a.filter(C.e.isDrilldown)).subscribe(e=>this._sendFeedback(e.alertId,{kind:d.a.DrilldownFeedbackType.DRILLDOWN,drilldownSuggestionIds:e.drilldownSuggestionIds,alternativeIndex:e.alternativeId}))}_dismissAlertsBatch(){return this.actionEvents.pipe(O.a.filter(C.c.isDismissAlertsBatchAction)).subscribe(e=>Object(s.pipe)(this._alertsService.dismissBatch(e.alerts,y.b.getSubTypeFromLens(this._lensState.get().currentLens.id)),u.b.fold(this._log.handler("error calling alert service to dismiss alerts batch").error,m.e)))}_newFeatureSeen(){return this.actionEvents.pipe(O.a.filter(C.b.isOnboardingClose)).subscribe(e=>Object(s.pipe)(this._markOnboardingAsSeen(e.value)))}getApplicatorEffects(){return Object(s.pipe)([[this._startTransitionStateChanges,"startTransitionStateChanges"],[this._completeTransitionStateChanges,"completeTransitionStateChanges"],[this._changePositionEffect,"changePositionEffect"],[this._transitionEndStateChanges,"transitionEndStateChanges"],[this._switchToNextChanges,"switchToNextChanges"],[this._dismissMuteQuotedAdvice,"dismissMuteQuotedAdvice"],[this._changeUserInput,"changeUserInput"],[this._toneAIChangeToneAlternative,"toneAIChangeToneAlternative"],[this._synfonyDrilldown,"synfonyDrilldown"],[this._synfonyBack,"synfonyBack"],[this._focusChecksFeedItem,"focusChecksFeedItem"],[this._collapseChecklistItem,"collapseChecklistItem"],[this._shortenItDismissEdit,"shortenItDismissEdit"],[this.actionEvents.pipe(O.a.filter(C.b.isNavigation),O.a.tap(this._navigationEvents),O.a.switchMapTo(O.a.EMPTY)),"navigationEvents"],...Object(s.pipe)(this._sendToUrl,u.g.getOrElse(Object(o.constant)([]))),[this._showSurveyFormEffect,"showIgnoreFormEffect"],[this._showMutedAlertSuccessEffect,"showMutedAlertSuccessEffect"],[this._undoMutedAlertEffect,"undoMutedAlertEffect"],[this._sduiActionsHandler,"sduiActions"]],u.a.map(([e,t])=>({id:`cardsViewModel.effects.${t}`,when:v.a.isWithAlertsId,what:V.e.Effect.Applicator.create(e)})))}dispose(){this._subs.dispose()}}!function(e){e.itemsLens=V.e.Prism.getLens().compose(z.a.Prism.items);e.Mock=class{constructor(){this.animate=l.a.create(!0),this.clockwise=l.a.create(!0),this.toggleAnimations=()=>this.animate.modify(e=>!e),this.completePositionAnimation=new O.a.Subject,this.actionEvents=new O.a.Subject,this.flushTransitionTo=m.e,this.sideEffect={id:"cardsViewModelMock",when:v.a.isWithAlertsId,what:V.e.Effect.Applicator.create(O.a.EMPTY)},this.changePosition=new O.a.Subject,this.dispose=m.e}},e.Experiments=a}(M||(M={}));const Y=(e,t,n)=>a=>r=>Object(s.pipe)(X(r,n),i.of,g.a.chain(e=>Object(s.pipe)(a,i.map(t=>t?u.g.none:u.g.some(e)))),g.a.fold(()=>e(r),e=>t(e))),X=(e,t)=>C.b.isAlertApplyAction(e)?K(e,t):Z(e),K=(e,t)=>Object(s.pipe)(e.eligibleForGbPrompt,u.g.filter(Object(o.constant)(t)),u.g.map(t=>({id:e.id,formType:"gbPrompt",alertApplyActionProps:e,gbPrompt:t})),u.g.orElse(Object(s.pipe)(e.eligibleForSurvey,u.g.map(t=>({id:e.id,formType:"survey",submitActionType:C.b.Type.alertApplyFormSubmit,alertApplyActionProps:e,survey:t}))))),Z=e=>Object(s.pipe)(e.eligibleForSurvey,u.g.map(t=>({id:e.id,formType:"survey",submitActionType:C.b.Type.alertIgnoreFormSubmit,survey:t})))},EjiM:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return C})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return k}));var a=n("93Qa"),r=n("8Js9"),i=n("OA+g"),o=n("I7vG"),s=n("lrqh"),c=n("hoSD"),l=n("aIes"),d=n("zR/0"),u=n("gy42"),p=n("W39u"),m=n("BeBM"),g=n("bFfh"),f=n("NW9S");const h=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t))),b=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t)));function y({cardTop:e,cardHeight:t,viewportHeight:n,padding:a}){const r=f.a.FromViewportTop.ISO.unwrap(e),i=r+t;return t>n?r:r<0?t+a.before<n?r-a.before:r:i>n?t+a.after<n?i-n+a.after:i-n:r<a.before?t+a.after+a.before<n?r-a.before:t+a.after<n?r-a.after:a.before:n-i<a.after&&t+a.after<n?a.after-(n-i):0}const v=(e,t,n,a)=>({from:Math.max(0,l.a.Sorted.lowerBound(e,e=>e.positionState.absTop+e.positionState.height<n)-a),to:Math.min(e.size,l.a.Sorted.lowerBound(e,e=>e.positionState.absTop<n+t.height)+a)}),C=e=>t=>t.pipe(O(e),d.a.map(s.g.map(e=>e.currentLens)),d.a.pairwise(),d.a.filter(([e,t])=>Object(o.pipe)(Object(i.tuple)(e,t),Object(i.tupled)(s.g.map2((e,t)=>e.id===t.id&&Object(o.pipe)(Object(i.tuple)(m.k.getActiveItem(e),e.cardIndex,m.k.getActiveItem(t),t.cardIndex),Object(i.tupled)(a.sequenceT(s.g.option)),s.g.map(([e,t,n,a])=>e.id===n.id&&t!==a)))),s.g.getOrElse(()=>!1))),d.a.map(Object(i.flow)(r.a(s.g.chain(m.k.getActiveItem),s.g.chain(m.k.getActiveItem)),Object(i.tupled)(s.g.map2((e,t)=>t.positionState.absTop-e.positionState.absTop)),s.g.getOrElse(()=>0)))),O=e=>t=>t.pipe(d.a.map(s.g.filter(({currentLens:t})=>b(e)(t)))),w=e=>(t,n,a,r,i)=>{const l=(e=>s.g.getEq(s.c.fromEquals((t,n)=>{const a=m.k.getActiveItem(t),r=m.k.getActiveItem(n);return s.g.getEq(e.visualStateEq).equals(a,r)&&t.items.size===n.items.size&&c.a.compareInPairs(t.items.keys(),n.items.keys(),(e,t)=>e===t)})))(e);return t.pipe(d.a.map(s.g.map(e=>e.currentLens.id)),d.a.distinctUntilChanged(s.c.eqStrict.equals),d.a.map(s.g.isSome),d.a.switchMap(u.b.orEmpty(d.a.combineLatestStatic(n,a,r,O(e)(t).pipe(d.a.map(s.g.map(e=>e.currentLens)),d.a.distinctUntilChanged(l.equals),d.a.switchMap(i))))),d.a.filter(([t,n,a,r])=>Object(o.pipe)(r,s.g.exists(b(e)))),d.a.map(([e,t,n])=>({viewport:e,scrollTop:t,paddingTop:n})))},S=e=>({viewport:t,scrollTop:n,paddingTop:a})=>r=>{const i=r.currentLens,o=v(i.items,t,n-a,0);let s=!1;const c=i.items.map((t,n,a)=>{const r=((e,t)=>n=>n.positionState.inert!==t?e.changePosition(p.a.PositionState.changeInert(n.positionState,t))(n):n)(e,!(e=>o.from<=e)(a))(t);return r!==t?(s=!0,r):t});return s?m.e.Prism.getLens().compose(g.a.Prism.items).set(c,r):r},k=({cardsBeyondViewport:e,cardsAroundActive:t,changePosition:n})=>({viewport:a,scrollTop:r,paddingTop:c,completeTransition:l})=>d=>{const u=d.currentLens,f=((e,t,n,a)=>e.size<2||Math.floor(t.height/Math.min(s.g.unsafeGet(e.getAt(0)).positionState.height,s.g.unsafeGet(e.getAt(1)).positionState.height))>=e.size?{from:0,to:e.size}:v(e,t,n,a))(u.items,a,r-c,e);let h=!1;const b=u.items.map((e,a,r)=>{const c=Object(i.flow)(((e,t)=>n=>n.positionState.visible!==t?e.changePosition(p.a.PositionState.changeVisible(n.positionState,t))(n):n)(n,e.positionState.watched||(e=>f.from<=e&&f.to>e||Object(o.pipe)(u.cardIndex,s.g.exists(n=>e>=n-t&&e<=n+t)))(r)),(e=>t=>!t.positionState.visible&&t.positionState.animationInProgress?e.changePosition(p.a.PositionState.changeAnimationInProgress(t.positionState,!1))(t):t)(n),l)(e);return c!==e?(h=!0,c):e});return h?m.e.Prism.getLens().compose(g.a.Prism.items).set(b,d):d}},FpF0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("ERkP");function r({href:e,children:t,className:n}){return a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:n,href:e},t)}},H37f:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var a=n("ERkP"),r=n("9NHN"),i=n("Kt6o"),o=n("e12y");const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function c(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}function l(e){return i.b+c(e)+".svg"}const d=({children:e,emojiClassName:t,className:n})=>{const r=a.useRef(null);return a.useEffect(()=>{r.current&&(r.current.innerHTML=r.current.innerHTML.replace(s,e=>(function(e,t=p.emoji){return`<img alt="${e}" class="${t}" src="${l(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`})(e,t)))},[r,t]),a.createElement("span",{ref:r,className:n},e)},u=({id:e,className:t})=>{const[n,o]=a.useState(!1),[s,c]=a.useState(""),[l,d]=a.useState("");return a.useEffect(()=>{o(!1),d(function(e){return i.b+e+".svg"}(e)),c((e=>{try{return String.fromCodePoint(...e.map(e=>parseInt(e,16)))}catch(e){return""}})(e.split("-")))},[e]),n?a.createElement("span",Object.assign({},Object(r.c)(t,p.emojiFromIDAlt)),s):a.createElement("img",{className:t,src:l,alt:s,onError:()=>o(!0)})},p=o.a.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},H9Bv:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("ERkP"),r=n("9NHN"),i=n("6fbX"),o=n("hoSD"),s=n("ax6a"),c=n("zI3C"),l=n("3rlE"),d=n("e12y"),u=n("SD38");const p=32,m=2*Math.PI*p,g=p+4,f=2*g,h=94,b=(e,t,n)=>e<t?t:e>n?n:e,y=e=>{switch(e){case w.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:"#f1f2fa",outline:"#fff"};case w.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:"#f1f2fa",outline:"#fff"};case w.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:"#f1f2fa",outline:"#fff"};case w.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:"#f1f2fa",outline:"#fff"};case w.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:"#f1f2fa",outline:"#fff"};case w.ColorType.logan:return{type:"plain",value:"#a6adc9",background:"#f1f2fa",outline:"#fff"};case w.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case w.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case w.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case w.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case w.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case w.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case w.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case w.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return Object(i.d)(e)}},v=e=>{switch(e){case w.FontSize.normal:return 32;case w.FontSize.small:return 24;default:return Object(i.d)(e)}},C=e=>{switch(e){case w.IconSize.pdf:case w.IconSize.normal:case w.IconSize.outcome:return 5;case w.IconSize.small:return 3;case w.IconSize.extraSmall:return 10;default:return Object(i.d)(e)}},O=e=>{switch(e){case w.IconSize.pdf:return 110;case w.IconSize.normal:return 52;case w.IconSize.outcome:return 32;case w.IconSize.small:return 24;case w.IconSize.extraSmall:return 16;default:return Object(i.d)(e)}};class w extends a.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=w.ColorType.logan,fontSize:i=w.FontSize.normal,iconSize:s=w.IconSize.normal,description:d,theme:u=E}=this.props,S=[a.createElement("circle",{key:"circle",id:"circle",cx:g,cy:g,r:p,fill:"none"})],k=v(i),A=C(s),x=b(e,0,100),I=b(t,x,100),j=x*m/100,T=I*m/100,N=360*A/m,L=x?m-j-2*A:m;let P,B,F,D,R;const $=y(n);if("plain"===$.type)P=$.value,B=P,F=$.outline,D=$.background,R=void 0===$.backgroundOpacity?1:$.backgroundOpacity;else{const e=$.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:`pb-gradient-${w._nextGradientId++}`,S.push(a.createElement("linearGradient",Object.assign({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),a.createElement("stop",{stopColor:e.start,offset:"0%"}),a.createElement("stop",{stopColor:e.end,offset:"100%"}))),P=`url(#${this._gradientId})`,B="#2b2d38",F=$.outline,D=$.background,R=void 0===$.backgroundOpacity?1:$.backgroundOpacity}return a.createElement(c.a.Context.Consumer,null,e=>a.createElement(l.e,Object.assign({},Object(r.c)(E.iconWrapper,u.radialProgressBar),{width:O(s),viewBox:`0 0 ${f} ${f}`}),a.createElement("defs",null,S),a.createElement("g",null,a.createElement("use",{className:E.valueCircle,stroke:x>=h&&Boolean(F)?F:D,strokeOpacity:R,strokeWidth:A,strokeDasharray:m,strokeDashoffset:m-T,transform:`rotate(-90 ${g} ${g})`,strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(F)?a.createElement("use",{className:E.valueCircle,stroke:F,strokeWidth:A,strokeDasharray:m,strokeDashoffset:L,transform:`rotate(${-90-N} ${g} ${g})`,strokeLinecap:"round",xlinkHref:"#circle"}):null,a.createElement("use",{className:E.valueCircle,stroke:P,strokeDasharray:m,strokeDashoffset:m-j,strokeLinecap:"round",transform:`rotate(-90 ${g} ${g})`,strokeWidth:A,xlinkHref:"#circle"}),a.createElement("text",Object.assign({className:u.radialProgressText,y:"38",x:"36",fill:B,fontSize:k,fontStyle:"normal",textAnchor:"middle"},o.c.svgVerticalAlignment(e.has(c.a.Flag.supportsSVGDominantBaseline))),x),Boolean(d)?a.createElement("text",{className:u.radialProgressDescription,fill:B,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},d):null)))}}w._nextGradientId=0,function(e){let t,n,a;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(a=e.IconSize||(e.IconSize={}))}(w||(w={}));const S={width:d.a.percent(100),height:d.a.percent(100),fontWeight:"bold",fill:s.a.CoreNeutral90},k={fontSize:d.a.rem(2),fill:s.a.CoreNeutral90},A={fontWeight:"normal",fontSize:d.a.px(11),fill:u.ui600},E=d.a.stylesheet({radialProgressBar:[S],radialProgressText:[k],radialProgressDescription:[A],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},"H9T+":function(e,t,n){"use strict";n.d(t,"f",(function(){return te})),n.d(t,"l",(function(){return ne})),n.d(t,"g",(function(){return re})),n.d(t,"e",(function(){return ie})),n.d(t,"r",(function(){return ue})),n.d(t,"h",(function(){return pe})),n.d(t,"n",(function(){return me})),n.d(t,"m",(function(){return fe})),n.d(t,"o",(function(){return he})),n.d(t,"p",(function(){return be})),n.d(t,"q",(function(){return ye})),n.d(t,"j",(function(){return ve})),n.d(t,"i",(function(){return Ce})),n.d(t,"w",(function(){return Oe})),n.d(t,"c",(function(){return Se})),n.d(t,"d",(function(){return ke})),n.d(t,"b",(function(){return Ae})),n.d(t,"a",(function(){return xe})),n.d(t,"k",(function(){return Ie})),n.d(t,"A",(function(){return Re})),n.d(t,"s",(function(){return $e})),n.d(t,"t",(function(){return Me})),n.d(t,"v",(function(){return _e})),n.d(t,"y",(function(){return We})),n.d(t,"z",(function(){return He})),n.d(t,"u",(function(){return yt})),n.d(t,"x",(function(){return vt}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("9NHN"),s=n("vOOZ"),c=n("LNSM"),l=n("94k3"),d=n("D9EC"),u=n("lrqh"),p=n("hoSD"),m=n("ax6a"),g=n("PrA7"),f=n("e12y"),h=n("WIwS"),b=n("ps/9"),y=n("zI3C"),v=n("rk+4"),C=n("dE97"),O=n("UEGg"),w=n("uqkn"),S=n("IVzZ"),k=n("+w1e"),A=n("E0zP"),E=n("XxrX"),x=n("lRnN"),I=n("9/oM"),j=n("gOzB"),T=n("bO3R"),N=n("N8v8"),L=n("XXDN"),P=n("3rlE"),B=n("Z5Rd"),F=n("H9Bv"),D=n("jAl6"),R=n("7psk"),$=n("26kZ"),M=n("BugA"),_=n("xEVj"),W=n("zR/0"),H=n("viRF"),G=n("aIes"),q=n("3bJT"),V=n("5z3N"),z=n("0mPX"),U=n("IdhR"),Y=n("yZqL"),X=n("eLeT"),K=n("HTie"),Z=n("cVtq"),Q=n("HUX/");const J=Object(d.l)(g.Monitoring.Logging.getLogger);var ee;!function(e){e.actionRegex=/^#([\w\d_-]+)$/,e.parse=t=>Object(i.pipe)(u.g.fromNullable(t.match(e.actionRegex)),u.g.chain(e=>{switch(e[1]){case"set-goals":return u.g.some(k.b.Type.openSetGoals);case"ideas-gallery":return u.g.some(k.b.Type.openIdeasGallery);default:return u.g.none}}))}(ee||(ee={}));const te=({description:e,actions:t,layoutDensity:n,className:r})=>{const s=a.useContext(v.a.Context),c=a.useContext(R.a.Context),{ref:l,onMount:d}=_.a.useElWatcher();_.a.useSubscriptionTo(l.pipe(W.b.compact,W.a.switchMap(e=>Array.from(e.getElementsByTagName("a")).reduce((e,n)=>{const a=W.a.fromEvent(n,"click").pipe(W.a.tap(e=>e.preventDefault()));return Object(i.pipe)(u.g.fromNullable(n.getAttribute("href")),u.g.chain(ee.parse),u.g.fold(()=>(J("Description").error("Invalid action",n),e.pipe(W.a.merge(a))),r=>W.a.mergeStatic(e,r in s.card.actionDescription&&r!==k.b.Type.openIdeasGallery?c.getTooltipObservable(n,s.card.actionDescription[r],"auto",u.g.none):W.a.EMPTY,a.pipe(W.a.mapTo({type:r}),W.a.tap(t)))))},W.a.EMPTY))));const p=Object(i.pipe)(n,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>Ot.minimalDescription,()=>Ot.description));return a.createElement(M.a,Object.assign({mount:d},Object(o.c)(p,r),z.a.renderToHtml(e,ee.actionRegex)))},ne=({card:e,isChecking:t})=>C.a.isRated(e.activeAlert)?a.createElement(N.a,{value:w.a.isCardPresuccess(e.visualState)?H.a.MAX:e.meta.percentile,initValue:w.a.isCardPresuccess(e.visualState)?e.meta.percentile:H.a.MIN,isLoading:t}):null,ae=({card:e})=>{const t=Object(N.b)(w.a.isCardPresuccess(e.visualState)?H.a.MAX:e.meta.percentile,w.a.isCardPresuccess(e.visualState)?e.meta.percentile:H.a.MIN);return a.createElement(s.a.Fragment,null,t.pipe(W.a.map(H.a.prism.reverseGet),W.a.map(e=>a.createElement(F.a,{percentage:e,colorType:F.a.ColorType.neoBlue,iconSize:F.a.IconSize.extraSmall,theme:{radialProgressBar:Ot.circleProgress,radialProgressText:Ot.circleText}}))))},re=({card:e,feedbackActions:t,onClick:n,disabled:r})=>{const o=a.useContext(v.a.Context);return a.createElement(T.a.Ghost,{name:"ignore",title:o.dismiss,ariaLabel:o.dismiss,onClick:G.d.callOnce(()=>{t.next({type:k.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:w.a.isEligibleForDismissSurvey(e),drilldownSuggestionIds:A.a.isSynfonyItem(e)?Object(i.pipe)(e.synfonySelection,u.g.getOrElse(()=>[])):void 0}),n&&n()}),disabled:r},a.createElement(P.d.Ignore,null))},ie=({card:e,feedbackActions:t,disabled:n,onClickDismissButton:r,alwaysShowWrongAndOffensiveButtons:o})=>a.createElement(a.Fragment,null,a.createElement(re,{card:e,feedbackActions:t,onClick:r,disabled:n}),a.createElement(le,{activeAlert:e.activeAlert,onMute:Object(i.pipe)(e.muteCategory,u.g.map(n=>G.d.callOnce(()=>t.next({type:k.b.Type.muteAlertCategory,categoryId:n.id,id:e.id,viewType:e.activeAlert.type})))),onWrong:G.d.callOnce(G.d.callOnce(()=>t.next({type:k.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:l.a.AlertFeedbackType.WRONG_SUGGESTION}))),onOffensive:G.d.callOnce(G.d.callOnce(()=>t.next({type:k.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:l.a.AlertFeedbackType.OFFENSIVE_CONTENT}))),onVisibilityChange:e=>t.next({type:k.b.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),disabled:n,alwaysShowWrongAndOffensiveButtons:o})),oe=({onClick:e})=>{const t=a.useContext(v.a.Context);return a.createElement(T.a.Flat,{name:"mute",onClick:e},a.createElement(P.d.Mute,null),t.card.mute)},se=({onClick:e})=>{const t=a.useContext(v.a.Context);return a.createElement(T.a.Flat,{name:"incorrect",onClick:e},a.createElement(P.d.Report,null),t.card.wrong)},ce=({activeAlert:e,onClick:t})=>{const n=a.useContext(v.a.Context);return Object(i.pipe)(e.extraProperties.vox,u.g.mapOrDefault(()=>null,a.createElement(T.a.Flat,{name:"offensive",onClick:t},a.createElement(P.d.Report,null),n.card.offensive)))},le=({activeAlert:e,onMute:t,onWrong:n,onOffensive:o,onVisibilityChange:s,disabled:c,alwaysShowWrongAndOffensiveButtons:l=!1})=>{const d=u.g.isSome(e.getTransform()),p=u.g.isSome(t),m=a.createElement(a.Fragment,null,p&&a.createElement(L.a.Delimiter,null),a.createElement(se,{onClick:n}),a.createElement(ce,{activeAlert:e,onClick:o}));return p||d||l?a.createElement(L.a,{label:a.createElement(T.a.Ghost,{name:"moreActions",disabled:c},a.createElement(P.f.MoreVertical,null)),align:"right",theme:{dropdownContainer:Ot.dropdownContainer},name:"moreActions",onVisibilityChange:s},Object(i.pipe)(t,u.g.map(e=>a.createElement(oe,{onClick:e})),u.g.orNull),Object(i.pipe)(d,u.g.fromPredicate(r.identity),u.g.map(()=>m),u.g.orElse(Object(i.pipe)(l,u.g.fromPredicate(r.identity),u.g.map(()=>m))),u.g.orNull)):null},de=({card:e,onClick:t,mode:n="default"})=>{const r=a.useContext(v.a.Context),i=a.useContext(y.a.Context),o=a.useCallback(e=>{i.has(y.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()},[]),s=e.renderOptions.features.has(E.a.Features.showAnonymousUserFooters)?{disabled:!0,title:r.card.disabledForAnonymous}:{title:"mini"===n?r.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?a.createElement(T.a.Tertiary,Object.assign({},s,{name:"add-to-dict",onClick:o}),a.createElement(P.d.Dict,null),r.card.addToDict):null},ue=({title:e,checkingInProgress:t,checkingMessage:n,applyMessage:r,onClick:i,disabled:s,className:c,spinnerClassName:l,messageClassName:u})=>a.createElement(T.a.Primary,Object.assign({key:"update-all",name:"update-all",title:e},Object(o.c)(t.pipe(W.a.map(Object(d.c)(X.a.updateAllBtnLoading,X.a.updateAllBtn))),c),{disabled:t.view(e=>e||!0===s),children:t.pipe(W.a.map(Object(d.c)(a.createElement(a.Fragment,{key:"update-all-checking"},a.createElement("span",{className:u},p.f.capitalize(n)),a.createElement(D.a,{size:18,strokeWidth:2,wrapperClassName:Object(o.c)(X.a.updateBtnSpinner,l).className,variation:"white"})),a.createElement(a.Fragment,{key:"update-all-checked"},p.f.capitalize(r))))),onClick:G.d.callOnce(i)})),pe=({card:e})=>Object(i.pipe)(we(e.activeAlert,e.renderOptions.layoutDensity),u.g.map(t=>a.createElement(U.b,{key:"card-actions-details",visualState:e.visualState,className:Ot.more},t)),u.g.toNullable),me=({card:e,actions:t})=>Oe(e.activeAlert,e.renderOptions.layoutDensity)?a.createElement(U.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):A.a.isDefaultItem(e)?a.createElement(de,{key:"card-actions-button",card:e,mode:"default",onClick:G.d.callOnce(()=>t.next({type:k.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:l.a.AlertFeedbackType.ADD_TO_DICTIONARY}))}):null,ge=e=>a.createElement(I.b,{alignment:"bottom",eventType:"onclick",stepId:x.a.StepId.Step4,title:"Accept a correction",message:"Click on a suggestion to apply it to your text.",dotPosition:{kind:"findFirstButton",position:I.a.rightTop},themes:{containerWrapperClassName:Ot.onboardingNotification}},e.children),fe=({onClick:e,rl:t,layoutDensity:n,a11yContrast:r})=>a.createElement(ge,null,a.createElement(Z.f,{replacementsLabels:t,onClick:e,layoutDensity:n,a11yContrast:r})),he=({text:e})=>a.createElement(M.i,Object.assign({className:Ot.title},z.a.renderToHtml(e))),be=({text:e})=>a.createElement(M.i,Object.assign({className:Ot.titleMinimal},z.a.renderToHtml(e))),ye=({alert:e})=>a.createElement(M.g,Object.assign({className:Ot.title},z.a.renderToHtml(e.title))),ve=({alert:e,options:t,children:n,className:r,badge:i})=>{const c=a.useContext(v.a.Context);return a.createElement(s.a.Fragment,null,t.cardVisualMode.pipe(W.a.map(s=>a.createElement(V.a,Object.assign({activeAlert:e,cardVisualMode:s,showCardLabel:t.features.has(E.a.Features.showLabel),premiumAlertLabelHighlight:t.features.has(E.a.Features.showNewPremiumCardLabels)?V.b.new:t.features.has(E.a.Features.showPersistentPremiumCardLabels)?V.b.persistent:V.b.none,layoutDensity:t.layoutDensity},Object(o.c)(Ot.label,r),{badge:e.extraProperties.isBeta?a.createElement(j.a.Regular,{a11yContrast:t.features.has(E.a.Features.a11yContrast)},c.beta):i}),n))))},Ce=({text:e,layoutDensity:t})=>a.createElement("div",{className:Ot.highlightedTextBox},a.createElement(M.a,{className:Object(i.pipe)(t,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>Ot.minimalHighlightedTextInnerBox,()=>Ot.highlightedTextInnerBox))},e));function Oe(e,t){return!e.extraProperties.hasAddToDictionary&&(!O.a.isSentenceLevelBrandTones(e)&&(!(!u.g.isSome(e.examples)&&!u.g.isSome(e.details))||!(t!==E.a.Density.minimal||!u.g.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation)))}const we=(e,t)=>{if(!Oe(e,t))return u.g.empty();const n=Object(i.pipe)(t,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>Ot.minimalDescription,()=>Ot.description));return u.g.some(a.createElement(a.Fragment,null,Object(i.pipe)(t,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>u.g.isNone(e.details)?a.createElement(M.a,Object.assign({className:n},z.a.renderToHtml(e.explanation,ee.actionRegex))):null,()=>null)),Object(i.pipe)(e.details,u.g.map(e=>a.createElement(M.a,Object.assign({className:n},z.a.renderToHtml(e)))),u.g.toNullable),Object(i.pipe)(e.examples,u.g.map(e=>a.createElement(K.a,{layoutDensity:t,examples:e})),u.g.toNullable)))},Se=({isChecking:e})=>a.createElement(s.a.Fragment,null,e.pipe(W.a.map(e=>a.createElement(D.a,{className:e?Ot.spinner:Ot.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2})))),ke=e=>{const[t,n]=a.useState(!0);return t?a.createElement(je,{type:e.type,actions:e.actions,onClose:()=>n(!1)}):null},Ae=({card:e,actions:t})=>{if(A.a.isSentenceLevelBrandTonesItem(e)||A.a.isEthicalAIItem(e)||A.a.isSuggestedSnippetItem(e))return null;if(Object(i.pipe)(e.activeAlert.extraProperties.freePremium,u.g.contains("unlocked")))return a.createElement(Pe,null);if(!O.a.isFree(e.activeAlert)&&e.renderOptions.features.has(E.a.Features.showPremiumOnboarding))return a.createElement(Be,null);if(!O.a.isFree(e.activeAlert)&&e.renderOptions.features.has(E.a.Features.showPremiumTrialFooters))return a.createElement(Le,{actions:t});if(e.renderOptions.features.has(E.a.Features.showAnonymousUserFooters))return a.createElement(Ne,{actions:t,card:e});const n=e.renderOptions.isPremiumOnboarding||c.a.create(!1);return a.createElement(s.a.Fragment,null,n.view(n=>!O.a.isFree(e.activeAlert)&&Boolean(n)?a.createElement(Be,null):Object(i.pipe)(e.renderOptions.layoutDensity,E.a.Density.matchOrDefault(E.a.Density.cozy)(()=>a.createElement(Te,{card:e,actions:t}),()=>Object(i.pipe)(e.activeAlert.extraProperties.fluencyMessage,u.g.fold(()=>a.createElement(Te,{card:e,actions:t}),e=>a.createElement(Fe,{fluencyLabel:e})))))))};function Ee(e,t,n){n.next({type:k.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const xe=({card:e,actions:t})=>{const n=a.useContext(v.a.Context).card.matchesNavigation;return(a.createElement(s.a.Fragment,null,Object(i.pipe)(e,W.a.map(e=>a.createElement("div",{key:e.activeAlert.id,className:Ot.bundleNavWrapper},a.createElement(M.a,{className:Ot.bundleTitle},S.a.bundleTitle(e)),a.createElement("div",{className:Ot.bundleNavMatchesRow},a.createElement(T.a.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:Ot.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>Ee("left",e,t)},a.createElement(P.d.Arrow,{className:Ot.bundleNavLeftButtonIcon})),a.createElement(M.h,{className:Ot.bundleNavCount},n.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),a.createElement(T.a.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:Ot.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>Ee("right",e,t)},a.createElement(P.d.Arrow,{className:Ot.bundleNavRightButtonIcon}))))))))},Ie=({card:e,actions:t,isChecking:n})=>a.createElement(a.Fragment,null,Object(i.pipe)(e.renderOptions.layoutDensity,E.a.Density.matchOrDefault(E.a.Density.minimal)(()=>C.a.isRated(e.activeAlert)?a.createElement(a.Fragment,null,a.createElement(ae,{card:e}),a.createElement(be,{text:e.activeAlert.miniCardTitle})):a.createElement(ve,{alert:e.activeAlert,options:e.renderOptions},a.createElement(be,{text:e.activeAlert.miniCardTitle})),()=>a.createElement(a.Fragment,null,a.createElement(ve,{alert:e.activeAlert,options:e.renderOptions}),a.createElement(he,{text:e.activeAlert.title}),a.createElement(ne,{card:e,isChecking:n})))),a.createElement(te,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),je=e=>{const t=a.useContext(v.a.Context),{title:n,content:r}=t.card.onboarding[e.type];return a.useLayoutEffect(()=>()=>e.actions.next({type:k.b.Type.onboardingClose,value:e.type})),a.createElement(B.b.AdHoc,{key:"new-notification",title:a.createElement(a.Fragment,null,n,a.createElement(j.a.Regular,{className:Ot.newLabel},t.new)),className:Ot.newCheckNotification,onClose:e.onClose},r)},Te=({actions:e,card:t})=>{const n=a.useContext(v.a.Context);return _.a.useEffectOnDidMount(()=>{t.meta.showMuteQuotedAdvice&&e.next({type:k.b.Type.muteQuotedAdviceShow})}),t.meta.showMuteQuotedAdvice?a.createElement(De.Base,{className:tt},a.createElement("span",null,n.card.muteCitedText(a.createElement("button",{"data-name":"open-preferences-link",onClick:()=>e.next({type:k.b.Type.openPreferences})},n.documentSettings.editorSettings))),a.createElement(T.a,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:k.b.Type.dismissMuteQuotedAdvice})},a.createElement(P.d.Close,null))):null},Ne=({actions:e,card:t})=>{const n=a.useContext(v.a.Context),r=t.activeAlert.extraProperties.hasAddToDictionary?n.anonymousUserAddToDictionarySignInPrompt:n.anonymousUserGenericSignInPrompt;return a.createElement(De.Base,{className:Ot.anonymousUserNotice},r(()=>{e.next({type:k.b.Type.toSignIn})}))},Le=({actions:e})=>a.createElement(De.Small,{className:nt},a.createElement(P.d.PaidLink,{className:Ot.iconWrapper,width:12}),a.useContext(v.a.Context).premiumFreeTrial(()=>{e.next({type:k.b.Type.premiumTrialFooterCtaClick})})),Pe=()=>{const{beforeIcon:e,afterIcon:t}=a.useContext(v.a.Context).freePremiumAlertFooter;return a.createElement(De.Small,{className:rt},e,a.createElement(P.d.PaidLink,{width:12}),t)},Be=()=>{const{premiumOnboardingFooter:e}=a.useContext(v.a.Context);return a.createElement(De.Small,{className:at},a.createElement(P.d.PaidLink,{width:12}),e)},Fe=({fluencyLabel:e})=>{const t=a.useContext(v.a.Context).card.fluency;return a.createElement(M.l,{className:Ot.fluencyNotice},e,a.createElement($.a,{title:t.tooltip},a.createElement(P.d.Info,{width:10,className:Ot.fluencyInfo})))};var De;!function(e){function t(e){return({children:t,className:n})=>a.createElement(e,Object.assign({},Object(o.c)(Ot.cardFooter,n)),t)}e.Small=t(M.l),e.Base=t(M.a)}(De||(De={}));function Re(e){const{transformHidden:t,isMouseInside:n,transformHiddenObservable:a}=_.a.useMemoOnDidMount(()=>{const t=c.a.create(!1),n=new W.a.Subject,a=W.a.mergeStatic(W.a.combineLatestStatic([n,e]).pipe(W.a.map(([e,t])=>e&&t),W.a.filter(e=>!0===e),W.a.tap(()=>t.set(!0))),e.pipe(W.a.skip(1),W.a.filter(e=>!e),W.a.tap(()=>t.set(!1))));return{transformHidden:t,isMouseInside:n,transformHiddenObservable:a}});return _.a.useSubscriptionTo(a),{transformHidden:t,isMouseInside:n}}const $e=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardTheme:i,cardBody:o,cardFooter:s,mainActions:c,subActions:l,cardExtra:u})=>{const{transformHidden:p,isMouseInside:m}=Re(n);return a.createElement(Y.a,{visualState:e.visualState,onFocus:()=>t.next({type:k.b.Type.alertCardShow,cardType:k.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:k.b.Type.hover,kind:"hover",id:e.id}),m.next(!0)},onMouseOut:()=>{t.next({type:k.b.Type.hover,kind:"unhover",id:e.id}),m.next(!1)},theme:Object.assign(Object.assign({content:r.pipe(W.a.map(Object(d.c)(Ot.loadingWrapperInvisible,Ot.loadingWrapper)))},Object(Q.b)(e.renderOptions)),i),extra:a.createElement(a.Fragment,null,a.createElement(Se,{isChecking:r}),null==u?void 0:u()),body:o(p),mainActions:null==c?void 0:c(),footer:null==s?void 0:s(p),subActions:null==l?void 0:l()})},Me=({card:e,actions:t,isChecking:n,body:r,footer:i,alwaysShowWrongAndOffensiveButtons:o})=>a.createElement(Y.a,{visualState:e.visualState,onFocus:()=>t.next({type:k.b.Type.alertCardShow,cardType:k.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(Q.b)(e.renderOptions),body:null!=r?r:a.createElement(Ie,{card:e,actions:t,isChecking:n}),mainActions:a.createElement(ie,{card:e,feedbackActions:t,alwaysShowWrongAndOffensiveButtons:o}),footer:null!=i?i:a.createElement(pe,{card:e}),subActions:a.createElement(me,{card:e,actions:t}),extra:a.createElement(Ae,{card:e,actions:t})}),_e={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",textDecoration:"none",$nest:{"&:link, &:visited":{color:m.a.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${b.e}, ${b.f}`},"& ul":{margin:`${f.a.rem(.75)} 0 0`,padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:f.a.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:f.a.rem(.5)}}},We={lineHeight:f.a.rem(1.3125),$nest:{"& a":{display:"initial"}}},He={$nest:{"& i":{color:m.a.CoreNeutral50},"& > * + *":{marginTop:f.a.rem(.75)}}},Ge={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:h.c}}},qe={marginTop:f.a.important(0),lineHeight:f.a.rem(1.125)},Ve={fontSize:f.a.rem(m.h.SubheadingSize),lineHeight:f.a.rem(m.h.SubheadingLineHeight)},ze={width:f.a.rem(2),height:f.a.rem(2)},Ue={position:"absolute",top:`calc(50% - ${f.a.rem(1)})`,left:`calc(50% - ${f.a.rem(1)})`,width:f.a.rem(2),height:f.a.rem(2),transition:"opacity .2s"},Ye={marginLeft:f.a.rem(.5),backgroundColor:m.a.CoreGreen50,color:m.a.CoreNeutral0,fontWeight:600},Xe={position:"absolute",marginTop:f.a.rem(-8.5),marginLeft:f.a.rem(-2),$nest:{"&:after":{position:"absolute",bottom:f.a.rem(-.525),left:f.a.rem(.7),borderTop:`${f.a.rem(.625)} solid ${m.a.BackgroundNotification}`,borderRight:`${f.a.rem(.5)} solid transparent`,borderLeft:`${f.a.rem(.5)} solid transparent`,content:"' '"}}},Ke={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},Ze={position:"absolute",top:f.a.rem(.75),left:f.a.rem(.4)},Qe={color:m.a.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:m.a.CoreBlue50,$nest:{"&:link, &:visited":{color:m.a.CoreBlue50},"&:hover":{borderBottom:`1px solid ${m.a.CoreBlue40}`,color:m.a.CoreBlue40}}}}},Je={display:"flex",borderRadius:`${b.r} ${b.r} ${f.a.rem(b.s)} ${f.a.rem(b.s)}`,color:m.a.CoreNeutral50,padding:`${f.a.rem(.5)} ${f.a.rem(.75)} ${f.a.rem(.5)} ${f.a.rem(1)}`,fontSize:f.a.rem(.6875),lineHeight:f.a.rem(1.125)},et={padding:`0 ${f.a.rem(.6)}`,minWidth:f.a.rem(.625),minHeight:f.a.rem(.625)},tt=f.a.joinClasses(["muteQuotedAdvice",f.a.style({$nest:{"& button":{border:0,textDecoration:"underline",textUnderlineOffset:2,color:m.a.CoreBlue50,background:"none",padding:0,$nest:{"&:link, &:visited":{color:m.a.CoreBlue50},"&:hover":{color:m.a.CoreBlue40}}},"& i:hover":{strokeWidth:f.a.px(2)}}})]),nt=f.a.joinClasses(["premiumFreeTrial",f.a.style({$nest:{"& svg":{fill:m.a.CoreYellow80},"& a":{fontWeight:800,color:m.a.CoreYellow70,$nest:{"&:link, &:visited":{color:m.a.CoreYellow80},"&:hover":{borderBottom:`1px solid ${m.a.CoreYellow60}`,color:m.a.CoreYellow60}}}}})]),at=f.a.joinClasses(["premiumAlertFooter",f.a.style({justifyContent:"center"})]),rt=f.a.joinClasses(["premiumAlertFooter",f.a.style({justifyContent:"start",padding:f.a.important(`${f.a.rem(.5)} ${f.a.rem(1)}`)})]),it={display:"block",boxSizing:"border-box",padding:`${f.a.rem(1)} ${f.a.rem(1)} ${f.a.rem(1)} ${f.a.rem(1.5)}`,width:f.a.percent(100),borderRadius:`${b.r} ${b.r} ${f.a.rem(b.s)} ${f.a.rem(b.s)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${f.a.rem(1)} ${f.a.rem(1)} ${f.a.rem(1)} ${f.a.rem(2)}`,background:m.a.CoreNeutral10,color:m.a.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${f.a.rem(1)} ${f.a.rem(1)} ${f.a.rem(1)} ${f.a.rem(2)}`,position:"relative",background:m.a.CoreYellow20,color:m.a.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",alignItems:"center",padding:f.a.rem(.5),background:m.a.CoreYellow20,color:m.a.CoreYellow80,$nest:{"& svg":{margin:`0 ${f.a.rem(.25)}`,fill:m.a.CoreYellow80}}}}},ot={position:"absolute",top:f.a.rem(.8),left:f.a.rem(.5),minWidth:f.a.rem(1),minHeight:f.a.rem(1)},st={fontWeight:"bold",fontSize:f.a.rem(.875),lineHeight:f.a.rem(1.125),flex:2},ct={padding:`${f.a.rem(.625)} 0 ${f.a.rem(.1875)} ${f.a.rem(.5)}`,marginBottom:f.a.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},lt={fontSize:f.a.rem(.75),lineHeight:f.a.rem(1.125),color:m.a.CoreNeutral90},dt={display:"flex",justifyContent:"flex-end",alignItems:"center",height:f.a.rem(1.5),$nest:{"& > * + *":{marginLeft:f.a.rem(.25)},"& > *":{borderRadius:f.a.rem(b.t)}}},ut={height:f.a.rem(2),minHeight:f.a.rem(2),width:f.a.rem(2),fill:m.a.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:m.a.CoreBlue50},"&[data-disabled='true']":{fill:m.a.CoreNeutral30}}},pt={borderRadius:f.a.rem(.75),background:m.a.CoreNeutral20,margin:`${f.a.rem(-.25)} ${f.a.rem(-.25)}`,padding:`${f.a.rem(.25)} ${f.a.rem(.25)}`,$nest:{[`& .${q.b.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${q.b.fullCardSelector}`]:{padding:`${f.a.rem(.75)} ${f.a.rem(.5)} ${f.a.rem(.5)} ${f.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${f.a.rem(-.5)})`}}},mt={paddingTop:f.a.rem(.25),paddingBottom:f.a.rem(.5),paddingLeft:f.a.rem(.5),paddingRight:f.a.rem(.5),fontWeight:"bold",fontSize:f.a.rem(.875),lineHeight:f.a.rem(1.125)};function gt(e,t){return{display:["block","-webkit-box"],maxHeight:f.a.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const ft=Object.assign(Object.assign({},gt(1.5,3)),{lineHeight:f.a.rem(1.5)}),ht=Object.assign(Object.assign({},gt(1.3125,3)),{lineHeight:f.a.rem(1.3125)}),bt={padding:f.a.rem(.5),borderRadius:f.a.rem(b.t),background:m.a.CoreNeutral10,color:m.a.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${b.e}, ${b.f}`},yt=.25,vt={opacity:0,pointerEvents:"none"},Ct={transition:`opacity ${f.a.seconds(yt)}`},Ot=f.a.stylesheet({loadingWrapper:[Ct],loadingWrapperInvisible:[Ct,vt],description:[_e],minimalDescription:[_e,We],more:[He],onboardingNotification:[{display:"block"}],title:[Ge],titleMinimal:[Ge,qe],label:[Ve],dropdownContainer:[ze],spinner:[Ue],spinnerInvisible:[Ue,{opacity:0,pointerEvents:"none"}],newLabel:[Ye],newCheckNotification:[Xe],baseNotice:[Ke],iconWrapper:[Ze],anonymousUserNotice:[Ke,Qe],fluencyNotice:[Ke,Je],fluencyInfo:[et],cardFooter:[it],circleProgress:[ot],circleText:[{display:"none"}],bundleTitle:[st],bundleNavWrapper:[ct],bundleNavCount:[lt],bundleNavMatchesRow:[dt],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[ut],bundleNavLeftButtonIcon:[ut,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[ut,{transform:"rotate(270deg)"}],cardWrapper:[pt],cardWrapperTitle:[mt],highlightedTextBox:[bt],highlightedTextInnerBox:[ft],minimalHighlightedTextInnerBox:[ht]})},HTie:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ERkP"),r=n("I7vG"),i=n("lrqh"),o=n("ax6a"),s=n("e12y"),c=n("ps/9"),l=n("EOGW"),d=n("XxrX"),u=n("Q8bi"),p=n("aIes");const m=({examples:e,layoutDensity:t})=>a.createElement(u.Typography,{nodeType:"table",styleType:u.Typography.Type.Base,className:k.wrapper},e.map((e,n)=>a.createElement("tbody",{key:n,className:k.group},e.map(({text:e,title:n,color:o,hasItalic:s},c)=>a.createElement("tr",{key:c,className:Object(r.pipe)(t,d.a.Density.matchL(()=>k.item,()=>k.itemCompact,()=>k.itemMinimal))},Object(r.pipe)(n,i.g.map(e=>a.createElement("td",{className:l.a.colorMatch(o)(k)},(e=>e.split("/").reduce((e,t,n)=>(0!==n&&e.push(a.createElement("br",{key:n})),e.push(t),e),[]))(e))),i.g.toNullable),a.createElement("td",Object.assign({colSpan:i.g.isNone(n)?2:void 0,className:s?k.content:k.contentItalic},p.d.setInnerHTML(e)))))))),g={$nest:{"&:not(:last-child):after":{display:"block",height:s.a.rem(1.75),content:"''"}}},f={$nest:{"&:not(:last-child)":{borderBottom:`${s.a.rem(.5)} solid transparent`}}},h={display:"flex",flexDirection:"column",lineHeight:s.a.rem(1.3125)},b={padding:0,verticalAlign:"top",lineHeight:s.a.rem(1.25)},y={paddingRight:s.a.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},v={color:o.a.CoreNeutral50,fontFeatureSettings:`${c.e}, ${c.f}`},C={color:o.a.CoreRed50},O={color:o.a.CoreGreen60},w={color:o.a.CoreNeutral90},S={color:o.a.CoreNeutral90},k=s.a.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[g],item:[f],itemCompact:[f,{display:"flex",flexDirection:"column"}],itemMinimal:[f,h],baseBlock:[b],title:[b,y],content:[b,v],contentItalic:[b,v,{fontStyle:"italic"}],red:[b,y,C],green:[b,y,O],yellow:[b,y,w],fallback:[b,y,S]})},"HUX/":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n("I7vG"),r=n("ax6a"),i=n("e12y"),o=n("ps/9"),s=n("XxrX"),c=n("3bJT"),l=n("qZUR");const d=e=>({container:Object(a.pipe)(e,s.a.Density.matchOrDefault(s.a.Density.cozy)(()=>h.cozyCardContainer,()=>h.compactCardContainer))}),u=e=>Object.assign(Object.assign({},e.hasOwnProperty("features")&&e.features.has(s.a.Features.a11yContrast)?(e=>({container:Object(a.pipe)(e,s.a.Density.matchOrDefault(s.a.Density.cozy)(()=>h.cozyCardContainerContrast,()=>h.compactCardContainer))}))(e.layoutDensity):d(e.layoutDensity)),{wrapper:Object(a.pipe)(e.layoutDensity,s.a.Density.matchOrDefault(s.a.Density.minimal)(()=>h.minimalCardWrapper,()=>void 0))}),p={padding:`${i.a.rem(.75)} ${i.a.rem(.5)} ${i.a.rem(.5)} ${i.a.rem(1)}`},m={margin:`${i.a.rem(1)} 0 ${i.a.rem(1.5)}`,borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0,boxShadow:`0 ${i.a.rem(.625)} ${i.a.rem(o.a)} 0 rgba(198, 203, 222, .45)`},g={margin:`${i.a.rem(1)} 0 ${i.a.rem(1.5)}`,borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0,boxShadow:l.a.z300},f={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0},h=Object.assign(Object.assign({},i.a.stylesheet({minimalCardWrapper:[p],compactCardContainer:[f]})),{cozyCardContainer:i.a.joinClasses([c.b.cozyCardContainerSelector,i.a.style(m)]),cozyCardContainerContrast:i.a.joinClasses([c.b.cozyCardContainerSelector,i.a.style(g)])})},HqKA:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return y}));var a,r=n("a5W6"),i=n("rbBt"),o=n("LTbp"),s=n("GRZr"),c=n("U75S"),l=n("OA+g"),d=n("I7vG"),u=n("94k3"),p=n("WOlp"),m=n("lrqh"),g=n("tn8Q"),f=n("PrA7"),h=n("dE97"),b=n("GUi3");!function(e){e.getSubTypeFromLens=e=>b.a.isPriority(e)||b.a.isPriorityOutcomeId(e)?u.a.FeedbackSubtype.SidebarPriority:u.a.FeedbackSubtype.Sidebar}(a||(a={}));class y{constructor(e,t){this._alertsReader=e,this._ops=t,this._log=f.Monitoring.Logging.getLogger("AlertsServiceImpl"),this._findAlert=e=>Object(d.pipe)(e,this._alertsReader.getById,m.b.fromOption(()=>new Error(`alert ${e} not found in the repo`))),this.undoBulk=Object(l.flow)(c.P(Object(l.flow)(this._alertsReader.getById,m.g.filter(h.a.isBulkApplied))),e=>this._ops.undoApplied(e,h.a.State.Applied.Method.Bulk)(),m.b.getOrElse(e=>{throw this._log.error("Could not undo bulk-applied alerts",e),e})),this.getHighlightRanges=Object(l.flow)(this._findAlert,m.b.map(e=>e.getHighlightRanges())),this.hasNewRangesForUpdate=Object(l.flow)(this._findAlert,m.b.map(e=>e.hasNewRangesForUpdate)),this.applyPendingRangesUpdate=Object(l.flow)(this._findAlert,m.b.map(e=>e.applyPendingRangesUpdate())),this.getAppliedRanges=Object(l.flow)(this._alertsReader.getById,m.b.fromOption(()=>new Error("alert not found in the repo")),m.b.filterOrElse(h.a.isApplicableAlert,e=>new Error(`alert is not applicable: ${e.alertType}`)),m.b.map(e=>e.getAppliedRanges()))}apply(e,t){const{alternativeIndex:n,source:a}=t;return this._log.trace("apply",e),Object(d.pipe)(this._findAlert(e),m.b.chain(m.b.fromPredicate(h.a.isApplicableAlert,()=>new Error("cannot apply not applicable alert"))),m.b.chain(e=>Object(d.pipe)(m.b.tryCatchError(()=>e.apply(t)),m.b.mapLeft(t=>(this._log.error("apply single alert error",{error:t,alert:e.toLiteAlert(),alternativeIndex:n,source:a}),t)))))}applyBulk(e,t){this._log.trace("applyBulk",e),this.sendBatchFeedback(e,u.a.AlertsBatchFeedbackType.BULK_ACCEPTED,t);const n=Object(d.pipe)(e,g.a.fromArray(e=>Object(d.pipe)(this._findAlert(e),m.b.mapLeft(t=>Object(l.tuple)(t,{id:e})),m.b.chain(m.b.fromPredicate(h.a.isRegisteredApplicableAlert,e=>Object(l.tuple)(new Error("cannot apply not applicable or non-registered alert"),e.toLiteAlert()))),m.b.chain(m.b.fromPredicate(e=>p.y.withTransformJson(e._raw),e=>Object(l.tuple)(new Error("Only alerts with transformJSON can be bulk applied"),e.toLiteAlert()))),m.b.mapLeft(([e,t])=>(this._log.error(e.message,t),e)))));return Object(d.pipe)(n,g.a.flatMap(r.getMonoid(),e=>Object(d.pipe)(this._ops._applyTransformJson({alerts:e.map(e=>({alert:e,alternative:h.a.getApplicableAlternative(e,0)})),source:h.b.api,method:h.a.State.Applied.Method.Bulk,feedbackSubtype:t}),o.f(t=>()=>(this._log.error("applyBulk error",t),g.a.of([],e.map(e=>e.id))),()=>()=>g.a.of(e.map(e=>e.id))))()))}confirmApplied(e){return this._log.trace("commitApplied",e),Object(d.pipe)(e,g.a.fromArray(Object(l.flow)(this._findAlert,m.b.map(h.e.castApplied))),m.b.mapLeft(e=>new Error(`Error on trying to confirm applied alerts: ${e.rejected.join(",")}`)),m.b.chain(e=>this._ops._confirmApplied(e)()))}dismissBatch(e,t){return this._log.trace("dismissBatch",e),Object(d.pipe)(e.map(Object(l.flow)(this._findAlert,m.b.map(e=>[e]))),Object(s.fold)(C),m.b.chain(e=>this._ops._dismissBatch(e,t)()))}applyFeedback(e,t,n){return this._log.trace("sendFeedback",{alertId:e,type:t.kind}),Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._alertFeedback(e,t,n)()))}sendBatchFeedback(e,t,n){return this._log.trace("sendBatchFeedback",{alertIds:e,type:t}),Object(d.pipe)(e,g.a.fromArray(this._findAlert),g.a.tapFailure(e=>this._log.error("Cannot send batch feedback for alerts",e.rejected)),g.a.foldSuccess(e=>m.b.right(this._ops._alertBatchFeedback(e,t,n)())))}takeReference(e,t){return this._log.trace("takeReference",{alertId:e.id,from:t}),Object(d.pipe)(this._findAlert(e.id),m.b.chain(e=>e.takeReference(t)))}changeMuteState(e,t){return this._log.trace("changeMuteState",e),Object(d.pipe)(e,g.a.fromArray(e=>this._findAlert(e.id)),g.a.flatMap(r.getMonoid(),e=>Object(d.pipe)(this._ops._changeMuteState(e,t)(),m.b.mapLeft(e=>(this._log.error("Can not change mute state",e),e)),m.b.unsafeGet)))}changeGapValue(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeGapValue(e,t)()))}changeTakeawayFeedback(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeTakeawayFeedback(e,t)()))}changeSentenceLevelBrandTonesFeedback(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeSentenceLevelBrandTonesFeedback(e,t)()))}shortenItSummaryNotFound(e){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._shortenItSummaryNotFound(e)()))}sendShortenItSummaryRequest(e){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._commitShortenItSummaryRequest(e)()))}dismissShortenItTransformGroup(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._dismissShortenItTransformGroup(e,t)()))}changeToneAIToneAlternative(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeToneAIToneAlternative(e,t)()))}}const v=r.getMonoid(),C=Object(i.getApplyMonoid)(v)},IVzZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("I7vG"),o=n("lrqh"),s=n("6fbX"),c=n("dE97"),l=n("UEGg"),d=n("uqkn"),u=n("O6HF"),p=n("YJiV"),m=n("E0zP"),g=n("TC4P");!function(e){let t;e.Kind="AlertsBundle",e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title},e.ord=Object(i.pipe)(o.h.ordNumber,o.h.contramap(Object(r.flow)(e=>e.activeAlert.bundleInfo,o.g.fold(()=>Number.MAX_SAFE_INTEGER,e=>e.rank)))),e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return Object(s.d)(e.visualState.transition.type)}},e.getAlertOutcomeBundle=e=>Object(i.pipe)(e.bundleInfo,o.g.fold(()=>({id:"other",title:"Other"}),e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title}))),e.eq={equals:(e,t)=>m.a.eq.equals(e,t)&&o.g.getEq(o.c.eqString).equals(e.lensId,t.lensId)},function(t){const a=t=>(n,a)=>Object.assign({id:n,kind:e.Kind,bundleInfo:t,activeAlert:m.a.getAlertByIndex(a.activeAlertIndex,a.alerts),transform:Object(i.pipe)(a.cachedTransform,o.g.map(e=>e.labels)),equals(t){return e.eq.equals(this,t)},hashCode(){return m.a.hashCode(this)}},a);t.create=function(t,r,d,u){const f=h.getAnimatable(t).changeVisualState,b=e=>p.a.getCreate(a(e),r,f,u,d),y=n(d);return{create:e=>(t,n,a,r,i,s,c)=>b(i)(t,n,a,r,p.a.getApplicableCardMeta(n[a],s,d),e,o.g.some(s),c),createAdded:e=>(t,n,a,r)=>{const i=g.a.VisualState.initial({type:"added",clockwise:!0},!0);return b(n)(t,a,0,0,p.a.getApplicableCardMeta(a[0],i,d),e,o.g.some(i),r)},createFocused:e=>(t,n,a,r,i)=>{const s=g.a.VisualState.initial({type:"focused",clockwise:!0},!0);return b(n)(t,a,r,0,p.a.getApplicableCardMeta(a[r],s,d),e,o.g.some(s),i)},createRendered:e=>(t,n,a,r)=>{const i=g.a.VisualState.initial({type:"rendered",clockwise:!0},!1);return b(n)(t,a,0,0,p.a.getApplicableCardMeta(a[0],i,d),e,o.g.some(i),r)},updateWith:(n,a)=>r=>{Object(s.g)(n.every(e=>c.a.isRegistered(e)),"cannot add non registered alerts");const o=new Set(n.map(e=>e.id)),d=new Set(r.removedAlertsIds);o.forEach(e=>{d.delete(e)});const u=r.alerts.filter(e=>!o.has(e.id)).concat(n.map(l.a.fromModel)).sort(a.compare);return Object(i.pipe)(r,y(u,d,m.a.getIndexByAlert(r.activeAlert.id,u)),e.getCardHydrator(t))}}}}(t=e.ItemFactory||(e.ItemFactory={}));const n=e=>(t,n,a)=>r=>{const i=m.a.getAlertByIndex(a,t),o=l.a.isApplicableAlert(i)?p.a.getApplicableCardMeta(i,r.visualState,e):u.a.empty(void 0);return Object.assign(Object.assign({},r),{alerts:t,activeAlert:i,meta:o,removedAlertsIds:n,activeAlertIndex:a})};e.changePosition=e=>t=>Object.assign(Object.assign({},t),{positionState:e}),e.updateVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e}),e.getCardHydrator=e=>p.a.getCardHydrator(e=>e.cachedTransform,d.a.canHydrate,a,e),e.changeUserInput=e=>t=>Object.assign(Object.assign({},t),{userInput:e});const a=e=>t=>Object.assign(Object.assign({},t),{cachedTransform:e,transform:Object(i.pipe)(e,o.g.map(e=>e.labels))}),f=e=>t=>Object.assign(Object.assign({},t),{meta:e});let h;e.unselect=p.a.getUnselectItem(e.updateVisualState,e.changePosition),e.getSelectByAlert=(t,a,r)=>p.a.getSelectByAlert(n(a),e.changeUserInput,e.updateVisualState,e.changePosition,f,r,t,a),e.getSelect=(t,n,a)=>p.a.getSelectFirstAlert(e.getSelectByAlert(t,n,a)),function(t){function a(t){const n=p.a.getChangeVisualState(e.updateVisualState,e.getCardHydrator(t));return{completeTransition:e=>t=>n(g.a.VisualState.complete(t.visualState,e))(t),transitionTo:p.a.getTransitionTo(n,e.changePosition),changeVisualState:n}}t.getAnimatable=a,t.getRemove=(e,t)=>p.a.getRemove(n(e),a(t).transitionTo),t.getUpdatableWithAlertsCapability=(t,n)=>i=>Object(r.flow)(t.updateWith(i,c.d.ord),t=>e.isExtendableWithAlerts(t)?t:a(n).transitionTo({type:"added",clockwise:!0})(t)),t.getRemoveAlertsCapability=(n,a,s,c)=>(l,d)=>{const u=e.getSelectByAlert(n,a,e.getCardHydrator(s)),g=p.a.getSelectNextAlert(p.a.getCardSelections(n),u);return e=>{const n=new Set(l.map(e=>e.id));if(!m.a.hasAnyOfAlerts(n)(e))return e;const u=t.getRemove(a,s)(l,Object(i.pipe)(d,o.g.map(t=>c.compare(e,t)>0),o.g.getOrElse(r.constTrue)))(e);return Object(i.pipe)(d,o.g.exists(t=>t.id===e.id))?g(c)(u):u}}}(h=e.Capabilities||(e.Capabilities={}))}(a||(a={}))},IdhR:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g}));var a=n("ERkP"),r=n("94k3"),i=n("rk+4"),o=n("uqkn"),s=n("+w1e"),c=n("bO3R"),l=n("3rlE"),d=n("aIes"),u=n("es5d");const p=({card:{activeAlert:e,id:t,visualState:n},actions:p,mode:m,className:f,disabled:h})=>{const b=a.useContext(i.a.Context);return a.createElement(c.a.Tertiary,{key:"toggle-more",name:g(n,b),title:"mini"===m?g(n,b):"",className:f,disabled:h,onClick:d.d.callOnce(()=>{const a=o.a.isCardOpen(n);p.next({type:s.a.Kind.startTransitionTo,id:t,transition:{type:a?"focused":"expanded",clockwise:!0}}),a||p.next({type:s.b.Type.alertFeedback,alertId:e.id,feedbackType:r.a.AlertFeedbackType.EXPANDED})})},o.a.isCardOpen(n)?a.createElement(l.d.Arrow,{key:"more",className:u.a.lessIcon}):a.createElement(l.d.QuestionMark,{key:"expand"}),"default"===m&&g(n,b))},m=({visualState:e,children:t,className:n})=>a.createElement("div",{className:(o.a.isCardOpen(e)?u.a.more:u.a.moreHidden)+" "+n},t);function g(e,t){const n=t.card;return o.a.isCardOpen(e)?n.less:n.more}},"J/IC":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("ERkP"),r=n("I7vG"),i=n("vOOZ"),o=n("9NHN"),s=n("zR/0"),c=n("gy42"),l=n("lrqh"),d=n("ax6a"),u=n("e12y"),p=n("H37f"),m=n("xEVj");const g=({toneAlternatives:e,onSelectToneAlternative:t})=>{const n=new s.a.Subject,d=new s.a.Subject,g=new s.a.Subject,f=new s.a.Subject,h=new s.a.Subject,b=new s.a.Subject,{ref:y,onMount:v}=m.a.useElWatcher(),C=s.a.mergeStatic(h.pipe(s.a.mapTo(!0)),g.pipe(s.a.mapTo(!1)),f.pipe(s.a.mapTo(!1))).pipe(s.a.startWith(!1)),O=s.a.mergeStatic(h,d).pipe(s.a.withLatestFrom(C),s.a.filter(([e,t])=>t),s.a.map(([e,t])=>e),s.a.withLatestFrom(y),s.a.map(([e,t])=>Object(r.pipe)(t,l.g.map(e=>e.getBoundingClientRect()),l.g.bindTo("sliderClientRect"),l.g.apS("containerMouseEventVal",l.g.some(e)))),s.b.compact,s.a.map(({containerMouseEventVal:e,sliderClientRect:t})=>{const n=t.x,a=t.x+t.width;let r=0;return r=e.clientX<=n?0:e.clientX>=a?100:(e.clientX-n)/(a-n)*100})),w=s.a.mergeStatic(O.pipe(s.a.distinctUntilChanged()),C.pipe(s.a.distinctUntilChanged(),s.a.filter(e=>!e),s.a.withLatestFrom(O),s.a.map(([e,t])=>t),s.a.map(e=>e>=50?100:0)),n.pipe(s.a.filter(e=>"ArrowRight"===e.key||"ArrowLeft"===e.key),s.a.tap(e=>{e.preventDefault(),e.stopPropagation()}),s.a.map(e=>e.key),s.a.filter(e=>"ArrowRight"===e||"ArrowLeft"===e),s.a.map(e=>"ArrowRight"===e?100:0)),b.pipe(s.a.map(e=>1===e?100:0))).pipe(s.a.startWith(100)),S=w.pipe(s.a.distinctUntilChanged(),s.a.map(e=>e>=50?1:0)),k=s.a.combineLatestStatic([S,c.b.toObservable(e)]).pipe(s.a.map(([e,t])=>t[e]));return m.a.useSubscriptionTo(S.pipe(s.a.distinctUntilChanged(),s.a.tap(t))),a.createElement(i.a.div,{className:z.outerContainer,onKeyDown:e=>n.next(e)},a.createElement(i.a.div,{className:z.label},k.pipe(s.a.map(e=>e.name))),a.createElement(i.a.div,{className:z.container,onMouseMove:e=>d.next(e),onMouseUp:e=>g.next(e),onMouseLeave:e=>f.next(e)},a.createElement(i.a.div,Object.assign({},Object(o.c)(z.slider,C.pipe(s.a.map(e=>e?z.sliderDragging:null))),{mount:v}),a.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderInner,C.pipe(s.a.map(e=>e?z.sliderInnerDragging:null))),{style:{width:w.pipe(s.a.map(u.a.percent))}}),a.createElement(i.a.div,Object.assign({},Object(o.c)(z.knob,C.pipe(s.a.map(e=>e?z.knobDragging:null))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),h.next(e)},tabIndex:0}),k.pipe(s.a.map(e=>a.createElement(p.c,{id:e.emojiID,className:z.knobEmoji}))))),s.a.combineLatestStatic([S,C]).pipe(s.a.map(([e,t])=>a.createElement(a.Fragment,null,a.createElement("div",Object.assign({},Object(o.c)(z.sliderDivisionPoint,z.sliderDivisionPointLeft))),0===e||t?null:a.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderDivisionPointHoverArea,z.sliderDivisionPointHoverAreaLeft),{onClick:()=>b.next(0)})),a.createElement("div",Object.assign({},Object(o.c)(z.sliderDivisionPoint,z.sliderDivisionPointRight))),1===e||t?null:a.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderDivisionPointHoverArea,z.sliderDivisionPointHoverAreaRight),{onClick:()=>b.next(1)}))))))))},f="toneSliderOuterContainer",h="toneSliderLabel",b="toneSliderContainer",y="toneSlider",v="toneSliderDragging",C="toneSliderSliderDivisionPoint",O="toneSliderDivisionPointLeft",w="toneSliderDivisionPointRight",S="toneSliderDivisionPointHoverArea",k="toneSliderDivisionPointHoverAreaLeft",A="toneSliderDivisionPointHoverAreaRight",E="toneSliderInner",x="toneSliderInnerDragging",I="toneSliderKnob",j="toneSliderKnobDragging",T="toneSliderKnobEmoji",N={display:"flex",justifyContent:"space-between",alignItems:"center",marginRight:u.a.rem(.875)},L={fontWeight:700,fontSize:u.a.rem(.875),lineHeight:u.a.rem(1)},P={width:u.a.rem(5.375),height:u.a.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},B={position:"relative",width:u.a.percent(100),backgroundColor:d.a.CoreNeutral40,height:u.a.rem(.125),borderRadius:u.a.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:u.a.rem(.5)},[`&:hover .${C}`]:{visibility:"visible"}}},F={height:u.a.rem(.5),$nest:{[`& .${C}`]:{visibility:"visible"}}},D={position:"absolute",width:u.a.rem(.25),height:u.a.rem(.25),backgroundColor:d.a.CoreNeutral0,top:u.a.rem(.125),bottom:u.a.rem(.125),borderRadius:u.a.percent(100),visibility:"hidden"},R={left:u.a.rem(.125)},$={right:u.a.rem(.125)},M={background:d.a.CoreNeutral90,opacity:0,width:u.a.rem(1.5),height:u.a.rem(1.5),position:"absolute",borderRadius:u.a.percent(100),cursor:"pointer",top:u.a.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},_={left:u.a.rem(-.5)},W={right:u.a.rem(-.5)},H={position:"relative",display:"flex",alignItems:"center",backgroundColor:d.a.CorePurple40,height:u.a.percent(100),borderRadius:u.a.rem(.375),transition:"all 0.15s ease-in-out"},G={position:"absolute",right:u.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:u.a.rem(1.75),height:u.a.rem(1.75),backgroundColor:d.a.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:u.a.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:u.a.rem(2),height:u.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},q={width:u.a.rem(2),height:u.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},V={width:u.a.rem(.9375),height:u.a.rem(.9375),pointerEvents:"none"},z={outerContainer:u.a.joinClasses([f,u.a.style(N)]),label:u.a.joinClasses([h,u.a.style(L)]),container:u.a.joinClasses([b,u.a.style(P)]),slider:u.a.joinClasses([y,u.a.style(B)]),sliderDragging:u.a.joinClasses([v,u.a.style(F)]),sliderDivisionPoint:u.a.joinClasses([C,u.a.style(D)]),sliderDivisionPointLeft:u.a.joinClasses([O,u.a.style(R)]),sliderDivisionPointRight:u.a.joinClasses([w,u.a.style($)]),sliderDivisionPointHoverArea:u.a.joinClasses([S,u.a.style(M)]),sliderDivisionPointHoverAreaLeft:u.a.joinClasses([k,u.a.style(_)]),sliderDivisionPointHoverAreaRight:u.a.joinClasses([A,u.a.style(W)]),sliderInner:u.a.joinClasses([E,u.a.style(H)]),sliderInnerDragging:u.a.joinClasses([x,u.a.style({transition:"none"})]),knob:u.a.joinClasses([I,u.a.style(G)]),knobDragging:u.a.joinClasses([j,u.a.style(q)]),knobEmoji:u.a.joinClasses([T,u.a.style(V)])}},JSz4:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("OA+g"),r=n("I7vG"),i=n("lrqh"),o=n("6fbX"),s=n("f3nf"),c=n("W0xG"),l=n("wOnQ");const d=e=>t=>Object(r.pipe)(t.content,i.b.fold(e=>i.b.right(Object(c.a)(e,t.todo)),Object(a.flow)(e,i.b.map(e=>(function(e,t){switch(e.type){case s.a.Type.Drilldown:return l.d.create(e.remove,e.inserts,t);case s.a.Type.Substitution:return l.a.create(e.remove,e.inserts,t);case s.a.Type.Insert:return 2===e.inserts.length?l.i.create(e.inserts[0],e.inserts[1],t):l.g.create(e.inserts,t);case s.a.Type.Remove:return l.b.create([e.remove],t);case s.a.Type.RemoveOr:return l.c.create(e.removes,t);case s.a.Type.FullSentence:return function(e,t){switch(e.kind){case l.f.WithFormatting:return l.e.createWithFormatting(e.ops,t);case l.f.PlainText:return l.e.createPlainText(e.ops,t);default:return Object(o.d)(e)}}(e,t);case s.a.Type.Citation:return function(e,t){return{type:l.j.Type.Citation,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.OneGap:return l.h.create(e,t);case s.a.Type.ShortenIt:return function(e,t){return{type:l.j.Type.ShortenIt,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.ToneAI:return function(e,t){return{type:l.j.Type.ToneAI,tooltipText:t,labels:e.insertsOrTexts}}(e,t);default:return Object(o.d)(e)}})(e,t.todo)))))},K4Sz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("I7vG"),i=n("lrqh");!function(e){e.update=function(e,t,n){return e.update(t,n)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,n){return Object(r.pipe)(e.get(t),i.g.filter(e=>n(e.value)))},e.find=function(e,t){return e.find(t)}}(a||(a={}))},KBak:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("lrqh");!function(e){let t,n;!function(e){e.Retain="retain",e.Delete="delete",e.Insert="insert"}(t=e.Type||(e.Type={})),e.isDelete=function(t){return t.type===e.Type.Delete},e.isInsert=function(t){return t.type===e.Type.Insert},function(e){e.eq=r.c.getStructEq({type:r.c.eqString,textChunk:r.c.eqString})}(n=e.NoInvert||(e.NoInvert={}))}(a||(a={}))},KeH5:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ct}));var a=n("O9TF"),r=n("f9Xq"),o=n("U75S"),s=n("OA+g"),c=n("lrqh"),l=n("PrA7"),d=n("e12y"),u=n("91hE");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){p(e,t,n[t])}))}return e}var g=function(e){return"selectAlternative"===e.type?c.g.some(e.alternativeIndex):c.g.none};function f(e){return function(t){return Object(s.pipe)(t,o.S(Object(s.flow)(g,c.g.exists((function(t){return t===e})))),c.g.isSome)}}var h=d.a.stylesheet({spacer:[{width:"100%"}]}),b=n("vOOZ");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){y(e,t,n[t])}))}return e}var C=d.a.stylesheet({spacer:[{width:"100%"}]}),O=n("6fbX"),w=n("ax6a"),S=n("bO3R"),k=n("Q8bi"),A=n("3kT7");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){E(e,t,n[t])}))}return e}var j={primary:function(e){return a.createElement(S.a.Primary,x({},D(e),{className:d.a.joinClasses([F.primary,F.main])}),e.text)},secondary:function(e){return a.createElement(S.a.Tertiary,x({},D(e),{className:F.main}),e.text)},toggle:function(e){return a.createElement(S.a.Animated,x({},D(e),{styleType:k.Typography.Type.Button,className:d.a.joinClasses([A.a,F.toggle,F.main])}),e.text)}},T={lineHeight:"calc(2px * var(--rem) - 2px)",padding:0},N={height:d.a.rem(2),$nest:{"& span":T}},L=Object(A.b)({default:{borderRadius:d.a.rem(d.c.radius2),whiteSpace:"normal",backgroundColor:w.a.CoreNeutral0,color:w.a.CoreBlue50,border:"1px solid ".concat(w.a.CoreNeutral20),transitionDuration:".2s",transitionProperty:"border-color, background-color",lineHeight:"calc(2px * var(--rem) - 2px)"},hovered:{backgroundColor:w.a.CoreBlue1},disabled:{color:w.a.CoreNeutral40,borderColor:w.a.CoreNeutral10},clicked:{backgroundColor:w.a.CoreBlue10},toggled:{backgroundColor:w.a.CoreNeutral1,borderColor:w.a.CoreBlue50},hidden:{}}),P={fill:w.a.CoreNeutral0,stroke:w.a.CoreNeutral0},B=I({},Object(A.b)({default:{display:"inline-flex"},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}}),{$nest:{"& span":T,"& i":P,"&:not([data-disabled='true'])[data-hovered='true'] i":P}}),F=d.a.stylesheet({main:[N],primary:[B],toggle:[L]});function D(e){return I({name:e.name,onClick:e.onClick,title:void 0!==e.tooltip&&e.state!==r.a.ButtonState.Disabled?(t=e.tooltip,a.createElement(a.Fragment,null,Object(s.pipe)(t.split("\n"),(function(e){var t=e.length;return 0===t?e:c.a.cons(e[0],e.slice(1,t).map((function(e,t){return a.createElement(a.Fragment,{key:t},a.createElement("br",null),e)})))})))):void 0},function(e){switch(e){case r.a.ButtonState.Enabled:return{disabled:!1,active:!1};case r.a.ButtonState.Disabled:return{disabled:!0,active:!1};case r.a.ButtonState.Selected:return{disabled:!1,active:!0};case r.a.ButtonState.Hidden:return{hidden:!0};default:return Object(O.d)(e)}}(e.state));var t}var R=n("PBHX");function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function W(e){return function(e){if(Array.isArray(e))return e}(e)||_(e)||G(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e){return function(e){if(Array.isArray(e))return $(e)}(e)||_(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}var q,V,z=function(e){var t=e.size,n=e.format,i=e.textColor,o=e.backgroundColor,s=e.outlineColor,c=e.text,l=function(e,t){var n="".concat(e,"-").concat(t),a=ee.get(n);if(void 0!==a)return a;var r=d.a.style({color:w.a[e],backgroundColor:Boolean(t)?w.a[t]:t});return ee.put(n,r),r}(i,o),u=W(n),p=u[0],m=u.slice(1),g=void 0!==p?Q[p]:"span",f=m.map((function(e){return e===r.a.TextFormat.StrikeoutDiagonal?function(e){var t="sd-".concat(e),n=ee.get(t);if(void 0!==n)return n;var a=d.a.style(J(e));return ee.put(t,a),a}(null!=s?s:i):Z[e]}));return void 0!==s&&f.push(function(e){var t="ol-".concat(e),n=ee.get(t);if(void 0!==n)return n;var a=d.a.style({borderColor:w.a[e]});return ee.put(t,a),a}(s)),a.createElement(g,{className:d.a.joinClasses([l,K[t]].concat(H(f))),children:c})},U={padding:"".concat(d.a.rem(.15625)," 0")},Y={letterSpacing:d.a.rem(w.h.BodyLetterSpacing),fontSize:d.a.rem(w.h.BodySize),lineHeight:d.a.rem(21/16)},X={letterSpacing:d.a.rem(w.h.SmallLetterSpacing),fontSize:d.a.rem(w.h.SmallSize),lineHeight:d.a.rem(.875)},K=d.a.stylesheet((M(q={},r.a.TextSize.Regular,[U,Y]),M(q,r.a.TextSize.Small,[U,X]),q)),Z=d.a.stylesheet((M(V={},r.a.TextFormat.Bold,[{fontWeight:"bolder"}]),M(V,r.a.TextFormat.Italic,[{fontStyle:"italic"}]),M(V,r.a.TextFormat.StrikeoutHorizontal,[{textDecoration:"line-through"}]),M(V,r.a.TextFormat.StrikeoutDiagonal,[]),M(V,r.a.TextFormat.Outline,[{padding:"".concat(d.a.rem(1/16)," ").concat(d.a.rem(.21875)," ").concat(d.a.rem(1/16)," ").concat(d.a.rem(.21875)),border:"1px solid",borderRadius:"2px"}]),V)),Q={strikeoutHorizontal:"s",strikeoutDiagonal:"span",outline:"span",bold:"b",italic:"i"};var J=function(e){return{backgroundImage:"linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ".concat(w.a[e]," 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)")}};var ee=new R.c(100);function te(e){return void 0===e?ae.main:d.a.joinClasses([ae.main,re(e)])}var ne={padding:"".concat(d.a.rem(.125)," ").concat(d.a.rem(.25)),minWidth:d.a.rem(1.125),borderRadius:d.a.rem(.75),display:"inline-flex",alignItems:"center",justifyContent:"center",$nest:{"& > *":{padding:0}}},ae=d.a.stylesheet({main:[ne]});function re(e){var t="".concat(e),n=ie.get(t);if(void 0!==n)return n;var a=d.a.style({backgroundColor:w.a[e]});return ie.put(t,a),a}var ie=new R.c(100),oe=n("3rlE"),se={close:function(e){return a.createElement(oe.d.Close,{className:de(e)})},"arrow-right":function(e){return a.createElement(oe.d.Arrow,{direction:oe.a.right,className:de(e)})},"arrow-left":function(e){return a.createElement(oe.d.Arrow,{direction:oe.a.left,className:de(e)})},gear:function(e){return a.createElement(oe.d.Gear,{enforceStroke:!0,width:13,className:de(e)})},dictionary:function(e){return a.createElement(oe.d.Dict,{className:de(e)})},clarity:function(e){return a.createElement(oe.d.ClarityOutcome,{className:de(e)})},correctness:function(e){return a.createElement(oe.d.Correctness,{className:de(e)})},engagement:function(e){return a.createElement(oe.d.EngagementOutcome,{className:de(e)})},delivery:function(e){return a.createElement(oe.d.DeliveryOutcome,{className:de(e)})},diamond:function(e){return a.createElement(oe.d.Paid,{width:20,className:de(e)})},feedback:function(e){return a.createElement(oe.d.AssistantFeedback,{className:de(e)})},sensitivity:function(e){return a.createElement(oe.d.Sensitivity,{className:de(e)})},"external-link":function(e){return a.createElement(oe.d.ExternalLink,{className:de(e)})},sparkles:function(e){return a.createElement(oe.d.Sparkles,{className:de(e)})}},ce={width:d.a.rem(1.5),height:d.a.rem(1.5),minWidth:d.a.rem(1.5),minHeight:d.a.rem(1.5),borderRadius:d.a.rem(1.5)},le=d.a.stylesheet({main:[ce]});function de(e){return void 0===e.backgroundColor?le.main:d.a.joinClasses([le.main,ue(e.backgroundColor)])}function ue(e){var t=pe.get(e);if(void 0!==t)return t;var n=d.a.style({backgroundColor:w.a[e]});return pe.put(e,n),n}var pe=new R.c(100),me={width:d.a.rem(.85),height:d.a.rem(.85)},ge={width:d.a.rem(1.5),height:d.a.rem(1.5),borderRadius:d.a.rem(1.5),display:"flex",justifyContent:"center",alignItems:"center"},fe=d.a.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[me],wrapper:[ge]});function he(e){return void 0===e?fe.wrapper:d.a.joinClasses([fe.wrapper,ue(e)])}function be(e){return void 0===e?d.a.joinClasses([fe.main,fe.defaultSize]):d.a.joinClasses([fe.main,ye(e)])}function ye(e){var t=ve.get(e);if(void 0!==t)return t;var n=d.a.style({width:d.a.rem(Number(e)),height:d.a.rem(Number(e))});return ve.put(e,n),n}var ve=new R.c(100);function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e){var t=e.spacing,n=e.innerSpacing,a=e.horizontalAlign,r=e.verticalAlign,i=e.fraction,o=[];return void 0!==t&&o.push(function(e){var t=e.top,n=e.bottom,a=e.left,r=e.right,i="".concat(t,"-").concat(n,"-").concat(a,"-").concat(r),o=Ae.get(i);if(void 0!==o)return o;var s=d.a.style({$debugName:"outer-spacing",marginTop:d.a.rem(Number(t)),marginLeft:d.a.rem(Number(a)),marginRight:d.a.rem(Number(r)),marginBottom:d.a.rem(Number(n))});return Ae.put(i,s),s}(t)),void 0!==n&&o.push(function(e){var t=e.vertical,n=e.horizontal,a="".concat(t,"-").concat(n),r=Ae.get(a);if(void 0!==r)return r;var i=d.a.style({$debugName:"inner-spacing",$nest:{"& > *:nth-last-child(n+2)":{marginRight:d.a.rem(Number(n)),marginTop:d.a.rem(Number(t))}}});return Ae.put(a,i),i}(n)),void 0!==a&&o.push(Ee[a]),void 0!==r&&o.push(we.flexBlock,xe[r]),void 0!==i&&o.push(function(e){var t="f-".concat(e),n=Ae.get(t);if(void 0!==n)return n;var a=d.a.style({flex:e});return Ae.put(t,a),a}(i)),o.length>0?d.a.joinClasses(o):void 0}var we=d.a.stylesheet({flexBlock:[{display:"flex",flexDirection:"row"}]});var Se,ke,Ae=new R.c(100),Ee=d.a.stylesheet((Ce(Se={},r.a.HorizontalAlign.Left,[{textAlign:"left"}]),Ce(Se,r.a.HorizontalAlign.Center,[{textAlign:"center"}]),Ce(Se,r.a.HorizontalAlign.Right,[{textAlign:"right"}]),Se)),xe=d.a.stylesheet((Ce(ke={},r.a.VerticalAlign.Top,[{alignItems:"flex-start"}]),Ce(ke,r.a.VerticalAlign.Middle,[{alignItems:"center"}]),Ce(ke,r.a.VerticalAlign.Bottom,[{alignItems:"flex-end"}]),ke)),Ie=d.a.stylesheet({holder:[{display:"flex",flexDirection:"column"}]});function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){je(e,t,n[t])}))}return e}var Ne={display:"flex",flexWrap:"wrap",alignItems:"inherit",maxWidth:"100%",$nest:{"& > *":{marginRight:d.a.rem(.5)}}},Le=Te({},Ne,{flexGrow:1}),Pe=Te({},Ne,{marginLeft:"auto",flexShrink:0}),Be={marginBottom:d.a.rem(.5)},Fe=d.a.stylesheet({spacer:[Be],row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[Le],rowRight:[Pe]});function De(e){return void 0===e?Fe.row:d.a.joinClasses([Fe.row,Re(e)])}function Re(e){var t=e.top,n=e.bottom,a=e.left,r=e.right,i="".concat(t,"-").concat(n,"-").concat(a,"-").concat(r),o=$e.get(i);if(void 0!==o)return o;var s=d.a.style({marginTop:d.a.rem(Number(t)),marginLeft:d.a.rem(Number(a)),marginRight:d.a.rem(Number(r)),$nest:{'[data-role="row-content"] > *':{marginBottom:d.a.rem(Number(n))}}});return $e.put(i,s),s}var $e=new R.c(100),Me=n("I7vG"),_e=n("9NHN"),We=n("zR/0"),He=n("xEVj");function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ue="sliderOuterContainer",Ye="sliderLabel",Xe="sliderContainer",Ke="slider",Ze="sliderDragging",Qe="sliderSliderDivisionPoint",Je="sliderDivisionPointHoverArea",et="sliderInner",tt="sliderInnerDragging",nt="sliderInnerJiggle",at="sliderKnob",rt="sliderKnobDragging",it="sliderKnobEmoji",ot={fontWeight:700,fontSize:d.a.rem(.875),lineHeight:d.a.rem(1),width:d.a.rem(8)},st={height:d.a.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},ct={position:"relative",width:d.a.percent(100),backgroundColor:w.a.CoreNeutral40,height:d.a.rem(.125),borderRadius:d.a.rem(.375),transition:"all 0.15s ease-in-out",$nest:qe({"&:hover":{height:d.a.rem(.5)}},"&:hover .".concat(Qe),{visibility:"visible"})},lt={height:d.a.rem(.5),$nest:qe({},"& .".concat(Qe),{visibility:"visible"})},dt={position:"absolute",height:d.a.rem(.25),backgroundColor:w.a.CoreNeutral0,top:d.a.rem(.125),bottom:d.a.rem(.125),borderRadius:d.a.percent(100),visibility:"hidden"},ut={background:w.a.CoreNeutral90,opacity:0,height:d.a.rem(1.5),position:"absolute",borderRadius:d.a.percent(100),cursor:"pointer",top:d.a.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},pt={position:"relative",display:"flex",alignItems:"center",backgroundColor:w.a.CorePurple40,height:d.a.percent(100),borderRadius:d.a.rem(.375),transition:"all 0.15s ease-in-out"},mt=d.a.keyframes({from:{width:"100%"},to:{width:"calc(100% - ".concat(d.a.rem(1.5),")")}}),gt=d.a.keyframes({from:{width:"calc(100% - ".concat(d.a.rem(1.5),")")},to:{width:"100%"}}),ft={transition:"none",animation:"".concat(mt," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(gt," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards,\n              ").concat(mt," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 5.2s forwards,\n              ").concat(gt," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 6.2s forwards")},ht={position:"absolute",right:d.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:d.a.rem(1.75),height:d.a.rem(1.75),backgroundColor:w.a.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:d.a.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:d.a.rem(2),height:d.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},bt={width:d.a.rem(2),height:d.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},yt={width:d.a.rem(.9375),height:d.a.rem(.9375),pointerEvents:"none"},vt={outerContainer:d.a.joinClasses([Ue,d.a.style({display:"flex",alignItems:"center"})]),label:d.a.joinClasses([Ye,d.a.style(ot)]),container:d.a.joinClasses([Xe,d.a.style(st)]),slider:d.a.joinClasses([Ke,d.a.style(ct)]),sliderDragging:d.a.joinClasses([Ze,d.a.style(lt)]),sliderDivisionPoint:d.a.joinClasses([Qe,d.a.style(dt)]),sliderDivisionPointHoverArea:d.a.joinClasses([Je,d.a.style(ut)]),sliderInner:d.a.joinClasses([et,d.a.style(pt)]),sliderInnerDragging:d.a.joinClasses([tt,d.a.style({transition:"none"})]),sliderInnerJiggle:d.a.joinClasses([nt,d.a.style(ft)]),knob:d.a.joinClasses([at,d.a.style(ht)]),knobDragging:d.a.joinClasses([rt,d.a.style(bt)]),knobEmoji:d.a.joinClasses([it,d.a.style(yt)])},Ct={button:j,alternativeChoice:function(e){var t=e.designSystem,n=e.content,i=e.activeIndex,o=e.notify,d=l.Monitoring.Logging.getLogger("AlternativeChoiceView");return a.createElement(a.Fragment,null,Object(s.pipe)(c.g.fromNullable(n[i]),c.b.fromOption((function(){return"Cannot render alternative choice preview if there's no choice that matches the current alternative index."})),c.b.map((function(e){return e.preview})),c.b.filterOrElse(u.c.isBlock,(function(){return"Cannot render alternative choice preview if it's not of type `block.`"})),c.b.filterOrElse(u.c.hasOnlyTextParts,(function(){return"Cannot render alternative choice preview `block` if not every part is of type `text.`"})),c.b.map((function(e){return t.block(m({},e,{children:e.parts.map((function(e,n){return a.createElement(t.text,m({key:n},e))}))}))})),c.b.getOrElse((function(e){return d.warn(e),null}))),a.createElement("div",{className:h.spacer}),n.map((function(e,n){return"button"===e.label.type&&"block"===e.label.label.type?a.createElement(t.button.toggle,{key:n,text:t.block(m({},e.label.label,{children:e.label.label.parts.map((function(e,n){return"text"===e.type?e.text:"icon"===e.type&&"known"===e.source.kind?a.createElement(t.icon[e.source.name],m({key:n},e)):null}))})),name:e.label.name,state:f(i)(e.label.actions)?r.a.ButtonState.Selected:r.a.ButtonState.Enabled,tooltip:void 0,onClick:o(e.label.actions,e.label.id)}):d.warn("Content where `label.type` is not `button` and `label.label.type` is not `block` are not supported (yet)",{content:e})})))},text:z,image:function(e){var t=e.name,n=e.url,r=e.size,i=e.backgroundColor;return(a.createElement("div",{className:he(i)},a.createElement("img",{src:n,className:be(r),alt:t})))},icon:se,count:function(e){var t=e.backgroundColor,n=e.value,i=e.textColor,o=void 0===i?r.a.Color.CoreNeutral0:i;return a.createElement("div",{className:te(t)},a.createElement(z,{size:r.a.TextSize.Small,format:[r.a.TextFormat.Bold],textColor:o,text:n}))},block:function(e){return a.createElement("div",{"data-role":"block-layout",className:Oe(e)},e.children)},row:function(e){var t=e.left,n=e.right,r=e.spacing,i=Array.isArray(t)&&0===t.length,o=Array.isArray(n)&&0===n.length;return i&&o?a.createElement("div",{"data-role":"row-layout",className:void 0===r?Fe.spacer:Re(r)}):a.createElement("div",{"data-role":"row-layout",className:De(r)},i?null:a.createElement("div",{"data-role":"row-content",className:Fe.rowLeft},t),o?null:a.createElement("div",{"data-role":"row-content",className:Fe.rowRight},n))},column:function(e){var t=e.children;return(a.createElement("div",{"data-role":"column-layout",className:Ie.holder},t))},slider:function(e){var t=e.fillColor,n=e.choices,i=e.designSystem,o=e.onChoiceSelected,s=He.a.useElWatcher(),u=s.ref,p=s.onMount,m=new We.a.Subject,g=new We.a.Subject,f=new We.a.Subject,h=new We.a.Subject,y=new We.a.Subject,v=new We.a.Subject,C=n.length-1,O=C>0?100/C:0,S=n.reduce((function(e){var t=e[e.length-1],n=0;return void 0!==t&&(n=t+O),e.push(n),e}),[]),k=new We.a.BehaviorSubject(S[C]),A=We.a.mergeStatic(y.pipe(We.a.mapTo(!0)),f.pipe(We.a.mapTo(!1)),h.pipe(We.a.mapTo(!1))).pipe(We.a.startWith(!1)),E=We.a.mergeStatic(y,g).pipe(We.a.withLatestFrom(A),We.a.filter((function(e){var t=ze(e,2);t[0];return t[1]})),We.a.map((function(e){return ze(e,1)[0]})),We.a.withLatestFrom(u),We.a.map((function(e){var t=ze(e,2),n=t[0],a=t[1];return Object(Me.pipe)(a,c.g.map((function(e){return e.getBoundingClientRect()})),c.g.bindTo("sliderClientRect"),c.g.apS("containerMouseEventVal",c.g.some(n)))})),We.b.compact,We.a.map((function(e){var t=e.containerMouseEventVal,n=e.sliderClientRect,a=n.x,r=n.x+n.width;return t.clientX<=a?0:t.clientX>=r?100:(t.clientX-a)/(r-a)*100}))),x=k.pipe(We.a.distinctUntilChanged(),We.a.map((function(e){for(var t=-1,n=0;n<S.length-1;n++){var a=S[n],r=S[n+1];e>=a&&e<=r&&(t=e>=(a+r)/2?n+1:n)}return t}))),I=x.pipe(We.a.distinctUntilChanged(),We.a.map((function(e){return n[e]})));He.a.useSubscriptionTo(We.a.mergeStatic(E.pipe(We.a.distinctUntilChanged()),A.pipe(We.a.distinctUntilChanged(),We.a.filter((function(e){return!e})),We.a.withLatestFrom(E),We.a.map((function(e){var t=ze(e,2);t[0];return t[1]})),We.a.map((function(e){var t,n=0,a=!0,r=!1,i=void 0;try{for(var o,s=S[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value,l=Math.abs(e-c);(void 0===t||l<t)&&(t=l,n=c)}}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}))),m.pipe(We.a.filter((function(e){return"ArrowRight"===e.key||"ArrowLeft"===e.key})),We.a.tap((function(e){e.preventDefault(),e.stopPropagation()})),We.a.map((function(e){return e.key})),We.a.filter((function(e){return"ArrowRight"===e||"ArrowLeft"===e})),We.a.withLatestFrom(k),We.a.map((function(e){var t,n=ze(e,2),a=n[0],r=n[1];return(t="ArrowRight"===a?r+O:r-O)>100?100:t<0?0:t}))),v.pipe(We.a.map((function(e){return S[e]})))).pipe(We.a.tap((function(e){return k.next(e)}))));var j=k.pipe(We.a.skip(1),We.a.mapTo(!0));return He.a.useSubscriptionTo(I.pipe(We.a.map((function(e){return o(e.actions,e.id,r.a.ActionNotifyUserAction.SelectSliderChoice)})),We.a.tap((function(e){return e()})))),n.length<2?(l.Monitoring.Logging.getLogger("SliderView").warn("Cannot render slider with less than 2 choices.",{choicesLength:n.length}),null):a.createElement(b.a.div,{className:vt.outerContainer,onKeyDown:function(e){return m.next(e)},"data-role":"slider"},a.createElement(b.a.div,{className:vt.label},I.pipe(We.a.map((function(e){return e.label})))),a.createElement(b.a.div,{className:vt.container,style:{width:d.a.rem(4*C)},onMouseMove:function(e){return g.next(e)},onMouseUp:function(e){return f.next(e)},onMouseLeave:function(e){return h.next(e)}},a.createElement(b.a.div,Ve({},Object(_e.c)(vt.slider,A.pipe(We.a.map((function(e){return e?vt.sliderDragging:null})))),{mount:p}),a.createElement(b.a.div,Ve({},Object(_e.c)(vt.sliderInner,A.pipe(We.a.map((function(e){return e?vt.sliderInnerDragging:null}))),j.pipe(We.a.startWith(!1),We.a.map((function(e){return e?null:vt.sliderInnerJiggle})))),{style:{width:k.pipe(We.a.map(d.a.percent)),color:w.a[t]}}),a.createElement(b.a.div,Ve({},Object(_e.c)(vt.knob,A.pipe(We.a.map((function(e){return e?vt.knobDragging:null})))),{onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),y.next(e)},tabIndex:0}),I.pipe(We.a.map((function(e){return"known"===e.icon.source.kind?a.createElement(i.icon[e.icon.source.name],{key:e.icon.source.name,backgroundColor:e.icon.backgroundColor}):a.createElement(i.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){qe(e,t,n[t])}))}return e}({key:e.icon.source.name,backgroundColor:e.icon.backgroundColor},e.icon.source))}))))),A.pipe(We.a.map((function(e){return n.map((function(t,n){return a.createElement(b.a.Fragment,{key:t.id},a.createElement("div",{className:vt.sliderDivisionPoint,style:{width:d.a.rem(.25),left:d.a.rem(0===n?.125:4*n-.375)}}),x.pipe(We.a.map((function(t){return t===n||e?null:a.createElement(b.a.div,{className:vt.sliderDivisionPointHoverArea,style:{width:d.a.rem(1.5),left:d.a.rem(0===n?-.5625:4*n-.75-.1875)},onClick:function(){return v.next(n)}})}))))}))}))))))},alternativeSlider:function(e){var t=e.fillColor,n=e.choices,r=e.designSystem,i=e.activeAltIndex,o=e.notify;return a.createElement(a.Fragment,null,a.createElement(r.slider,{fillColor:t,choices:n.map((function(e){return{id:e.id,icon:e.icon,label:e.label,actions:e.actions}})),designSystem:r,onChoiceSelected:o}),a.createElement("div",{className:C.spacer}),a.createElement(b.a.Fragment,null,i.view((function(e){return Object(s.pipe)(c.g.fromNullable(n[e+1]),c.b.fromOption((function(){return"Cannot render alternative slider preview if there's no choice that matches the current alternative index."})),c.b.map((function(e){return e.preview})),c.b.filterOrElse(u.c.isBlock,(function(){return"Cannot render alternative slider preview if it's not of type `block.`"})),c.b.filterOrElse(u.c.hasOnlyTextParts,(function(){return"Cannot render alternative slider preview `block` if not every part is of type `text.`"})),c.b.map((function(e){return r.block(v({},e,{children:e.parts.map((function(e,t){return a.createElement(r.text,v({key:t},e))}))}))})),c.b.getOrElse((function(e){return l.Monitoring.Logging.getLogger("AlternativeSliderView").warn(e),null})))}))))}}},Kt6o:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="https://assets.grammarly.com/emoji/v1/",r="https://assets.grammarly.com/animations/v1/"},"L9r+":function(e,t,n){e.exports=n.p+"files/ebef654642ae42ba62e081cb7c9799d1/inter-bolditalic.woff"},LXcl:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("LNSM"),r=n("zR/0"),i=n("D9EC"),o=n("PrA7"),s=n("hnW1");class c{constructor(){this.completionTrigger=a.a.create(!1),this._steps={},this.getFirstTargetRect=()=>r.a.EMPTY}isStepEnabled(e){return void 0!==this._steps[e]}relaunchAllSteps(){o.Monitoring.Logging.getLogger("OnboardingViewModelImpl").error("Not implemented")}setState(e,t){this.subscribeForStep(e).state.set(t)}subscribeForStep(e){const t=a.a.create(s.a.Hidden);return Boolean(this._steps[e])?this._steps[e]:this._steps[e]={id:e,state:t,dotShown:i.e,dotClicked:()=>t.set(s.a.Popup),popupClosed:()=>t.set(s.a.Passed),popupIgnored:()=>t.set(s.a.Hidden),actionTaken:()=>t.set(s.a.Passed)}}getStepCompletionCallback(e){throw new Error("Method not implemented.")}changeState(e){}}},My8q:function(e,t,n){e.exports=n.p+"files/8c35c38451d802f149fcbc7e9004193e/inter-lightitalic.woff"},N19O:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var a,r=n("ERkP"),i=n("OA+g"),o=n("lrqh"),s=n("MsKq"),c=n("zR/0"),l=n("xEVj");function d(e=12){const{ref:t,onMount:n}=l.a.useElWatcher(),{cardHeight:d,cardVisibleViewportHeight:u}=r.useContext(a.Context),p=r.useContext(s.a.Context);return{onMount:n,maxHeight:r.useRef(t.pipe(c.a.switchMap(o.g.fold(Object(i.constant)(c.a.of(o.g.none)),e=>d.pipe(c.a.take(1),c.a.withLatestFrom(u),c.a.map(([t,n])=>Object(i.pipe)(n,o.g.map(n=>e.offsetHeight+Math.max(0,n-t))))))),c.a.startWith(o.g.none),c.a.withLatestFrom(p.pipe(c.a.startWith(void 0),c.a.map(o.g.fromNullable))),c.a.map(([t,n])=>Object(i.pipe)(t,o.g.alt(()=>Object(i.pipe)(n,o.g.map(t=>e*t))))),c.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals))).current,ref:t}}!function(e){e.Context=r.createContext({cardHeight:c.a.EMPTY,cardVisibleViewportHeight:c.a.of(o.g.none)}),e.Provider=t=>{const{ref:n,onMount:a}=l.a.useElWatcher(),i=r.useRef({cardHeight:t.card.pipe(c.a.switchMapTo(n.pipe(c.b.compact,c.a.map(e=>e.offsetHeight))),c.a.distinctUntilChanged(),c.a.shareReplay({bufferSize:1,refCount:!0})),cardVisibleViewportHeight:t.cardVisibleViewportHeight.pipe(c.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals),c.a.shareReplay({bufferSize:1,refCount:!0}))});return r.createElement(e.Context.Provider,{value:i.current},t.children(a))}}(a||(a={}))},N8v8:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("LNSM"),s=n("zR/0"),c=n("gy42"),l=n("D9EC"),d=n("ax6a"),u=n("e12y"),p=n("SD38"),m=n("PnD2"),g=n("viRF");function f({value:e,initValue:t=g.a.MIN,wrapperClass:n,progressClass:o,borderClass:c,isLoading:l=s.a.of(!1)}){const d=h(e,t);return a.createElement(r.a.div,Object.assign({},Object(i.c)(E.wrapper,n)),a.createElement(b,{width:d,progressClass:o,borderClass:c,isLoading:l}))}function h(e,t=g.a.MIN){const n=o.a.create(!1);return requestAnimationFrame(()=>requestAnimationFrame(()=>n.set(!0))),s.a.combineLatestStatic(c.b.toObservable(e),n,(e,n)=>n?e:t)}function b({width:e,progressClass:t,isLoading:n,borderClass:o}){const c=e.pipe(s.a.map(e=>`${e}%`)),d=e.pipe(s.a.map(g.a.prism.reverseGet),s.a.map(e=>e>0?`${e+.75}%`:0),s.a.startWith(0)),u=n.pipe(s.a.switchMap(e=>e?c:"0")),p=e.pipe(s.a.map(g.a.isMin),s.a.shareReplay({bufferSize:1,refCount:!0}));return a.createElement(a.Fragment,null,a.createElement(r.a.div,Object.assign({},Object(i.c)(E.borderContainer,p.pipe(s.a.map(Object(l.c)(E.borderContainerZeroWidth,E.borderContainerWithMinWidth))),o),{style:{width:d}})),a.createElement(r.a.div,Object.assign({},Object(i.c)(Boolean(t)?t:E.defaultProgress,E.progressBar,p.pipe(s.a.map(Object(l.c)(E.progressBarZeroWidth,E.progressBarWithMinWidth)))),{style:{width:c}})),a.createElement(r.a.div,{className:E.loading,style:{width:u}}))}const y=u.a.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),v={position:"relative",width:u.a.percent(100),height:u.a.rem(.25),borderRadius:u.a.rem(m.radius1),backgroundColor:p.ui300},C={position:"relative",top:0,height:u.a.percent(100),borderRadius:u.a.rem(m.radius1),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},O={minWidth:u.a.px(4)},w={position:"absolute",backgroundColor:d.a.CoreNeutral0},S={minWidth:u.a.px(6)},k={position:"absolute",minWidth:0,backgroundImage:p.progressLoadingGradient,backgroundSize:"20px 20px",transition:"none",animation:`${y} 1s linear infinite`},A={backgroundImage:p.rightProgressGradient},E=u.a.stylesheet({wrapper:[v,v],progressBar:[C],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[O],borderContainer:[C,w],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[S],loading:[C,k],defaultProgress:[A]})},NW9S:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,i=n("m6JR"),o=n("66iv"),s=n("PK5a");!function(e){let t;!function(e){e.ISO=Object(s.iso)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(a||(a={})),function(e){let t,n,a;!function(e){e.ISO=Object(s.iso)(),e.equals=Object(s.getEq)(i.eqNumber).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=Object(s.iso)()}(n=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=Object(s.iso)()}(a=e.CardTop||(e.CardTop={})),e.concatC=e=>t=>e+t;const r=e=>new o.a(e);e.converters=function(t,n,a){const i=r(e.concatC(a)).get,o=r(e.concatC(-t)).get;return{windowToViewport:r(e.concatC(-n)).get,viewportToWindow:r(e.concatC(n)).get,cardTopToViewport:o,viewportToCardTop:r(e.concatC(t)).get,absTopToViewportTop:e=>o(i(e)),absTopToCardTop:i}}}(r||(r={}))},NbEL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var a,r,i,o=n("m6JR"),s=n("NW9S");!function(e){e.above="above",e.below="below",e.hidden="hidden"}(a||(a={})),function(e){e.Impl=class{constructor(e,t,n){this.scrollTop=e,this.viewport=t,this.converters=s.a.converters(e,s.b.FromWindowTop.ISO.unwrap(t.top),n)}}}(r||(r={})),function(e){const t=Object(o.getStructEq)({top:o.eqNumber,height:o.eqNumber});e.eqDimensionsTuple=Object(o.getTupleEq)(t,t)}(i||(i={}))},Ni70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,r,i=n("D57K"),o=n("I7vG"),s=n("lrqh"),c=n("hoSD");!function(e){var t=function(){function e(){}return e.prototype.getRect=function(){return s.b.right({rootClientRect:c.c.Rect.empty,clientRects:[c.c.Rect.empty]})},e}();e.Mock=t}(a||(a={})),function(e){e.relativeToViewport=function(e){var t,n=e.clientRects,a=n[0],r=n.slice(1);return Object(o.pipe)((t=c.c.Rect).join.apply(t,Object(i.__spreadArray)([a],r,!1)),s.b.getOrElse((function(){return c.c.Rect.empty})))},e.relativeToRoot=function(t){return c.c.absToRelative(e.relativeToViewport(t),t.rootClientRect)},e.relativeToRootFirst=function(e){return c.c.absToRelative(e.clientRects[0],e.rootClientRect)},e.relativeAndAbs=function(t){var n=e.relativeToViewport(t);return{abs:n,relative:c.c.absToRelative(n,t.rootClientRect)}}}(r||(r={}))},O9TF:function(e,t,n){"use strict";e.exports=n("5Ax0")},PyeZ:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,i=n("D9EC");!function(e){let t;function n(t){return t.type===e.Type.confirmed}function a(t){return t.type===e.Type.undone}!function(e){e.mounted="mounted",e.opened="opened",e.closed="closed",e.hovered="hovered",e.unhovered="unhovered",e.applied="applied",e.addedToDictionary="added_to_dictionary",e.ignored="ignored",e.confirmed="confirmed",e.undone="undone"}(t=e.Type||(e.Type={})),e.isAlertApplyAction=function(t){return t.type===e.Type.applied},e.isAlertOpenAction=function(t){return t.type===e.Type.opened},e.isAlertIgnoreAction=function(t){return t.type===e.Type.ignored},e.isAlertAddToDictionaryAction=function(t){return t.type===e.Type.addedToDictionary},e.isConfirmAction=n,e.isUndoAction=a,e.isMountAction=function(t){return t.type===e.Type.mounted},e.isBulkAction=Object(i.p)(n,a)}(a||(a={})),function(e){let t;!function(e){e.Up="Up",e.Down="Down"}(t=e.Direction||(e.Direction={}))}(r||(r={}))},PzR3:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return r}));var a,r,i=n("I7vG"),o=n("94k3"),s=n("FiSa"),c=n("lrqh"),l=n("D9EC"),d=n("6fbX"),u=n("PrA7");!function(e){e.show={show:e=>`A(#${e.alternativeId})`},e.eq=c.c.getStructEq({alternative:o.a.Alternative.eq,alternativeId:c.c.eqString,alertId:c.c.eqString})}(a||(a={}));class p{constructor(){this._log=u.Monitoring.Logging.getLogger("alternative_manager",u.Logging.LogLevel.DEBUG),this._alternatives=new Map,this.getAlternative=e=>{const t=this._alternatives.get(e);if(t)return c.b.right(t);{const t=`Tried to retrieve non-registered alternative: ${e}`;return this._log.error(t),c.b.left(new Error(t))}}}pushChanges(e){s.a.isDelta(e)&&this._alternatives.forEach(t=>{Object(i.pipe)(t.alternative.rebase(e.delta),c.g.fold(l.e,e=>t.alternative=e))})}registerAlternative(e,t){const n=p.getAlternativeId(t),a={alternative:e,alternativeId:n,alertId:t};return this._alternatives.set(n,a),a}deregisterAlternative(e){return Object(i.pipe)(this.getAlternative(e),c.b.chain(({alternative:e,alternativeId:t})=>c.b.tryCatchError(()=>(Object(d.g)(this._alternatives.delete(t),"alternative should exist before deletion"),e))))}}p._alternativeCounter=0,p.getAlternativeId=e=>`alt-${e}-${p._alternativeCounter++}`,function(e){e.mock={registerAlternative:(e,t)=>({alternative:e,alternativeId:p.getAlternativeId(t),alertId:t}),getAlternative:()=>c.b.left(new Error("Not implemented in mock")),deregisterAlternative:()=>c.b.right(o.a.Alternative.create([]))}}(r||(r={}))},RWgj:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return N}));var a=n("ax6a"),r=n("e12y"),i=n("WIwS"),o=n("ps/9");const s="0 1px 8px rgba(109, 117, 141, .18)",c={$nest:{"&:before":{top:r.a.rem(.85),left:0}}},l=r.a.joinClasses(["miniTwoLinedHighlightedText",r.a.style({overflow:"hidden",marginTop:r.a.rem(-.25),color:a.a.CoreNeutral90,textOverflow:"ellipsis"})]),d={height:r.a.rem(3.25),borderRadius:r.a.rem(o.s),boxShadow:s,$nest:{"&:hover":{boxShadow:s},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},u={top:r.a.rem(.7)},p={top:r.a.rem(.1)},m={fontWeight:r.a.important(400),fontSize:r.a.rem(.75)},g={position:"absolute",left:r.a.rem(.5),minWidth:"initial",minHeight:"initial",background:a.a.CoreNeutral0},f=Object.assign(Object.assign({},g),{top:r.a.rem(.6)}),h=r.a.stylesheet({dot:[c],invisibleDot:[c,{$nest:{"&:before":{visibility:"hidden"}}}],wrapper:[d],miniContainer:[{flexDirection:"column"}],cardLogo:[u],lensIcon:[p],subTitle:[m],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[f],takeawayIconStandard:[g]}),b={height:r.a.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},y={$nest:{"&:before":{top:r.a.px(1),bottom:0,left:0}}},v={$nest:{"&:before":{top:r.a.px(1),bottom:0,left:0,visibility:"hidden"}}},C={height:r.a.important(r.a.rem(2.5)),borderRadius:r.a.rem(o.s)},O={color:a.a.CoreNeutral50,display:"flex",width:r.a.rem(2),height:r.a.percent(100),justifyContent:"center",alignItems:"center"},w={overflow:"hidden",color:a.a.CoreNeutral90,textOverflow:"ellipsis"},S={display:"inline-block",padding:`0 ${r.a.rem(.5)}`},k={top:0,bottom:0,left:r.a.rem(.5),margin:"auto"},A=r.a.stylesheet({wrapper:[b],dot:[y],invisibleDot:[y,v],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[C],alertsCounter:[O],highlightedText:[w],middleDot:[S],cardLogo:[k]}),E={color:a.a.CoreNeutral50,fontWeight:300},x={position:"absolute",left:r.a.rem(.5),width:r.a.rem(1),height:r.a.rem(1),background:i.e},I={left:r.a.rem(0)},j={marginLeft:r.a.rem(.5)},T={marginLeft:r.a.rem(-.5)},N=r.a.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[E],cardLogo:[x],lensIcon:[T],outcomesCardLogo:[x,I],newLabel:[j]})},S3HV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("9NHN"),o=n("vOOZ"),s=n("LNSM"),c=n("zR/0"),l=n("hoSD"),d=n("ax6a"),u=n("e12y"),p=n("ps/9"),m=n("rk+4"),g=n("+w1e"),f=n("bO3R"),h=n("H37f"),b=n("3rlE"),y=n("FpF0"),v=n("xEVj"),C=n("0A/6"),O=n("H9T+");!function(e){e.Mini=({card:e,actions:t,twoLined:n,useBundleContainer:a})=>r.createElement(C.a.Mini,Object.assign({},Object(i.c)(!0===n?x.twoLinedWrapper:x.standardWrapper,!0===a?x.bundleContainer:null),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,hideDot:!0}),r.createElement(o.a.div,{className:x.content},void 0!==e.activeAlert.emojiID?r.createElement(h.c,{id:e.activeAlert.emojiID,className:x.icon}):r.createElement(b.d.EthicalAI.Heart,{className:x.icon}),r.createElement("div",{className:x.highlightedText},e.activeAlert.miniCardTitle))),e.Full=({card:e,actions:t,isChecking:n})=>{const a=r.useContext(m.a.Context),i=s.a.create(!1);return v.a.useSubscriptionTo(n.pipe(c.a.tap(e=>i.set(e)))),r.createElement(O.t,{card:e,actions:t,isChecking:n,body:r.createElement(r.Fragment,null,r.createElement(O.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(O.o,{text:e.activeAlert.title}),void 0!==e.activeAlert.bannerColors?r.createElement("div",null,e.activeAlert.bannerColors.map(e=>r.createElement("div",{className:L.bannerStripe,style:{backgroundColor:e}}))):null,r.createElement(O.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),footer:r.createElement(r.Fragment,null,r.createElement(O.h,{card:e}),r.createElement(f.a.Primary,{key:"ethical-ai-external-link",name:"ethical-ai-external-link",title:a.card.todoAction(e.activeAlert.todoAction),onClick:()=>{t.next({type:g.b.Type.ethicalAIOpenExternalLink,alertId:e.activeAlert.id,itemId:e.id,externalLink:e.activeAlert.externalLink}),e.activeAlert.shouldDismissAfterOpeningLink&&t.next({type:g.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},className:L.externalLinkButton},r.createElement(y.a,{href:e.activeAlert.externalLink},r.createElement("div",{className:L.externalLinkButtonContent},l.f.capitalize(e.activeAlert.todoAction),r.createElement(b.d.EthicalAI.ExternalLink,{className:L.externalLinkButtonContentIcon}))))),alwaysShowWrongAndOffensiveButtons:e.activeAlert.isFlaggable})}}(a||(a={}));const w={height:u.a.rem(3.25),borderRadius:u.a.rem(p.s),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},S={height:u.a.rem(3)},k={height:u.a.important(u.a.rem(2.5)),borderRadius:u.a.rem(p.s)},A={width:u.a.rem(1),height:u.a.rem(1),marginRight:u.a.rem(.5)},E={overflow:"hidden",color:d.a.CoreNeutral90,textOverflow:"ellipsis"},x=u.a.stylesheet({twoLinedWrapper:[w],standardWrapper:[S],bundleContainer:[k],content:[{display:"flex",alignItems:"center"}],icon:[A],highlightedText:[E]}),I={width:u.a.percent(100),$nest:{a:{color:d.a.CoreNeutral0,textDecoration:"none"}}},j={width:u.a.percent(100),position:"relative",textAlign:"center"},T={position:"absolute",top:u.a.rem(.25),right:u.a.rem(.25)},N={width:u.a.percent(100),height:u.a.rem(.5)},L=u.a.stylesheet({externalLinkButton:[I],externalLinkButtonContent:[j],externalLinkButtonContentIcon:[T],bannerStripe:[N]})},SGQG:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("ax6a"),r=n("e12y"),i=n("WIwS"),o=n("ps/9");const s=a.a.BackgroundTooltip,c=r.a.keyframes({"0%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, .65)"},"70%":{boxShadow:`0 0 0 ${r.a.rem(1)} rgba(95, 139, 250, 0)`},"100%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, 0)"}}),l={width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(50),background:"rgba(95, 139, 250, .65)",boxShadow:"0 0 0 rgba(95, 139, 250, .65)",animation:`${c} 2s infinite`,$nest:{"&:hover":{animation:"none"},"@media print":{visibility:"hidden"}}},d=r.a.keyframes({"0%":{opacity:1,transform:"scale(1)"},"100%":{opacity:0,transform:"scale(3)"}}),u={width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(50),background:"rgba(95, 139, 250, .65)",willChange:"transform",$nest:{"@media print":{visibility:"hidden"},"&:before":{position:"absolute",top:0,left:0,zIndex:-1,width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(100),backgroundColor:"rgba(95, 139, 250, .65)",content:"''",animation:`${d} 2s infinite`,willChange:"transform"},"&:hover:before":{animation:"none"}}},p={margin:`${r.a.rem(-1.5)} 0 0 ${r.a.rem(-1.5)}`,padding:r.a.rem(1),borderRadius:r.a.percent(50),cursor:"pointer",pointerEvents:"all"},m={margin:`0 0 ${r.a.rem(.5)}`,color:a.a.CoreNeutral0,fontWeight:"bold"},g={color:a.a.CoreNeutral0,lineHeight:r.a.rem(1.25)},f={display:"flex",padding:`${r.a.rem(1)} ${r.a.rem(1.5)} ${r.a.rem(1.25)} ${r.a.rem(2)}`,width:r.a.rem(20),borderRadius:r.a.rem(o.t),background:s,color:a.a.CoreNeutral0,textAlign:"left",letterSpacing:0,pointerEvents:"all",alignItems:"flex-start"},h={marginRight:r.a.rem(2),width:r.a.rem(2),flexShrink:0,alignSelf:"center"},b={stroke:i.i,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:a.a.CoreNeutral0,fill:a.a.CoreNeutral0}}},y={position:"absolute",top:r.a.percent(50),left:r.a.percent(50),zIndex:o.k},v={position:"relative",zIndex:o.i},C={zIndex:o.q},O={position:"absolute",zIndex:o.q},w=r.a.prefixedStylesheet("onboarding",{pulse:[l],pulseWrapper:[p],header:[m],description:[g],stepWrapper:[f],content:[{display:"inline-block"}],alertIcon:[h],closeIconWrapper:[{position:"absolute",top:0,right:0}],closeIcon:[b],containerWrapper:[{position:"relative",display:"inline-block"}],onboardingSpot:[y],containerDiv:[{}],editor:[v],onboardingPopup:[C],notificationContainer:[O],pulseOptimized:[u]})},StFb:function(e,t,n){"use strict";var a;function r(e){const t=e.replace(/\s/g,"");return null!==e&&null!==t.match(/^["'”“.,;:!?\\\/…\-—()]+$/)}function i(e){return null!==e&&null!==e.match(/^\s+$/)}function o(e,t){if(e.length<=4)return null;const n=s(e,t);if(void 0===n)return null;const{from:a,to:r,oldFragment:i,newFragment:o}=n,c=1===o.length&&a>0&&e[a-1]===o,l=1===i.length&&0===o.length&&t[a-1]===i;let d=a,u=o;return(c||l)&&(d=a-1),c&&(u=o+o),l&&(u=i),u.length>3?null:[e.substring(0,d),u,e.substring(r)]}function s(e,t){if(e===t)return;const n=e.length,a=t.length;if(a>n){if(t.substr(0,n)===e)return{from:n,to:n,oldFragment:"",newFragment:t.substr(n)};if(t.substr(a-n)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,a-n)}}if(a<n){if(e.substr(n-a)===t)return{from:0,to:n-a,oldFragment:e.substr(0,n-a),newFragment:""};if(e.substr(0,a)===t)return{from:a,to:n,oldFragment:e.substr(a),newFragment:""}}const r=a<n?a:n,i=function(e,t,n){let a=0;for(;e[a]===t[a]&&a<n;)a+=1;return a}(e,t,r);let o=function(e,t,n,a,r){let i=0;for(;e[n-i-1]===t[a-i-1]&&r-i>=0;)i+=1;return i}(e,t,n,a,r);return i+o>n&&(o-=i+o-n),i+o>a&&(o-=i+o-a),{from:i,to:n-o,oldFragment:e.substr(i,n-o-i),newFragment:t.substr(i,a-o-i)}}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.getClass=function(e,t){return null!==(n=t)&&1===n.length&&/["'”’]/.test(n)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'”][.,;]/)}(t)?e.deleteQuote:r(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:Boolean(function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t))?e.deletePunctuationBeforeLetter:e.deleteAll;var n}}(a||(a={}))},VLye:function(e,t,n){e.exports=n.p+"files/70f84e39477b8c33dbc1900a4bacb20f/inter-medium.woff"},W0xG:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("6fbX"),r=n("D9EC"),i=n("PrA7"),o=n("wOnQ");const s=(e,t)=>{switch(e.kind){case"replacement":return function(e,t){Object(a.g)(Object(r.n)(e),"transforms should have at least one element");const[n]=e;return c(n)>-1?o.a.create(l(n),e.map(d),t,!0):o.g.create(e,t)}(e.content.map(e=>[{type:o.k.Insert,text:e}]),t);case"transform":return function(e,t){Object(a.g)(Object(r.n)(e),"transforms should have at least one element");const[n]=e;return c(n)>-1?o.a.create(l(n),e.map(d),t):function(e){return 2===e.length&&p(e)}(e)?o.i.create(e[0],e[1],t):p(e)?o.g.create(e,t):o.b.create(e,t)}(e.content.map(f),t);default:return Object(a.d)(e.kind)}};function c(e){return e.findIndex(e=>"arrow"===e.type)}function l(e){return e.slice(0,c(e))}function d(e){return e.slice(c(e)+1)}function u(e){return e.every(e=>"delete"!==e.type)}function p(e){return e.every(u)}function m(e,t){return{re:new RegExp(`^(${e})([\\s\\S]*)$`),createResult:t}}const g=[m("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Delete,text:e[2]})),m("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Insert,text:e[2]})),m("(→)",e=>({type:o.k.Arrow})),m("([^<>→]+)",e=>({type:o.k.Text,text:e[1]}))];function f(e){function t(e){for(const t of g){const n=e.match(t.re);if(null!==n)return[t.createResult(n),n[n.length-1]]}}function n(t){let n=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>","→"].map(e=>t.indexOf(e));if(n.findIndex(e=>0===e)>0)throw new Error(`Couldn't parse transform: ${e}`);if(n=n.filter(e=>e>0),Object(r.n)(n)){const e=Math.min(...n);return[{type:o.k.Text,text:t.substring(0,e)},t.substring(e)]}return[{type:o.k.Text,text:t},""]}const a=[];let s=e,c=!1,l=0,d=void 0;for(;Object(r.n)(s);){const e=t(s);void 0===e&&(c=!0);const[r,i]=e||n(s);d&&d.type===o.k.Text&&r.type===o.k.Text?d.text+=r.text:(d&&d.type===o.k.Delete&&r.type===o.k.Insert&&(a.push({type:o.k.Arrow}),l++),a.push(r)),r.type===o.k.Arrow&&l++,d=a[a.length-1],s=i}return(c||!Object(r.n)(a)||l>1)&&i.Monitoring.Logging.getLogger("model.editor.alert_replacement").warn("Bad parsing of transform",{transformHtml:e,transformPartCount:a.length,arrowCount:l}),a}},WOQ9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("93Qa"),i=n("U75S"),o=n("OA+g"),s=n("I7vG"),c=n("xlCj"),l=n("lrqh"),d=n("hoSD"),u=n("7b34"),p=n("6fbX"),m=n("dE97"),g=n("GUi3"),f=n("yA7V"),h=n("kFFO"),b=n("TC4P"),y=n("W39u"),v=n("BeBM");!function(e){let t,n,a,C;e.filterAlertInLens=(e,t)=>l.a.filter(n=>m.a.isNotRemoved(n)||l.g.isSome(e.items.find(e=>t.hasAlert(n.id)(e)))),e.createWithInitialAlerts=(e,t,n,a,r)=>(i,c,d,u)=>{const p=Object(s.pipe)(u,l.g.fold(()=>o.identity,e=>r.selectItemByAlert(e,[]))),m=e.create(i,c),g=d.filter(n.alertVisibleInSidebar(i)),h=t(i);if(v.j.hasItems(m)){const e=f.a.empty,t=f.a.from(g),n=f.a.diff(e,t);return Object(s.pipe)(m,h(n,a),r.changeItemsVisualState(b.a.VisualState.initial({type:"rendered",clockwise:!0},!1)),p,e=>Object.assign(Object.assign({},e),{animation:v.b.skip}))}return m},function(e){e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:Object(s.pipe)(v.k.getActiveItem(t),l.g.chain(t=>Object(s.pipe)(e.get(t.id),l.g.map(e=>e.index)))),items:e}),e.hideItem=function(e,t){return b.a.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e},e.calculateCardsHeight=e=>Object(s.pipe)(e.getAt(e.size-1),l.g.map(e=>e.positionState.absTop+e.positionState.height),l.g.getOrElse(()=>0));e.getItemsPositionsUpdateTransformer=t=>({state:n,metadata:a})=>{if(!v.e.hasCards(n))return l.b.left({state:n,metadata:a});const r=v.e.Prism.getLens();return l.b.left({state:r.modify(e.updateItemsPositions(t),n),metadata:a})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!v.e.hasCards(t))return l.b.left({state:t,metadata:n});const a=v.e.Prism.getLens();return l.b.left({state:a.modify(t=>{const n=t.items.map((n,a,r)=>{const i=l.g.contains(r)(t.cardIndex)?{absTop:n.positionState.absTop,height:n.positionState.height,animationInProgress:t.animation(n,r),visible:!0,isHeightValid:!0,watched:!0,inert:n.positionState.inert}:Object.assign(Object.assign({},n.positionState),{visible:!1,isHeightValid:!0});return y.a.PositionState.eq.equals(n.positionState,i)?n:e.changePosition(i)(n)});return Object.assign(Object.assign({},t),{items:n,isCardsHeightValid:!0})},t),metadata:n})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:n})=>{if(!v.e.hasCards(t))return l.b.left({state:t,metadata:n});const a=v.e.Prism.getLens();return l.b.left({state:a.modify(t=>{const n=v.k.getActiveItem(t),a=t.items.filter(t=>!e.isScheduledToDispose(t)||Object(s.pipe)(n,l.g.exists(e=>e.id===t.id))),r=Object(s.pipe)(t,v.k.getActiveItemIndex(a));return Object.assign(Object.assign({},t),{items:a,cardIndex:r})},t),metadata:n})};const t=e=>t=>Object(s.pipe)(t.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&Object(s.pipe)(t,l.g.forAll(e=>e.id!==n.id)))(e)(v.k.getActiveItem(t))),l.g.map(({value:t,index:n})=>({index:n,value:Object(s.pipe)(t,l.g.fromPredicate(t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t)))})));e.updateItemsPositions=n=>a=>{const r=v.k.getActiveItem(a),i=t(n)(a),o=Object(s.pipe)(i,l.g.chain(d.e.pick("value")),l.g.map(e=>e.positionState.height));let c=0;const u=Object(s.pipe)(r,l.g.forAll(e=>e.positionState.isHeightValid)),p=Object(s.pipe)(i,l.g.map(d.e.pick("index")),l.g.getOrElse(()=>(e=>Object(s.pipe)(e,l.g.map(e=>0===e?1:0),l.g.getOrElse(()=>0)))(a.cardIndex))),m=a.items.map((e,t,r)=>{const i=l.g.contains(r)(a.cardIndex),d=i||r===p,m=n.isScheduledToDispose(e)||(i?e.positionState.isHeightValid:l.g.isSome(o)),g=n.isScheduledToDispose(e)?n.useReferenceHeightOnRemove(e)?Object(s.pipe)(o,l.g.getOrElse(()=>e.positionState.height)):0:i?e.positionState.height:Object(s.pipe)(o,l.g.getOrElse(()=>e.positionState.height)),f={absTop:i||u?c:e.positionState.absTop,height:g,animationInProgress:a.animation(e,r),visible:e.positionState.visible,isHeightValid:m,watched:d,inert:e.positionState.inert};return c+=g,y.a.PositionState.eq.equals(e.positionState,f)?e:n.changePosition(f)(e)}),g=e.calculateCardsHeight(m),f=Object(s.pipe)(r,l.g.forAll(e=>e.positionState.isHeightValid))&&Object(s.pipe)(m.getAt(p),l.g.forAll(e=>e.positionState.isHeightValid));return Object.assign(Object.assign({},a),{items:m,cardsHeight:g,isCardsHeightValid:f})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,a)=>r=>Object(s.pipe)(e,u.a.reduce(r,(e,{alert:t})=>a([t])(e),(e,t,{alert:a})=>n([a])(e),(e,{alert:n})=>t([n])(e))),e.applyWithFilter=(e,t)=>(n,a,r,i)=>{const s=Object(o.flow)(l.a.partition(e),e=>Object(o.flow)(i(e.left),r(e.right)));return t(n,t=>a(t.filter(e)),s,i)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=c.a.create(e=>e.items,(e,n)=>t.setVisibleItems(e)(n)),e.getFeedItems=()=>c.a.create(e=>e.items,(e,n)=>t.setVisibleItems(e)(n))}(a=e.Prism||(e.Prism={})),e.getEq=e=>l.c.fromEquals((t,n)=>{if(t.kind===v.f.abstract||n.kind===v.f.abstract)return t.id===n.id;{const a=t,r=n;return t.id===n.id&&l.g.getEq(e).equals(v.k.getActiveItem(a),v.k.getActiveItem(r))&&a.meta.equals(n.meta)&&a.items.equals(r.items)}}),e.lensHash={hashCode:e=>{if(e.kind===v.f.abstract)return Object(h.b)(e.id);{const t=e;let n=7;return 31*(n=31*(n=31*n+Object(h.b)(e.id))+function(e){return Object(s.pipe)(e,l.g.fold(()=>2433880,e=>null==e?9735524:e.hashCode()<<2))}(v.k.getActiveItem(t)))+e.meta.count}}},function(e){function t(e,t,n){return a=>Object(s.pipe)(l.g.of(a),l.g.filter(e=>!n.isScheduledToDispose(e)&&t(e)),l.g.chain(n.hasActiveAlert),l.g.filter(t=>e.isRegistered(t.alert.id)))}e.getAlertReleaser=e=>({release:t=>n=>{const a=n.items.map(e.removeAlertFromItem([t],n)),r=Object(s.pipe)(n.cardIndex,l.g.chain(t=>Object(s.pipe)(a.findRightFrom(e.isScheduledToDispose,t),l.g.map(e=>e.index))),l.g.isSome)?v.b.skip:v.b.force;return Object.assign(Object.assign({},n),{animation:r,items:a})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const a=Object(s.pipe)(n,e,l.g.map(e=>n.items.add(Object(s.pipe)(e,t.unselect(l.g.none,n.itemsOrd)))),l.g.getOrElse(()=>n.items));return Object.assign(Object.assign({},n),{items:a,animation:v.b.force,cardIndex:l.g.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==v.i.advanced}),e.getSelectableByAlert=(e,t)=>({selectItemByAlert:(n,a)=>r=>{if(!t.willShowChecksFeed(r))return r;const i=e(r),o=r.items.find(t.isSelectableByAlert(n));Object(p.g)(l.g.isSome(o),"Can not find card for provided alert. Unknown card or it is already disposed.",()=>n.alert.toString());const{value:c,index:d}=l.g.unsafeGet(o),u=Object(s.pipe)(i,l.g.map(e=>r.items.add(Object(s.pipe)(e,t.unselect(l.g.some(c),r.itemsOrd)))),l.g.getOrElse(()=>r.items)).add(Object(s.pipe)(c,t.selectByAlert(i,n,r.itemsOrd,a)));return Object.assign(Object.assign({},r),{items:u,animation:v.b.force,cardIndex:l.g.some(d)})}}),e.getSelectableById=(e,t)=>({selectItemById:(n,a)=>r=>{const i=e(r),o=r.items.get(n),{value:c,index:d}=l.g.unsafeGet(o),u=Object(s.pipe)(i,l.g.map(e=>r.items.add(Object(s.pipe)(e,t.unselect(l.g.some(c),r.itemsOrd)))),l.g.getOrElse(()=>r.items)).add(Object(s.pipe)(c,t.select(i,r.itemsOrd,a)));return Object.assign(Object.assign({},r),{items:u,animation:v.b.force,cardIndex:l.g.some(d)})}}),e.getItemReleaser=()=>({removeItemById:t=>n=>e.setVisibleItems(n.items.remove(t))(n)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object.assign(Object.assign({},t),{meta:g.a.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>n=>t.willShowChecksFeed(n)?Object.assign(Object.assign({},n),{items:n.items.map(t.changeVisualState(e))}):n,finishApplyAnimation:n=>a=>{Object(p.g)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const r=a.id,i=e=>{const a=e.items.map(t.removeAlertFromItem(n,e));return Object.assign(Object.assign({},e),{items:a})};if(g.a.isOutcomeId(r))return i(a);switch(r){case g.a.SpecialId.Priority:case g.a.SpecialId.AllAlerts:case g.a.SpecialId.PredictionTakeaways:case g.a.SpecialId.PredictionEmogenie:case g.a.SpecialId.RealTimeProofit:case g.a.SpecialId.FreePremiumAlerts:return i(a);case g.a.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case g.a.SpecialId.Plagiarism:return Object(p.g)(n.every(m.a.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),i(a);default:return Object(p.d)(r)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>Object(s.pipe)(v.k.getActiveItem(t),l.g.exists(t=>e.isScheduledToDispose(t)))||l.g.isNone(t.items.find(t=>!e.isScheduledToDispose(t)))}},e.getHasSelectableAlert=t,e.getHasAlerts=function(e,n,a,o){const c=e=>t(n,a(e),o),u=e=>e.id===g.a.SpecialId.Premium||e.id===g.a.SpecialId.Plagiarism?e.meta.count:Object(s.pipe)(v.k.getActiveItem(e),l.g.chain(o.hasActiveAlert),l.g.map(e=>e.alert),l.g.exists(m.a.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:u,getActiveAlertsCount:u,getActiveAlert:e=>Object(s.pipe)(v.k.getActiveItem(e),l.g.chain(o.hasActiveAlert)),findFirstAlert:e=>Object(s.pipe)(e.items.values(),i.T(c(e))),findNextAlert:t=>(Object(p.g)(l.g.isSome(v.k.getActiveItem(t))===l.g.isSome(t.cardIndex),"Lens is in wrong state"),Object(s.pipe)(Object(r.sequenceT)(l.g.option)(v.k.getActiveItem(t),t.cardIndex),l.g.chain(([n,a])=>Object(s.pipe)(e.nextAlert(n),l.g.alt(()=>e.prevAlert(n)),l.g.map(e=>({alert:e,highlightIndex:0})),l.g.alt(()=>Object(s.pipe)(d.a.lookAroundMap(t.items.values(),a,c(t)),l.g.map(e=>e.value))))),l.g.orElse(Object(s.pipe)(t.items.values(),i.T(c(t))))))}},e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:Object(s.pipe)(v.k.getActiveItem(t),l.g.chain(t=>Object(s.pipe)(e.get(t.id),l.g.map(e=>e.index)))),items:e})}(C=e.Capabilities||(e.Capabilities={}))}(a||(a={}))},XCjp:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a,r,i,o=n("OA+g"),s=n("I7vG"),c=n("lrqh"),l=n("D9EC"),d=n("6fbX"),u=n("dE97"),p=n("GUi3"),m=n("zR/0"),g=n("gy42"),f=n("5o4I"),h=n("BeBM");!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(a||(a={})),function(e){e.Mock=class{constructor(){this.events=new m.a.Subject,this.focusAlertHighlight=()=>c.b.left(new Error("Method not implemented.")),this.highlightAlertHighlight=()=>c.b.left(new Error("Method not implemented.")),this.moveCursorToHighlight=l.e}ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}},e.getHighlightIndex=function(e,t){return Object(s.pipe)(t,c.b.mapLeft(()=>new Error("Mark is collapsed")),c.b.chain(t=>c.b.tryCatchError(()=>{const n=e.getHighlightRanges(),a=n.length>1?n.findIndex(e=>e.start===t.start&&e.end===t.end):0;return Object(d.g)(-1!==a,"Could not find highlight index by Range for provided Alert",()=>JSON.stringify({alertRanges:n,targetRange:t})),a})))}}(r||(r={})),function(e){e.getHighlightSubscribtion=(e,t,n)=>e.pipe(m.a.distinctUntilChanged(c.g.getEq(u.d.ord).equals),m.a.switchMap(e=>Object(s.pipe)(e,c.g.fold(()=>m.a.EMPTY,e=>m.a.Observable.create(()=>(n.debug(`highlight mark: ${e.id}`),Object(s.pipe)(t.highlightAlertHighlight(e),c.b.fold(t=>(n.error(`Cannot highlight mark: ${e.id}`,t),l.e),t=>()=>{n.debug(`unhighlight mark: ${e.id}`),t.dispose()})))))))),e.getHoverAlertHightlightSource=(e,t,n,a)=>Object(s.pipe)(a,m.a.debounceTime(100),m.a.map(Object(o.flow)(c.g.chain(a=>{const r=e.get();return h.e.hasCards(r)?r.currentLens.items.find(e=>Object(s.pipe)(t.hasActiveAlert(e),c.g.map(e=>e.alert),c.g.exists(t=>e.id===a&&n.isRegistered(t.id)))):c.g.none}),c.g.chain(({value:e})=>t.hasActiveAlert(e)),c.g.map(e=>e.alert))),m.a.distinctUntilChanged(c.g.getEq(u.d.ord).equals),m.a.map(c.g.map(t=>({alert:t,highlightIndex:0,source:e.get().alertSource}))),m.a.startWith(c.g.none)),e.highlightMarkByHighlightedCard=(t,n,a,r,i,l)=>{const d=e.getHighlightSubscribtion(t.hovered.pipe(m.a.debounceTime(100),m.a.map(Object(o.flow)(c.g.chain(e=>{const t=n.get();return h.e.hasCards(t)?t.currentLens.items.find(t=>Object(s.pipe)(i.hasActiveAlert(t),c.g.map(e=>e.alert),c.g.exists(n=>t.id===e&&r.isRegistered(n.id)))):c.g.none}),c.g.chain(({value:e})=>i.hasActiveAlert(e)),c.g.map(e=>e.alert)))),a,l);return{id:"highlightMarkByHighlightedAlert",when:p.a.isWithAlertsId,what:h.e.Effect.Applicator.create(d.pipe(m.a.switchMapTo(m.a.NEVER)))}},e.getAlertHighlightSource=e=>t=>Object(s.pipe)(t,m.a.distinctUntilChanged(c.g.getEq(u.d.ord).equals),m.a.map(c.g.map(t=>({alert:t,source:e,highlightIndex:0}))),m.a.startWith(c.g.none)),e.getActiveHighlightSource=(e,t,n)=>e.view(h.e.mapper(({currentLens:e,alertSource:t})=>Object(s.pipe)(n(e),c.g.map(e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))).pipe(m.a.switchMap(g.b.Scheduler.rafScheduler),m.a.skipBy(c.g.getEq(f.a.getEq())),m.a.map(c.g.filter(e=>c.g.isSome(t.getRegistered(e.alert.id))))),e.focusMarkByActiveAlert=(t,n,a,r,i)=>{const o=Object(s.pipe)(e.getActiveHighlightSource(t,a,r),m.a.tap(c.g.tap(e=>i.trace("new alert highlight: ",e))),m.a.switchMap(c.g.fold(()=>(i.debug("Nothing to focus"),m.a.EMPTY),e=>m.a.Observable.create(()=>(i.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}`),e.source===u.b.sidebar&&n.moveCursorToHighlight(e,"start"),Object(s.pipe)(n.focusAlertHighlight(e),c.b.fold(t=>(i.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),l.e),t=>()=>{i.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()})))))));return{id:"focusMarkByActiveAlert",when:p.a.isWithAlertsId,what:h.e.Effect.Applicator.create(o.pipe(m.a.switchMapTo(m.a.NEVER)))}},e.focusAlertByClickedMark=(e,t)=>({id:"focusAlertByActiveMark",when:h.e.Effect.When.isSidebarOpen,what:h.e.Effect.SwitchAlert.create(e.alertClicked.pipe(m.a.skip(1),m.b.compact,m.a.filter(e=>u.a.State.isRegistered(e.alert.state)),m.a.withLatestFrom(t.pipe(m.a.filter(h.e.hasCards)),(e,t)=>e),m.a.map(({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:u.b.text,options:{order:"textOrder"}}))))}),e.createOnAlertApplySideEffect=function(e,t){const n=e.pipe(m.a.map(e=>n=>e.type===a.Type.AppliedAlertAnimationFinished&&n.currentLens.meta.filter(e.alert)&&u.a.isApplicableAlert(e.alert)&&h.e.hasItems(n)?n.patch({currentLens:t.finishApplyAnimation([e.alert])(n.currentLens),alertSource:e.alert.state.source}):n));return{id:"onAlertApply",when:h.e.Effect.When.isSidebarOpen,what:h.e.Effect.Applicator.create(n)}}}(i||(i={}))},XLvf:function(e,t,n){(function(e){var a=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++)n[t[a]]=Object.getOwnPropertyDescriptor(e,t[a]);return n},r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var a=arguments,i=a.length,o=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(a[n++]);case"%d":return Number(a[n++]);case"%j":try{return JSON.stringify(a[n++])}catch(e){return"[Circular]"}default:return e}})),c=a[n];n<i;c=a[++n])f(c)||!C(c)?o+=" "+c:o+=" "+s(c);return o},t.deprecate=function(n,a){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,a).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(a);e.traceDeprecation?console.trace(a):console.error(a),r=!0}return n.apply(this,arguments)}};var i,o={};function s(e,n){var a={seen:[],stylize:l};return arguments.length>=3&&(a.depth=arguments[2]),arguments.length>=4&&(a.colors=arguments[3]),g(n)?a.showHidden=n:n&&t._extend(a,n),y(a.showHidden)&&(a.showHidden=!1),y(a.depth)&&(a.depth=2),y(a.colors)&&(a.colors=!1),y(a.customInspect)&&(a.customInspect=!0),a.colors&&(a.stylize=c),d(a,e,a.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function d(e,n,a){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(a,e);return b(r)||(r=d(e,r,a)),r}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(h(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(f(t))return e.stylize("null","null")}(e,n);if(i)return i;var o=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),w(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(n);if(0===o.length){if(S(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return u(n)}var l,C="",k=!1,A=["{","}"];(m(n)&&(k=!0,A=["[","]"]),S(n))&&(C=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(C=" "+RegExp.prototype.toString.call(n)),O(n)&&(C=" "+Date.prototype.toUTCString.call(n)),w(n)&&(C=" "+u(n)),0!==o.length||k&&0!=n.length?a<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=k?function(e,t,n,a,r){for(var i=[],o=0,s=t.length;o<s;++o)I(t,String(o))?i.push(p(e,t,n,a,String(o),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(p(e,t,n,a,r,!0))})),i}(e,n,a,s,o):o.map((function(t){return p(e,n,a,s,t,k)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,C,A)):A[0]+C+A[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,a,r,i){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),I(a,r)||(o="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=f(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(i&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function m(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function f(e){return null===e}function h(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return C(e)&&"[object RegExp]"===k(e)}function C(e){return"object"==typeof e&&null!==e}function O(e){return C(e)&&"[object Date]"===k(e)}function w(e){return C(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var a=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,a,e)}}else o[n]=function(){};return o[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=g,t.isNull=f,t.isNullOrUndefined=function(e){return null==e},t.isNumber=h,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=C,t.isDate=O,t.isError=w,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("72zh");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=n("qW1w"),t._extend=function(e,t){if(!t||!C(t))return e;for(var n=Object.keys(t),a=n.length;a--;)e[n[a]]=t[n[a]];return e};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t;if("function"!=typeof(t=e[j]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,a=new Promise((function(e,a){t=e,n=a})),r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);r.push((function(e,a){e?n(e):t(a)}));try{e.apply(this,r)}catch(e){n(e)}return a}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,a(e))},t.promisify.custom=j,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],a=0;a<arguments.length;a++)n.push(arguments[a]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return r.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(T,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,a(t)),n}}).call(this,n("F63i"))},XXDN:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return x}));var a=n("ERkP"),r=n("I7vG"),i=n("LNSM"),o=n("9NHN"),s=n("vOOZ"),c=n("zR/0"),l=n("gy42"),d=n("hoSD"),u=n("lrqh"),p=n("6fbX"),m=n("D9EC"),g=n("6lhv"),f=n("9T0W"),h=n("zI3C"),b=n("p7l/"),y=n("xEVj"),v=n("ax6a"),C=n("e12y"),O=n("PnD2");const w={position:"absolute",zIndex:O.level1,display:"flex",flexDirection:"column",margin:`${C.a.rem(.5)} 0`,padding:`${C.a.rem(.5)} 0`,minWidth:C.a.percent(100),borderRadius:C.a.rem(O.radius1),background:v.a.CoreNeutral0,boxShadow:v.b.Z200,opacity:1,transition:"opacity .2s"},S={margin:C.a.rem(.5),height:C.a.px(1),backgroundColor:v.a.CoreNeutral20},k={wrapper:C.a.style({position:"relative"}),list:C.a.style(w),transparent:C.a.style({opacity:0}),hidden:C.a.style({display:"none"}),delimiter:C.a.style(S)};class A extends g.a{}class E extends a.PureComponent{constructor(){super(...arguments),this._uuid=d.f.alphanumeric(12),this._initialState=!1,this._hovered=i.a.create(this._initialState),this._hidden=i.a.create(!this._initialState),this._listPosState=i.a.create({}),this._dropdownEl=null,this._subs=[],this._viewport=i.a.create(d.c.Rect.empty),this._labelRef=a.createRef(),this.hovered=this._hovered.pipe(c.a.pairwise(),c.a.switchMap(([e,t])=>t?c.a.timer(this.props.showDelay).pipe(c.a.mapTo(!0)):e?c.a.timer(void 0===this.props.closeDelay?E.defaultProps.closeDelay:this.props.closeDelay).pipe(c.a.mapTo(!1)):c.a.of(!1)),c.a.merge(E._hoveredForce.pipe(c.a.map(u.g.exists(e=>e===this._uuid)))),c.a.distinctUntilChanged(),c.a.tap(e=>e&&E._hoveredForce.next(u.g.some(this._uuid))),c.a.tap(e=>e&&this._hidden.set(!1)),c.a.share(),c.a.startWith(this._initialState)),this._handleClickForAppearanceHover=e=>{const t=e.target;if(d.c.isDisabled(t)||!0===this.props.dontCloseOnClickInside)return;const n=!d.c.hasParentWithClassName(t,k.list);E._hoveredForce.next(n?u.g.some(this._uuid):u.g.none),this._hovered.set(n)},this._handleMouseEnterForAppearanceHover=()=>{this._hovered.set(!0)},this._handleClickForAppearanceClick=(e,t)=>{t&&!e.isTrusted||this._hovered.modify(e=>!e)},this._handleMouseEnterForAppearanceClick=e=>{const t=e.target;d.c.hasParentWithClassName(t,k.list)&&(E._hoveredForce.next(u.g.some(this._uuid)),this._hovered.set(!0))},this._handleLabelKeyDownForAppearance=e=>{"Enter"!==e.key&&" "!==e.key||(this._hovered.set(!0),e.preventDefault())}}_getHAlign(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":return{right:"50%",marginRight:`-${(this._dropdownEl?this._dropdownEl.offsetWidth:0)/2}px`};default:return Object(p.d)(e)}}_getVAlign(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return Object(p.d)(e)}}calcDropdownPosition(){const e=this.props.align,t=this.props.vAlign;this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(e)),this._getVAlign(t)));const n="auto"===e,a="auto"===t;(n||a)&&requestAnimationFrame(()=>{if(this._dropdownEl){const r=this._viewport.get(),i=this._dropdownEl.getBoundingClientRect();this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(n?r.right<i.right?"right":"left":e)),this._getVAlign(a?r.bottom<i.bottom?"top":"bottom":t)))}})}componentDidMount(){this._subs.push(this.hovered.pipe(c.a.tap(e=>{this.props.onVisibilityChange&&this.props.onVisibilityChange(e)}),c.a.switchMapTo(Object(r.pipe)(u.g.fromNullable(this.props.customPosition),u.g.fold(()=>c.a.of(u.g.none),({top:e,left:t})=>c.a.combineLatestStatic(l.b.toObservable(e),l.b.toObservable(t)).pipe(c.a.map(u.g.some)))))).subscribe(u.g.fold(()=>this.calcDropdownPosition(),([e,t])=>this._listPosState.set({top:e,left:t}))),this.context.pipe(c.a.pluck("rect")).subscribe(l.b.toAtom(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(c.a.switchMap(l.b.orEmptyRight(this.props.forceHide.pipe(c.a.first())))).subscribe(()=>this._hidden.set(!0)))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}componentWillReciveProps(){this.calcDropdownPosition()}mapStateToClass(e,t){const n={start:"",end:""};return t?{prev:n,next:{start:k.transparent,end:""}}:{prev:{start:"",end:k.transparent},next:n}}_behavior(e){return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:t=>this._handleClickForAppearanceClick(t,e),onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:()=>this._hovered.set(this._initialState)}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:()=>this._hovered.set(this._initialState)}}_labelBehavior(){return{onKeyDown:this._handleLabelKeyDownForAppearance}}_attachDropdownElementBehavior(){var e;null===(e=this._dropdownEl)||void 0===e||e.addEventListener("keydown",e=>{var t;"Escape"===e.key&&(this._hovered.set(this._initialState),e.preventDefault(),e.stopPropagation(),(null===(t=this._labelRef.current)||void 0===t?void 0:t.firstChild)&&setTimeout(()=>{var e,t;return null===(t=null===(e=this._labelRef.current)||void 0===e?void 0:e.firstChild)||void 0===t?void 0:t.focus()},0))})}_handleDropdownElementMount(e){this._dropdownEl=e,this._attachDropdownElementBehavior()}render(){const{label:e,theme:t={}}=this.props;return a.createElement(h.a.Context.Consumer,null,n=>a.createElement(f.a.Context.Consumer,null,r=>a.createElement(f.a.Context.Provider,{value:f.a.withValue(r,{hovered:this._hovered})},a.createElement("div",Object.assign({},Object(o.c)(k.wrapper,t.dropdownContainer),this._behavior(n.has(h.a.Flag.onlyTrustedEvents))),a.createElement("div",Object.assign({},this._labelBehavior(),{ref:this._labelRef}),e),a.createElement(A,{state:this.hovered,stateToClassMapper:this.mapStateToClass},e=>e.state?a.createElement(s.a.div,null,this._hidden.view(n=>a.createElement(x,Object.assign({key:"list",name:this.props.name,onTransitionEnd:"prev"===e.type?()=>this._hidden.set(!0):m.e},Object(o.c)(t.dropdownList,e.view),{mount:this._handleDropdownElementMount.bind(this),style:this._listPosState,hidden:n}),this.props.children))):null)))))}}E.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},E.Delimiter=()=>a.createElement("div",{className:k.delimiter}),E._hoveredForce=new c.a.Subject,E.contextType=b.a.Context;const x=e=>{const{ref:t,onMount:n}=y.a.useElWatcher();return y.a.useFocusTrap(t),a.createElement(f.a.Context.Consumer,null,t=>{const r=f.a.emptyWithName(`${void 0!==t.name?`${t.name}/`:""}dropdown-${e.name}`);return a.createElement(f.a.Context.Provider,{value:r},a.createElement(s.a.div,Object.assign({},Object(o.c)(e.className,!0===e.hidden?k.hidden:k.list),{style:e.style,mount:t=>{n(t),void 0!==e.mount&&e.mount(t)},"data-role":"dropdown-list","data-name":"dropdown-"+e.name,onTransitionEnd:e.onTransitionEnd}),e.children))})}},"Xo/A":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5W6"),i=n("BbAu"),o=n("I7vG"),s=n("PK5a"),c=n("7b34"),l=n("lrqh"),d=n("6fbX"),u=n("v0pb");!function(e){function t(e,t){return n=>n.order.reduce((e,a)=>(Object(d.g)(n.entries.has(a),"got corrupted state"),t(e,n.entries.get(a))),e)}function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const a=new Map,r=c.a.fromMutation(r=>{n.forEach((e,t)=>{r.set(t,l.m.left(e))}),e.forEach((e,t)=>{r.has(t)?a.set(t,`alert add overlaps with alert remove: toAdd(${u.a.show.show(e)} overlapWith(${l.m.getShow(u.a.show,u.a.show).show(r.get(t))}))`):r.set(t,l.m.right(e))}),t.forEach(([e,t],n)=>{r.has(n)?a.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${u.a.show.show(t)}) overlapWith(${l.m.getShow(u.a.show,u.a.show).show(r.get(n))}))`):r.set(n,l.m.both(e,t))})});return a.size>0?l.b.left({recovered:r,rejected:a}):l.b.right(r)}e.iso=s.iso(),e.empty={entries:new Map,order:[],latestChangeDiff:c.a.empty(),diffVersion:0},e.get=function(e){return t=>l.g.fromNullable(t.entries.get(e))},e.find=function(e){return t(l.g.none,(t,n)=>Object(o.pipe)(t,l.g.alt(()=>l.g.fromPredicate(e)(n))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?l.b.unsafeGet(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:l.e.symmetricDiff(u.a.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=l.e.leftToRight(l.e.Merger.createStrict(u.a.ordShow),t.entries,e);return Object(o.pipe)(n,l.b.bimap(n=>{const a=c.a.fromMutation(t=>{Object(o.pipe)(e,c.a.forEach((e,a)=>!n.rejected.has(a)&&t.set(a,l.m.left(e)),(e,a,r)=>!n.rejected.has(r)&&t.set(r,l.m.both(e,a)),(e,a)=>!n.rejected.has(a)&&t.set(a,l.m.right(e))))});return{recovered:m(n.recovered,a,t.diffVersion),rejected:n.rejected}},n=>m(n,e,t.diffVersion)))}},e.applyDiffLoose=function(e){return t=>{const n=l.e.leftToRight(l.e.Merger.createLoose(u.a.ordShow),t.entries,e);return Object(o.pipe)(n,l.b.bimap(n=>({recovered:m(n.recovered,e,t.diffVersion),rejected:n.rejected}),n=>m(n,e,t.diffVersion)))}},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:c.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}},e.diffEqShow=Object.assign(Object.assign({},c.a.getEq(u.a.Id.ord,u.a.ord)),c.a.getShow(u.a.Id.show,u.a.show));const a=Object.assign(Object.assign({},l.e.getEq(u.a.Id.ord,u.a.ord)),l.e.getShow(u.a.Id.show,u.a.show)),p=Object.assign(Object.assign({},r.getEq(u.a.Id.ord)),r.getShow(u.a.Id.show));function m(e,t,n){return{entries:e,order:Object(o.pipe)(e,l.e.values(u.a.ord),r.map(e=>e.id)),latestChangeDiff:t,diffVersion:n+1}}e.contentEqShow=Object.assign(Object.assign({},l.c.getStructEq({entries:a,order:p,latestChangeDiff:l.c.eqEmpty,diffVersion:l.c.eqEmpty})),i.a({entries:a,order:p,latestChangeDiff:e.diffEqShow,diffVersion:i.d})),e.eqShow=Object.assign(Object.assign({},l.c.getStructEq({entries:a,order:p,latestChangeDiff:e.diffEqShow,diffVersion:l.c.eqNumber})),i.a({entries:a,order:p,latestChangeDiff:e.diffEqShow,diffVersion:i.d}))}(a||(a={}))},Z2Lj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={};n.r(a),n.d(a,"fontsProvider",(function(){return s}));var r=n("ERkP"),i=n("9NHN"),o=n("e12y");function s(e,t={withPreload:!0}){return a=>(r.useLayoutEffect(()=>{n("Dbx/")},[]),r.createElement(r.Fragment,null,t.withPreload?r.createElement(c,{fontStyles:Object.assign({},l)}):null,r.createElement(e,Object.assign({},a,Object(i.c)(a.className,Boolean(t.customFontStyle)?t.customFontStyle:l.wrapper)))))}const c=({fontStyles:e})=>r.createElement("div",{className:e.fontsPreload},r.createElement("span",{className:e.italicBold}),r.createElement("span",{className:e.italicRegular}),r.createElement("span",{className:e.italicLight}),r.createElement("span",{className:e.normalBold}),r.createElement("span",{className:e.normalRegular}),r.createElement("span",{className:e.normalLight})),l=o.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Inter'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]})},Z5Rd:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return E}));var a=n("ERkP"),r=n("9NHN"),i=n("6fbX"),o=n("ax6a"),s=n("e12y"),c=n("WIwS"),l=n("ps/9"),d=n("bO3R"),u=n("3rlE"),p=n("BugA"),m=n("P+uJ");const g={position:"relative",width:s.a.percent(100)},f={position:"relative",margin:`0 0 ${s.a.rem(.5)}`},h={display:"flex",boxSizing:"border-box",padding:`${s.a.rem(1)} ${s.a.rem(2)} ${s.a.rem(1)} ${s.a.rem(.75)}`,width:s.a.percent(100),borderRadius:s.a.rem(l.t),background:o.a.BackgroundNotification,color:o.a.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},b={width:s.a.percent(100)},y={display:"inline-block",width:s.a.percent(100)},v={margin:`${s.a.rem(-.5)} ${s.a.rem(.75)} ${s.a.rem(-.5)} 0`},C={position:"absolute",top:0,right:0,marginTop:s.a.rem(.5),marginRight:s.a.rem(.4),marginLeft:s.a.rem(.5)},O={stroke:c.i},w={margin:`0 0 ${s.a.rem(.5)}`,color:o.a.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:s.a.rem(o.h.BodySize),lineHeight:s.a.rem(1.25)},S={marginTop:s.a.rem(-.1),marginBottom:s.a.rem(-.25),color:o.a.CoreNeutral0,fontSize:s.a.rem(o.h.BodySize),lineHeight:s.a.rem(1.25)},k=s.a.prefixedStylesheet("notifications",{wrapper:[g],notification:[f],flexibleNotification:[f,{display:"flex",width:"auto"}],contentWrapper:[h],miniContentWrapper:[h,{position:"relative",width:"auto"}],fullWidthNotification:[f,h,b],content:[y],miniContent:[{flex:1}],alertIcon:[v],closeIconWrapper:[C],closeIcon:[O],header:[w],description:[S]});var A,E;!function(e){e.Wrapper=({notification:t,onClose:r,children:i,theme:o={}})=>{a.useEffect(()=>t.actions.next("shown"),[t.actions]);const s={wrapper:Boolean(o.wrapper)?o.wrapper:n.wrapper,content:void 0!==o.content?Object.assign({},n.content,o.content):n.content};return a.createElement("div",{className:s.wrapper},a.createElement(e.Base,{metadata:t.metadata,onClose:r,theme:s.content},i))},e.Base=({metadata:n,onClose:r,theme:i,children:o})=>a.createElement("div",{className:i.wrapper},t(n,i.icon),a.createElement("div",{className:i.content},o),!function(e){return e.priority===m.a.Priority.high||e.priority===m.a.Priority.highest}(n)&&a.createElement(e.CloseButton,{onClick:r,className:i.close}));const t=(t,n)=>{switch(t.icon){case m.a.Icon.sparkles:return a.createElement(u.d.Sparkles,{className:n});case void 0:case m.a.Icon.priority:return a.createElement(e.PriorityIcon,{priority:t.priority,className:n});default:return Object(i.d)(t.icon)}};e.AdHoc=({title:t,children:i,className:o,onClose:s})=>a.createElement("div",Object.assign({},Object(r.c)(n.content.wrapper,o)),a.createElement("div",{className:n.content.content},a.createElement(e.TitledContent,{title:t},i)),a.createElement(e.CloseButton,{onClick:s,className:n.content.close})),e.PriorityIcon=({priority:e,className:t})=>{switch(e){case m.a.Priority.lowest:case m.a.Priority.low:return a.createElement(u.d.NotificationInfo,{className:t});case m.a.Priority.average:return a.createElement(u.d.NotificationWarning,{className:t});case m.a.Priority.high:case m.a.Priority.highest:return a.createElement(u.d.NotificationError,{className:t});default:return Object(i.d)(e)}},e.CloseButton=({onClick:e,className:t})=>a.createElement(d.a,{name:"closeNotification",className:t,onClick:e},a.createElement(u.d.Close,{className:k.closeIcon,width:12})),e.TitledContent=({title:t,children:n})=>Boolean(n)?a.createElement(a.Fragment,null,a.createElement(p.i,{className:k.header},t),a.createElement(e.Content,null,n)):a.createElement(p.i,{className:k.description},t),e.Content=({children:e})=>a.createElement(p.a,{className:k.description},e);const n={wrapper:k.wrapper,content:{wrapper:k.fullWidthNotification,icon:k.alertIcon,content:k.content,close:k.closeIconWrapper}}}(A||(A={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(a.useEffect(()=>e.actions.next("shown"),[e.actions]),a.createElement("div",{className:k.flexibleNotification},a.createElement(A.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:k.miniContentWrapper,icon:k.alertIcon,content:k.miniContent,close:k.closeIconWrapper}},n)))}(E||(E={}))},ZEPo:function(e,t,n){e.exports=n.p+"files/da83100fc42a3c359ae8e3038a4a5e90/inter-regular.woff"},bFfh:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,r=n("WOQ9"),i=n("GUi3"),o=n("BeBM");!function(e){let t;e.create=function(e,n){return Boolean(t)||(t={id:i.a.SpecialId.Closed,kind:o.f.abstract,type:o.i.closed,meta:i.a.createStaticLens({id:i.a.SpecialId.Closed,title:"Closed"},i.a.Meta.group.empty,e),hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(n).equals(this,e)}}),t}}(a||(a={}));var s,c,l=n("OA+g"),d=n("lrqh"),u=n("kFFO");(c=s||(s={})).create=()=>({id:i.a.SpecialId.DraftAI,type:o.i.draftAI,kind:o.f.abstract,meta:i.a.createStaticLens({id:i.a.SpecialId.DraftAI,title:"Draft AI"},i.a.Meta.group.empty,l.constFalse),transitionSource:d.g.none,hashCode(){return Object(u.b)(this.id)},equals(e){return this.id===e.id}}),c.createFromTransitionSource=e=>Object.assign(Object.assign({},c.create()),{transitionSource:d.g.some(e)});var p,m,g,f=n("m6JR"),h=n("I7vG"),b=n("6fbX"),y=n("hoSD"),v=n("dE97"),C=n("aIes"),O=n("UEGg");!function(e){function t(e){return C.a.groupBy("cardId",e)}e.create=function(e,t,n){Object(b.g)(e.id===i.a.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const a=C.a.Sorted.empty(e=>e.id,n.compare),s=d.g.none;return{id:i.a.SpecialId.Plagiarism,kind:o.f.persistent,type:o.i.plagiarism,meta:e,cardIndex:s,items:a,itemsOrd:n,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(t).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===i.a.SpecialId.Plagiarism?Object.assign(Object.assign({},t),{items:t.items.map(t=>O.a.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(O.a.isPlagiarism)):t)}):t},e.add=e=>n=>a=>{const r=t(n),i=Array.from(r.entries()).reduce((t,[n,a])=>Object(h.pipe)(t.update(n,t=>e.addPlagiarismAlerts(t,a)),d.b.fold(()=>t.add(e.createAdded(n,a)),l.identity)),a.items),s=Object(h.pipe)(o.k.getActiveItem(a),d.g.map(({id:e})=>d.g.unsafeGet(i.get(e)).index)),c=d.g.getEq(f.eqNumber).equals(s,a.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},a),{cardIndex:s,items:i,animation:c})},e.remove=e=>n=>a=>{const r=t(n),i=o.k.getActiveItem(a),s=Array.from(r.entries()).reduce((t,[n,r])=>Object(h.pipe)(t.update(n,t=>{const n=Object(h.pipe)(e.remove(t,r,Object(h.pipe)(i,d.g.map(e=>a.itemsOrd.compare(t,e)>0),d.g.getOrElse(l.constTrue))),t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(O.a.isPlagiarism)));return Object(h.pipe)(i,d.g.exists(e=>e.id===n.id))?e.selectNextAlert(n,a.itemsOrd):n}),d.b.fold(()=>t,l.identity)),a.items);return Object.assign(Object.assign({},a),{items:s,animation:o.b.force})},e.update=t=>n=>a=>e.updateWithAlerts(t)(n.filter(Object(l.not)(t.shouldAnimateAlertApply)))(a),e.updateWithAlerts=n=>a=>r=>{const[i,s]=y.a.partition(a,v.a.isRegistered),c=t(i),u=Array.from(c.entries()).reduce((e,[t,a])=>Object(h.pipe)(e.update(t,e=>n.changePlagiarismMetaWithAlerts(e,e.alerts.filter(O.a.isPlagiarism))),d.b.fold(()=>e.add(n.createAdded(t,a)),l.identity)),e.remove(n)(s)(r).items),p=Object(h.pipe)(o.k.getActiveItem(r),d.g.map(({id:e})=>Object(h.pipe)(u.get(e),d.g.map(({index:e})=>e),d.g.getOrElse(()=>0))));return Object.assign(Object.assign({},r),{cardIndex:p,items:u,animation:o.b.proceed})},e.getAlertsHandler=function(t){return n=>r.a.ApplyDiff.apply(n,e.add(t),e.update(t),e.remove(t))}}(p||(p={})),(g=m||(m={})).create=function(e,t,n){const a=C.a.Sorted.empty(e=>e.id,n.compare);return{id:i.a.SpecialId.Premium,kind:o.f.active,type:o.i.advanced,meta:e,items:a,itemsOrd:n,cardIndex:d.g.none,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(t).equals(this,e)}}},g.getAlertsHandler=function(e,t){return n=>r.a.ApplyDiff.apply(n,g.add(e),g.update(e,t),g.remove(t))},g.add=e=>t=>n=>{const a=t.map(e.createFromAlert(n.id)),r=n.items.add(a),i=o.k.getActiveItemIndex(r)(n);return Object.assign(Object.assign({},n),{cardIndex:i,items:r,animation:o.b.proceed})},g.remove=e=>t=>n=>{const a=new Set(t.map(e=>e.id)),r=n.items.filter(Object(l.flow)(e.hasActiveAlert,d.g.map(e=>e.alert),d.g.exists(e=>a.has(e.id)))).reduce((e,t)=>e.remove(t.id),n.items),i=o.k.getActiveItemIndex(r)(n);return Object.assign(Object.assign({},n),{cardIndex:i,items:r})},g.update=(e,t)=>n=>a=>{const[r,i]=y.a.partition(n,v.a.isRegistered);return Object(l.pipe)(a,g.remove(t)(i),g.add(e)(r))};var w,S=n("93Qa"),k=n("a5W6"),A=n("D9EC"),E=n("IVzZ");!function(e){const t=v.d.ord;function n(e){return e.id}function a(e){const t=e.map(e=>[E.a.getAlertOutcomeBundle(e),e]);return C.a.groupBy(([e,t])=>n(e),t)}e.getCardId=n,e.initCardsHash=function(e,n,r,i,o){Object(b.g)(Object(h.pipe)(r,d.g.forAll(({alertIndex:e})=>void 0!==n[e])),"Can not find alert for provided alertIndex");const s=a(n),c=Object(h.pipe)(r,d.g.map(({alertIndex:e})=>(Object(b.g)(void 0!==n[e],"Can not find alert for provided alertIndex"),n[e])));let l=d.g.none;const u=C.a.Sorted.empty(E.a.getId,o.compare),p=Array.from(s.entries()).reduce((n,[a,r])=>{const o=r.map(([e,t])=>t),s=r[0][0];return Object(h.pipe)(c,d.g.map(e=>o.indexOf(e)),d.g.filter(e=>e>-1),d.g.fold(()=>n.add(i.createRendered(e)(a,s,o,t)),r=>{const c=i.createFocused(e)(a,s,o,r,t);return l=d.g.some(a),n.add(c)}))},u);return{cardIndex:Object(h.pipe)(l,d.g.chain(e=>Object(h.pipe)(p.get(e),d.g.map(e=>e.index)))),cards:p}},e.create=function(e,t,n,a){const i=C.a.Sorted.empty(E.a.getId,a.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,meta:t,withPriorityList:!1,cardIndex:s,items:i,itemsOrd:a,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(n).equals(this,e)}}},e.add=(e,n)=>r=>i=>{if(0===r.length)return i;const s=a(r),c=Array.from(s.entries()).reduce((a,[r,o])=>{const s=o.map(([e,t])=>t),c=o[0][0];return Object(h.pipe)(a.update(r,e=>n.updateWithAlerts(s)(e)),d.b.fold(()=>a.add(e.createAdded(i.id)(r,c,s,t)),l.identity))},i.items),u=Object(h.pipe)(i,o.k.getActiveItemIndex(c)),p=d.g.getEq(f.eqNumber).equals(u,i.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},i),{cardIndex:u,items:c,animation:p})},e.remove=e=>t=>n=>{const r=a(t),i=Array.from(r.entries()).reduce((t,[a,r])=>Object(h.pipe)(t.update(a,t=>e.removeAlertFromItem(r.map(([e,t])=>t),n)(t)),d.b.fold(()=>t,l.identity)),n.items),s=Object(h.pipe)(n,o.k.getActiveItemIndex(i));return Object.assign(Object.assign({},n),{cardIndex:s,items:i,animation:o.b.force})},e.update=(t,n,a)=>r=>i=>e.updateWithAlerts(t,a)(r.filter(Object(A.m)(n.shouldAnimateAlertApply)))(i),e.updateWithAlerts=(n,i)=>s=>c=>{if(0===s.length)return c;const{left:u,right:p}=Object(h.pipe)(s,r.a.filterAlertInLens(c,i),k.partition(v.a.isRegistered)),m=a(p),g=Array.from(m.entries()).reduce((e,[a,r])=>{const o=r.map(([e,t])=>t),s=r[0][0];return Object(h.pipe)(e.update(a,e=>i.updateWithAlerts(o)(e)),d.b.fold(()=>e.add(n.createAdded(c.id)(a,s,o,t)),l.identity))},e.remove(i)(u)(c).items),f=Object(h.pipe)(c,o.k.getActiveItemIndex(g));return Object.assign(Object.assign({},c),{cardIndex:f,items:g,animation:o.b.proceed})},e.getAlertsHandler=function(t,n,a){return(i,o)=>s=>{const c=r.a.ApplyDiff.applyWithFilter(o,r.a.ApplyDiff.apply);return Object(h.pipe)(s,c(i,e.add(t,a),e.update(t,n,a),e.remove(a)))}},e.getHasAlerts=function(e,t,n,a){const i=r.a.Capabilities.getHasAlerts(e,t,n,a),s=e=>r.a.Capabilities.getHasSelectableAlert(t,n(e),a);return Object.assign(Object.assign({},i),{findNextAlert:t=>Object(h.pipe)(Object(S.sequenceT)(d.g.option)(o.k.getActiveItem(t),t.cardIndex),d.g.chain(([n,a])=>Object(h.pipe)(e.nextAlert(n),d.g.alt(()=>e.prevAlert(n)),d.g.alt(()=>Object(h.pipe)(y.a.findIndexFromMap(t.items.values(),a+1,s(t)),d.g.alt(()=>y.a.findIndexFromMap(t.items.values(),0,s(t))),d.g.chain(e=>Object(h.pipe)(t.items.getAt(e.index),d.g.map(e=>e.alerts[0]))))))),d.g.map(e=>({alert:e,highlightIndex:0})))})}}(w||(w={}));var x,I,j,T,N=n("GRZr"),L=n("uqkn"),P=n("TC4P"),B=n("W39u"),F=n("AK7F");!function(e){let t;function n(e,t){return`${e.id}_${t.id}`}e.isInSuccess=function(e,t=l.constTrue){return n=>0===n.meta.count&&(0===n.items.filter(t).size||d.g.isNone(n.items.filter(t).find(t=>!e.isScheduledToDispose(t))))},function(t){function n(t){return n=>o.e.hasSuccess(n)&&o.e.hasItems(n)&&e.isInSuccess(t)(n.currentLens)}t.isInSuccess=n,t.isInGlobalSuccess=e=>t=>(o.e.is(i.a.SpecialId.AllAlerts)(t)||o.e.is(i.a.SpecialId.Priority)(t))&&n(e)(t)}(t=e.State||(e.State={})),e.getCardId=n,e.create=function(e,t,n,a){const i=C.a.Sorted.empty(L.a.getId,a.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,withPriorityList:!1,meta:t,cardIndex:s,items:i,itemsOrd:a,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(n).equals(this,e)}}},e.add=(e,t,a)=>i=>s=>{const c=i.map(i=>{const o=t.createAdded(s.id)(n(s.meta,i),i);return e(s,i)?o:r.a.Items.hideItem(o,a)}),l=s.items.add(c),u=o.k.getActiveItemIndex(l)(s),p=d.g.getEq(f.eqNumber).equals(u,s.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},s),{cardIndex:u,items:l,animation:p})},e.remove=e=>t=>n=>{const a=new Set(t.map(e=>e.id)),r=n.items.map(e.remove(Object(l.flow)(e.hasActiveAlert,d.g.map(e=>e.alert),d.g.fold(l.constFalse,e=>a.has(e.id))),e=>Object(h.pipe)(o.k.getActiveItem(n),d.g.map(t=>n.itemsOrd.compare(e,t)>0),d.g.getOrElse(l.constTrue)))),i=Object(h.pipe)(n.cardIndex,d.g.chain(t=>Object(h.pipe)(r.findRightFrom(t=>e.isScheduledToDispose(t),t),d.g.map(e=>e.index))),d.g.isSome)?o.b.skip:o.b.force,s=Object(h.pipe)(n,o.k.getActiveItemIndex(r));return Object.assign(Object.assign({},n),{cardIndex:s,items:r,animation:i})},e.update=(t,n,a)=>r=>i=>e.updateWithAlerts(n,t,a)(r.filter(Object(A.m)(n.shouldAnimateAlertApply)))(i),e.updateWithAlerts=(e,t,a)=>i=>s=>{if(0===i.length)return s;const c=Object(h.pipe)(i,r.a.filterAlertInLens(s,a),k.map(e=>[n(s.meta,e),e]),k.reduce(s.items,(n,[i,o])=>Object(h.pipe)(n.update(i,a.updateWithAlerts([o])),d.b.fold(()=>{const c=e.createAdded(s.id)(i,o);return n.add(t(s,o)?c:r.a.Items.hideItem(c,a))},l.identity)))),u=o.k.getActiveItemIndex(c)(s);return Object.assign(Object.assign({},s),{cardIndex:u,items:c,animation:o.b.proceed})},e.getAlertHandler=function(t,n,a=l.constTrue){return(i,o)=>{const s=r.a.ApplyDiff.applyWithFilter(o,r.a.ApplyDiff.apply);return r=>Object(h.pipe)(r,s(i,e.add(a,t,n),e.update(a,t,n),e.remove(n)))}}}(x||(x={})),function(e){function t(e,t){return Object(h.pipe)(o.k.getActiveItem(e),d.g.chain(t.hasActiveAlert),d.g.map(e=>!O.a.isPriority(e.alert)),d.g.getOrElse(()=>!1))}function n(e){return Object(h.pipe)(e.items.get(F.a.id),d.g.map(({value:e})=>F.a.isPriorityToggle(e)&&F.a.isExpanded(e)),d.g.getOrElse(()=>!1))}function a(e,t,n){return 0!==e.meta.count&&0===e.meta.priorityCount&&0===e.items.filter(Object(A.b)(t,e=>!n.isScheduledToDispose(e))).size}let s;function c(e,t){return r=>o.e.hasSuccess(r)&&x.isInSuccess(t)(r.currentLens)||o.e.isWithPriorityList(r)&&(x.isInSuccess(t,Object(A.m)(F.a.isPriorityItem))(r.currentLens)||a(r.currentLens,e,t)&&!n(r.currentLens))}e.ord=Object(N.fold)(d.h.getMonoid())([Object(h.pipe)(d.h.ordBoolean,d.h.contramap(F.b.isPriorityToggleHint)),Object(h.pipe)(d.h.ordBoolean,d.h.contramap(F.a.isPriorityToggle)),L.a.ord]),e.create=function(e,t,n,a){const i=C.a.Sorted.empty(L.a.getId,a.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,itemsOrd:a,meta:t,cardIndex:s,items:i,animation:o.b.skip,withPriorityList:!0,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(n).equals(this,e)}}},e.getHasPriorityToggle=function(e){return{toggleNonPriorityList:a=>r=>{const i=n(r);if("collapsed"===a&&!i||"expanded"===a&&i)return r;const s=t(r,e),c=p(r.items,!i,!i&&s,e);return Object.assign(Object.assign({},r),{items:c,cardIndex:s&&i?d.g.none:r.cardIndex,animation:o.b.proceed})}}},e.focusedCardIsNonPriority=t,e.isNonPriorityListOpened=n,e.onlyNonPriorityAlertsLeft=a,e.nonPriorityAlertsVisible=function(e){return!o.e.isWithPriorityList(e)||n(e.currentLens)},function(e){e.fromLensState=e=>t=>e.currentLens.id!==t||o.e.isWithPriorityList(e)&&!n(e.currentLens)?o.h.priorityAlertsOnly:o.h.allAlerts}(s=e.LensViewMode||(e.LensViewMode={})),e.isInSuccess=c,e.isInGlobalSuccess=function(e,t){return n=>(o.e.is(i.a.SpecialId.AllAlerts)(n)||o.e.is(i.a.SpecialId.Priority)(n))&&c(e,t)(n)},e.getSyncVisibleCardsHandler=function(e){return a=>{if(!i.a.isWithSuccessId(a.id))return a;let r=u(a.items);const s=t(a,e);r=p(r,n(a)||s,s,e);const c=o.k.getActiveItemIndex(r)(a);return Object.assign(Object.assign({},a),{cardIndex:c,items:r,animation:o.b.proceed})}};const l=e=>Object.assign(Object.assign({},e),{transitionTo:t=>n=>P.a.isAnimatable(n)&&n.visualState.transition.type!==t.type?e.transitionTo(t)(n):n});function u(e){return e.has(F.a.id)||0===e.size?e:e=(e=e.add(F.a.create("expanded",B.a.PositionState.empty))).add(F.b.create("visible",B.a.PositionState.empty))}function p(e,t,n,a){const i=l(a),o=0===e.filter(e=>!a.isScheduledToDispose(e)&&Object(h.pipe)(a.hasActiveAlert(e),d.g.map(e=>e.alert),d.g.exists(Object(A.m)(O.a.isPriority)))).size;return e.map(e=>Object(h.pipe)(a.hasActiveAlert(e),d.g.fold(()=>F.a.isPriorityItem(e)?o?F.a.isPriorityToggle(e)?F.a.transitionTo(e,"hidden"):F.b.transitionTo(e,"hidden"):F.a.isPriorityToggle(e)?t||n?F.a.transitionTo(e,"expanded"):F.a.transitionTo(e,"collapsed"):t||n?F.b.transitionTo(e,"visible"):F.b.transitionTo(e,"hidden"):e,n=>t||O.a.isPriority(n.alert)?P.a.isAnimatable(e)&&P.a.isHidden(e)?i.transitionTo({type:"rendered",clockwise:!0})(e):e:r.a.Items.hideItem(e,a))))}e.isAlertVisible=function(e,t){return"priority"===t.view||n(e)},e.ensureExpandCardIsPresent=u,e.syncVisibleCards=p,e.getHasAlerts=function(e,t,i,s,c){const l=r.a.Capabilities.getHasAlerts(e,t,e=>n(e)&&a(e,s,c)?i(e):t=>i(e)(t)&&Object(h.pipe)(c.hasActiveAlert(t),d.g.map(e=>e.alert),d.g.exists(O.a.isPriority)),c);return Object.assign(Object.assign({},l),{getVisibleAlertsCount:e=>Object(h.pipe)(o.k.getActiveItem(e),d.g.chain(c.hasActiveAlert),d.g.map(e=>e.alert),d.g.exists(v.a.isCapiDone))&&1===e.items.size?0:n(e)?e.meta.count:e.meta.priorityCount})}}(I||(I={})),(T=j||(j={})).Prism=r.a.Prism,T.Items=r.a.Items,T.Capabilities=r.a.Capabilities,T.ApplyDiff=r.a.ApplyDiff,T.filterAlertInLens=r.a.filterAlertInLens,T.lensHash=r.a.lensHash,T.getEq=r.a.getEq,T.Closed=a,T.DraftAI=s,T.Plagiarism=p,T.Premium=m,T.WithBundles=w,T.WithPriority=I,T.WithSuccess=x},bYZB:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d}));var a,r,i,o,s,c,l,d,u=n("m6JR"),p=n("hoSD"),m=n("6fbX"),g=n("D9EC"),f=n("+JVj");!function(e){var t;!function(t){var n;!function(e){e.user="user",e.api="api",e.doubleClick="doubleClick"}(n=t.Source||(t.Source={})),t.eq=Object(u.fromEquals)((function(t,a){return t.source===a.source&&(t.source===n.doubleClick&&a.source===n.doubleClick?t.selectedWord===a.selectedWord:e.eqFormatting.equals(t.formatting,a.formatting))}))}(t=e.Meta||(e.Meta={})),e.nonEmpty=function(e){return e.length>0},e.isEmpty=function(e){return 0===e.length},e.toTextRange=function(e){return f.b.create(e.index,e.index+e.length)},e.isUserSelection=function(e){return e.meta.source===t.Source.user},e.isApiSelection=function(e){return e.meta.source===t.Source.api},e.isDoubleClickSelection=function(e){return e.meta.source===t.Source.doubleClick},e.eqRange=Object(u.fromEquals)((function(e,t){return e.index===t.index&&e.length===t.length})),e.eqFormatting=Object(u.fromEquals)(p.e.deepEqual),e.eq=Object(u.fromEquals)((function(t,n){return e.eqRange.equals(t,n)&&e.Meta.eq.equals(t.meta,n.meta)})),e.empty={index:0,length:0,meta:{source:e.Meta.Source.user,formatting:{}}}}(a||(a={})),function(e){e.DenaliOtherDocSession="denaliOtherDocSession",e.DenaliSameDocSession="denaliSameDocSession",e.MSOutlook="outlook",e.MSWord="word",e.MSWordOnline="wordOnline",e.MSExcel="excel",e.MSOffice="msoffice",e.ProbablyMSOutlookOnline="probablyMSOutlookOnline",e.GDocs="gdocs",e.GSheets="gsheets",e.ProbablyGMail="probablyGmail",e.CocoaHTMLWriter="cocoaHTMLWriter",e.DropboxPaper="dropbox_paper",e.PlainText="plainText",e.Unknown="unknown",e.Synthetic="synthetic"}(r||(r={})),function(e){e.empty={top:0,bottom:0}}(i||(i={})),function(e){!function(e){e.top="top",e.middle="middle",e.bottom="bottom"}(e.Y||(e.Y={})),function(e){e.left="left",e.middle="middle",e.right="right"}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(n){switch(n){case e.X.left:return t.left;case e.X.middle:return t.left+t.width/2;case e.X.right:return t.right;default:return Object(m.d)(n)}}}}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(n){switch(n){case e.Y.top:return t.top;case e.Y.middle:return t.top+t.height/2;case e.Y.bottom:return t.bottom;default:return Object(m.d)(n)}}}}(e.Y||(e.Y={}))}(o||(o={})),function(e){var t;!function(e){e.textMaybeWithFormatting="text",e.onlyFormatting="formatting"}(t=e.Type||(e.Type={})),e.isTextMaybeWithFormatting=function(e){return e.type===t.textMaybeWithFormatting},e.isOnlyFormatting=function(e){return e.type===t.onlyFormatting}}(s||(s={})),function(e){e.none="none",e.fast="fast",e.initial="initial",e.fake="fake"}(c||(c={})),function(e){var t;!function(e){e.bold="bold",e.italic="italic",e.underline="underline",e.strike="strike",e.header1="header1",e.header2="header2",e.bulletList="bulletList",e.dashedList="dashedList",e.orderedList="orderedList",e.link="link"}(t=e.Type||(e.Type={})),e.is=function(e){return Object(g.v)(t,e)},e.asList=Object.values(e.Type),function(e){e.is=function(e){return void 0!==e[t.link]}}(e.LinkPayload||(e.LinkPayload={}))}(l||(l={})),function(e){e.undo="undo",e.redo="redo",e.cut="cut",e.copy="copy",e.paste="paste",e.selectAll="selectAll"}(d||(d={}))},"c/4S":function(e,t,n){e.exports=n.p+"files/55c843b0b146c9d1db049e4751172fe1/inter-regular.woff2"},cVtq:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"c",(function(){return X})),n.d(t,"b",(function(){return K})),n.d(t,"e",(function(){return Q})),n.d(t,"f",(function(){return te})),n.d(t,"d",(function(){return ne})),n.d(t,"g",(function(){return ae}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("9NHN"),s=n("LNSM"),c=n("vOOZ"),l=n("hoSD"),d=n("6fbX"),u=n("D9EC"),p=n("lrqh"),m=n("rk+4"),g=n("lRnN"),f=n("wOnQ"),h=n("XxrX"),b=n("N19O"),y=n("9/oM"),v=n("bO3R"),C=n("wJHk"),O=n("3rlE"),w=n("wsrD"),S=n("BugA"),k=n("zR/0"),A=n("BT8e"),E=n("StFb");const x=e=>e?A.a:A.b,I=({transform:e,title:t,disabled:n,boldifier:r=F,classes:i,onClick:o})=>a.createElement(v.a,{animationMode:C.a.FromClickPoint,name:"apply-insert",onClick:o,title:t,disabled:n,className:i.itemInsert},e.map((e,t)=>a.createElement(a.Fragment,{key:t},r(e,i.diff)))),j=({transform:e,theme:t,showOnboarding:n,onClick:r,onExpand:i})=>{const s=a.useContext(m.a.Context),c=e.label.map((e,t)=>a.createElement(a.Fragment,{key:t},e.text)),l=a.createElement(v.a,Object.assign({animationMode:C.a.FromClickPoint,name:"expand-insert",onClick:i,title:s.synfony.drilldownTooltip(c)},Object(o.c)(t.itemInsert,t.drilldownArrowButton)),a.createElement(O.d.Arrow,{direction:O.a.right,className:t.drilldownIcon}));return a.createElement("div",{className:t.drilldownInsertGroup},a.createElement(v.a,{animationMode:C.a.FromClickPoint,name:"apply-insert",onClick:r,title:s.synfony.applyTooltip,className:t.itemInsert},c),Boolean(e.subLabels.length)&&(n?a.createElement(Z,null,l):l))},T=({transform:e,title:t,theme:n,onClick:r})=>a.createElement(v.a,Object.assign({animationMode:C.a.FromClickPoint,name:"apply-remove"},{onClick:r,title:t,className:n.itemRemove}),e.map((e,t)=>a.createElement($,{key:t,element:e,theme:n}))),N=({transform:e,title:t,theme:n,onClick:r,children:i})=>a.createElement("div",{className:n.removeOrContainer},e.map((i,o)=>"text"===i.type?a.createElement("span",{key:o,className:o===e.length-1?n.itemContextShifted:n.itemContext},i.text):a.createElement(v.a,Object.assign({key:o,animationMode:C.a.FromClickPoint,name:"apply-remove-or"},{onClick:r,title:t,className:n.itemRemove}),a.createElement($,{element:i,theme:n}))),i),L=e=>a.createElement("span",{className:e.classes.or},a.useContext(m.a.Context).card.or),P=({transform:e,replacements:t,boldifier:n=F,theme:r,strikeThrough:s=!0})=>{const c=e.every(e=>null===e.text.match(/\n/)),d=e.map(e=>e.text).join(""),u=1===t.length?t[0].map(e=>e.text).join(""):"",p=Object(E.e)(d,u),m=Object(i.pipe)(null==p?void 0:p.oldFragment,e=>Boolean(e)&&l.f.containsSpacesOnly(e)),g=c&&m;return a.createElement("div",Object.assign({},Object(o.c)(r.itemOriginal,s&&r.itemOriginalStrikeThrough)),a.createElement("span",Object.assign({},Object(o.c)(r.itemOriginalContent,g&&r.spacesOnlyContent)),e.map((e,t)=>a.createElement(a.Fragment,{key:t},n(e,r.diff)))))},B=({transform:e,boldifier:t=F,header:n,classes:r,onClick:i})=>a.createElement(v.a,{name:"apply-insert",onClick:i,className:r.item},Boolean(n)?a.createElement("div",{className:r.inlineHeader},n):null,e.map((e,n)=>a.createElement(a.Fragment,{key:n},t(e,r.diff)))),F=l.e.pick("text"),D=({text:e,type:t},n)=>"text"===t?e:a.createElement("span",{className:n},e),R=e=>(t,n)=>r=>a.createElement(Y,{index:n,oldText:t,newText:r.text,theme:e}),$=({element:e,strikeClass:t,theme:n})=>"delete"===e.type?a.createElement("span",Object.assign({},Object(o.c)(E.a.getClass(n,e.text),t)),e.text):a.createElement(a.Fragment,null,e.text);const M=/^\W/,_=(e,t)=>{switch(e.type){case f.k.Delete:return t.fullSentenceDelete;case f.k.Insert:return M.test(e.text)?t.fullSentenceInsertPunctuation:t.fullSentenceInsert;case f.k.Text:case f.k.List:return"";default:return Object(d.d)(e)}},W=(e,t)=>{switch(e.type){case f.k.Delete:return t.fullSentenceHidden;case f.k.List:case f.k.Text:case f.k.Insert:return"";default:return Object(d.d)(e)}},H=(e,t)=>{switch(e.type){case f.k.Delete:return t.fullSentenceHidden;case f.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItemWithFormatting:"dashed"===e.kind?t.fullSentenceDashedListItemWithFormatting:t.fullSentenceOrderedListItemWithFormatting;case f.k.Insert:case f.k.Text:return"";default:return Object(d.d)(e)}},G=(e,t)=>{switch(e.type){case f.k.Delete:return t.fullSentenceHidden;case f.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItem:"dashed"===e.kind?t.fullSentenceDashedListItem:t.fullSentenceOrderedListItem;case f.k.Insert:case f.k.Text:return"";default:return Object(d.d)(e)}},q=({p:e,theme:t})=>{const n=s.a.create(e.shouldBeCollapsed);return a.createElement(c.a.Fragment,null,n.view(Object(u.c)(a.createElement("span",{className:e.type===f.k.Delete?t.collapsibleDelete:t.collapsibleInsert,onClick:()=>n.set(!1),role:"button",tabIndex:0},a.createElement("span",{className:t.collapsiblePartContent},"…")),a.createElement(a.Fragment,null,e.text))))},V=(e,t,n)=>{var r;if(null===(r=e.shouldBeCollapsed)||void 0===r||!r)return e.text;switch(e.type){case f.k.Insert:case f.k.Delete:return t?a.createElement(q,{p:e,theme:n}):e.text;case f.k.Text:return a.createElement("span",null," … ");default:Object(d.d)(e)}},z=e=>{const t=Object(i.pipe)(e.showDiff,Object(u.c)(_,W),t=>t(e.transformPart,e.theme));return a.createElement("span",{className:t},V(e.transformPart,e.showDiff,e.theme))},U=e=>{const t=Object(i.pipe)(e.showDiff,Object(u.c)(H,G),t=>t(e.transformPart,e.theme));return e.transformPart.type===f.k.List?a.createElement("span",{className:t,"data-indent":e.transformPart.indent}):a.createElement("span",{className:t},V(e.transformPart,e.showDiff,e.theme))},Y=({index:e=0,oldText:t,theme:n,newText:r})=>{const i=Object(E.b)(t,r),o=!!i&&l.f.containsSpacesOnly(i[1]);return a.createElement(a.Fragment,null,i?[i[0],a.createElement("span",{key:e,className:o?n.spacesOnlyContent:n.diff},i[1]),i[2]]:r)},X=e=>{const{onMount:t,maxHeight:n}=Object(b.b)(),o=x(e.a11yContrast);return a.createElement(S.a,{mount:t,style:{maxHeight:n.pipe(k.a.map(p.g.getOrElse(r.constUndefined)))},className:Object(i.pipe)(e.layoutDensity,h.a.Density.matchOrDefault(h.a.Density.minimal)(()=>o.minimalFullSentenceBackground,()=>o.fullSentenceBackground))},e.replacements.kind===f.f.WithFormatting?e.replacements.labels.map((t,n)=>a.createElement(U,{showDiff:e.showDiff,transformPart:t,key:n,theme:o})):e.replacements.labels.map((t,n)=>a.createElement(z,{showDiff:e.showDiff,transformPart:t,key:n,theme:o})))},K=({replacements:e,layoutDensity:t,a11yContrast:n,selection:r,onClick:i,onDive:o,onBack:s})=>{const c=a.useContext(m.a.Context),{activeLabels:l,original:d}=f.d.getSelectedItems(e,r),u=x(n);return a.createElement(S.j,{className:u.list},a.createElement("div",{className:u.drilldownOriginalRow},r.length>0&&a.createElement(v.a.Ghost,{name:"go-back",title:c.synfony.back,onClick:s,className:u.drilldownBackButton},a.createElement(O.d.Arrow,{direction:O.a.left})),a.createElement(P,{transform:d,theme:u,replacements:[],strikeThrough:!Boolean(r)||0===r.length})),a.createElement("div",{className:t===h.a.Density.cozy?u.cozyArrowInsertsList:u.arrowInsertsList},l.map((e,t)=>a.createElement(j,{key:t,transform:e,showOnboarding:2===t,theme:u,onClick:i(e.alternativeId),onExpand:()=>o(t,e.alternativeId)}))))},Z=e=>{const t=a.useContext(m.a.Context);return a.createElement(y.b,{alignment:"topLeft",eventType:"onclick",stepId:g.a.StepId.Synfony,message:t.synfony.onboardingTooltip,dotPosition:{kind:"dotAtPosition",position:y.a.rightCenter}},e.children)},Q=e=>{const t=a.useContext(m.a.Context).card,n=""===e.gapValue,r=x(e.a11yContrast);return a.createElement(a.Fragment,null,a.createElement(w.b,{name:"input",placeholder:t.gapCard.placeholder,value:e.gapValue,onChange:t=>e.onChange(t.target.value),onKeyPress:e=>{"Enter"===e.key&&e.currentTarget.nextElementSibling&&e.currentTarget.nextElementSibling.click()},className:r.oneGapInput}),a.createElement(I,{title:n?"":t.todoAction(e.replacements.tooltipText),boldifier:D,onClick:e.onApply,classes:{itemInsert:r.oneGapInsert,inlineHeader:r.inlineHeader,diff:r.diff},disabled:n,transform:J(e.replacements.labels.left,e.gapValue,e.replacements.labels.right)}))},J=(e,t,n)=>[...e,{type:f.k.Insert,text:ee(e)+(t||"…")+ee(n)},...n],ee=e=>e.length?" ":"",te=({replacementsLabels:e,layoutDensity:t,a11yContrast:n,onClick:r})=>{const i=a.useContext(m.a.Context).card.todoAction(e.tooltipText),o=x(n);switch(e.type){case f.j.Type.InsertList:return a.createElement(S.j,{className:o.list},e.labels.map((e,t)=>a.createElement(I,Object.assign({},{key:t,title:i,onClick:r(t)},{transform:e,classes:o}))));case f.j.Type.DeleteList:return a.createElement(S.j,{className:o.list},e.labels.map((e,t)=>a.createElement(T,Object.assign({},{key:t,title:i,onClick:r(t)},{transform:e,theme:o}))));case f.j.Type.Arrow:return function({labels:e,original:t,onlyReplacements:n},r,i,o,s){const c=1===t.length,[l]=c?[t[0].text,e[0][0].text].map(R(o)):[D,D];return a.createElement(S.j,{className:o.list},!n&&a.createElement(P,{transform:t,theme:o,replacements:e}),a.createElement("div",{className:i===h.a.Density.cozy?o.cozyArrowInsertsList:e.length>2?o.columnList:o.arrowInsertsList},e.map((e,t)=>a.createElement(I,Object.assign({},{key:t,title:r,onClick:s(t)},{transform:e,boldifier:l,classes:o})))))}(e,i,t,o,r);case f.j.Type.InsertOr:return a.createElement(S.j,{className:o.list},a.createElement(I,Object.assign({transform:e.labels[0]},{title:i,onClick:r(0)},{boldifier:D,classes:o})),a.createElement(L,{classes:o}),a.createElement(I,Object.assign({transform:e.labels[1]},{title:i,onClick:r(1)},{boldifier:D,classes:o})));case f.j.Type.DeleteOr:return a.createElement(S.j,{className:o.list},e.labels.map((t,n)=>a.createElement(N,Object.assign({},{key:n,title:i,onClick:r(n)},{theme:o,transform:t}),n===e.labels.length-2&&a.createElement(L,{classes:o}))));case f.j.Type.Citation:case f.j.Type.FullSentence:case f.j.Type.OneGap:case f.j.Type.Drilldown:case f.j.Type.ShortenIt:case f.j.Type.ToneAI:return null;default:return Object(d.d)(e)}},ne=({replacementsLabels:e,onClick:t,header:n,customStyle:r,a11yContrast:i})=>{const o=Array.isArray(e.labels)&&1===e.labels.length?r.inlineHeaderOne:r.inlineHeader,s=x(i);switch(e.type){case f.j.Type.DeleteList:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>a.createElement(B,Object.assign({},{key:i,onClick:t(i)},{classes:{item:r.itemRemove,inlineHeader:o,diff:s.diff},boldifier:e=>a.createElement($,{element:e,strikeClass:r.strike,theme:s}),transform:e,header:0===i?n:""}))));case f.j.Type.InsertList:case f.j.Type.InsertOr:case f.j.Type.Arrow:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>a.createElement(B,Object.assign({},{key:i,onClick:t(i)},{classes:{item:r.itemInsert,inlineHeader:o,diff:s.diff},transform:e,boldifier:e=>D(e,r.diff),header:0===i?n:""}))));case f.j.Type.DeleteOr:case f.j.Type.FullSentence:case f.j.Type.OneGap:case f.j.Type.Drilldown:case f.j.Type.ShortenIt:case f.j.Type.ToneAI:case f.j.Type.Citation:return null;default:return Object(d.d)(e)}},ae=({label:e,className:t,a11yContrast:n})=>a.createElement("div",{className:t},e.map(e=>a.createElement("span",{key:e.text,className:e.type===f.k.Insert?x(n).toneAIInsert:void 0},e.text)))},dx6p:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ax6a"),r=n("e12y");const i=(e,t,n,i,o,s)=>Object.assign({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:r.a.rem(2),borderRadius:o,backgroundColor:a.a.CoreNeutral0,boxShadow:i,content:"' '"},Boolean(s)&&"bottom"!==s?{top:n}:{bottom:n})},eLeT:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("ax6a"),r=n("e12y"),i=n("ps/9"),o=n("dx6p");const s=`0 ${r.a.rem(.25)} ${r.a.rem(1.625)} 0 rgba(198, 203, 222, .25)`,c={marginRight:r.a.rem(1),flexShrink:0,maxWidth:r.a.percent(100)},l={padding:`0 ${r.a.rem(1)}`},d={padding:`0 ${r.a.rem(1.9)} 0 ${r.a.rem(1)}`},u={position:"absolute",top:r.a.rem(.27),right:r.a.rem(.5)},p={display:"grid",width:r.a.percent(100),gridGap:r.a.rem(.5),gridTemplateColumns:"fit-content(60%) auto min-content"},m={minWidth:r.a.rem(7)},g={marginLeft:r.a.rem(.5)},f={color:a.a.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:r.a.rem(1.5)},h={$nest:{"&:before":Object(o.a)(r.a.rem(.5),-10,r.a.rem(-.5),s,r.a.rem(i.s)),"&:after":Object(o.a)(r.a.rem(1),-20,r.a.rem(-1),s,r.a.rem(i.s))}},b={transition:"opacity .2s"},y=r.a.prefixedStylesheet("super",{updateAllBtnCommon:[c],updateAllBtn:[c,l],updateAllBtnLoading:[c,d],updateBtnSpinner:[u],optionsContainer:[p],optionLabel:[m],optionRadio:[g],optionSecondaryAttribute:[f],optionExample:[f,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic"}],superWrapper:[h],loadingWrapper:[b],loadingWrapperInvisible:[b,{opacity:0,pointerEvents:"none"}]})},ePa0:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("ERkP"),r=n("OA+g"),i=n("lrqh"),o=n("hoSD"),s=n("ax6a"),c=n("17O8"),l=n("e12y"),d=n("PnD2"),u=n("UVty");const p=()=>a.createElement(u.a,null,Object(r.flow)(i.g.map(e=>a.createElement(c.a.ByAbsoluteRect,Object.assign({rect:o.c.Rect.fromEl(e.target),className:f.container},c.a.Alignment.toSelector(e.alignment),{withPin:!0}),a.createElement("div",{className:f.content},e.content))),i.g.toNullable)),m={position:"fixed",zIndex:d.level5,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},g={padding:`${l.a.rem(.25)} ${l.a.rem(1)}`,borderRadius:l.a.rem(d.radius2),background:s.a.BackgroundTooltip,color:s.a.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:l.a.px(.25),fontSize:l.a.rem(.75),lineHeight:l.a.rem(1)},f=l.a.stylesheet({container:[m],content:[g]})},eihE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("07Tf"),o=n("BwCH");!function(e){e.Context=r.createContext(i.a.invariantContent("CopyToClipboard")),e.ContextMock=({children:t})=>r.createElement(e.Context.Provider,{value:e=>o.a.copy(e,!1),children:t})}(a||(a={}))},es5d:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a=n("ax6a"),r=n("e12y"),i=n("ps/9");const o={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},c={color:a.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:a.h.SubheadingLetterSpacing,fontSize:r.a.rem(a.h.SubheadingSize),lineHeight:r.a.rem(a.h.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:r.a.rem(.25)}}},l={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:r.a.px(2),left:r.a.rem(-1.1),margin:"auto 0"}}},d={$nest:{"&:before":{top:0,bottom:0,left:r.a.rem(-1.1),margin:`${r.a.rem(.25)} 0 auto 0`}}},u={margin:`0 ${r.a.rem(.4)} 0 ${r.a.rem(.2)}`,width:r.a.rem(.85),height:r.a.rem(.85),objectFit:"contain"},p={position:"absolute",top:0,bottom:0,left:r.a.rem(-1),margin:"auto",transform:"translateX(-50%)"},m={minWidth:"initial",minHeight:"initial",padding:`${r.a.rem(.3)} ${r.a.rem(.25)}`,cursor:"pointer",borderRadius:r.a.percent(100),marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:a.a.CoreNeutral10}}},g={display:"flex",alignItems:"center",padding:`0 ${r.a.rem(.25)}`,borderRadius:r.a.rem(i.t),cursor:"pointer",background:a.a.CoreYellow20,color:a.a.CoreYellow80,marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:a.a.CoreYellow10}}},f={minWidth:"initial",minHeight:"initial",fill:a.a.CoreYellow80,marginLeft:r.a.rem(.3)},h={display:"flex",alignItems:"flex-start",top:r.a.rem(.125),minWidth:"initial",minHeight:"initial",background:a.a.CoreNeutral0},b={color:a.a.CoreNeutral90,textTransform:"none",letterSpacing:a.h.SmallLetterSpacing,fontWeight:a.h.SmallWeight,fontSize:r.a.rem(a.h.SmallSize),lineHeight:r.a.rem(a.h.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},y={color:a.a.CoreNeutral50,textTransform:"none"},v={width:r.a.rem(1),height:r.a.rem(1)},C={display:"inline-flex",padding:`0 ${r.a.rem(.25)}`,borderRadius:r.a.rem(i.t),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},O={display:"inline-flex",marginLeft:r.a.rem(.1),minWidth:0,minHeight:0},w={color:a.a.CoreNeutral80,textTransform:"none"},S={width:r.a.rem(1),height:r.a.rem(1),marginRight:r.a.rem(.375)},k={color:a.a.CoreRed60},A=r.a.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[c],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[c,l],lensMinimal:[d],voxLogo:[u],cardLogo:[p],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[m],newPremiumLabel:[g],newPremiumLabelIcon:[f],takeawayIcon:[h],minimalTitle:[b],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[y],toneLogo:[p,v],fluencyLabel:[c,C],fluencyInfo:[O],dot:[o],ethicalAILabel:[{textTransform:"none"}],sentenceLevelBrandTonesLabel:[w],sentenceLevelBrandTonesLabelImage:[S],sentenceLevelBrandTonesOffBrand:[k]})},f3nf:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5W6"),i=n("OA+g"),o=n("I7vG"),s=n("94k3"),c=n("lrqh"),l=n("6fbX"),d=n("wOnQ");function u(e,{text:t,ops:n}){n.reduce((t,n,a)=>s.a.AlternativeOperation.isInsertString(n)?(e.insertString(n.insert,n,a),t):s.a.AlternativeOperation.isInsertGap(n)?(e.insertGap("",n,a),t):s.a.AlternativeOperation.isInsert(n)?t:s.a.AlternativeOperation.isDelete(n)?(e.remove(t.slice(0,n.delete),n,a),t.slice(n.delete)):s.a.AlternativeOperation.isRetain(n)?(e.retain(t.slice(0,n.retain),n,a),t.slice(n.retain)):Object(l.d)(n),t)}function p(e){return 0===e.replace(/ /g,"").length}function m(e,t){Object(o.pipe)(e,r.last,c.g.fold(()=>{p(t.text)||e.push(t)},n=>{n.type===t.type?n.text+=t.text:e.push(t)}))}function g(e,t){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(n=>{const a=[];return u({insertString(t,{type:n}){if(n===s.a.AlternativeOperation.Type.Main)throw new j("Remove transform contains main insert",e)},insertGap(){throw new j("Remove transform contains gap insert",e)},retain(e,{type:t}){s.a.AlternativeOperation.isOptionalType(t)||m(a,{type:d.k.Text,text:e})},remove(e,{type:n}){m(a,{type:n!==s.a.AlternativeOperation.Type.Main||p(e)&&t?d.k.Text:d.k.Delete,text:e})}},n),a}),r.flatten)),c.b.chain(Object(i.flow)(c.b.fromPredicate(e=>e.length>0,()=>new j("Remove transform contains no data",e)),c.b.map(e=>({type:a.Type.Remove,remove:e})))))}function f(e,t){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(n=>{const a=[];return u({insertString(t,{type:n}){if(n===s.a.AlternativeOperation.Type.Main)throw new j("Multi-remove transform contains main insert",e)},insertGap(){throw new j("Multi-remove transform contains gap insert",e)},retain(e,{type:t}){s.a.AlternativeOperation.isOptionalType(t)||m(a,{type:d.k.Text,text:e})},remove(e,{type:n}){m(a,{type:n!==s.a.AlternativeOperation.Type.Main||p(e)&&t?d.k.Text:d.k.Delete,text:e})}},n),a}))),c.b.chain(Object(i.flow)(c.b.fromPredicate(e=>e.length>=2&&e.every(e=>e.length>=2),()=>new j("Incomplete multi-remove",e)),c.b.map(e=>({type:a.Type.RemoveOr,removes:e})))))}function h(e){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(t=>{const n=[];return u({insertString(e,{type:t}){m(n,{type:s.a.AlternativeOperation.isOptionalType(t)?d.k.Text:d.k.Insert,text:e})},insertGap(){throw new j("Insert transform contains gap insert",e)},retain(e,{type:t}){(!s.a.AlternativeOperation.isOptionalType(t)||n.length>0)&&m(n,{type:d.k.Text,text:e})},remove(t,{type:n}){if(n===s.a.AlternativeOperation.Type.Main)throw new j("Insert transform contains main delete",e)}},t),n}))),c.b.chain(Object(i.flow)(c.f.fromArray,c.b.fromOption(()=>new j("Incomplete insert",e)),c.b.map(e=>({type:a.Type.Insert,inserts:e})))))}function b(e){const{substitutions:t,longestSubstitution:n,inserts:i}=e.reduce((e,[t,n])=>{const a=t.map(e=>e.text).join("");return e.substitutions.push(a),e.inserts.push(n),a.length>e.longestSubstitution.length&&(e.longestSubstitution=a),e},{substitutions:[],inserts:[],longestSubstitution:""}),s=Object(o.pipe)(t,c.f.map(e=>n.split(e).join("")));return Object(o.pipe)(r.zipWith(i,s,(e,t)=>(t&&e.push({type:d.k.Text,text:t}),e)),c.f.fromArray,c.b.fromOption(()=>new Error("Substitution processing error")),c.b.map(e=>({type:a.Type.Substitution,remove:[{type:d.k.Delete,text:n}],inserts:e})))}function y(e,t){return Object(o.pipe)(v(e),c.b.chain(n=>Object(o.pipe)(c.b.tryCatchError(()=>{return Object(l.g)(t.length>0,"Drilldown transform - empty drilldown tree"),{inserts:Object(o.pipe)(t,c.f.map((function e([t,a]){Object(l.g)(void 0!==n.inserts[t],"Drilldown transform - alternative insert not found");return{alternativeId:t,label:n.inserts[t],subLabels:a.map(e)}}))),remove:n.remove,type:a.Type.Drilldown}}),c.b.mapLeft(j.fromError(e)))))}function v(e){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(t=>{const n=[[],[]];return u({insertString(e){m(n[1],{type:d.k.Insert,text:"\n"===e?"¶ ":e})},insertGap(){throw new j("Substitution transform contains gap insert",e)},remove(e){m(n[0],{type:d.k.Delete,text:e})},retain(e,{type:t}){if(!s.a.AlternativeOperation.isOptionalType(t)||0!==n[0].length){const t={type:d.k.Text,text:e};n[0].push(t),n[1].push(t)}}},t),Object(l.g)(n[0].length>0,"Substituted part is empty"),Object(l.g)(n[1].length>0,"Inserts are empty"),n}))),c.b.chain(b),c.b.mapLeft(j.fromError(e)))}function C(e){if(!("list"in e))return c.g.none;switch(e.list){case"bullet":case"dashed":case"ordered":return c.g.some({kind:e.list,indent:"number"==typeof e.indent&&Number.isInteger(e.indent)?e.indent:0});default:return c.g.none}}function O(e){return Object(o.pipe)(e,c.b.fromPredicate(e=>1===e.length,()=>new j("Expected citation transform to have 1 alternative",e)),c.b.map(c.f.head),c.b.chain(c.b.fromPredicate(e=>e.isCitation,()=>new j("Expected citation to have isCitation set to true",e))),c.b.chain(I),c.b.map(e=>({ops:e,type:a.Type.Citation})))}function w(e){return Object(o.pipe)(e,c.b.fromPredicate(e=>1===e.length,()=>new j("Expected full-sentence transform to have 1 alternative",e)),c.b.map(Object(i.flow)(c.f.head,t=>{let n={blockStart:0,ops:[],kind:d.f.PlainText};return u({insertString(e,t){const a=e.split("\n");if(1===a.length)n.ops.push({type:d.k.Insert,text:e,shouldBeCollapsed:!1});else{const e=Object(o.pipe)(t.attributes,C,c.g.fold(()=>i.constVoid,({kind:e,indent:t})=>()=>{n.ops.splice(n.blockStart,1,{type:d.k.List,kind:e,indent:t}),n={kind:d.f.WithFormatting,ops:n.ops,blockStart:n.blockStart}}));for(let t=0,r=a.length-1;t<=r;t++){const i=a[t];i&&n.ops.push({type:d.k.Insert,text:i}),t<r&&(e(),n.blockStart=n.ops.length,n.ops.push({type:d.k.Insert,text:"\n"}))}}},insertGap(){throw new j("Full sentence transform contains gap insert",e)},retain(e,t){n.ops.push({type:d.k.Text,text:e,shouldBeCollapsed:S(t.type,e)})},remove(e,t){n.ops.push({type:d.k.Delete,text:e,shouldBeCollapsed:S(t.type,e)})}},t),n})),c.b.chain(Object(i.flow)(c.g.fromPredicate(e=>e.ops.length>0),c.b.fromOption(()=>new j("Got empty full sentence transform",e)),c.b.map(({ops:e,kind:t})=>({type:a.Type.FullSentence,ops:e,kind:t})))))}!function(e){let t;!function(e){e[e.Remove=0]="Remove",e[e.RemoveOr=1]="RemoveOr",e[e.Insert=2]="Insert",e[e.Substitution=3]="Substitution",e[e.Drilldown=4]="Drilldown",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.ShortenIt=7]="ShortenIt",e[e.ToneAI=8]="ToneAI",e[e.Citation=9]="Citation"}(t=e.Type||(e.Type={})),function(e){e.parse=function(t,n){const a=t[0];if(a.isFullSentence)return e.FullSentence;if(c.g.isSome(n.drilldown))return e.Drilldown;if(a.isCitation)return e.Citation;if(a.isShortenIt)return e.ShortenIt;if(a.isToneAI)return e.ToneAI;switch(a.type){case s.a.Alternative.Type.Insert:return e.Insert;case s.a.Alternative.Type.Remove:return t.length>1?e.RemoveOr:e.Remove;case s.a.Alternative.Type.Substitution:return a.ops.find(s.a.AlternativeOperation.isInsertGap)?e.OneGap:e.Substitution;default:return Object(l.d)(a.type)}}}(t=e.Type||(e.Type={})),e.create=function(t){return n=>{const a=e.Type.parse(n,t);switch(a){case e.Type.Remove:return g(n,t.ignoreWhitespaceRemoves);case e.Type.RemoveOr:return f(n,t.ignoreWhitespaceRemoves);case e.Type.Insert:return h(n);case e.Type.Substitution:return v(n);case e.Type.Drilldown:return y(n,Object(o.pipe)(t.drilldown,c.g.getOrElse(()=>s.a.Drilldown.empty)));case e.Type.FullSentence:return w(n);case e.Type.OneGap:return k(n);case e.Type.ShortenIt:return A(n);case e.Type.ToneAI:return E(n);case e.Type.Citation:return O(n);default:return Object(l.d)(a)}}}}(a||(a={}));const S=(e,t)=>e===s.a.AlternativeOperation.Type.Optional&&t.length>3;function k(e){return Object(o.pipe)(c.b.tryCatchError(()=>(Object(l.g)(1===e.length,"One gap transform does not contain exactly one alternative"),Object(o.pipe)(e,c.f.head,e=>{const t=[],n=[];let a=!1;return u({insertString(e,{type:r}){m(a?n:t,{type:s.a.AlternativeOperation.isOptionalType(r)?d.k.Text:d.k.Insert,text:e})},insertGap(){Object(l.g)(!a,"One gap transform does not contain exactly one gap insert"),a=!0},retain(e,{type:r}){const i=a?n:t;(!s.a.AlternativeOperation.isOptionalType(r)||i.length>0)&&m(i,{type:d.k.Text,text:e})},remove:i.constVoid},e),Object(l.g)(a,"One gap transform does not contain exactly one gap insert"),Object(l.g)(t.length>0||n.length>0,"One gap transform does not contain at least one text insert"),{left:t,right:n}}))),c.b.bimap(j.fromError(e),({left:e,right:t})=>({type:a.Type.OneGap,left:e,right:t})))}function A(e){return Object(o.pipe)(e,c.b.fromPredicate(e=>1===e.length,()=>new j("Expected shorten-it transform to have 1 alternative",e)),c.b.chain(c.f.traverse(c.b.either)(x)),c.b.map(c.f.head),c.b.map(e=>({type:a.Type.ShortenIt,ops:e})))}function E(e){return Object(o.pipe)(c.b.tryCatchError(()=>Object(o.pipe)(e,c.f.map(t=>{const n=[];return u({insertString(e){m(n,{type:d.k.Insert,text:e})},insertGap(){throw new j("ToneAI transform should not include gap insert",e)},retain(e){m(n,{type:d.k.Text,text:e})},remove(){}},t),n}))),c.b.chain(Object(i.flow)(c.f.fromArray,c.b.fromOption(()=>new j("Incomplete ToneAI transform",e)),c.b.map(e=>({type:a.Type.ToneAI,insertsOrTexts:e})))))}function x(e){const t=[];return u({insertString(e,{group:n}){t.push({type:d.k.Insert,text:e,group:n})},insertGap(){throw new j("ShortenIt transform contains gap insert",[e])},retain(e,{group:n}){t.push({type:d.k.Text,text:e,group:n})},remove(e,{group:n}){t.push({type:d.k.Delete,text:e,shouldBeCollapsed:!0,group:n})}},e),Object(o.pipe)(t,c.b.fromPredicate(e=>e.length>0,()=>new j("Got empty ShortenIt transform",[e])))}function I(e){const t=[];return u({insertString(e){t.push({type:d.k.Insert,text:e})},insertGap(){throw new j("Citation transform contains gap insert",[e])},retain(e){t.push({type:d.k.Text,text:e})},remove(e){t.push({type:d.k.Delete,text:e})}},e),Object(o.pipe)(t,c.b.fromPredicate(e=>e.length>0,()=>new j("Got empty Citation transform",[e])))}class j extends l.a{constructor(e,t){super(e),this.alternatives=t}static fromError(e){return t=>{const n=new j(t.message,e);return n.stack=t.stack,n}}toString(){return`Hydration error: ${this.message}\n  ops: ${this.alternatives.map(e=>e.ops.map(s.a.AlternativeOperation.anonymize))}`}}},fEss:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("Kt6o"),s=n("e12y");const c=({theme:e={}})=>a.createElement(r.a.div,Object.assign({},Object(i.c)(d.container,e.container)),a.createElement(r.a.div,Object.assign({},Object(i.c)(d.swoosh,e.animation)))),l=s.a.keyframes({to:{backgroundPosition:"0 100%"}}),d=s.a.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:s.a.rem(2),height:s.a.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:l,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:s.a.seconds(2),animationIterationCount:"infinite",background:`transparent url('${o.a}swoosh.png') 0 0 no-repeat`,backgroundSize:s.a.percent(100)}]})},fNos:function(e,t,n){e.exports=n.p+"files/c85c7276ae2b89bc5aadf1b1cb256291/inter-mediumitalic.woff2"},gOzB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("9NHN"),o=n("ax6a"),s=n("3rlE"),c=n("e12y"),l=n("PnD2");!function(e){e.Regular=e=>r.createElement("span",Object.assign({},Object(i.c)(e.a11yContrast?f.badgeA11yContrast:f.badge,e.className)),e.children),e.New=({className:t})=>r.createElement(e.Regular,{className:t},"New"),e.NewWrapper=({children:t})=>r.createElement("div",null,r.createElement(e.New,null),t),e.Premium=({className:t})=>r.createElement(e.Regular,Object.assign({},Object(i.c)(f.premiumBadge,t)),r.createElement(s.d.PaidLink,{className:f.premiumBadgeIcon,width:12}),"PREMIUM"),e.Business=({className:t})=>r.createElement(e.Regular,Object.assign({},Object(i.c)(t)),"BUSINESS")}(a||(a={}));const d={display:"inline-block",padding:`${c.a.rem(o.g.BadgeY)} ${c.a.rem(o.g.BadgeX)}`,height:c.a.rem(o.f.Badge),borderRadius:c.a.rem(l.radius3),background:o.a.CoreGreen10,color:o.a.CoreGreen70,verticalAlign:"middle",textAlign:"center",textTransform:o.i.Badge,letterSpacing:o.e.Badge,fontWeight:o.d.Badge,fontSize:c.a.rem(o.c.Badge),lineHeight:c.a.rem(o.f.Badge)},u={background:o.a.CoreBlue1,color:o.a.CoreBlue60},p={marginRight:o.g.BadgeX,maxWidth:c.a.rem(o.f.Badge),maxHeight:c.a.rem(o.f.Badge),minWidth:c.a.rem(o.f.Badge),minHeight:c.a.rem(o.f.Badge),verticalAlign:"top"},m={background:o.a.CoreYellow20,color:o.a.CoreYellow80},g={fill:o.a.CoreYellow80},f=c.a.stylesheet({badge:[d],badgeA11yContrast:[d,u],badgeIcon:[p],premiumBadge:[d,m],premiumBadgeIcon:[p,g]})},"gT+5":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return R}));var a=n("D9EC"),r=n("ax6a"),i=n("e12y"),o=n("0Hf4");const s=r.a.CoreGreen10;var c;!function(e){e.markHeightStandard="alerts-markHeightStandard",e.markHeightTall="alerts-markHeightTall",e.markSelected="alerts-markSelected",e.markSelectedFocused="alerts-markSelectedFocused",e.markBase="alerts-markBase",e.markAppliedBase="alerts-markAppliedBase",e.markVisible="alerts-markVisible",e.markStart="alerts-markStart",e.correctness="alerts-correctness",e.premium="alerts-premium",e.clarity="alerts-clarity",e.engagement="alerts-engagement",e.delivery="alerts-delivery",e.critical="alerts-critical",e.advanced="alerts-advanced",e.plagiarism="alerts-plagiarism",e.originality="alerts-originality",e.vox="alerts-vox",e.synonym="alerts-synonym",e.markAnimated="alerts-markAnimated",e.markHidden="alerts-markHidden",e.markApplied="alerts-markApplied",e.markBulkApplied="alerts-markBulkApplied",e.markBulkAppliedAnimation="alerts-markBulkAppliedAnimation",e.markSuccess="alerts-markSuccess",e.noAnimation="alerts-noAnimation"}(c||(c={}));const l="alerts-custom",d={backgroundPosition:"center calc(100% + 3px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},u={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},p=i.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),m={standard:`calc(${i.a.rem(.45)} - 4px)`,tall:i.a.rem(.425)},g=e=>({to:{backgroundColor:e}}),f=(e,t=100)=>({borderWidth:"0 0 3px 0",borderImage:i.a.linearGradient("to right",[e,"0%"],[e,`calc(100% - ${t}px)`],[i.a.color(e).fade(0).toRGBA().toString(),"100%"]),borderImageSlice:1}),h=(e,t,n,a)=>Object.assign(Object.assign({$unique:!0},d),{paddingBottom:"1px",borderBottom:`3px solid ${t}`,transition:"border-bottom-color .5s linear",$nest:Object.assign(Object.assign({},d.$nest),{[`&.${c.markStart}`]:f(t),"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${c.markSelected}.${c.markHeightStandard}`]:{paddingTop:m.standard},[`&.${c.markSelected}.${c.markHeightTall}`]:{paddingTop:m.tall},[`&.${c.markSelected}`]:{$unique:!0,borderBottomColor:a,animation:`${e} 1s ease forwards`,$nest:{[`&.${c.markStart}`]:f(a)}},[`&.${c.markSelectedFocused}`]:{$unique:!0,borderBottomColor:n,$nest:{[`&.${c.markStart}`]:f(n)}},[`&.${c.markSelected} .${c.markBase}:not(.${c.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"},[`&.${c.markSelectedFocused} .${c.markBase}:not(.${c.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"}}}})}),b=i.a.keyframes(g(r.a.CoreRed10)),y=i.a.keyframes(g(r.a.CoreYellow10)),v=i.a.keyframes(g(r.a.CoreCyan10)),C=i.a.keyframes(g(r.a.CorePurple10)),O=i.a.keyframes(g(r.a.CoreNeutral10)),w=i.a.keyframes(g(r.a.CoreBlue10)),S=i.a.keyframes(g(r.a.CoreRed10)),k=i.a.keyframes(g(r.a.CoreYellow10)),A=i.a.keyframes(g(r.a.CoreBlue10)),E=i.a.keyframes(g(r.a.CoreGreen10)),x=i.a.keyframes(g(r.a.CorePurple10)),I=i.a.keyframes(g(r.a.CoreGreen10)),j=e=>{const t=i.a.color(s).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{[`&.${c.markHeightStandard}`]:{paddingTop:m.standard},[`&.${c.markHeightTall}`]:{paddingTop:m.tall}}}},T=e=>{return{borderBottomColor:"transparent",backgroundColor:i.a.color(s).fade(e).toRGBA().toString()}},N=i.a.keyframes({from:j("100%"),to:j("50%")}),L={borderBottomWidth:"2px",borderBottomColor:`${r.a.CoreNeutral40}`,borderBottomStyle:"dotted",backgroundColor:"transparent"},P=i.a.keyframes({to:Object.assign(Object.assign({},j("0%")),L)}),B=i.a.keyframes({from:T("100%"),to:T("50%")}),F={$nest:{[`&.${c.markHeightStandard}`]:{paddingTop:m.standard},[`&.${c.markHeightTall}`]:{paddingTop:m.tall},[`&:not(.${c.markSelected}):not(.${c.markSelectedFocused})`]:{$nest:{[`&.${c.clarity} &.${c.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:r.a.CoreBlue50}}},[`&.${c.correctness}, &.${c.markSelected}, &.${c.markSelectedFocused}`]:{$nest:{[`.${c.markVisible}:not(.${c.markSelected}):not(.${c.markSelectedFocused}).${c.clarity} .${c.markVisible}:not(.${c.markSelected}):not(.${c.markSelectedFocused}).${c.clarity}`]:{}}},[`&.${c.clarity}`]:{$nest:{[`& & &:not(.${c.markSelected}):not(.${c.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},D={borderBottom:"0 solid transparent",background:"none",animation:"none"},R=Object(a.l)(()=>({custom(e,t){const n=i.a.color(e).fade(.25).toRGBA().toString(),a=i.a.keyframes(g(n));return[l,c.markBase,i.a.style(h(a,t,t,n)),o.a.style(h(a,t,t,n),u)].join(" ")},markBase:[c.markBase,i.a.style(d),o.a.style(d,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[c.markAppliedBase,c.markBase,i.a.style({paddingBottom:"1px",borderBottom:`3px solid ${s}`})].join(" "),correctness:[c.correctness,c.markBase,i.a.style(h(S,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10)),o.a.style(h(S,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10),u)].join(" "),premium:[c.premium,c.markBase,i.a.style(h(k,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10)),o.a.style(h(k,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10),u)].join(" "),clarity:[c.clarity,c.markBase,i.a.style(h(A,r.a.CoreBlue20,r.a.CoreBlue50,r.a.CoreBlue10)),o.a.style(h(A,r.a.CoreBlue20,r.a.CoreBlue50,r.a.CoreBlue10),u)].join(" "),markVisible:[c.markVisible,i.a.style(F),o.a.style(F)].join(" "),engagement:[c.engagement,c.markBase,i.a.style(h(E,r.a.CoreGreen20,r.a.CoreGreen50,r.a.CoreGreen10)),o.a.style(h(E,r.a.CoreGreen20,r.a.CoreGreen50,r.a.CoreGreen10),u)].join(" "),delivery:[c.delivery,c.markBase,i.a.style(h(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10)),o.a.style(h(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10),u)].join(" "),critical:[c.critical,c.markBase,i.a.style(h(b,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10)),o.a.style(h(b,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10),u)].join(" "),advanced:[c.advanced,c.markBase,i.a.style(h(y,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10)),o.a.style(h(y,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10),u)].join(" "),plagiarism:[c.plagiarism,c.markBase,i.a.style(h(v,r.a.CoreCyan20,r.a.CoreCyan50,r.a.CoreCyan10)),o.a.style(h(y,r.a.CoreCyan20,r.a.CoreCyan50,r.a.CoreCyan10),u)].join(" "),originality:[c.originality,c.markBase,i.a.style(h(C,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10)),o.a.style(h(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10),u)].join(" "),vox:[c.vox,c.markBase,i.a.style(h(O,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10)),o.a.style(h(O,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10),u)].join(" "),synonym:[c.synonym,c.markBase,i.a.style(h(w,r.a.CoreBlue50,"transparent",r.a.CoreBlue50)),o.a.style(h(w,r.a.CoreBlue50,"transparent",r.a.CoreBlue50),u)].join(" "),markAnimated:[c.markAnimated,i.a.style({animation:`${p} .075s ease`})].join(" "),markHidden:[c.markHidden,i.a.style(D),o.a.style(D)].join(" "),markBulkAppliedAnimation:[c.markBulkAppliedAnimation,c.markBase,i.a.style(j("100%"),L,{animation:`${N} 2s linear forwards,\n          ${P} .25s linear 2s forwards`})].join(" "),markBulkApplied:[c.markBulkApplied,c.markBase,i.a.style(h(I,r.a.CoreNeutral40,r.a.CoreGreen10,r.a.CoreGreen10),L)].join(" "),markApplied:[c.markApplied,i.a.style(j("100%"),{animation:`${N} .25s linear forwards`})].join(" "),markSuccess:[c.markSuccess,i.a.style(T("100%"),{animation:`${B} .25s linear forwards`})].join(" "),noAnimation:[c.noAnimation,i.a.style({animationDuration:"0s !important"})].join(" "),markSelected:c.markSelected,markSelectedFocused:c.markSelectedFocused,markHeightStandard:c.markHeightStandard,markHeightTall:c.markHeightTall,markStart:c.markStart}))},hnW1:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Hidden="hidden",e.Dot="dot",e.Popup="popup",e.Passed="passed"}(a||(a={}))},jAl6:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("D57K"),r=n("ERkP"),i=n("vOOZ"),o=n("9NHN"),s=n("gy42"),c=n("6fbX"),l=n("ax6a"),d=n("e12y"),u=n("SD38");function p(e){var{wrapperClassName:t,variation:n,isIdle:o,ref:c}=e,l=Object(a.__rest)(e,["wrapperClassName","variation","isIdle","ref"]);return r.createElement(i.a.span,{"data-role":"spinner",className:t},s.b.mapMaybeObservable(n,e=>r.createElement(p.Svg,Object.assign({},l,{type:e,isIdle:o}))))}!function(e){e.getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return Object(c.d)(t)}},e.Svg=t=>{const{className:n,size:i=64,strokeWidth:s=2,type:l,name:d,isIdle:u}=t,p=Object(a.__rest)(t,["className","size","strokeWidth","type","name","isIdle"]),m=r.useRef(null),f=r.useRef(null);return r.useEffect(()=>(Object(c.g)(null!==m.current,"groupEl should be already created"),f.current=m.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>f.current.cancel()),[]),r.useEffect(()=>{Object(c.g)(null!==f.current,"groupAnimation should be already created");const e=f.current;Boolean(e.play)&&(!0===u?e.pause():"running"!==e.playState&&e.play())}),r.createElement("svg",Object.assign({"data-role":d},Object(o.c)(n),{viewBox:"25 25 50 50",width:i,height:i},p),r.createElement("g",{transform:"translate(50 50)"},r.createElement("g",{ref:m},r.createElement("circle",Object.assign({},Object(o.c)(A.path,!0===u&&g,e.getClassName(A)(l)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:s,strokeMiterlimit:"10"})))))}}(p||(p={}));const m=d.a.keyframes({"0%":{strokeDasharray:`1px, ${d.a.px(200)}`,strokeDashoffset:d.a.px(1)},"50%":{strokeDasharray:`89px, ${d.a.px(200)}`,strokeDashoffset:d.a.px(-35)},"100%":{strokeDasharray:`89px, ${d.a.px(200)}`,strokeDashoffset:d.a.px(-124)}}),g="spinnerIdle",f={animation:`${m} 2s ease-in-out infinite`,strokeDasharray:`1px, ${d.a.px(200)}`,strokeDashoffset:d.a.px(1),strokeLinecap:"round",$nest:{[`&.${g}`]:{animationIterationCount:0}}},h={stroke:l.a.CoreRed50},b={stroke:l.a.CoreGreen50},y={stroke:l.a.CoreBlue50},v={stroke:l.a.CoreNeutral0},C={stroke:u.purple500},O={stroke:u.yellow600},w={stroke:l.a.CoreYellow60},S={stroke:u.ui500},k={stroke:l.a.CoreCyan50},A=d.a.stylesheet({path:[f],red:[h],green:[b],blue:[y],white:[v],violet:[C],yellow:[O],orange:[w],gray:[S],cyan:[k]})},jSKJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return Tt}));var a,r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("LNSM"),c=n("vOOZ"),l=n("lrqh"),d=n("D9EC"),u=n("ax6a"),p=n("PrA7"),m=n("e12y"),g=n("rk+4"),f=n("uqkn"),h=n("+w1e"),b=n("E0zP"),y=n("XxrX"),v=n("6lhv"),C=n("gOzB"),O=n("NmGF"),w=n("BugA"),S=n("aIes"),k=n("xEVj"),A=n("zR/0"),E=n("S3HV"),x=n("hoSD"),I=n("ps/9"),j=n("dE97"),T=n("bO3R"),N=n("H37f"),L=n("3rlE"),P=n("yZqL"),B=n("H9T+"),F=n("HUX/");!function(e){e.Full=({card:e,actions:a})=>r.createElement(P.a,{footer:null,visualState:e.visualState,onFocus:()=>a.next({type:h.b.Type.alertCardShow,cardType:h.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(F.b)(e.renderOptions),body:r.createElement(n,{card:e}),mainActions:r.createElement(B.g,{card:e,feedbackActions:a}),subActions:null,extra:r.createElement(t,{card:e,actions:a})});const t=({card:e,actions:t})=>{const n=r.useContext(g.a.Context).card.sentenceLevelBrandTones;return r.createElement(w.l,{className:G.sentenceLevelBrandTonesFooter},n.helpfulFeedbackQuestion(e.activeAlert.emotion),r.createElement("div",{className:G.sentenceLevelBrandTonesFooterHelpfulFeedback},r.createElement(T.a.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-yes`,title:n.helpfulFeedbackYes,active:l.g.getEq(l.c.eqStrict).equals(e.activeAlert.feedback,l.g.some(j.l.accurate)),disabled:l.g.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:h.b.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:j.l.accurate})}},r.createElement(L.d.VoteYes,null)),r.createElement(T.a.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-no`,title:n.helpfulFeedbackNo,active:l.g.getEq(l.c.eqStrict).equals(e.activeAlert.feedback,l.g.some(j.l.inaccurate)),disabled:l.g.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:h.b.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:j.l.inaccurate}),t.next({type:h.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:f.a.isEligibleForDismissSurvey(e)})}},r.createElement(L.d.VoteNo,null))))},n=({card:e})=>{const t=r.useContext(g.a.Context),n=l.g.fromNullable(e.activeAlert.highlightTexts[0]);return r.createElement("div",null,r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement("div",null,r.createElement("div",{className:G.sentenceLevelBrandTonesHeaderWrapper},r.createElement("div",{className:G.sentenceLevelBrandTonesHeader},r.createElement(N.b,{className:G.sentenceLevelBrandTonesHeaderEmoji},e.activeAlert.emoji),x.f.capitalize(e.activeAlert.emotion)),r.createElement(C.a.Regular,{className:G.offBrandBadge},t.card.sentenceLevelBrandTones.offBrandBadge)),r.createElement(w.a,{className:G.sentenceLevelBrandTonesDescription},e.activeAlert.description),Object(o.pipe)(n,l.g.fold(i.constNull,t=>r.createElement(B.i,{text:t,layoutDensity:e.renderOptions.layoutDensity})))))}}(a||(a={}));const D={display:"flex",alignItems:"center",justifyContent:"space-between",background:u.a.CoreNeutral10,borderRadius:`${I.r} ${I.r} ${m.a.rem(I.s)} ${m.a.rem(I.s)}`,padding:`${m.a.rem(.3)} ${m.a.rem(1)}`,color:u.a.CoreNeutral50,fontSize:m.a.rem(.64)},R={display:"flex",alignItems:"center",$nest:{'& div[role="button"]:first-child':{marginRight:m.a.rem(.125)}}},$={display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:m.a.rem(1),marginBottom:m.a.rem(.625)},M={fontWeight:"bold",fontSize:m.a.rem(.875),lineHeight:m.a.rem(1)},_={marginRight:m.a.rem(.5),lineHeight:m.a.rem(1)},W={background:u.a.CoreRed1,color:u.a.CoreRed60,fontWeight:"bold",fontSize:m.a.rem(.6),lineHeight:m.a.rem(1)},H={marginBottom:m.a.rem(1)},G=m.a.stylesheet({offBrandBadge:[W],sentenceLevelBrandTonesHeaderWrapper:[$],sentenceLevelBrandTonesHeader:[M],sentenceLevelBrandTonesHeaderEmoji:[_],sentenceLevelBrandTonesFooter:[D],sentenceLevelBrandTonesFooterHelpfulFeedback:[R],sentenceLevelBrandTonesDescription:[H]});var q=n("1w6p"),V=n("6fbX"),z=n("wOnQ"),U=n("fEss"),Y=n("IdhR");const X=({card:e,actions:t,disabled:n})=>Object(B.w)(e.activeAlert,e.renderOptions.layoutDensity)?r.createElement(Y.a,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:n}):null,K=q.b.Grid.make(({slots:e,state:t,notify:n})=>r.createElement(c.a.Fragment,null,t.pipe(A.a.map(t=>r.createElement(B.s,{card:t,actions:{next:e=>n(e)(),error:i.constVoid,complete:i.constVoid},isChecking:A.a.of(!1),isCheckingGlobal:A.a.of(!1),cardBody:Object(i.constant)(r.createElement(c.a.Fragment,null,e.body)),cardTheme:{contentBody:Z.contentBody}}))))),Z=m.a.stylesheet({contentBody:[{paddingLeft:0}]}),Q=q.b.Knot.make(K,{body:q.b.Node.make(()=>{const e=r.useContext(g.a.Context);return r.createElement("div",{className:te.container},r.createElement(U.a,{theme:{container:te.animation}}),r.createElement(w.a,{className:te.label},e.card.shortenIt.loadingLabel))})}),J={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:m.a.rem(.25)},ee={paddingLeft:m.a.rem(.5)},te=m.a.stylesheet({container:[J],animation:[{transform:"scale(.7)"}],label:[ee]}),ne=(e,t)=>q.a.composeKnot({body:Object(i.constant)(A.a.of(null)),root:q.a.fromSideEffect(e=>{t.next(e)},e)}),ae=q.b.Knot.make(K,{body:q.b.Node.make(()=>{const e=r.useContext(g.a.Context);return r.createElement("div",{className:oe.container},r.createElement(L.d.ValidationOk,null),r.createElement(w.a,{className:oe.label},e.card.shortenIt.notFoundLabel))})}),re={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:m.a.rem(.25)},ie={paddingLeft:m.a.rem(.5)},oe=m.a.stylesheet({container:[re],label:[ie]}),se=(e,t)=>q.a.composeKnot({body:Object(i.constant)(A.a.of(null)),root:q.a.fromSideEffect(e=>{t.next(e)},e)});var ce=n("D57K"),le=n("gy42"),de=n("0Hf4"),ue=n("wJHk");const pe=q.b.Node.make(({state:e})=>r.createElement(c.a.Fragment,null,e.pipe(A.a.map(({collapsed:e,text:t})=>e?r.createElement("span",{className:Be.shortenItCollapsedDelete},r.createElement(L.d.EllipsisSmall,{width:13,className:Be.shortenItCollapsedIcon})):r.createElement("span",{className:Be.shortenItDelete},t))))),me=/^\W/,ge=q.b.Node.make(({state:e})=>r.createElement(c.a.span,{className:e.pipe(A.a.map(e=>me.test(e.text)?Be.shortenItInsertPunctuation:Be.shortenItInsert))},e.pipe(A.a.map(e=>e.text)))),fe=q.b.Node.make(({state:e})=>r.createElement(c.a.span,null,e.pipe(A.a.map(e=>e.text)))),he=q.b.Union.make("kind",{insert:ge,delete:pe,text:fe}),be=q.b.Grid.make(({slots:e,state:t,notify:n})=>{const a=r.useContext(g.a.Context).card.shortenIt.collapsedButtonTooltip;return r.createElement(c.a.Fragment,null,t.pipe(A.a.map(({isReviewableGroup:t,isInReview:o,group:s})=>Object(i.pipe)(s,l.g.filter(()=>t),l.g.fold(()=>e.parts,t=>o?r.createElement("span",{ref:e=>{e&&Object(i.pipe)(l.g.fromNullable(e.offsetParent),l.g.map(e=>e.getBoundingClientRect()),l.g.tap(a=>{const r=e.getBoundingClientRect();n({kind:"editGroupExpanded",group:t,offsetRect:{width:r.width,height:r.height,top:r.top-a.top,left:r.left-a.left},offsetParentSize:{width:a.width,height:a.height}})()}))},className:Be.shortenItEditGroupExpanded},e.parts):r.createElement(T.a,{name:"shorten-it-review-change",className:Be.shortenItEditGroupButton,animationMode:ue.a.FromClickPoint,title:a,onClick:n({kind:"reviewEdit",group:t})},e.parts))))))}),ye=q.b.Knot.make(be,{parts:q.b.List.make(l.a.array,he)}),ve=q.b.List.make(l.a.array,ye),Ce=q.b.Grid.make(({slots:e,state:t})=>r.createElement(w.a,{className:t.pipe(A.a.map(e=>Object(i.pipe)(e,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>Be.minimalShortenItBackground,()=>Be.shortenItBackground))))},e.labels)),Oe=q.b.Knot.make(Ce,{labels:ve}),we="cards-replacements_labels-",Se={shortenItBackground:`${we}shortenItBackground`,minimalShortenItBackground:`${we}minimalShortenItBackground`,shortenItDelete:`${we}shortenItDelete`,shortenItInsert:`${we}shortenItInsert`,shortenItInsertPunctuation:`${we}shortenItInsertPunctuation`,shortenItEditGroupButton:`${we}shortenItEditGroupButton`,shortenItEditGroupExpanded:`${we}shortenItEditGroupExpanded`,shortenItCollapsedDelete:`${we}shortenItCollapsedDelete`,shortenItCollapsedDeleteButton:`${we}shortenItCollapsedDeleteButton`,shortenItCollapsedIcon:`${we}shortenItCollapsedIcon`},ke={overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${m.a.rem(1)} 0`,color:u.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontFeatureSettings:`${I.e}, ${I.f}`},Ae={color:u.a.CoreRed50,textDecoration:"line-through",fontWeight:400},Ee={color:u.a.CoreBlue50,fontWeight:600},xe={transitionProperty:"background-color",transitionDuration:".2s",padding:`0 0 ${m.a.rem(.2)} 0`,display:"inline",whiteSpace:"unset",verticalAlign:"unset",borderWidth:"1px",borderStyle:"solid",borderRadius:m.a.rem(I.t)},Ie=Object.assign(Object.assign({},xe),{backgroundColor:u.a.CoreNeutral1,borderColor:u.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:u.a.CoreBlue10,borderColor:u.a.CoreBlue10}}}),je=Object.assign(Object.assign({},xe),{backgroundColor:u.a.CoreBlue10,borderColor:u.a.CoreBlue10,position:"relative"}),Te={display:"inline-block",width:m.a.rem(1),lineHeight:m.a.rem(.625),height:m.a.rem(.625),margin:`0 ${m.a.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:m.a.rem(I.u)},Ne=Object.assign({},Te),Le=Object.assign(Object.assign({},Te),{backgroundColor:u.a.CoreNeutral20,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:u.a.CoreBlue10}}}),Pe={minWidth:"unset",minHeight:"unset",paddingBottom:m.a.rem(.125),fill:u.a.CoreBlue50,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:u.a.CoreNeutral50}}},Be={shortenItBackground:m.a.joinClasses([Se.shortenItBackground,m.a.style(ke),de.a.style(ke)]),minimalShortenItBackground:m.a.joinClasses([Se.minimalShortenItBackground,m.a.style(ke,{lineHeight:m.a.rem(1.3125)}),de.a.style(ke,{lineHeight:m.a.rem(1.3125)})]),shortenItDelete:m.a.joinClasses([Se.shortenItDelete,m.a.style(Ae),de.a.style(Ae)]),shortenItInsert:m.a.joinClasses([Se.shortenItInsert,m.a.style(Ee),de.a.style(Ee)]),shortenItInsertPunctuation:m.a.joinClasses([Se.shortenItInsertPunctuation,m.a.style(Ee),de.a.style(Ee)]),shortenItEditGroupButton:m.a.joinClasses([Se.shortenItEditGroupButton,m.a.style(Ie),de.a.style(Ie)]),shortenItEditGroupExpanded:m.a.joinClasses([Se.shortenItEditGroupExpanded,m.a.style(je),de.a.style(je)]),shortenItCollapsedDelete:m.a.joinClasses([Se.shortenItCollapsedDelete,m.a.style(Ne),de.a.style(Ne)]),shortenItCollapsedDeleteButton:m.a.joinClasses([Se.shortenItCollapsedDeleteButton,m.a.style(Le),de.a.style(Le)]),shortenItCollapsedIcon:m.a.joinClasses([Se.shortenItCollapsedIcon,m.a.style(Pe),de.a.style(Pe)])};m.a.cssRule(`.${Se.shortenItDelete} + .${Se.shortenItInsert}`,{marginLeft:m.a.rem(.25)});const Fe=q.b.Grid.make(({state:e,view:t,notify:n,slots:a})=>{const o=r.useContext(g.a.Context),l=Object.assign(Object.assign({},le.b.noopObserver()),{next:e=>n(e)()}),u=k.a.useMemoOnDidMount(()=>s.a.create(!1));return k.a.useSubscriptionTo(t("transformHidden").pipe(A.a.tap(le.b.toAtom(u)))),r.createElement(c.a.Fragment,null,e.pipe(A.a.map(({item:e})=>r.createElement(P.a,{visualState:e.visualState,onFocus:n({type:h.b.Type.alertCardShow,cardType:h.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOut:n({type:h.b.Type.hover,kind:"unhover",id:e.id}),onMouseOver:n({type:h.b.Type.hover,kind:"hover",id:e.id}),theme:Object.assign({content:t("isCheckingGlobal").pipe(A.a.map(Object(d.c)(Ve.loadingWrapperInvisible,Ve.loadingWrapper)))},Object(F.b)(e.renderOptions)),mainActions:r.createElement(B.e,{card:e,feedbackActions:l}),subActions:r.createElement(X,{card:e,actions:l}),body:r.createElement(r.Fragment,null,r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.a.Regular,null,o.beta)}),Object(i.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(B.f,{description:e.meta.explanation,actions:{next:e=>n(e)(),error:i.constVoid,complete:i.constVoid},layoutDensity:e.renderOptions.layoutDensity}))),r.createElement(c.a.div,{className:t("transformHidden").pipe(A.a.map(Object(d.c)(Ve.transformHidden,void 0)))},a.transform)),footer:r.createElement(r.Fragment,null,r.createElement(B.h,{card:e}),r.createElement(c.a.div,{className:Ve.footerBtns},r.createElement(B.r,{className:Ve.applyButton,spinnerClassName:Ve.applyButtonSpinner,messageClassName:Ve.applyButtonMessage,applyMessage:e.activeAlert.todoAction,checkingMessage:o.card.shortenIt.acceptButtonCheckingLabel,checkingInProgress:u,onClick:S.d.callOnce(n({type:h.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.a.isEligibleForGbPrompt(e),cardType:h.b.getCardType(e)}))}))),extra:r.createElement(B.c,{isChecking:t("isCheckingGlobal")})}))))}),De=q.b.Grid.make(({slots:e,state:t,notify:n})=>{const a=r.useContext(g.a.Context).card.shortenIt,{ref:o,onMount:s}=k.a.useElWatcher(),d=A.b.compact(t).pipe(A.a.map(e=>e.group),A.a.distinctUntilChanged(),A.a.switchMap(e=>o.pipe(A.b.compactMap(t=>le.a.getResizeObservable(t).pipe(A.a.map(()=>({width:t.clientWidth,height:t.clientHeight})),A.a.startWith({width:t.clientWidth,height:t.clientHeight}),A.a.distinctUntilChanged(x.c.Box.eq.equals),A.a.tap(t=>n(Object.assign(Object.assign({kind:"editPopupSize"},t),{group:e}))()))))));return k.a.useSubscriptionTo(d),r.createElement(c.a.div,{className:Ve.editPopupContainer},e.replacementLabels,t.pipe(A.a.map(l.g.fold(i.constNull,e=>{var{group:t}=e,i=Object(ce.__rest)(e,["group"]);return r.createElement(c.a.div,{className:Ve.editPopup,style:"withPosition"===i.kind?{transform:`translate(${i.left}px, ${i.top}px)`,visibility:"visible",opacity:1}:"withoutPosition"===i.kind?{visibility:"hidden",opacity:0}:Object(V.d)(i),mount:s},r.createElement(T.a.Primary,{name:"shorten-it-keep-change",onClick:n({kind:"keepEdit",group:t})},a.editPopupKeepButtonLabel),r.createElement(T.a.Tertiary,{name:"shorten-it-dismiss-change",onClick:n({kind:"dismissEdit",group:t})},a.editPopupDismissButtonLabel))}))))}),Re=q.b.Knot.make(De,{replacementLabels:Oe}),$e=q.b.Knot.make(Fe,{transform:Re}),Me={padding:`0 ${m.a.rem(1)}`},_e={display:"flex",flexDirection:"row",padding:m.a.rem(.25),position:"absolute",backgroundColor:u.a.CoreNeutral0,boxShadow:"0px 0px 0.5px rgba(0, 0, 0, 0.7), 0px 2px 8px rgba(26, 33, 52, 0.2)",borderRadius:m.a.rem(I.t),zIndex:1,top:0,left:0,transition:"visibility 0.15s linear, opacity 0.15s linear"},We={$nest:{"&[data-disabled='true']":{backgroundColor:u.a.CoreNeutral10,color:u.a.CoreNeutral40}}},He={$nest:{"& circle":{stroke:u.a.CoreNeutral40}}},Ge={paddingRight:m.a.rem(.25)},qe={transition:`opacity ${m.a.seconds(B.u)}`},Ve=m.a.stylesheet({loadingWrapper:[qe],loadingWrapperInvisible:[qe,{opacity:0,pointerEvents:"none"}],footerBtns:[{display:"flex"}],expandEditsBtn:[Me],editPopupContainer:[{position:"relative"}],editPopup:[_e],applyButton:[We],applyButtonSpinner:[He],applyButtonMessage:[Ge],transformHidden:[{pointerEvents:"none",opacity:.5}]});var ze=n("GRZr");const Ue=(e,t,n)=>q.a.composeKnot({root:q.a.fromSideEffect(i.constVoid,e.pipe(A.a.map(e=>e.renderOptions.layoutDensity))),labels:a=>A.a.mergeStatic(a.pipe(A.a.withLatestFrom(e),A.a.tap(([e,a])=>{const r=e.action.action;switch(r.kind){case"reviewEdit":t.set(l.g.some({groupId:r.group,expandedEdit:l.g.none,popupSize:l.g.none,popupPosition:l.g.none})),n.next({type:h.b.Type.shortenItReviewEdit,alertId:a.activeAlert.id,itemId:a.id,group:r.group});break;case"editGroupExpanded":t.set(Object(i.pipe)(t.get(),l.g.filter(e=>e.groupId===r.group),l.g.fold(()=>l.g.some({groupId:r.group,popupSize:l.g.none,popupPosition:l.g.none,expandedEdit:l.g.some({offsetRect:r.offsetRect,offsetParentSize:r.offsetParentSize})}),e=>l.g.some(Object.assign(Object.assign({},e),{expandedEdit:l.g.some({offsetRect:r.offsetRect,offsetParentSize:r.offsetParentSize})})))));break;default:Object(V.d)(r)}}),A.a.switchMap(()=>A.a.NEVER)),A.a.sequenceS({item:e,editsInReview:t}).pipe(A.a.map(({item:e,editsInReview:t})=>Object(i.pipe)(e.transform,l.g.filter(z.j.isShortenIt),l.g.map(x.e.pick("labels")),l.g.map(t=>Object(i.pipe)(t,l.a.filterMap(t=>Object(i.pipe)(t.group,l.g.fold(i.constFalse,t=>e.activeAlert.dismissedTransformGroups.has(t)))?t.type===z.k.Delete?l.g.some(Object.assign(Object.assign({},t),{type:z.k.Text})):t.type===z.k.Insert?l.g.none:l.g.some(t):l.g.some(t)))),l.g.fold(()=>[],Object(i.flow)(l.a.reduce([],(e,n)=>{const a=n.type===z.k.Delete?{kind:n.type,text:n.text,collapsed:Object(i.pipe)(n.group,l.g.fold(()=>{var e;return null!==(e=n.shouldBeCollapsed)&&void 0!==e&&e},e=>!Object(i.pipe)(t,l.g.exists(t=>t.groupId===e)))),group:n.group}:n.type===z.k.Insert||n.type===z.k.Text?{kind:n.type,text:n.text,group:n.group}:Object(V.d)(n);return e.length>0&&l.g.getEq(l.c.eqString).equals(e[e.length-1].group,n.group)&&l.g.isSome(n.group)?e.slice(0,-1).concat({group:n.group,parts:e[e.length-1].parts.concat(a)}):e.concat({group:n.group,parts:[a]})}),l.a.map(e=>({root:{isReviewableGroup:e.parts.length>1||1===e.parts.length&&e.parts[0].kind!==z.k.Text,isInReview:Object(i.pipe)(e.group,l.g.fold(i.constFalse,e=>Object(i.pipe)(t,l.g.exists(t=>t.groupId===e)))),group:Object(i.pipe)(e.parts.map(e=>e.group),Object(ze.fold)(l.g.getFirstMonoid()))},parts:e.parts}))))))))}),Ye=(e,t,n,a,r,i)=>q.a.composeKnot({root:a=>A.a.mergeStatic(a.pipe(A.a.tap(e=>{e.type===h.b.Type.hover&&i.next("hover"===e.kind),n.next(e)}),A.a.switchMap(()=>A.a.NEVER)),A.a.sequenceS({item:e,isCheckingGlobal:t,transformHidden:r})),transform:q.a.composeKnot({root:Xe(e,a,n),replacementLabels:Ue(e,a,n)})});const Xe=(e,t,n)=>a=>A.a.mergeStatic(a.pipe(A.a.withLatestFrom(e),A.a.tap(([e,a])=>{"editPopupSize"===e.kind?t.set(Object(i.pipe)(t.get(),l.g.filter(t=>t.groupId===e.group),l.g.fold(()=>l.g.some({groupId:e.group,expandedEdit:l.g.none,popupPosition:l.g.none,popupSize:l.g.some({width:e.width,height:e.height})}),t=>l.g.some(Object.assign(Object.assign({},t),{popupSize:l.g.some({width:e.width,height:e.height})}))))):function(e,t,n,a){switch(n.set(Object(i.pipe)(n.get(),l.g.filter(e=>e.groupId!==t.group))),t.kind){case"dismissEdit":a.next({type:h.b.Type.shortenItDismissEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group}),e.activeAlert.transformGroups.size===new Set(e.activeAlert.dismissedTransformGroups).add(t.group).size&&a.next({type:h.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:f.a.isEligibleForDismissSurvey(e)});break;case"keepEdit":a.next({type:h.b.Type.shortenItKeepEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group});break;default:Object(V.d)(t.kind)}}(a,e,t,n)}),A.a.switchMap(()=>A.a.NEVER)),t.view(l.g.chain(e=>Object(i.pipe)(e.expandedEdit,l.g.map(t=>Object(i.pipe)(e.popupSize,l.g.fold(()=>({kind:"withoutPosition",group:e.groupId}),n=>Object.assign({kind:"withPosition",group:e.groupId},function(e,t,n=-10){const a=t.offsetRect.top+t.offsetRect.height,r=t.offsetRect.left+n;if(r+e.width>t.offsetParentSize.width)return{top:a,left:t.offsetParentSize.width-e.width};return{top:a,left:r}}(n,t)))))))));const Ke={loading:Q,summary:$e,notFound:ae},Ze=q.b.Union.make("kind",Ke),Qe=e=>e.pipe(A.a.map(e=>{const t=e.activeAlert.summaryState,n=l.g.fold(i.constFalse,z.j.isShortenIt)(e.transform);switch(t){case j.m.SummaryState.notFound:return{kind:"notFound"};case j.m.SummaryState.notRequested:return{kind:"loading"};case j.m.SummaryState.requestSent:return n?{kind:"summary"}:{kind:"loading"};case j.m.SummaryState.invalidated:case j.m.SummaryState.received:return{kind:"summary"};default:Object(V.d)(t)}}));var Je;(Je||(Je={})).Full=e=>{const t=k.a.useAtomOf(e.card),{isChecking:n,isCheckingGlobal:a}=function(e,t,n){const a=k.a.useAtomOf({isWaiting:e.activeAlert.summaryState===j.m.SummaryState.requestSent||e.activeAlert.summaryState===j.m.SummaryState.invalidated,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return k.a.useMemoOnDidMount(()=>({isChecking:A.a.combineLatestStatic([t,a]).pipe(A.a.map(([e,t])=>e||t.isWaiting&&t.cardIsOpen),A.a.distinctUntilChanged()),isCheckingGlobal:A.a.combineLatestStatic([n,a]).pipe(A.a.map(([e,t])=>e||t.isWaiting&&!t.cardIsOpen),A.a.distinctUntilChanged())}))}(e.card,e.isChecking,e.isCheckingGlobal),{transformHidden:o,isMouseInside:c}=Object(B.A)(n),d=k.a.useMemoOnDidMount(()=>s.a.create(l.g.none)),u=k.a.useMemoOnDidMount(()=>t.pipe(A.a.map(Object(i.flow)(x.e.pick("transform"),l.g.filter(z.j.isShortenIt))),A.a.skipBy(l.g.getEq(z.j.ShortenIt.eq)),A.a.map(()=>l.g.none),A.a.tap(le.b.toAtom(d))));return k.a.useSubscriptionTo(u),r.createElement(r.Fragment,null,q.b.mount(Ze,((e,t,n,a,r,i)=>q.a.composeUnion({loading:ne(e,n),notFound:se(e,n),summary:Ye(e,t,n,a,r,i)},()=>Qe(e)))(t,a,e.actions,d,o,c)))};var et=n("r/bb");const tt=({card:e,actions:t})=>{const n=r.useContext(g.a.Context),a=l.g.isNone(e.activeAlert.takeawayFeedback)?n.card.takeaway.defaultTitle:e.activeAlert.title,s=l.g.fromNullable(e.activeAlert.highlightTexts[0]),c=Object(o.pipe)(e.activeAlert,l.g.fromPredicate(e=>!e.takeawayIsLikelyToBeRead&&l.g.contains(j.q.correctlyDetected)(e.takeawayFeedback)),l.g.map(()=>e.meta.explanation));return r.createElement(r.Fragment,null,Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions},r.createElement(B.p,{text:f.a.miniTitle(e,n)})),()=>r.createElement(r.Fragment,null,r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(B.o,{text:a})))),Object(o.pipe)(s,l.g.fold(i.constNull,t=>r.createElement(B.i,{text:t,layoutDensity:e.renderOptions.layoutDensity}))),Object(o.pipe)(c,l.g.fold(i.constNull,n=>r.createElement(B.f,{description:n,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))},nt=({card:e,feedbackActions:t})=>r.createElement(r.Fragment,null,r.createElement(T.a.Ghost,{name:"takeaway-like",onClick:S.d.callOnce(()=>{var n;return t.next({type:h.b.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(n=e.activeAlert.highlightTexts[0])&&void 0!==n?n:"",isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})})},r.createElement(L.d.YesCircle,null)," Yes"),r.createElement(T.a.Ghost,{name:"takeaway-dislike",onClick:S.d.callOnce(()=>t.next({type:h.b.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id}))},r.createElement(L.d.NoCircle,null)," No")),at=({card:e,feedbackActions:t})=>{const n=r.useContext(g.a.Context);return r.createElement(r.Fragment,null,r.createElement(T.a.Ghost,{name:"resolve",title:n.resolve,onClick:S.d.callOnce(()=>t.next({type:h.b.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},r.createElement(L.d.YesCircle,null)),r.createElement(T.a.Ghost,{name:"ignore",title:n.dismiss,ariaLabel:n.dismiss,onClick:S.d.callOnce(()=>t.next({type:h.b.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},r.createElement(L.d.Ignore,null)))};function rt(e){return!l.g.isNone(e.takeawayFeedback)&&!(!l.g.isSome(e.examples)&&!l.g.isSome(e.details))}const it=e=>Object.assign(Object.assign({},Object(F.a)(e.layoutDensity)),{wrapper:Object(o.pipe)(e.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>ct.minimalCardWrapper,()=>void 0))});var ot;(ot||(ot={})).Full=({card:e,actions:t})=>r.createElement(P.a,{visualState:e.visualState,onFocus:()=>t.next({type:h.b.Type.alertCardShow,cardType:h.b.getCardType(e),alertId:e.activeAlert.id}),theme:it(e.renderOptions),body:r.createElement(tt,{card:e,actions:t}),mainActions:l.g.isNone(e.activeAlert.takeawayFeedback)?r.createElement(nt,{card:e,feedbackActions:t}):r.createElement(at,{card:e,feedbackActions:t}),footer:rt(e.activeAlert)?r.createElement(B.h,{card:e}):null,subActions:rt(e.activeAlert)?r.createElement(Y.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});const st={padding:`${m.a.rem(.75)} ${m.a.rem(.5)} ${m.a.rem(.5)} ${m.a.rem(1)}`},ct=m.a.stylesheet({minimalCardWrapper:[st]});var lt=n("CxAE"),dt=n("cVtq"),ut=n("f9Xq"),pt=n("DPCN"),mt=n("9NHN");const gt=e=>m.a.style({textDecoration:"line-through",color:u.a[e],fontWeight:"bold"}),ft=e=>m.a.style({color:u.a[e],fontWeight:"bold"}),ht=e=>m.a.style({backgroundImage:`linear-gradient(to top left,\n        rgba(0,0,0,0) 0%,\n        rgba(0,0,0,0) calc(50% - 0.5px),\n        ${u.a[e]} 50%,\n        rgba(0,0,0,0) calc(50% + 0.5px),\n        rgba(0,0,0,0) 100%)`}),bt=e=>m.a.style({fontWeight:"bold",padding:`${m.a.rem(.0625)} ${m.a.rem(.21875)} ${m.a.rem(.0625)} ${m.a.rem(.21875)}`,border:`1px solid ${u.a[e]}`,borderRadius:m.a.rem(.125),color:u.a[e]}),yt=m.a.style({fontSize:m.a.rem(.875),letterSpacing:"0px",fontStyle:"italic",lineHeight:m.a.rem(1.3125),padding:`${m.a.rem(.15625)} 0`}),vt=/[\d\w&]/,Ct=e=>1===e.length&&!vt.test(e),Ot=e=>"text"===(null==e?void 0:e.type)?null:r.createElement("span",{className:yt}," "),wt=e=>r.createElement(r.Fragment,null,e.replacement.labels.map(((e,t,n)=>(a,r,i)=>{const o=i[r-1];switch(a.type){case"insert":return e(a,o);case"delete":return t(a,o);case"text":return n(a,o);default:throw new pt.AssertionError({message:"Unexpected citation alert transform part:"+JSON.stringify(a)})}})((e,t)=>r.createElement(r.Fragment,null,Ot(t),r.createElement("span",Object.assign({},Object(mt.c)(...(e=>[Ct(e)?bt(ut.a.Color.CoreBlue50):ft(ut.a.Color.CoreBlue50),yt])(e.text))),e.text)),(e,t)=>r.createElement(r.Fragment,null,Ot(t),r.createElement("span",Object.assign({},Object(mt.c)(...(e=>Ct(e)?[bt(ut.a.Color.CoreRed50),ht(ut.a.Color.CoreRed50),yt]:[gt(ut.a.Color.CoreRed50),yt])(e.text))),e.text)),e=>r.createElement("span",{className:yt},e.text)))),St=({card:e,actions:t,isChecking:n,isCheckingGlobal:a})=>{const o=r.useContext(g.a.Context);return r.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(i.constant)(r.createElement(B.k,{card:e,actions:t,isChecking:n})),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(B.h,{card:e}),r.createElement("div",{className:Dt.fullSentenceCardFooterBtns},r.createElement(B.r,{title:o.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:S.d.callOnce(()=>{t.next({type:h.b.Type.alertApply,id:e.id,eligibleForSurvey:f.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.a.isEligibleForGbPrompt(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:h.b.getCardType(e)})})})))})},kt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:d})=>{const u=r.useContext(g.a.Context),m=s.a.create(!0);return k.a.useSubscriptionTo(Object(o.pipe)(m,A.a.skip(1),A.a.tap(e=>t.next({type:h.b.Type.fullSentenceHighlightChangesToggle,showChanges:e})))),r.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(i.constant)(r.createElement(c.a.Fragment,null,r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(Nt,{isNew:e.renderOptions.isNew,actions:t}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))),r.createElement(v.b,{classes:{rendered:Dt.replacement,removing:Dt.replacementHidden},timeout:250,content:m.pipe(A.a.combineLatest(d,(t,n)=>Object(o.pipe)(n,l.g.fold(()=>(p.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null),n=>r.createElement(dt.c,{replacements:n,showDiff:t,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)})))))}),r.createElement(B.l,{card:e,isChecking:n}))),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(B.h,{card:e}),r.createElement(c.a.div,{className:Dt.fullSentenceCardFooterBtns},r.createElement(B.r,{title:d.pipe(A.a.map(l.g.fold(()=>"",e=>u.card.todoAction(e.tooltipText)))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:S.d.callOnce(()=>{t.next({type:h.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.a.isEligibleForGbPrompt(e),cardType:h.b.getCardType(e)})})}),r.createElement(O.a,{className:Dt.fullSentenceCardCheckbox,checked:m,name:"set-goals"},u.card.showChangesToggle)))})},At=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:s})=>{const l=r.useContext(g.a.Context);return r.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(i.constant)(r.createElement(c.a.Fragment,null,r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(Nt,{isNew:e.renderOptions.isNew,actions:t}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity,className:Rt.description}))),r.createElement(v.b,{classes:{rendered:Dt.replacement,removing:Dt.replacementHidden},timeout:250,content:s.pipe(A.a.map(e=>r.createElement(wt,{replacement:e.value})))}),r.createElement(B.l,{card:e,isChecking:n}))),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(B.h,{card:e}),r.createElement(c.a.div,{className:Dt.fullSentenceCardFooterBtns},r.createElement(B.r,{title:l.card.todoAction(e.activeAlert.todoAction),applyMessage:"Reformat",checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:S.d.callOnce(()=>{t.next({type:h.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.a.isEligibleForGbPrompt(e),cardType:h.b.getCardType(e)})})})))})},Et=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:s})=>{const u=r.useContext(g.a.Context),m=Object(o.pipe)(e.userInput,l.g.getOrElse(Object(i.constant)("")));return r.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>r.createElement(r.Fragment,{key:"content"},r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(Nt,{isNew:e.renderOptions.isNew,actions:t}),r.createElement(c.a.div,{className:a.pipe(A.a.map(Object(d.c)(Dt.transformContainerInvisible,Dt.transformContainer)))},r.createElement(v.b,{classes:{rendered:Dt.replacement,removing:Dt.replacementHidden},timeout:250,content:s.pipe(A.a.map(l.g.fold(()=>(p.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>r.createElement(dt.e,{key:"label",gapValue:m,replacements:n,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast),onFocus:()=>t.next({type:h.b.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:n=>t.next({type:h.b.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:n}),onApply:S.d.callOnce(()=>t.next({type:h.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:f.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.a.isEligibleForGbPrompt(e),cardType:h.b.getCardType(e)}))}))))})),r.createElement(w.j,{className:a.pipe(A.a.map(Object(d.c)(Dt.transformHint,Dt.transformHintInvisible)))},u.card.updatingSuggestion),r.createElement(B.l,{card:e,isChecking:n}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(B.h,{card:e}))})},xt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:s})=>{const u=r.useContext(g.a.Context);return r.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>r.createElement(r.Fragment,null,r.createElement(c.a.Fragment,null,r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(C.a.Regular,{a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)},u.beta)})),r.createElement(c.a.div,{className:a.pipe(A.a.map(Object(d.c)(Dt.transformContainerInvisible,Dt.transformContainer)))},r.createElement(v.b,{classes:{rendered:Dt.replacement,removing:Dt.replacementHidden},timeout:250,content:s.pipe(A.a.map(l.g.fold(()=>(p.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>{const a=Object(o.pipe)(e.synfonySelection,l.g.getOrElse(()=>[]));return r.createElement(dt.b,{replacements:n,onClick:n=>S.d.callOnce(()=>{t.next({type:h.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,cardType:h.b.getCardType(e),id:e.id,eligibleForSurvey:f.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.a.isEligibleForGbPrompt(e),drilldownSuggestionIds:a})}),onDive:(n,r)=>t.next({type:h.e.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:n,cardId:e.id,alternativeId:r,drilldownSuggestionIds:a}),onBack:()=>t.next({type:h.e.Kind.back,cardId:e.id}),selection:a,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)})})))})),r.createElement(w.j,{className:a.pipe(A.a.map(Object(d.c)(Dt.transformHint,Dt.transformHintInvisible)))},u.card.updatingSuggestion),r.createElement(B.l,{card:e,isChecking:n}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(B.h,{card:e}))})},It=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:s})=>{const u=r.useContext(g.a.Context);return r.createElement(jt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>r.createElement(r.Fragment,null,r.createElement(B.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(c.a.div,{className:a.pipe(A.a.map(Object(d.c)(Dt.transformContainerInvisible,Dt.transformContainer)))},r.createElement(v.b,{classes:{rendered:Dt.replacement,removing:Dt.replacementHidden},timeout:250,content:s.pipe(A.a.map(l.g.fold(()=>(p.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>r.createElement(B.m,{rl:n,onClick:n=>S.d.callOnce(()=>{t.next({type:h.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,id:e.id,eligibleForSurvey:f.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:f.a.isEligibleForGbPrompt(e),cardType:h.b.getCardType(e)})}),layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)}))))})),r.createElement(w.j,{className:a.pipe(A.a.map(Object(d.c)(Dt.transformHint,Dt.transformHintInvisible)))},u.card.updatingSuggestion),r.createElement(B.l,{card:e,isChecking:n}),Object(o.pipe)(e.renderOptions.layoutDensity,y.a.Density.matchOrDefault(y.a.Density.minimal)(()=>null,()=>r.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(B.h,{card:e}))})},jt=e=>{var t,n,a;return r.createElement(B.s,Object.assign({},e,{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:Object(i.constant)(r.createElement(B.b,{card:e.card,actions:e.actions})),mainActions:null!==(n=e.mainActions)&&void 0!==n?n:Object(i.constant)(r.createElement(B.e,{card:e.card,feedbackActions:e.actions})),subActions:null!==(a=e.subActions)&&void 0!==a?a:Object(i.constant)(r.createElement(B.n,{card:e.card,actions:e.actions}))}))},Tt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o})=>b.a.isSentenceLevelBrandTonesItem(e)?r.createElement(a.Full,{card:e,actions:t}):b.a.isTakeawayItem(e)?r.createElement(ot.Full,{card:e,actions:t}):b.a.isShortenItItem(e)?r.createElement(Je.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):b.a.isToneAIItem(e)?r.createElement(lt.a.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):b.a.isEthicalAIItem(e)?r.createElement(E.a.Full,{card:e,actions:t,isChecking:n}):b.a.isSuggestedSnippetItem(e)?r.createElement(et.a.Full,{card:e,actions:t,isChecking:n}):f.a.hasTransform(e)?f.a.hasFullSentenceTransform(e)?r.createElement(kt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):f.a.hasCitationTransform(e)?r.createElement(At,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):f.a.hasOneGapTransform(e)?r.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):f.a.hasSynfonyTransform(e)?r.createElement(xt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):r.createElement(It,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):f.a.isSimple(e)?r.createElement(St,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):r.createElement(B.t,{card:e,actions:t,isChecking:n}),Nt=e=>r.createElement(c.a.Fragment,null,e.isNew.pipe(A.a.map(l.g.fold(i.constNull,t=>r.createElement(B.d,{type:t,actions:e.actions,key:"new-notification"}))),A.a.startWith(null))),Lt={transition:`opacity ${m.a.seconds(B.u)}`,transitionDelay:m.a.seconds(B.u)},Pt={position:"absolute",top:m.a.rem(2),color:u.a.CoreNeutral40,lineHeight:m.a.rem(2),transition:`opacity ${m.a.seconds(B.u)}`,transitionDelay:m.a.seconds(B.u)},Bt={transition:`opacity ${m.a.seconds(B.u)}`},Ft={fontSize:m.a.rem(u.h.BodySize),lineHeight:m.a.rem(2.0625)},Dt=Object.assign({},m.a.stylesheet({invisible:[B.x],transformContainer:[Lt],transformContainerInvisible:[Lt,B.x,{transitionDelay:"initial"}],transformHint:[Pt],transformHintInvisible:[Pt,B.x,{transitionDelay:"initial"}],replacement:[Bt],replacementHidden:[Bt,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[Ft]})),Rt=m.a.prefixedStylesheet("withCitation",{description:[{$nest:{"& a":{backgroundImage:`repeating-linear-gradient(90deg, ${u.a.CoreBlue50}, ${u.a.CoreBlue50} 1px, transparent 1px, transparent 2px, ${u.a.CoreBlue50} 2px)`,backgroundSize:"100% 1px",backgroundPosition:"0 100%",backgroundRepeat:"no-repeat",borderBottom:"none",paddingBottom:m.a.px(1)}}}]})},lSTv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("lrqh"),o=n("Xo/A");!function(e){e.empty=o.a.empty,e.applyDiff=function(e){return Object(r.flow)(o.a.applyDiffLoose(e),i.b.mapLeft(e=>({recovered:e.recovered,rejected:e.rejected})))},e.toCheckingResult=function(e){return o.a.iso.wrap(e)}}(a||(a={}))},mHcA:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return v}));var a,r,i=n("I7vG"),o=n("FiSa"),s=n("SGhz"),c=n("24uI"),l=n("+JVj"),d=n("hoSD"),u=n("lrqh"),p=n("D9EC"),m=n("6fbX"),g=n("PrA7"),f=n("zR/0");function h(e){return null===e||d.f.isBreakWordChar(e.charCodeAt(0))}class b{constructor(e=0,t=!1){this._textLength=e,this._verify=t}pushChanges(e){o.a.isReset(e)?this._textLength=e.length:o.a.isDelta(e)&&(this._verify&&Object(s.g)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)}get textLength(){return this._textLength}}!function(e){e.create=e=>l.b.compose({id:e})}(a||(a={})),function(e){class t{registerRange(e,t){return a.create(e)(t)}deregisterRange(e){return l.b.empty}findClosestToPosition(e,t){return u.g.none}findRanges(e){return[]}widen(e){return Object(i.pipe)(e,e=>l.b.alterLeft(e,1),u.b.chain(e=>l.b.alterRight(e,1)),u.b.unsafeGet)}narrow(e){return Object(i.pipe)(e,u.g.fromPredicate(e=>l.b.size(e)>1),u.g.map(e=>Object(i.pipe)(e,e=>l.b.alterLeft(e,-1),u.b.chain(e=>l.b.alterRight(e,-1)),u.b.unsafeGet)))}}e.RangeManagerMock=t,e.mock=new t}(r||(r={}));const y=(e,t)=>{let n=0;const a=new Map;if(o.a.isFlush(e))return{affected:[],changed:[]};let r=t.length+1;return o.a.isReset(e)?t.forEach(e=>{e.start=0,e.end=0,a.set(e.meta.id,e)}):e.delta.ops.forEach(e=>{if(c.a.isRetain(e))n+=e.retain;else if(c.a.isInsert(e)){const i=n,o=d.a.lowerBound(t,e=>e.end<i),s=e.insert,c="string"==typeof s?s.length:1;if(n+=c,u.g.isSome(o)){const e="string"==typeof s?s.charAt(s.length-1):null,n="string"==typeof s?s.charAt(0):null;for(let r=o.value;r<t.length;++r){const o=t[r];o.start<i?o.end===i?h(n)||a.set(o.meta.id,o):(a.set(o.meta.id,o),o.end+=c):o.start===o.end&&o.end===i?h(n)||a.set(o.meta.id,o):(o.start!==i||h(e)||a.set(o.meta.id,o),o.start+=c,o.end+=c)}r>o.value&&(r=o.value)}}else if(c.a.isDelete(e)){const i=n,o=d.a.lowerBound(t,e=>e.end<=i);if(u.g.isSome(o)){const n=i+e.delete;for(let r=o.value;r<t.length;++r){const o=t[r];o.start,o.start<n?(a.set(o.meta.id,o),o.start<i?o.end=o.end-Math.min(e.delete,o.end-i):o.end<=n?(o.start=i,o.end=i):(o.start=i,o.end-=e.delete)):(o.start-=e.delete,o.end-=e.delete)}r>o.value&&(r=o.value)}}}),{changed:t.slice(r),affected:Array.from(a.values())}};class v{constructor(e=0,t=!1,n=!1){this._enableMPTE=t,this._strictMode=n,this._log=g.Monitoring.Logging.getLogger("position_manager",g.Logging.LogLevel.DEBUG),this._verifyState=this._log.isEnabled(g.Logging.LogLevel.INFO),this._ranges=new Map,this._rangesArray=[],this._rangeChanged=new f.a.Subject,this.rangeChanged=this._rangeChanged,this.rangeChangedMPTE=new f.a.Subject,this.widen=e=>(this._validateRange(e),Object(i.pipe)(e,e=>l.b.alterLeft(e,e.start<=0?0:1),u.b.chain(e=>l.b.alterRight(e,e.end>=this._lenCalc.textLength?0:1)),u.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))),this.narrow=e=>(this._validateRange(e),Object(i.pipe)(e,u.g.fromPredicate(e=>l.b.size(e)>1),u.g.map(e=>Object(i.pipe)(e,e=>l.b.alterLeft(e,e.meta.increasedLeft>0?-1:0),u.b.chain(e=>l.b.alterRight(e,e.meta.increasedRight>0?-1:0)),u.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))))),this._lenCalc=new b(e,this._verifyState),Object(p.r)("positions",()=>{this._log.info("PositionManager",this.toString()),this._verifyIsSorted()})}pushChanges(e){this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}const t=y(e,this._rangesArray);this._verifyState&&this._verifyIsSorted();const n={changed:t.changed,affected:t.affected.map(e=>this.getRange(e.meta.id))};return this._enableMPTE&&n.affected.length>0?this.rangeChangedMPTE.next(n.affected):(n.changed.length>0||n.affected.length>0)&&this._rangeChanged.next(n),n}registerRange(e,t){if(this._ranges.has(e))throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);const n=a.create(e)(t);return this._validateRange(n),this._ranges.set(e,n),this._rangesArray.push(n),this._rangesArray.sort(l.b.ord.compare),n}_validateRange(e){l.b.isValid(this._lenCalc.textLength)(e)||this._log.warn("Trying to modify corrupted range start",{range:JSON.stringify(e),length:this._lenCalc.textLength})}getRange(e){const t=this._ranges.get(e);if(void 0===t)throw new Error("Range is not registered");return t}findRanges(e){return this._rangesArray.filter(e)}deregisterRange(e){this._log.trace("deregisterRange #"+e);const t=this.getRange(e);this._verifyState&&this._verifyIsSorted(),this._ranges.delete(e);try{return Object(i.pipe)(d.a.lowerBound(this._rangesArray,e=>e.end<t.end),u.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length&&this._rangesArray[a].meta.id!==e;)a++;return Object(m.g)(a<this._rangesArray.length&&this._rangesArray[a].meta.id===e,"Range should be present: "+e),this._rangesArray.splice(a,1),t})}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}}findById(e){return u.g.fromNullable(this._ranges.get(e))}findByRange(e){const t=[];return Object(i.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.end),u.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length&&this._rangesArray[a].end===e.end;)this._rangesArray[a].start===e.start&&t.push(this._rangesArray[a]),a++;return t})}findIntersections(e){const t=[];return Object(i.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.start),u.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length;){const n=this._rangesArray[a];n.end>e.start&&e.end>n.start&&t.push(this._rangesArray[a]),a++}return t})}findClosestToPosition(e,t){const n=this._rangesArray.filter(t);return Object(i.pipe)(d.a.lowerBound(n,t=>e>=t.end),u.g.getOrElse(()=>n.length),t=>{const a=u.g.fromNullable(n[t]),r=u.g.fromNullable(n[t-1]);return Object(i.pipe)(a,u.g.map(t=>Object(i.pipe)(r,u.g.fold(()=>t,n=>{return t.start-e<=e-n.end?t:n}))),u.g.orElse(r))})}getRegisteredRanges(){return this._rangesArray}getTextLength(){return this._lenCalc.textLength}_verifyIsSorted(){for(let e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(g.Logging.LogLevel.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(l.b.ord.compare))}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{textLength:this.getTextLength(),ranges:this._rangesArray}}}},nb6X:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("a5W6"),o=n("5p8x"),s=n("fOOC"),c=n("I7vG"),l=n("gL5k"),d=n("6fbX"),u=n("lrqh");!function(e){var t,n,a;function p(e,n){var a=n.position,i=n.point,o={width:Math.trunc(e.width),height:Math.trunc(e.height)};return l.Rect.validate(t.match((function(){return Object(r.__assign)({top:i.y,right:i.x,bottom:i.y+o.height,left:i.x-o.width},o)}),(function(){return Object(r.__assign)({top:i.y-o.height,right:i.x,bottom:i.y,left:i.x-o.width},o)}),(function(){return Object(r.__assign)({top:i.y-o.height,right:i.x+o.width,bottom:i.y,left:i.x},o)}),(function(){return Object(r.__assign)({top:i.y,right:i.x+o.width,bottom:i.y+o.height,left:i.x},o)}))(a))}function m(t){return e.topLeft(l.Rect.Point.normalize({x:t.left,y:t.top}))}!function(e){e.topLeft="topLeft",e.topRight="topRight",e.bottomRight="bottomRight",e.bottomLeft="bottomLeft"}(t=e.Position||(e.Position={})),function(e){e.match=function(t,n,a,r){return function(i){switch(i){case e.topRight:return t();case e.bottomRight:return n();case e.bottomLeft:return a();case e.topLeft:return r();default:return Object(d.d)(i)}}}}(t=e.Position||(e.Position={})),e.topLeft=function(e){return{position:t.topLeft,point:l.Rect.Point.normalize(e)}},e.topRight=function(e){return{position:t.topRight,point:l.Rect.Point.normalize(e)}},e.bottomRight=function(e){return{position:t.bottomRight,point:l.Rect.Point.normalize(e)}},e.bottomLeft=function(e){return{position:t.bottomLeft,point:l.Rect.Point.normalize(e)}},e.relativeTo=function(e,t){return{position:e.position,point:l.Rect.Point.relativeTo(e.point,t)}},e.empty=e.topLeft(l.Rect.Point.empty),e.toRect=p,e.fromRect=m,e.inRect=function(e,t){var n=t.point;return l.Rect.hasPoint(e,n)},e.toCss=function(e){var n=e.position,a=e.point;return t.match((function(){return{top:a.y,right:a.x}}),(function(){return{right:a.x,bottom:a.y}}),(function(){return{bottom:a.y,left:a.x}}),(function(){return{top:a.y,left:a.x}}))(n)},function(t){t.create=function(e,t){return Object(d.g)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(function(){return JSON.stringify({a:e,b:t})})),[e,t]},t.bySide=function(n,a){return l.Rect.Side.match((function(){return t.create(e.bottomLeft({x:Math.ceil(a.left),y:Math.ceil(a.top)}),e.bottomRight({x:Math.floor(a.right),y:Math.ceil(a.top)}))}),(function(){return t.create(e.topLeft({x:Math.floor(a.right),y:Math.ceil(a.top)}),e.bottomLeft({x:Math.floor(a.right),y:Math.floor(a.bottom)}))}),(function(){return t.create(e.topLeft({x:Math.ceil(a.left),y:Math.floor(a.bottom)}),e.topRight({x:Math.floor(a.right),y:Math.floor(a.bottom)}))}),(function(){return t.create(e.topRight({x:Math.ceil(a.left),y:Math.ceil(a.top)}),e.bottomRight({x:Math.ceil(a.left),y:Math.floor(a.bottom)}))}))(n)}}(n=e.Zone||(e.Zone={})),function(e){e.byAxis=function(e,t){return o.g(Object(s.getFirstSemigroup)(),i.array)(l.Rect.Axis.toSides(e).map((function(e){return[e,n.bySide(e,t)]})))}}(e.Variants||(e.Variants={})),function(t){function n(e,t){return Object(c.pipe)(l.Rect.intersection(e,t),u.g.map((function(e){var n=e.width/t.width,a=e.height/t.height,r=(Number.isNaN(n)?0:n/2)+(Number.isNaN(a)?0:a/2);return Object(d.g)(r>=0,"quality can not be negavite: ".concat(r)),Object(d.g)(r<=1,"quality can be higher than 1: ".concat(r)),r})))}t.empty={quality:0,point:e.empty},t.qualityOfIntersection=n,t.byViewport=function(e,t){return{quality:Object(c.pipe)(n(e,t),u.g.getOrElse((function(){return 0})))+Object(c.pipe)(l.Rect.scale(2,t),u.b.chain(l.Rect.normalize),u.g.fromEither,u.g.chain((function(t){return n(e,t)})),u.g.getOrElse((function(){return 0}))),point:m(t)}},t.fromZone=function(e,n,a){return Object(c.pipe)(i.array.traverse(u.b.either)(a,(function(e){return p(n,e)})),u.b.chain((function(e){var t=e[0],n=e[1];return l.Rect.join(t,n)})),u.b.chain((function(e){return l.Box.placeIntoRect(n,e)})),u.b.map((function(n){return n.map((function(n){return t.byViewport(e,n)}))})))}}(a=e.Qualified||(e.Qualified={})),function(e){e.build=function(e,t,n){return Object(c.pipe)(n,o.j((function(n){return a.fromZone(e,t,n)})))}}(e.QualifiedVariants||(e.QualifiedVariants={})),function(e){var t;!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e[e.edges=20]="edges",e[e.any=210]="any"}(t=e.Placement||(e.Placement={})),e.takeBy=function(e,t){return function(n){return Object(c.pipe)(n,o.n({point:a.empty,side:e},(function(n,a,r){return Object(c.pipe)(r,u.b.map((function(r){return r.filter((function(a,r){return t.toString().includes(r.toString())&&e===n})).reduce((function(e,t){return t.quality>e.point.quality?{point:t,side:n}:e}),a)})),u.b.unsafeGet)}))).point}},e.preferBy=function(e,t){return function(n){return Object(c.pipe)(n,o.n({point:a.empty,side:e},(function(n,a,r){return Object(c.pipe)(r,u.b.map((function(r){return r.reduce((function(a,r,i){return r.quality>a.point.quality||r.quality===a.point.quality&&t.toString().includes(i.toString())&&e===n?{point:r,side:n}:a}),a)})),u.b.unsafeGet)}))).point}},e.preferTopMiddle=e.preferBy("top",t.middle),e.preferTopEdges=e.preferBy("top",t.edges)}(e.Selector||(e.Selector={}))}(a||(a={}))},oWeJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n("ERkP"),r=n("I7vG"),i=n("9NHN"),o=n("vOOZ"),s=n("zR/0"),c=n("lrqh"),l=n("rk+4"),d=n("GUi3"),u=n("IVzZ"),p=n("XxrX"),m=n("gOzB"),g=n("BugA"),f=n("0A/6"),h=n("3bJT"),b=n("RWgj"),y=n("LNSM"),v=n("UEGg"),C=n("uqkn"),O=n("E0zP"),w=n("H37f"),S=n("3rlE"),k=n("5z3N");const A=(e,t)=>{if(v.a.hasTone(e.activeAlert))return(e=>{const t=e.match(w.a);if(t&&t[0]){const n=c.g.fromNullable(Object(w.d)(t[0]));return c.g.some({action:e.replace(w.a,""),emojiId:n})}return c.g.none})(t);if(O.a.isToneAIItem(e)){const n=c.g.fromNullable(e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID);return c.g.some({action:t,emojiId:n})}return c.g.none},E=({text:e,className:t})=>a.createElement("div",{className:t},e),x=(e,t,n)=>{const o=C.a.miniTitle(e,t),s=Object(r.pipe)(e.activeAlert.extraProperties.vox,c.g.map(e=>(({vox:e,theme:t={}})=>({icon:Object(r.pipe)(e.logoUrl,c.g.map(e=>a.createElement(k.d,Object.assign({},Object(i.c)(t.logo),{logoUrl:e})))),action:a.createElement(k.c,Object.assign({vox:e},Object(i.c)(t.label),{isMinimalCard:!1}))}))({vox:e,theme:{logo:n.voxLogo,label:n.voxLabel}}))),l=Object(r.pipe)(A(e,o),c.g.map(({action:e,emojiId:t})=>({icon:Object(r.pipe)(t,c.g.map(e=>a.createElement(w.c,{id:e,className:Object(i.c)(n.emojiLogo).className}))),action:a.createElement(E,{text:e,className:n.wrapper})})));return Object(r.pipe)(s,c.g.orElse(l),c.g.getOrElse(()=>({icon:O.a.isTakeawayItem(e)?c.g.some(a.createElement(S.d.Megaphone,{width:16,className:n.takeawayLogo})):c.g.none,action:a.createElement(E,{text:o,className:n.wrapper})})))},I=(e,t,n)=>{const{action:i,icon:o}=x(e,t,n);return{actionComponent:i,iconComponent:Object(r.pipe)(o,c.g.fold(()=>e.renderOptions.cardVisualMode.view(p.a.CardVisualMode.match({onRegular:()=>c.g.none,onContrast:()=>c.g.fromNullable(function(e,t){return d.a.outcomeTypeMatch({correctness:a.createElement(S.d.Correctness,{className:t}),clarity:a.createElement(S.d.ClarityOutcome,{className:t}),premium:a.createElement(S.d.Star,{className:t}),engagement:a.createElement(S.d.EngagementOutcome,{className:t}),delivery:a.createElement(S.d.DeliveryOutcome,{className:t}),vox:null})(e)}(e.activeAlert.lensType,n.lensLogo))})),e=>y.a.create(c.g.some(e))))}},j=e=>e?f.a.MiniContrast:f.a.Mini,T=e=>[d.a.outcomeTypeMatch({correctness:h.a.dotCorrectness,clarity:h.a.dotClarity,premium:h.a.dotAdvanced,engagement:h.a.dotEngagement,delivery:h.a.dotDelivery,vox:h.a.dotVox})(e.lensType),b.a.cta],N=()=>{const e=a.useContext(l.a.Context);return a.createElement(m.a.Regular,{className:b.a.newLabel},e.new)},L=e=>e.hasOwnProperty("features")&&e.features.has(p.a.Features.a11yContrast);var P,B;(B=P||(P={})).Bundle=({card:e,actions:t})=>{const[n]=T(e.activeAlert),s=Object(r.pipe)(e.renderOptions,L,j);return a.createElement(s,Object.assign({},Object(i.c)(b.b.wrapper,b.b.bundleContainer,b.b.dot,n),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,counter:a.createElement(g.m,{className:b.b.alertsCounter},e.alerts.length)}),a.createElement(o.a.div,{className:b.b.miniContainer},a.createElement("div",{className:b.b.highlightedText},u.a.bundleTitle(e))))},B.Standard=({card:e,actions:t})=>{const n=a.useContext(l.a.Context),[d,u]=T(e.activeAlert),p=Object(r.pipe)(e.renderOptions,L,j),{actionComponent:m,iconComponent:g}=I(e,n,{wrapper:Object(i.c)(u,b.a.ctaText).className,voxLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo).className,voxLabel:b.a.cta,emojiLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo).className,lensLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo,b.a.lensIcon).className,takeawayLogo:b.c.takeawayIconStandard});return a.createElement(p,Object.assign({},Object(i.c)(b.b.wrapper,g.view(e=>c.g.isSome(e)?b.b.invisibleDot:b.b.dot),d),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert}),a.createElement(o.a.div,{className:b.b.miniContainer},Object(r.pipe)(g.view(c.g.toNullable)),a.createElement("div",{className:b.b.highlightedText},e.activeAlert.highlightTexts[0]),a.createElement("div",{className:b.b.middleDot},"·"),m,Object(r.pipe)(e.renderOptions.isNew,s.a.map(e=>c.g.isSome(e)?a.createElement(N,{key:"new-label"}):null))))},B.TwoLined=({card:e,actions:t})=>{const n=a.useContext(l.a.Context),[s,d]=T(e.activeAlert),u=Object(r.pipe)(e.renderOptions,L,j),{actionComponent:p,iconComponent:m}=I(e,n,{wrapper:Object(i.c)(d,b.a.ctaText,b.c.ctaText,b.c.subTitle).className,voxLogo:Object(i.c)(b.a.cardLogo,b.c.cardLogo).className,voxLabel:Object(i.c)(b.a.cta,b.c.subTitle).className,emojiLogo:Object(i.c)(b.a.cardLogo,b.c.cardLogo).className,lensLogo:Object(i.c)(b.a.cardLogo,b.c.lensIcon,b.a.lensIcon).className,takeawayLogo:b.c.takeawayIconMini});return a.createElement(u,Object.assign({},Object(i.c)(b.c.wrapper,m.view(e=>c.g.isSome(e)?b.c.invisibleDot:b.c.dot),s),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert}),a.createElement(o.a.div,{className:b.c.miniContainer},p,Object(r.pipe)(m.view(c.g.toNullable)),a.createElement("div",{className:b.d},e.activeAlert.highlightTexts[0])))}},"p7l/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("zR/0"),o=n("gy42"),s=n("lrqh"),c=n("hoSD"),l=n("PrA7");!function(e){let t,n,a;!function(e){e.nextLevel=(e,t)=>({rect:e,level:t+1})}(t=e.State||(e.State={})),function(e){e.empty={top:0,bottom:0}}(n=e.Padding||(e.Padding={})),function(e){e.root="root",e.inherit="inherit"}(a=e.ContainerType||(e.ContainerType={})),e.withViewportContainer=function(t,n){return class extends r.Component{constructor(){super(...arguments),this._viewportEl=new i.a.BehaviorSubject(s.g.none),this._onMount=e=>{this._viewportEl.next(s.g.fromNullable(e)),this.props.onMount&&e&&this.props.onMount(e)}}render(){const{name:s,children:l}=this.props,d=this._viewportEl.pipe(i.b.compact,i.a.switchMap(e=>i.a.mergeStatic(o.a.windowResize,i.a.fromEvent(e,"transitionend").pipe(i.a.filter(t=>t.target===e)),i.a.of(!0).pipe(i.a.switchMap(o.b.Scheduler.rafScheduler))).pipe(i.a.mapTo(e),i.a.startWith(e),i.a.map(c.c.Rect.fromEl)))),u=n.type===a.root?e.RootVirtualContainer:e.InheritVirtualContainer;return r.createElement(t,Object.assign({},this.props,{onMount:this._onMount,name:s}),r.createElement(u,{viewport:d,name:s},l))}}},e.RootVirtualContainer=({viewport:t,viewportPadding:n=i.a.of(e.Padding.empty),name:a,children:o})=>{const s=r.useContext(e.Context);return r.createElement(e.Context.Provider,{key:u(a),value:i.a.combineLatestStatic(t,n,d).pipe(i.a.withLatestFrom(s.pipe(i.a.map(e=>e.level)),e.State.nextLevel),i.a.shareReplay({bufferSize:1,refCount:!0}))},o)},e.InheritVirtualContainer=({viewport:t,viewportPadding:n=i.a.of(c.c.Rect.empty),name:a,children:o})=>{const p=r.useContext(e.Context);return r.createElement(e.Context.Provider,{key:u(a),value:i.a.combineLatestStatic(p.pipe(i.a.map(e=>e.rect)),i.a.combineLatestStatic(t||p.pipe(i.a.map(e=>e.rect)),n,d),c.c.Rect.intersection).pipe(i.a.map(s.g.getOrElse(()=>(l.Monitoring.Logging.getLogger("InheritVirtualContainer").warn("Got an empty rect for inherit viewport",{name:a}),c.c.Rect.empty))),i.a.withLatestFrom(p.pipe(i.a.map(e=>e.level)),e.State.nextLevel),i.a.shareReplay({bufferSize:1,refCount:!0}))},o)};const p=i.a.defer(()=>o.a.windowResize.pipe(i.a.mapTo(document.body),i.a.startWith(document.body),i.a.map(c.c.Rect.fromEl),i.a.map(e=>({rect:e,level:0})))).pipe(i.a.shareReplay({bufferSize:1,refCount:!0}));e.Context=r.createContext(p)}(a||(a={}));const d=(e,t)=>({top:e.top+t.top,bottom:e.bottom-t.bottom,height:e.height-t.top-t.bottom,left:e.left,right:e.right,width:e.width}),u=e=>`viewportProvider${c.f.camelize(e)}`},qW1w:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},qZUR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={z100:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 8px rgba(0, 0, 0, .15)",z300:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 4px 20px rgba(0, 0, 0, .15)"}},"r/bb":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a,r=n("ERkP"),i=n("OA+g"),o=n("LNSM"),s=n("lrqh"),c=n("ax6a"),l=n("e12y"),d=n("ps/9"),u=n("rk+4"),p=n("+w1e");!function(e){e.NAME_LENGTH_LIMIT=30,e.CONTENT_LENGTH_LIMIT=1e3;e.validate=(t,n,a)=>{const r=((t,n)=>0===t.trim().length?s.g.some(n.nameEmpty):t.length>e.NAME_LENGTH_LIMIT?s.g.some(n.nameTooLong):s.g.none)(t,a),i=((t,n)=>0===t.trim().length?s.g.some(n.textEmpty):t.length>e.CONTENT_LENGTH_LIMIT?s.g.some(n.textTooLong):s.g.none)(n,a);return s.g.isNone(r)&&s.g.isNone(i)?s.b.right(void 0):s.b.left({nameError:r,contentError:i})}}(a||(a={}));var m,g=n("bO3R"),f=n("3rlE"),h=n("wsrD"),b=n("BugA"),y=n("aIes"),v=n("xEVj"),C=n("IdhR"),O=n("yZqL"),w=n("H9T+"),S=n("HUX/");!function(e){e.Full=({card:e,actions:n,isChecking:c})=>{const l=r.useContext(u.a.Context),[d,m]=r.useState(""),[g,f]=r.useState(e.activeAlert.snippetText),[v,O]=r.useState(""),[S,k]=r.useState(""),A=Object(i.pipe)(e.activeAlert.snippetsTrigger,s.g.fold(()=>"\\",i.identity));return r.createElement(w.t,{card:e,actions:n,isChecking:c,body:r.createElement("div",null,r.createElement(w.j,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(b.a,{className:P.subheader},l.card.suggestedSnippet.subheader),r.createElement("div",{className:P.inputContainer},r.createElement(h.b,{name:"snippet-name",placeholder:l.card.suggestedSnippet.namePlaceholder,value:d,onChange:e=>m(e.target.value),className:P.snippetName}),v.length>0&&r.createElement(b.l,{className:P.inputError},v)),r.createElement("div",{className:P.inputContainer},r.createElement(h.c,{blockExtension:!0,name:"snippet-content",placeholder:l.card.suggestedSnippet.textPlaceholder,value:g,onChange:e=>f(e.target.value),className:P.snippetText}),S.length>0&&r.createElement(b.l,{className:P.inputError},S)),r.createElement(b.l,{className:P.explanation},l.card.suggestedSnippet.explanation(r.createElement(t,{trigger:A}))),r.createElement(w.r,{title:l.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:o.a.create(!1),onClick:y.d.callOnce(()=>{Object(i.pipe)(a.validate(d,g,l.card.suggestedSnippet.validationMessages),s.b.fold(({nameError:e,contentError:t})=>{Object(i.pipe)(e,s.g.fold(()=>O(""),O)),Object(i.pipe)(t,s.g.fold(()=>k(""),k))},()=>{n.next({type:p.b.Type.createSnippet,id:e.id,alertId:e.activeAlert.id,snippetName:d,snippetText:g}),O(""),k("")}))})})),footer:r.createElement(C.b,{key:"card-actions-details",visualState:e.visualState,className:P.more},r.createElement(b.a,null,l.card.suggestedSnippet.details(r.createElement(r.Fragment,null,A))))})};const t=({trigger:e})=>r.createElement("span",{className:P.snippetsTrigger},e);e.Success=({card:e,actions:t})=>{const n=r.useContext(u.a.Context);return v.a.useEffectOnWillUnmount(()=>{t.next({type:p.b.Type.suggestedSnippetSuccessDismissed,id:e.id,alertId:e.activeAlert.id})}),r.createElement(O.a,{onFocus:()=>t.next({type:p.b.Type.mutedAlertSuccessShow}),theme:Object(S.b)(e.renderOptions),visualState:e.visualState,body:r.createElement("div",{className:P.successHeader},r.createElement(f.d.ValidationOk,{className:P.successIcon}),r.createElement(b.l,null,n.card.suggestedSnippet.successStateTitle)),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null),subActions:r.createElement("div",{className:P.successAction},r.createElement(g.a.Tertiary,{name:"openSnippetsLibrary",onClick:()=>t.next({type:p.b.Type.snippetsOpenExternalLink,externalLink:e.activeAlert.libLink,alertId:e.activeAlert.id,itemId:e.id})},n.card.suggestedSnippet.libraryLinkCaption,r.createElement(f.d.OuterLink,null)),r.createElement(g.a.Ghost,{name:"done",onClick:()=>y.d.callOnce(()=>t.next({type:p.b.Type.switchToNext}))()},n.done))})}}(m||(m={}));const k={paddingTop:l.a.rem(.75),paddingBottom:l.a.rem(.5),letterSpacing:c.h.SubheadingLetterSpacing,fontSize:l.a.rem(c.h.SubheadingSize),lineHeight:l.a.rem(c.h.SubheadingLineHeight),color:c.h.SubheadingColor,textTransform:"uppercase"},A={fontFamily:"inherit",boxSizing:"border-box",padding:`${l.a.rem(.5)}`,fontSize:l.a.rem(.875)},E=Object.assign(Object.assign({},A),{height:l.a.rem(2.5)}),x=Object.assign(Object.assign({},A),{height:l.a.rem(8)}),I={marginBottom:l.a.rem(.5)},j={color:c.a.CoreRed50},T={display:"block",color:c.a.CoreNeutral50,marginBottom:l.a.rem(.75)},N={position:"absolute",left:l.a.rem(.5),width:l.a.rem(1),height:l.a.rem(1),minWidth:l.a.rem(1),minHeight:l.a.rem(1)},L={display:"inline-block",width:l.a.rem(1),height:l.a.rem(1),backgroundColor:c.a.CoreBlue1,borderRadius:l.a.rem(d.t),textAlign:"center"},P=l.a.stylesheet({subheader:[k],snippetName:[E],snippetText:[x],explanation:[T],successIcon:[N],successHeader:[{display:"flex",alignItems:"center"}],successAction:[{display:"flex",justifyContent:"space-between",width:"100%"}],inputContainer:[I],inputError:[j],more:[w.z],snippetsTrigger:[L]})},rq0W:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u}));var a,r=n("I7vG"),i=n("lrqh"),o=n("D9EC"),s=n("PrA7"),c=n("D/5U"),l=n("sWLkM");function d({from:e,transition:t,incomplete:n}){if(!n)return{};const a=p("transitionClassMapper");return Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return a.error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};case"focused":return{main:t.clockwise?c.a.rendered2focusedMainClockwise:c.a.rendered2focusedMain};case"removed":return{shade:c.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.a.focused2renderedMain,shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"focused":return{main:c.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:c.a.focused2successMain,shade:c.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return a.error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:c.a.addedMain};case"focused":return{main:c.a.openedMain};default:return{}}}))}function u({from:e,transition:t,incomplete:n}){return n?Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};case"focused":return{main:t.clockwise?l.a.rendered2focusedBundleMainClockwise:l.a.rendered2focusedBundleMain,shade:l.a.rendered2focusedBundleShade};case"removed":return{shade:c.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.a.focused2renderedBundleMain,shade:t.clockwise?l.a.focused2renderedBundleShadeClockwise:l.a.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"focused":return{main:c.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:c.a.focused2successMain,shade:c.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:c.a.addedMain};case"focused":return{main:c.a.openedMain};default:return{}}})):{}}!function(e){e.toOption=function(e){return t=>{const{main:n,shade:a}=e(t);return{main:i.g.fromNullable(n),shade:i.g.fromNullable(a)}}}}(a||(a={}));const p=Object(o.l)(s.Monitoring.Logging.getLogger)},sWLkM:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return A}));var a=n("e12y"),r=n("ps/9"),i=n("D/5U"),o=n("3bJT");const s=a.a.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),c=a.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),l=a.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),d=a.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),u=a.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),p=a.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),m=a.a.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),g=a.a.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),f=a.a.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),h=a.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),b=a.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),y={opacity:0,animation:`${s} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},v={transformOrigin:"top",animation:`${i.c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${l} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${d} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},C={transformOrigin:"top",animation:`${u} ${a.a.seconds(r.d/1500)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${l} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${d} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},O={animation:`${p} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${m} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${g} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${f} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},w={animation:`${h} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${m} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${g} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${f} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},S={animation:`${b} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},k=a.a.stylesheet({focused2renderedBundleMain:[y],focused2renderedBundleShade:[i.e,v],focused2renderedBundleShadeClockwise:[i.e,C],rendered2focusedBundleMain:[i.d,O],rendered2focusedBundleMainClockwise:[i.d,w],rendered2focusedBundleShade:[i.e,S]}),A=new Map([[i.c,k.focused2renderedBundleShade],[u,k.focused2renderedBundleShadeClockwise],[b,k.rendered2focusedBundleShade]])},uDCn:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n("O9TF"),r=n("U75S"),i=n("OA+g"),o=n("LNSM"),s=n("vOOZ"),c=n("6fbX"),l=n("lrqh"),d=n("xEVj"),u=n("zR/0"),p=n("f9Xq"),m=n("AHUR"),g=n("e12y"),f=function(e){var t=e.parentKey,n=e.from,r=e.transition,i=e.to,o=e.onAnimationEnd,s=e.renderContent,c=h(r.animateFrom,"from"),l=h(r.animateTo,"to"),d=c.needFullWidth||l.needFullWidth;return a.createElement("div",{className:g.a.joinClasses([b,d?y:""])},n&&a.createElement(a.Fragment,null,a.createElement("div",{onAnimationEnd:function(){return o(r.fromName)},className:g.a.joinClasses(c.className)},s(n,"from-".concat(t),[]))),a.createElement("div",{onAnimationEnd:function(){return o(r.toName)},className:g.a.joinClasses(l.className)},s(i,"to-".concat(t),[])))};function h(e,t){switch(e){case"fadeOut":return{className:[C],needFullWidth:!1};case"fadeIn":return{className:[w],needFullWidth:!1};case"slideLeft":return{className:k(t,"left"),needFullWidth:!0};case"slideRight":return{className:k(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}var b=g.a.style({position:"relative",overflow:"hidden"}),y=g.a.style({width:"100%"}),v=g.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),C=g.a.style({position:"absolute",opacity:0,visibility:"hidden",animation:"".concat(v," ").concat(g.a.seconds(.3)," ease-out")}),O=g.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),w=g.a.style({animation:"".concat(O," ").concat(g.a.seconds(.3)," ease-out")}),S=function(e){return"calc(".concat(e,"px * var(--cardWidth))")},k=function(e,t){var n="to"===e?0:"".concat(S("left"===t?-1:1)),a="from"===e?0:"".concat(S("left"===t?1:-1)),r=g.a.keyframes({from:{transform:"translateX(".concat(a,")"),visibility:"visible"},to:{transform:"translateX(".concat(n,")"),visibility:"from"===e?"hidden":"visible"}}),i=g.a.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=g.a.style({position:"from"===e?"absolute":"relative",animation:"".concat(r," ").concat(g.a.seconds(.3)," ease-out")});return"from"===e?[i,o]:[o]};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){E(e,t,n[t])}))}return e}function I(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(e){var t=e.content,n=e.prevContent,g=e.transitions,h=e.designSystem,b=e.notify,y=e.onMount,v=e.onAnimationEnd,C=function(e){return Object(i.pipe)(e,r.ub((function(e){return"applyAlternative"===e.type?{type:"applyAlternative",alternativeIndex:O.get()}:"selectAlternative"===e.type?(O.set(e.alternativeIndex),e):e})))},O=o.a.create(0),w=new Map,S=function(e,t,n,r){var o=e.name,l=Boolean(o)?n.find((function(e){return e.toName===o})):void 0;if(null!=l){var d=w.get(l.fromName);return(a.createElement(f,{key:t,parentKey:t,renderContent:function(e,t){return S(e,t,[],i.constVoid)},onAnimationEnd:r,from:d,to:e,transition:l}))}switch(e.type){case"text":return a.createElement(h.text,x({key:t},e));case"button":var u=S(e.label,t,n,r);return(a.createElement(s.a.Fragment,{key:t},O.view((function(n){return a.createElement(h.button[e.kind],{key:t,text:u,name:e.name,state:"accept"===e.name&&-1===n?p.a.ButtonState.Hidden:e.state,tooltip:e.tooltip,onClick:A(e.actions,e.id)})}))));case"alternativeChoice":return a.createElement(s.a.Fragment,{key:t},O.view((function(n){return a.createElement(h.alternativeChoice,{key:t,designSystem:h,content:e.alternatives,activeIndex:n,notify:A})})));case"icon":return k(e.source,e.backgroundColor,t);case"count":return a.createElement(h.count,x({key:t},e));case"block":return a.createElement(h.block,x({key:t},e,{children:e.parts.map((function(e,t){return S(e,t,n,r)}))}));case"row":return a.createElement(h.row,x({key:t},e,{left:e.left.map((function(e,t){return S(e,t,n,r)})),right:e.right.map((function(e,t){return S(e,t,n,r)}))}));case"column":return a.createElement(h.column,x({key:t},e,{children:e.children.map((function(e,t){return S(e,t,n,r)}))}));case"slider":return a.createElement(h.slider,x({key:t,designSystem:h,onChoiceSelected:A},e));case"alternativeSlider":return a.createElement(h.alternativeSlider,x({key:t,designSystem:h,activeAltIndex:O.view(),notify:A},e));case"strongAlertRef":return S(e.child,t,n,r);default:return Object(c.e)(e),a.createElement("div",null,"unknown element")}},k=function(e,t,n){return"known"===e.kind?a.createElement(h.icon[e.name],{key:n,backgroundColor:t}):a.createElement(h.image,x({key:n},e,{backgroundColor:t}))},A=function(e,t){return function(){return Object(i.pipe)(e,C,(function(e){return b(t,e)}))}};l.g.isSome(n)&&m.a.forEach(l.g.unsafeGet(n),(function(e){var t=e.name;Boolean(t)&&null!=t&&w.set(t,e)}));var E=g.reduce((function(e,t){return w.has(t.fromName)&&(e+=1),e+=1}),0),j=o.a.create([]);return d.a.useSubscriptionTo(Object(i.pipe)(j,u.a.first((function(e){return e.length===E})),u.a.tap(v))),d.a.useEffectOnDidMount(y),S(t,0,g,(function(e){return j.modify((function(t){return I(t).concat([e])}))}))}},uwfv:function(e,t,n){e.exports=n.p+"files/c93e619c54ac4d58a06e3deb35b1724a/inter-italic.woff2"},yA7V:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("BbAu"),i=n("OA+g"),o=n("I7vG"),s=n("PK5a"),c=n("7b34"),l=n("lrqh"),d=n("tn8Q"),u=n("v0pb"),p=n("Xo/A"),m=n("lSTv");!function(e){let t;!function(e){e.show=c.a.getShow(r.e,u.a.show),e.eq=c.a.getEq(u.a.Id.ord,u.a.ord),e.empty=()=>c.a.empty(),e.toRegistered=function(e){return c.a.fromMutation(t=>{Object(o.pipe)(e,c.a.forEach((e,n)=>u.a.isRegistered(e)&&t.set(n,l.m.left(e)),(e,n,a)=>{u.a.isRegistered(e)?u.a.isRegistered(n)?t.set(a,l.m.both(e,n)):t.set(a,l.m.left(e)):u.a.isRegistered(n)&&t.set(a,l.m.right(n))},(e,n)=>u.a.isRegistered(e)&&t.set(n,l.m.right(e))))})},e.filter=function(e){return c.a.filter(e,(t,n)=>e(t)&&e(n),e)}}(t=e.Diff||(e.Diff={})),e.empty=p.a.iso.wrap(p.a.empty),e.eq=s.getEq(p.a.eqShow),e.show=p.a.eqShow,e.get=function(e){return Object(i.flow)(p.a.iso.unwrap,p.a.get(e))},e.reduce=function(e,t){return Object(i.flow)(p.a.iso.unwrap,p.a.reduce(e,t))},e.diff=function(e,t){return p.a.diff(p.a.iso.unwrap(e),p.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===p.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(i.flow)(p.a.iso.unwrap,p.a.find(e))},e.size=function(){return Object(i.flow)(p.a.iso.unwrap,p.a.size)},e.from=function(e){return Object(o.pipe)(p.a.createDiff({added:e.reduce((e,t)=>e.set(t.id,u.a.create(t)),new Map)}),d.a.recover(i.constVoid),m.a.applyDiff,l.j.map(Object(i.flow)(d.a.recover(i.constVoid),p.a.iso.wrap)))(p.a.empty)}}(a||(a={}))},yZqL:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("e12y"),s=n("rq0W"),c=n("3bJT");const l=e=>{const{shade:t}=Object(s.c)(e.visualState);a.useEffect(()=>{Boolean(t)||e.onFocus()},[]);const n=e.theme||{};return a.createElement(r.a.div,{className:n.container},e.header,a.createElement(r.a.div,{className:n.innerContainer},a.createElement(r.a.div,Object.assign({},Object(i.c)(b.wrapper,n.wrapper),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),a.createElement(r.a.div,Object.assign({},Object(i.c)(b.grid,n.content)),a.createElement(r.a.div,Object.assign({},Object(i.c)(b.mainContent,n.contentBody)),e.body),Boolean(e.footer)?a.createElement("div",{className:b.footerContent},e.footer):null,Boolean(e.subActions)||Boolean(e.navigation)||Boolean(e.mainActions)?a.createElement("div",{className:b.actions},e.subActions,a.createElement("div",{className:b.spacerOne}),e.navigation,a.createElement("div",{className:b.spacerFloat}),e.mainActions):null)),e.extra))},d={position:"relative"},u={padding:`${o.a.rem(1)} ${o.a.rem(.5)} ${o.a.rem(.75)} ${o.a.rem(1)}`},p={padding:`0 ${o.a.rem(.5)} 0 ${o.a.rem(1)}`,$nest:{"& > * + *":{marginTop:o.a.rem(.75)}}},m={padding:`0 ${o.a.rem(.5)} 0 ${o.a.rem(1)}`,$nest:{"& > * + *":{marginTop:o.a.rem(.75)}}},g={display:"flex",marginLeft:o.a.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},f={width:o.a.rem(1),flexShrink:1},h={$nest:{"& > * + *":{marginTop:o.a.rem(.75)}}},b=Object.assign(Object.assign({},o.a.stylesheet({mainContent:[p],footerContent:[m],actions:[g],spacerOne:[f],spacerFloat:[{flex:1}],grid:[h]})),{fullCard:o.a.joinClasses([c.b.fullCardSelector,o.a.style(d)]),wrapper:o.a.joinClasses([c.b.fullCardSelector,o.a.style(d,u)])})}}]);